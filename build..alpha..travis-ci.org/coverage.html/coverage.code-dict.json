{"/home/travis/build/npmtest/node-npmtest-objection/test.js":"/* istanbul instrument in package npmtest_objection */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - pre-init\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        switch (local.modeJs) {\n        // re-init local from window.local\n        case 'browser':\n            local = local.global.utility2.objectSetDefault(\n                local.global.utility2_rollup || local.global.local,\n                local.global.utility2\n            );\n            break;\n        // re-init local from example.js\n        case 'node':\n            local = (local.global.utility2_rollup || require('utility2'))\n                .requireExampleJsFromReadme();\n            break;\n        }\n        // export local\n        local.global.local = local;\n    }());\n\n\n\n    // run shared js-env code - function\n    (function () {\n        return;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // run browser js-env code - function\n    case 'browser':\n        break;\n\n\n\n    // run node js-env code - function\n    case 'node':\n        break;\n    }\n\n\n\n    // run shared js-env code - post-init\n    (function () {\n        return;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // run browser js-env code - post-init\n    case 'browser':\n        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test browsers's null-case handling-behavior-behavior\n         */\n            onError(null, options);\n        };\n\n        // run tests\n        local.nop(local.modeTest &&\n            document.querySelector('#testRunButton1') &&\n            document.querySelector('#testRunButton1').click());\n        break;\n\n\n\n    // run node js-env code - post-init\n    /* istanbul ignore next */\n    case 'node':\n        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildApidoc's default handling-behavior-behavior\n         */\n            options = { modulePathList: module.paths };\n            local.buildApidoc(options, onError);\n        };\n\n        local.testCase_buildApp_default = local.testCase_buildApp_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildApp's default handling-behavior-behavior\n         */\n            local.testCase_buildReadme_default(options, local.onErrorThrow);\n            local.testCase_buildLib_default(options, local.onErrorThrow);\n            local.testCase_buildTest_default(options, local.onErrorThrow);\n            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);\n            options = [];\n            local.buildApp(options, onError);\n        };\n\n        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||\n            function (options, onError) {\n            /*\n             * this function will test buildCustomOrg's default handling-behavior\n             */\n                options = {};\n                local.buildCustomOrg(options, onError);\n            };\n\n        local.testCase_buildLib_default = local.testCase_buildLib_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildLib's default handling-behavior\n         */\n            options = {};\n            local.buildLib(options, onError);\n        };\n\n        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildReadme's default handling-behavior-behavior\n         */\n            options = {};\n            local.buildReadme(options, onError);\n        };\n\n        local.testCase_buildTest_default = local.testCase_buildTest_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildTest's default handling-behavior\n         */\n            options = {};\n            local.buildTest(options, onError);\n        };\n\n        local.testCase_webpage_default = local.testCase_webpage_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test webpage's default handling-behavior\n         */\n            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };\n            local.browserTest(options, onError);\n        };\n\n        // run test-server\n        local.testRunServer(local);\n        break;\n    }\n}());\n","/home/travis/build/npmtest/node-npmtest-objection/lib.npmtest_objection.js":"/* istanbul instrument in package npmtest_objection */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - pre-init\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        // init utility2_rollup\n        local = local.global.utility2_rollup || local;\n        // init lib\n        local.local = local.npmtest_objection = local;\n        // init exports\n        if (local.modeJs === 'browser') {\n            local.global.utility2_npmtest_objection = local;\n        } else {\n            module.exports = local;\n            module.exports.__dirname = __dirname;\n            module.exports.module = module;\n        }\n    }());\n}());\n","/home/travis/build/npmtest/node-npmtest-objection/example.js":"/*\nexample.js\n\nquickstart example\n\ninstruction\n    1. save this script as example.js\n    2. run the shell command:\n        $ npm install npmtest-objection && PORT=8081 node example.js\n    3. play with the browser-demo on http://127.0.0.1:8081\n*/\n\n\n\n/* istanbul instrument in package npmtest_objection */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - pre-init\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        // init utility2_rollup\n        local = local.global.utility2_rollup || (local.modeJs === 'browser'\n            ? local.global.utility2_npmtest_objection\n            : global.utility2_moduleExports);\n        // export local\n        local.global.local = local;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // post-init\n    // run browser js-env code - post-init\n    /* istanbul ignore next */\n    case 'browser':\n        local.testRunBrowser = function (event) {\n            if (!event || (event &&\n                    event.currentTarget &&\n                    event.currentTarget.className &&\n                    event.currentTarget.className.includes &&\n                    event.currentTarget.className.includes('onreset'))) {\n                // reset output\n                Array.from(\n                    document.querySelectorAll('body > .resettable')\n                ).forEach(function (element) {\n                    switch (element.tagName) {\n                    case 'INPUT':\n                    case 'TEXTAREA':\n                        element.value = '';\n                        break;\n                    default:\n                        element.textContent = '';\n                    }\n                });\n            }\n            switch (event && event.currentTarget && event.currentTarget.id) {\n            case 'testRunButton1':\n                // show tests\n                if (document.querySelector('#testReportDiv1').style.display === 'none') {\n                    document.querySelector('#testReportDiv1').style.display = 'block';\n                    document.querySelector('#testRunButton1').textContent =\n                        'hide internal test';\n                    local.modeTest = true;\n                    local.testRunDefault(local);\n                // hide tests\n                } else {\n                    document.querySelector('#testReportDiv1').style.display = 'none';\n                    document.querySelector('#testRunButton1').textContent = 'run internal test';\n                }\n                break;\n            // custom-case\n            default:\n                break;\n            }\n            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&\n                    event.currentTarget &&\n                    event.currentTarget.className &&\n                    event.currentTarget.className.includes &&\n                    event.currentTarget.className.includes('oneval')))) {\n                // try to eval input-code\n                try {\n                    /*jslint evil: true*/\n                    eval(document.querySelector('#inputTextareaEval1').value);\n                } catch (errorCaught) {\n                    console.error(errorCaught);\n                }\n            }\n        };\n        // log stderr and stdout to #outputTextareaStdout1\n        ['error', 'log'].forEach(function (key) {\n            console[key + '_original'] = console[key];\n            console[key] = function () {\n                var element;\n                console[key + '_original'].apply(console, arguments);\n                element = document.querySelector('#outputTextareaStdout1');\n                if (!element) {\n                    return;\n                }\n                // append text to #outputTextareaStdout1\n                element.value += Array.from(arguments).map(function (arg) {\n                    return typeof arg === 'string'\n                        ? arg\n                        : JSON.stringify(arg, null, 4);\n                }).join(' ') + '\\n';\n                // scroll textarea to bottom\n                element.scrollTop = element.scrollHeight;\n            };\n        });\n        // init event-handling\n        ['change', 'click', 'keyup'].forEach(function (event) {\n            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {\n                element.addEventListener(event, local.testRunBrowser);\n            });\n        });\n        // run tests\n        local.testRunBrowser();\n        break;\n\n\n\n    // run node js-env code - post-init\n    /* istanbul ignore next */\n    case 'node':\n        // export local\n        module.exports = local;\n        // require modules\n        local.fs = require('fs');\n        local.http = require('http');\n        local.url = require('url');\n        // init assets\n        local.assetsDict = local.assetsDict || {};\n        /* jslint-ignore-begin */\n        local.assetsDict['/assets.index.template.html'] = '\\\n<!doctype html>\\n\\\n<html lang=\"en\">\\n\\\n<head>\\n\\\n<meta charset=\"UTF-8\">\\n\\\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\\n<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\\n<style>\\n\\\n/*csslint\\n\\\n    box-sizing: false,\\n\\\n    universal-selector: false\\n\\\n*/\\n\\\n* {\\n\\\n    box-sizing: border-box;\\n\\\n}\\n\\\nbody {\\n\\\n    background: #dde;\\n\\\n    font-family: Arial, Helvetica, sans-serif;\\n\\\n    margin: 2rem;\\n\\\n}\\n\\\nbody > * {\\n\\\n    margin-bottom: 1rem;\\n\\\n}\\n\\\n.utility2FooterDiv {\\n\\\n    margin-top: 20px;\\n\\\n    text-align: center;\\n\\\n}\\n\\\n</style>\\n\\\n<style>\\n\\\n/*csslint\\n\\\n*/\\n\\\ntextarea {\\n\\\n    font-family: monospace;\\n\\\n    height: 10rem;\\n\\\n    width: 100%;\\n\\\n}\\n\\\ntextarea[readonly] {\\n\\\n    background: #ddd;\\n\\\n}\\n\\\n</style>\\n\\\n</head>\\n\\\n<body>\\n\\\n<!-- utility2-comment\\n\\\n<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\\nutility2-comment -->\\n\\\n<h1>\\n\\\n<!-- utility2-comment\\n\\\n    <a\\n\\\n        {{#if env.npm_package_homepage}}\\n\\\n        href=\"{{env.npm_package_homepage}}\"\\n\\\n        {{/if env.npm_package_homepage}}\\n\\\n        target=\"_blank\"\\n\\\n    >\\n\\\nutility2-comment -->\\n\\\n        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\\n<!-- utility2-comment\\n\\\n    </a>\\n\\\nutility2-comment -->\\n\\\n</h1>\\n\\\n<h3>{{env.npm_package_description}}</h3>\\n\\\n<!-- utility2-comment\\n\\\n<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\\n<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\\n<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\\nutility2-comment -->\\n\\\n\\n\\\n\\n\\\n\\n\\\n<label>stderr and stdout</label>\\n\\\n<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\\n<!-- utility2-comment\\n\\\n{{#if isRollup}}\\n\\\n<script src=\"assets.app.js\"></script>\\n\\\n{{#unless isRollup}}\\n\\\nutility2-comment -->\\n\\\n<script src=\"assets.utility2.rollup.js\"></script>\\n\\\n<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\\n<script src=\"assets.npmtest_objection.rollup.js\"></script>\\n\\\n<script src=\"assets.example.js\"></script>\\n\\\n<script src=\"assets.test.js\"></script>\\n\\\n<!-- utility2-comment\\n\\\n{{/if isRollup}}\\n\\\nutility2-comment -->\\n\\\n<div class=\"utility2FooterDiv\">\\n\\\n    [ this app was created with\\n\\\n    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\\n    ]\\n\\\n</div>\\n\\\n</body>\\n\\\n</html>\\n\\\n';\n        /* jslint-ignore-end */\n        if (local.templateRender) {\n            local.assetsDict['/'] = local.templateRender(\n                local.assetsDict['/assets.index.template.html'],\n                {\n                    env: local.objectSetDefault(local.env, {\n                        npm_package_description: 'the greatest app in the world!',\n                        npm_package_name: 'my-app',\n                        npm_package_nameAlias: 'my_app',\n                        npm_package_version: '0.0.1'\n                    })\n                }\n            );\n        } else {\n            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']\n                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {\n                    // jslint-hack\n                    String(match0);\n                    switch (match1) {\n                    case 'npm_package_description':\n                        return 'the greatest app in the world!';\n                    case 'npm_package_name':\n                        return 'my-app';\n                    case 'npm_package_nameAlias':\n                        return 'my_app';\n                    case 'npm_package_version':\n                        return '0.0.1';\n                    }\n                });\n        }\n        // run the cli\n        if (local.global.utility2_rollup || module !== require.main) {\n            break;\n        }\n        local.assetsDict['/assets.example.js'] =\n            local.assetsDict['/assets.example.js'] ||\n            local.fs.readFileSync(__filename, 'utf8');\n        // bug-workaround - long $npm_package_buildCustomOrg\n        /* jslint-ignore-begin */\n        local.assetsDict['/assets.npmtest_objection.rollup.js'] =\n            local.assetsDict['/assets.npmtest_objection.rollup.js'] ||\n            local.fs.readFileSync(\n                local.npmtest_objection.__dirname + '/lib.npmtest_objection.js',\n                'utf8'\n            ).replace((/^#!/), '//');\n        /* jslint-ignore-end */\n        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';\n        // if $npm_config_timeout_exit exists,\n        // then exit this process after $npm_config_timeout_exit ms\n        if (Number(process.env.npm_config_timeout_exit)) {\n            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));\n        }\n        // start server\n        if (local.global.utility2_serverHttp1) {\n            break;\n        }\n        process.env.PORT = process.env.PORT || '8081';\n        console.error('server starting on port ' + process.env.PORT);\n        local.http.createServer(function (request, response) {\n            request.urlParsed = local.url.parse(request.url);\n            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {\n                response.end(local.assetsDict[request.urlParsed.pathname]);\n                return;\n            }\n            response.statusCode = 404;\n            response.end();\n        }).listen(process.env.PORT);\n        break;\n    }\n}());\n","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/objection.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ref = exports.Promise = exports.transaction = exports.ManyToManyRelation = exports.HasOneThroughRelation = exports.BelongsToOneRelation = exports.HasManyRelation = exports.HasOneRelation = exports.Relation = exports.Validator = exports.AjvValidator = exports.ValidationError = exports.RelationExpression = exports.QueryBuilderOperation = exports.QueryBuilderBase = exports.QueryBuilder = exports.Model = undefined;\n\nvar _Model = require('./model/Model');\n\nvar _Model2 = _interopRequireDefault(_Model);\n\nvar _QueryBuilderBase = require('./queryBuilder/QueryBuilderBase');\n\nvar _QueryBuilderBase2 = _interopRequireDefault(_QueryBuilderBase);\n\nvar _QueryBuilder = require('./queryBuilder/QueryBuilder');\n\nvar _QueryBuilder2 = _interopRequireDefault(_QueryBuilder);\n\nvar _QueryBuilderOperation = require('./queryBuilder/operations/QueryBuilderOperation');\n\nvar _QueryBuilderOperation2 = _interopRequireDefault(_QueryBuilderOperation);\n\nvar _RelationExpression = require('./queryBuilder/RelationExpression');\n\nvar _RelationExpression2 = _interopRequireDefault(_RelationExpression);\n\nvar _ValidationError = require('./model/ValidationError');\n\nvar _ValidationError2 = _interopRequireDefault(_ValidationError);\n\nvar _AjvValidator = require('./model/AjvValidator');\n\nvar _AjvValidator2 = _interopRequireDefault(_AjvValidator);\n\nvar _Validator = require('./model/Validator');\n\nvar _Validator2 = _interopRequireDefault(_Validator);\n\nvar _Relation = require('./relations/Relation');\n\nvar _Relation2 = _interopRequireDefault(_Relation);\n\nvar _HasOneRelation = require('./relations/hasOne/HasOneRelation');\n\nvar _HasOneRelation2 = _interopRequireDefault(_HasOneRelation);\n\nvar _HasManyRelation = require('./relations/hasMany/HasManyRelation');\n\nvar _HasManyRelation2 = _interopRequireDefault(_HasManyRelation);\n\nvar _BelongsToOneRelation = require('./relations/belongsToOne/BelongsToOneRelation');\n\nvar _BelongsToOneRelation2 = _interopRequireDefault(_BelongsToOneRelation);\n\nvar _HasOneThroughRelation = require('./relations/hasOneThrough/HasOneThroughRelation');\n\nvar _HasOneThroughRelation2 = _interopRequireDefault(_HasOneThroughRelation);\n\nvar _ManyToManyRelation = require('./relations/manyToMany/ManyToManyRelation');\n\nvar _ManyToManyRelation2 = _interopRequireDefault(_ManyToManyRelation);\n\nvar _transaction = require('./transaction');\n\nvar _transaction2 = _interopRequireDefault(_transaction);\n\nvar _ReferenceBuilder = require('./queryBuilder/ReferenceBuilder');\n\nvar _bluebird = require('bluebird');\n\nvar _bluebird2 = _interopRequireDefault(_bluebird);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Model = _Model2.default;\nexports.QueryBuilder = _QueryBuilder2.default;\nexports.QueryBuilderBase = _QueryBuilderBase2.default;\nexports.QueryBuilderOperation = _QueryBuilderOperation2.default;\nexports.RelationExpression = _RelationExpression2.default;\nexports.ValidationError = _ValidationError2.default;\nexports.AjvValidator = _AjvValidator2.default;\nexports.Validator = _Validator2.default;\nexports.Relation = _Relation2.default;\nexports.HasOneRelation = _HasOneRelation2.default;\nexports.HasManyRelation = _HasManyRelation2.default;\nexports.BelongsToOneRelation = _BelongsToOneRelation2.default;\nexports.HasOneThroughRelation = _HasOneThroughRelation2.default;\nexports.ManyToManyRelation = _ManyToManyRelation2.default;\nexports.transaction = _transaction2.default;\nexports.Promise = _bluebird2.default;\nexports.ref = _ReferenceBuilder.ref;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9iamVjdGlvbi5qcyJdLCJuYW1lcyI6WyJNb2RlbCIsIlF1ZXJ5QnVpbGRlciIsIlF1ZXJ5QnVpbGRlckJhc2UiLCJRdWVyeUJ1aWxkZXJPcGVyYXRpb24iLCJSZWxhdGlvbkV4cHJlc3Npb24iLCJWYWxpZGF0aW9uRXJyb3IiLCJBanZWYWxpZGF0b3IiLCJWYWxpZGF0b3IiLCJSZWxhdGlvbiIsIkhhc09uZVJlbGF0aW9uIiwiSGFzTWFueVJlbGF0aW9uIiwiQmVsb25nc1RvT25lUmVsYXRpb24iLCJIYXNPbmVUaHJvdWdoUmVsYXRpb24iLCJNYW55VG9NYW55UmVsYXRpb24iLCJ0cmFuc2FjdGlvbiIsIlByb21pc2UiLCJyZWYiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBRUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBRUE7Ozs7QUFDQTs7QUFDQTs7Ozs7O1FBR0VBLEs7UUFDQUMsWTtRQUNBQyxnQjtRQUNBQyxxQjtRQUNBQyxrQjtRQUNBQyxlO1FBQ0FDLFk7UUFDQUMsUztRQUNBQyxRO1FBQ0FDLGM7UUFDQUMsZTtRQUNBQyxvQjtRQUNBQyxxQjtRQUNBQyxrQjtRQUNBQyxXO1FBQ0FDLE87UUFDQUMsRyIsImZpbGUiOiJvYmplY3Rpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTW9kZWwgZnJvbSAnLi9tb2RlbC9Nb2RlbCc7XG5pbXBvcnQgUXVlcnlCdWlsZGVyQmFzZSBmcm9tICcuL3F1ZXJ5QnVpbGRlci9RdWVyeUJ1aWxkZXJCYXNlJztcbmltcG9ydCBRdWVyeUJ1aWxkZXIgZnJvbSAnLi9xdWVyeUJ1aWxkZXIvUXVlcnlCdWlsZGVyJztcbmltcG9ydCBRdWVyeUJ1aWxkZXJPcGVyYXRpb24gZnJvbSAnLi9xdWVyeUJ1aWxkZXIvb3BlcmF0aW9ucy9RdWVyeUJ1aWxkZXJPcGVyYXRpb24nXG5pbXBvcnQgUmVsYXRpb25FeHByZXNzaW9uIGZyb20gJy4vcXVlcnlCdWlsZGVyL1JlbGF0aW9uRXhwcmVzc2lvbic7XG5pbXBvcnQgVmFsaWRhdGlvbkVycm9yIGZyb20gJy4vbW9kZWwvVmFsaWRhdGlvbkVycm9yJztcbmltcG9ydCBBanZWYWxpZGF0b3IgZnJvbSAnLi9tb2RlbC9BanZWYWxpZGF0b3InO1xuaW1wb3J0IFZhbGlkYXRvciBmcm9tICcuL21vZGVsL1ZhbGlkYXRvcic7XG5cbmltcG9ydCBSZWxhdGlvbiBmcm9tICcuL3JlbGF0aW9ucy9SZWxhdGlvbic7XG5pbXBvcnQgSGFzT25lUmVsYXRpb24gZnJvbSAnLi9yZWxhdGlvbnMvaGFzT25lL0hhc09uZVJlbGF0aW9uJztcbmltcG9ydCBIYXNNYW55UmVsYXRpb24gZnJvbSAnLi9yZWxhdGlvbnMvaGFzTWFueS9IYXNNYW55UmVsYXRpb24nO1xuaW1wb3J0IEJlbG9uZ3NUb09uZVJlbGF0aW9uIGZyb20gJy4vcmVsYXRpb25zL2JlbG9uZ3NUb09uZS9CZWxvbmdzVG9PbmVSZWxhdGlvbic7XG5pbXBvcnQgSGFzT25lVGhyb3VnaFJlbGF0aW9uIGZyb20gJy4vcmVsYXRpb25zL2hhc09uZVRocm91Z2gvSGFzT25lVGhyb3VnaFJlbGF0aW9uJztcbmltcG9ydCBNYW55VG9NYW55UmVsYXRpb24gZnJvbSAnLi9yZWxhdGlvbnMvbWFueVRvTWFueS9NYW55VG9NYW55UmVsYXRpb24nO1xuXG5pbXBvcnQgdHJhbnNhY3Rpb24gZnJvbSAnLi90cmFuc2FjdGlvbic7XG5pbXBvcnQgeyByZWYgfSBmcm9tICcuL3F1ZXJ5QnVpbGRlci9SZWZlcmVuY2VCdWlsZGVyJztcbmltcG9ydCBQcm9taXNlIGZyb20gJ2JsdWViaXJkJztcblxuZXhwb3J0IHtcbiAgTW9kZWwsXG4gIFF1ZXJ5QnVpbGRlcixcbiAgUXVlcnlCdWlsZGVyQmFzZSxcbiAgUXVlcnlCdWlsZGVyT3BlcmF0aW9uLFxuICBSZWxhdGlvbkV4cHJlc3Npb24sXG4gIFZhbGlkYXRpb25FcnJvcixcbiAgQWp2VmFsaWRhdG9yLFxuICBWYWxpZGF0b3IsXG4gIFJlbGF0aW9uLFxuICBIYXNPbmVSZWxhdGlvbixcbiAgSGFzTWFueVJlbGF0aW9uLFxuICBCZWxvbmdzVG9PbmVSZWxhdGlvbixcbiAgSGFzT25lVGhyb3VnaFJlbGF0aW9uLFxuICBNYW55VG9NYW55UmVsYXRpb24sXG4gIHRyYW5zYWN0aW9uLFxuICBQcm9taXNlLFxuICByZWZcbn07XG5cbiJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/model/Model.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getOwnPropertyDescriptor = require('babel-runtime/core-js/object/get-own-property-descriptor');\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nvar _keys3 = require('babel-runtime/core-js/object/keys');\n\nvar _keys4 = _interopRequireDefault(_keys3);\n\nvar _stringify = require('babel-runtime/core-js/json/stringify');\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _create = require('babel-runtime/core-js/object/create');\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _desc, _value, _class, _class2, _temp;\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _AjvValidator = require('./AjvValidator');\n\nvar _AjvValidator2 = _interopRequireDefault(_AjvValidator);\n\nvar _QueryBuilder = require('../queryBuilder/QueryBuilder');\n\nvar _QueryBuilder2 = _interopRequireDefault(_QueryBuilder);\n\nvar _inheritModel = require('./inheritModel');\n\nvar _inheritModel2 = _interopRequireDefault(_inheritModel);\n\nvar _RelationExpression = require('../queryBuilder/RelationExpression');\n\nvar _RelationExpression2 = _interopRequireDefault(_RelationExpression);\n\nvar _modelVisitor = require('./modelVisitor');\n\nvar _classUtils = require('../utils/classUtils');\n\nvar _hiddenData = require('../utils/hiddenData');\n\nvar _hiddenData2 = require('../utils/decorators/hiddenData');\n\nvar _hiddenData3 = _interopRequireDefault(_hiddenData2);\n\nvar _memoize = require('../utils/decorators/memoize');\n\nvar _memoize2 = _interopRequireDefault(_memoize);\n\nvar _Relation = require('../relations/Relation');\n\nvar _Relation2 = _interopRequireDefault(_Relation);\n\nvar _HasOneRelation = require('../relations/hasOne/HasOneRelation');\n\nvar _HasOneRelation2 = _interopRequireDefault(_HasOneRelation);\n\nvar _HasManyRelation = require('../relations/hasMany/HasManyRelation');\n\nvar _HasManyRelation2 = _interopRequireDefault(_HasManyRelation);\n\nvar _ManyToManyRelation = require('../relations/manyToMany/ManyToManyRelation');\n\nvar _ManyToManyRelation2 = _interopRequireDefault(_ManyToManyRelation);\n\nvar _BelongsToOneRelation = require('../relations/belongsToOne/BelongsToOneRelation');\n\nvar _BelongsToOneRelation2 = _interopRequireDefault(_BelongsToOneRelation);\n\nvar _HasOneThroughRelation = require('../relations/hasOneThrough/HasOneThroughRelation');\n\nvar _HasOneThroughRelation2 = _interopRequireDefault(_HasOneThroughRelation);\n\nvar _InstanceFindOperation = require('../queryBuilder/operations/InstanceFindOperation');\n\nvar _InstanceFindOperation2 = _interopRequireDefault(_InstanceFindOperation);\n\nvar _InstanceInsertOperation = require('../queryBuilder/operations/InstanceInsertOperation');\n\nvar _InstanceInsertOperation2 = _interopRequireDefault(_InstanceInsertOperation);\n\nvar _InstanceUpdateOperation = require('../queryBuilder/operations/InstanceUpdateOperation');\n\nvar _InstanceUpdateOperation2 = _interopRequireDefault(_InstanceUpdateOperation);\n\nvar _InstanceDeleteOperation = require('../queryBuilder/operations/InstanceDeleteOperation');\n\nvar _InstanceDeleteOperation2 = _interopRequireDefault(_InstanceDeleteOperation);\n\nvar _JoinEagerOperation = require('../queryBuilder/operations/eager/JoinEagerOperation');\n\nvar _JoinEagerOperation2 = _interopRequireDefault(_JoinEagerOperation);\n\nvar _WhereInEagerOperation = require('../queryBuilder/operations/eager/WhereInEagerOperation');\n\nvar _WhereInEagerOperation2 = _interopRequireDefault(_WhereInEagerOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\nvar JoinEagerAlgorithm = function JoinEagerAlgorithm() {\n  return new _JoinEagerOperation2.default('eager');\n};\n\nvar WhereInEagerAlgorithm = function WhereInEagerAlgorithm() {\n  return new _WhereInEagerOperation2.default('eager');\n};\n\n/**\n * @typedef {Object} ModelOptions\n *\n * @property {boolean} [patch]\n * @property {boolean} [skipValidation]\n * @property {boolean} [mutable]\n * @property {Model} [old]\n */\n\nvar Model = (_dec = (0, _hiddenData3.default)({ name: 'omitFromJson', append: true }), _dec2 = (0, _hiddenData3.default)({ name: 'omitFromDatabaseJson', append: true }), _dec3 = (0, _hiddenData3.default)(), _dec4 = (0, _hiddenData3.default)(), _dec5 = (0, _hiddenData3.default)(), _dec6 = (0, _hiddenData3.default)(), (_class = (_temp = _class2 = function () {\n  function Model() {\n    (0, _classCallCheck3.default)(this, Model);\n  }\n\n  /**\n   * @param {*=} id\n   * @returns {*}\n   */\n\n\n  /**\n   * @type {Constructor.<? extends EagerOperation>}\n   */\n\n\n  /**\n   * @type {Array.<string>}\n   */\n\n\n  /**\n   * @type {Array.<string>}\n   */\n\n\n  /**\n   * @type {RegExp}\n   */\n\n\n  /**\n   * @type {string}\n   */\n\n\n  /**\n   * @type {string|Array.<string>}\n   */\n\n\n  /**\n   * @type {string}\n   */\n  Model.prototype.$id = function $id(id) {\n    if (arguments.length > 0) {\n      return setId(this, arguments[0]);\n    } else {\n      return getId(this);\n    }\n  };\n\n  /**\n   * @param {Transaction=} trx\n   * @returns {QueryBuilder}\n   */\n\n\n  /**\n   * @type {object}\n   */\n\n\n  /**\n   * @type {boolean}\n   */\n\n\n  /**\n   * @type {Object.<string, RelationMapping>}\n   */\n\n\n  /**\n   * @type {Array.<string>}\n   */\n\n\n  /**\n   * @type {string}\n   */\n\n\n  /**\n   * @type {string}\n   */\n\n\n  /**\n   * @type {Object}\n   */\n\n\n  Model.prototype.$query = function $query(trx) {\n    var _this = this;\n\n    var ModelClass = this.constructor;\n\n    return ModelClass.QueryBuilder.forClass(ModelClass).transacting(trx).findOperationFactory(function () {\n      return new _InstanceFindOperation2.default('find', { instance: _this });\n    }).insertOperationFactory(function () {\n      return new _InstanceInsertOperation2.default('insert', { instance: _this });\n    }).updateOperationFactory(function () {\n      return new _InstanceUpdateOperation2.default('update', { instance: _this });\n    }).patchOperationFactory(function () {\n      return new _InstanceUpdateOperation2.default('patch', { instance: _this, modelOptions: { patch: true } });\n    }).deleteOperationFactory(function () {\n      return new _InstanceDeleteOperation2.default('delete', { instance: _this });\n    }).relateOperationFactory(function () {\n      throw new Error('`relate` makes no sense in this context');\n    }).unrelateOperationFactory(function () {\n      throw new Error('`unrelate` makes no sense in this context');\n    });\n  };\n\n  /**\n   * @param {string} relationName\n   * @param {Transaction=} trx\n   * @returns {QueryBuilder}\n   */\n\n\n  Model.prototype.$relatedQuery = function $relatedQuery(relationName, trx) {\n    var _this2 = this;\n\n    var ModelClass = this.constructor;\n    var relation = ModelClass.getRelation(relationName);\n    var RelatedModelClass = relation.relatedModelClass;\n\n    return ModelClass.RelatedQueryBuilder.forClass(RelatedModelClass).transacting(trx).findOperationFactory(function (builder) {\n      return relation.find(builder, [_this2]);\n    }).insertOperationFactory(function (builder) {\n      return relation.insert(builder, _this2);\n    }).updateOperationFactory(function (builder) {\n      return relation.update(builder, _this2);\n    }).patchOperationFactory(function (builder) {\n      return relation.patch(builder, _this2);\n    }).deleteOperationFactory(function (builder) {\n      return relation.delete(builder, _this2);\n    }).relateOperationFactory(function (builder) {\n      return relation.relate(builder, _this2);\n    }).unrelateOperationFactory(function (builder) {\n      return relation.unrelate(builder, _this2);\n    });\n  };\n\n  /**\n   * @param {string|RelationExpression} relationExpression\n   * @param {Object.<string, function(QueryBuilder)>=} filters\n   * @returns {QueryBuilder}\n   */\n\n\n  Model.prototype.$loadRelated = function $loadRelated(relationExpression, filters) {\n    return this.constructor.loadRelated(this, relationExpression, filters);\n  };\n\n  /**\n   * @param {Object} jsonSchema\n   * @param {Object} json\n   * @param {ModelOptions=} options\n   * @return {Object}\n   */\n\n\n  Model.prototype.$beforeValidate = function $beforeValidate(jsonSchema, json, options) {\n    /* istanbul ignore next */\n    return jsonSchema;\n  };\n\n  /**\n   * @param {Object=} json\n   * @param {ModelOptions=} options\n   * @throws {ValidationError}\n   * @return {Object}\n   */\n\n\n  Model.prototype.$validate = function $validate() {\n    var json = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this;\n    var options = arguments[1];\n\n    options = options || {};\n\n    if (json instanceof Model) {\n      // Strip away relations and other internal stuff.\n      json = cloneModel(json, true, true);\n      // We can mutate `json` now that we took a copy of it.\n      options.mutable = true;\n    }\n\n    if (options.skipValidation) {\n      return json;\n    }\n\n    var validator = this.constructor.getValidator();\n    var args = {\n      options: options,\n      model: this,\n      json: json,\n      ctx: (0, _create2.default)(null)\n    };\n\n    validator.beforeValidate(args);\n    json = validator.validate(args);\n    validator.afterValidate(args);\n\n    return json;\n  };\n\n  /**\n   * @param {Object=} json\n   * @param {ModelOptions=} options\n   */\n\n\n  Model.prototype.$afterValidate = function $afterValidate(json, options) {}\n  // Do nothing by default.\n\n\n  /**\n   * @param {Object} json\n   * @return {Object}\n   */\n  ;\n\n  Model.prototype.$parseDatabaseJson = function $parseDatabaseJson(json) {\n    var jsonAttr = this.constructor.getJsonAttributes();\n\n    if (jsonAttr.length) {\n      // JSON attributes may be returned as strings depending on the database and\n      // the database client. Convert them to objects here.\n      for (var i = 0, l = jsonAttr.length; i < l; ++i) {\n        var attr = jsonAttr[i];\n        var value = json[attr];\n\n        if (_lodash2.default.isString(value)) {\n          var parsed = tryParseJson(value);\n\n          // tryParseJson returns undefined if parsing failed.\n          if (parsed !== undefined) {\n            json[attr] = parsed;\n          }\n        }\n      }\n    }\n\n    return json;\n  };\n\n  /**\n   * @param {Object} json\n   * @return {Object}\n   */\n\n\n  Model.prototype.$formatDatabaseJson = function $formatDatabaseJson(json) {\n    var jsonAttr = this.constructor.getJsonAttributes();\n\n    if (jsonAttr.length) {\n      // All database clients want JSON columns as strings. Do the conversion here.\n      for (var i = 0, l = jsonAttr.length; i < l; ++i) {\n        var attr = jsonAttr[i];\n        var value = json[attr];\n\n        if (_lodash2.default.isObject(value)) {\n          json[attr] = (0, _stringify2.default)(value);\n        }\n      }\n    }\n\n    return json;\n  };\n\n  /**\n   * @param {Object} json\n   * @param {ModelOptions=} options\n   * @return {Object}\n   */\n\n\n  Model.prototype.$parseJson = function $parseJson(json, options) {\n    return json;\n  };\n\n  /**\n   * @param {Object} json\n   * @return {Object}\n   */\n\n\n  Model.prototype.$formatJson = function $formatJson(json) {\n    return json;\n  };\n\n  /**\n   * @param {Object} json\n   * @param {ModelOptions=} options\n   * @returns {Model}\n   * @throws ValidationError\n   */\n\n\n  Model.prototype.$setJson = function $setJson(json) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    json = json || {};\n\n    if (Object.prototype.toString.call(json) !== '[object Object]') {\n      throw new Error('You should only pass objects to $setJson method. ' + '$setJson method was given an invalid value ' + json);\n    }\n\n    json = this.$parseJson(json, options);\n    json = this.$validate(json, options);\n    this.$set(json);\n\n    var relations = this.constructor.getRelationArray();\n    // Parse relations into Model instances.\n    for (var i = 0, l = relations.length; i < l; ++i) {\n      var relation = relations[i];\n      var relationName = relation.name;\n      var relationJson = json[relationName];\n\n      if (relationJson !== undefined) {\n        if (Array.isArray(relationJson)) {\n          this[relationName] = relation.relatedModelClass.ensureModelArray(relationJson, options);\n        } else if (relationJson) {\n          this[relationName] = relation.relatedModelClass.ensureModel(relationJson, options);\n        } else {\n          this[relationName] = null;\n        }\n      }\n    }\n  };\n\n  /**\n   * @param {Object} json\n   * @returns {Model}\n   */\n\n\n  Model.prototype.$setDatabaseJson = function $setDatabaseJson(json) {\n    json = this.$parseDatabaseJson(json);\n\n    if (json) {\n      var keys = (0, _keys4.default)(json);\n\n      for (var i = 0, l = keys.length; i < l; ++i) {\n        var key = keys[i];\n        this[key] = json[key];\n      }\n    }\n\n    return this;\n  };\n\n  /**\n   * @param {Object} obj\n   * @returns {Model}\n   */\n\n\n  Model.prototype.$set = function $set(obj) {\n    if (obj) {\n      var keys = (0, _keys4.default)(obj);\n\n      for (var i = 0, l = keys.length; i < l; ++i) {\n        var key = keys[i];\n        var value = obj[key];\n\n        if (key.charAt(0) !== '$' && typeof value !== 'function') {\n          this[key] = value;\n        }\n      }\n    }\n\n    return this;\n  };\n\n  /**\n   * @param {boolean=} shallow\n   */\n\n\n  Model.prototype.$toJson = function $toJson(shallow) {\n    if (shallow) {\n      return this.$$toJson(false, this.constructor.getRelations(), null);\n    } else {\n      return this.$$toJson(false, null, null);\n    }\n  };\n\n  Model.prototype.toJSON = function toJSON() {\n    return this.$toJson(false);\n  };\n\n  /**\n   * @override\n   */\n\n\n  Model.prototype.$toDatabaseJson = function $toDatabaseJson() {\n    var jsonSchema = this.constructor.getJsonSchema();\n\n    if (jsonSchema && this.constructor.pickJsonSchemaProperties) {\n      return this.$$toJson(true, null, jsonSchema.properties);\n    } else {\n      return this.$$toJson(true, this.constructor.getRelations(), null);\n    }\n  };\n\n  /**\n   * @param {Object} queryContext\n   * @returns {Promise|*}\n   */\n\n\n  Model.prototype.$beforeInsert = function $beforeInsert(queryContext) {};\n\n  /**\n   * @param {Object} queryContext\n   * @returns {Promise|*}\n   */\n\n\n  Model.prototype.$afterInsert = function $afterInsert(queryContext) {};\n\n  /**\n   * @param {ModelOptions} opt\n   * @param {QueryBuilderContext} queryContext\n   * @returns {Promise|*}\n   */\n\n\n  Model.prototype.$beforeUpdate = function $beforeUpdate(opt, queryContext) {};\n\n  /**\n   * @param {ModelOptions} opt\n   * @param {QueryBuilderContext} queryContext\n   * @returns {Promise|*}\n   */\n\n\n  Model.prototype.$afterUpdate = function $afterUpdate(opt, queryContext) {};\n\n  /**\n   * @param {QueryBuilderContext} queryContext\n   * @returns {Promise|*}\n   */\n\n\n  Model.prototype.$afterGet = function $afterGet(queryContext) {};\n\n  /**\n   * @param {QueryBuilderContext} queryContext\n   * @returns {Promise|*}\n   */\n\n\n  Model.prototype.$beforeDelete = function $beforeDelete(queryContext) {};\n\n  /**\n   * @param {QueryBuilderContext} queryContext\n   * @returns {Promise|*}\n   */\n\n\n  Model.prototype.$afterDelete = function $afterDelete(queryContext) {};\n\n  /**\n   * @param {Constructor.<Model>=} filterConstructor\n   * @param {function(Model)} callback\n   * @return {Model}\n   */\n\n\n  Model.prototype.$traverse = function $traverse(filterConstructor, callback) {\n    if (_lodash2.default.isUndefined(callback)) {\n      callback = filterConstructor;\n      filterConstructor = null;\n    }\n\n    this.constructor.traverse(filterConstructor, this, callback);\n    return this;\n  };\n\n  /**\n   * @param {string|Array.<string>|Object.<string, boolean>} keys\n   * @returns {Model}\n   */\n\n\n  Model.prototype.$omit = function $omit() {\n    if (arguments.length === 1 && _lodash2.default.isObject(arguments[0])) {\n      var keys = arguments[0];\n\n      if (Array.isArray(keys)) {\n        omitArray(this, keys);\n      } else {\n        omitObject(this, keys);\n      }\n    } else {\n      var _keys = new Array(arguments.length);\n\n      for (var i = 0, l = _keys.length; i < l; ++i) {\n        _keys[i] = arguments[i];\n      }\n\n      omitArray(this, _keys);\n    }\n\n    return this;\n  };\n\n  /**\n   * @param {string|Array.<string>|Object.<string, boolean>} keys\n   * @returns {Model} `this` for chaining.\n   */\n\n\n  Model.prototype.$pick = function $pick() {\n    if (arguments.length === 1 && _lodash2.default.isObject(arguments[0])) {\n      var keys = arguments[0];\n\n      if (Array.isArray(keys)) {\n        pickArray(this, keys);\n      } else {\n        pickObject(this, keys);\n      }\n    } else {\n      var _keys2 = new Array(arguments.length);\n\n      for (var i = 0, l = _keys2.length; i < l; ++i) {\n        _keys2[i] = arguments[i];\n      }\n\n      pickArray(this, _keys2);\n    }\n\n    return this;\n  };\n\n  /**\n   * @param {Array.<string>} props\n   * @return {Array.<*>}\n   */\n\n\n  Model.prototype.$values = function $values() {\n    if (arguments.length === 0) {\n      return _lodash2.default.values(this);\n    } else {\n      if (arguments.length === 1 && Array.isArray(arguments[0])) {\n        return this.$$values(arguments[0]);\n      } else {\n        var args = new Array(arguments.length);\n\n        for (var i = 0, l = args.length; i < l; ++i) {\n          args[i] = arguments[i];\n        }\n\n        return this.$$values(args);\n      }\n    }\n  };\n\n  /**\n   * @private\n   */\n\n\n  Model.prototype.$$values = function $$values(args) {\n    switch (args.length) {\n      case 1:\n        return [this[args[0]]];\n      case 2:\n        return [this[args[0]], this[args[1]]];\n      case 3:\n        return [this[args[0]], this[args[1]], this[args[2]]];\n      default:\n        {\n          var ret = new Array(args.length);\n\n          for (var i = 0, l = args.length; i < l; ++i) {\n            ret[i] = this[args[i]];\n          }\n\n          return ret;\n        }\n    }\n  };\n\n  /**\n   * @param {Array.<string>} props\n   * @return {string}\n   */\n\n\n  Model.prototype.$propKey = function $propKey(props) {\n    switch (props.length) {\n      case 1:\n        return this[props[0]] + '';\n      case 2:\n        return this[props[0]] + ',' + this[props[1]];\n      case 3:\n        return this[props[0]] + ',' + this[props[1]] + ',' + this[props[2]];\n      default:\n        {\n          var key = '';\n\n          for (var i = 0, l = props.length; i < l; ++i) {\n            key += this[props[i]] + (i < props.length - 1 ? ',' : '');\n          }\n\n          return key;\n        }\n    }\n  };\n\n  /**\n   * @param {boolean} shallow\n   * @return {Model}\n   */\n\n\n  Model.prototype.$clone = function $clone(shallow) {\n    return cloneModel(this, shallow, false);\n  };\n\n  /**\n   * @param {Array.<string>=} keys\n   * @returns {Array.<string>}\n   */\n\n\n  Model.prototype.$omitFromJson = function $omitFromJson(keys) {};\n\n  /**\n   * @param {Array.<string>=} keys\n   * @returns {Array.<string>}\n   */\n\n\n  Model.prototype.$omitFromDatabaseJson = function $omitFromDatabaseJson(keys) {};\n\n  /**\n   * @returns {knex}\n   */\n\n\n  Model.prototype.$knex = function $knex() {\n    return this.constructor.knex();\n  };\n\n  /**\n   * @returns {knex}\n   */\n\n\n  Model.prototype.$transaction = function $transaction() {\n    return this.constructor.transaction();\n  };\n\n  /**\n   * @protected\n   */\n\n\n  Model.prototype.$$toJson = function $$toJson(createDbJson, omit, pick) {\n    var json = toJsonImpl(this, createDbJson, omit, pick);\n\n    if (createDbJson) {\n      return this.$formatDatabaseJson(json);\n    } else {\n      return this.$formatJson(json);\n    }\n  };\n\n  /**\n   * @param {function=} subclassConstructor\n   * @return {Constructor.<Model>}\n   */\n\n\n  Model.extend = function extend(subclassConstructor) {\n    if (_lodash2.default.isEmpty(subclassConstructor.name)) {\n      throw new Error('Each Model subclass constructor must have a name');\n    }\n\n    (0, _classUtils.inherits)(subclassConstructor, this);\n    return subclassConstructor;\n  };\n\n  /**\n   * @param {Object=} json\n   * @param {ModelOptions=} options\n   * @returns {Model}\n   * @throws ValidationError\n   */\n\n\n  Model.fromJson = function fromJson(json, options) {\n    var model = new this();\n    model.$setJson(json || {}, options);\n    return model;\n  };\n\n  /**\n   * @param {Object=} json\n   * @returns {Model}\n   */\n\n\n  Model.fromDatabaseJson = function fromDatabaseJson(json) {\n    var model = new this();\n    model.$setDatabaseJson(json || {});\n    return model;\n  };\n\n  /**\n   * @param {Object} obj\n   * @param {string} prop\n   */\n\n\n  Model.omitImpl = function omitImpl(obj, prop) {\n    delete obj[prop];\n  };\n\n  /**\n   * @return {Validator}\n   */\n\n\n  Model.createValidator = function createValidator() {\n    return new _AjvValidator2.default({\n      onCreateAjv: function onCreateAjv(ajv) {/* Do Nothing by default */},\n      options: {\n        allErrors: true,\n        validateSchema: false,\n        ownProperties: true,\n        v5: true\n      }\n    });\n  };\n\n  /**\n   * @return {Validator}\n   */\n\n\n  Model.getValidator = function getValidator() {\n    return this.createValidator();\n  };\n\n  /**\n   * @return {Object}\n   */\n\n\n  Model.getJsonSchema = function getJsonSchema() {\n    // Memoized getter in case jsonSchema is a getter property (usually is with ES6).\n    return this.jsonSchema;\n  };\n\n  /**\n   * @param {string} columnName\n   * @returns {string}\n   */\n\n\n  Model.columnNameToPropertyName = function columnNameToPropertyName(columnName) {\n    var model = new this();\n    var addedProps = _lodash2.default.keys(model.$parseDatabaseJson({}));\n\n    var row = {};\n    row[columnName] = null;\n\n    var props = _lodash2.default.keys(model.$parseDatabaseJson(row));\n    var propertyName = _lodash2.default.first(_lodash2.default.difference(props, addedProps));\n\n    return propertyName || null;\n  };\n\n  /**\n   * @param {string} propertyName\n   * @returns {string}\n   */\n\n\n  Model.propertyNameToColumnName = function propertyNameToColumnName(propertyName) {\n    var model = new this();\n    var addedCols = _lodash2.default.keys(model.$formatDatabaseJson({}));\n\n    var obj = {};\n    obj[propertyName] = null;\n\n    var cols = _lodash2.default.keys(model.$formatDatabaseJson(obj));\n    var columnName = _lodash2.default.first(_lodash2.default.difference(cols, addedCols));\n\n    return columnName || null;\n  };\n\n  /**\n   * @param {Transaction=} trx\n   * @returns {QueryBuilder}\n   */\n\n\n  Model.query = function query(trx) {\n    var ModelClass = this;\n\n    return ModelClass.QueryBuilder.forClass(ModelClass).transacting(trx).relateOperationFactory(function () {\n      throw new Error('`relate` makes no sense in this context');\n    }).unrelateOperationFactory(function () {\n      throw new Error('`unrelate` makes no sense in this context');\n    });\n  };\n\n  /**\n   * @param {knex=} knex\n   * @returns {knex}\n   */\n\n\n  Model.knex = function knex() {\n    if (arguments.length) {\n      // We cannot save this to hiddenData because values\n      // in there don't get inherited automatically when\n      // a class is inherited.\n      Object.defineProperty(this, '$$knex', {\n        enumerable: false,\n        writable: true,\n        value: arguments[0]\n      });\n    } else {\n      return this.$$knex;\n    }\n  };\n\n  /**\n   * @returns {knex}\n   */\n\n\n  Model.transaction = function transaction() {\n    return this.knex();\n  };\n\n  /**\n   * @return {Raw}\n   */\n\n\n  Model.raw = function raw() {\n    var knex = this.knex();\n    return knex.raw.apply(knex, arguments);\n  };\n\n  /**\n   * @return {Object}\n   */\n\n\n  Model.fn = function fn() {\n    var knex = this.knex();\n    return knex.fn;\n  };\n\n  /**\n   * @return {Formatter}\n   */\n\n\n  Model.formatter = function formatter() {\n    return this.knex().client.formatter();\n  };\n\n  /**\n   * @returns {knex.QueryBuilder}\n   */\n\n\n  Model.knexQuery = function knexQuery() {\n    return this.knex().table(this.tableName);\n  };\n\n  /**\n   * @returns {string}\n   */\n\n\n  Model.uniqueTag = function uniqueTag() {\n    return this.tableName;\n  };\n\n  /**\n   * @param {knex} knex\n   * @returns {Constructor.<Model>}\n   */\n\n\n  Model.bindKnex = function bindKnex(knex) {\n    var ModelClass = this;\n\n    if (!knex.$$objection) {\n      Object.defineProperty(knex, '$$objection', {\n        enumerable: false,\n        writable: false,\n        value: {\n          boundModels: (0, _create2.default)(null)\n        }\n      });\n    }\n\n    // Check if this model class has already been bound to the given knex.\n    if (knex.$$objection.boundModels[ModelClass.uniqueTag()]) {\n      return knex.$$objection.boundModels[ModelClass.uniqueTag()];\n    }\n\n    // Create a new subclass of this class.\n    var BoundModelClass = (0, _inheritModel2.default)(ModelClass);\n\n    // The bound model is equal to the source model in every way. We want to copy\n    // the hidden data as-is from the source so that we don't get the performance\n    // penalty of calculating all memoized etc. values again.\n    (0, _hiddenData.inheritHiddenData)(ModelClass, BoundModelClass);\n\n    BoundModelClass.knex(knex);\n    knex.$$objection.boundModels[ModelClass.uniqueTag()] = BoundModelClass;\n\n    var boundRelations = (0, _create2.default)(null);\n    var relations = ModelClass.getRelationArray();\n\n    for (var i = 0, l = relations.length; i < l; ++i) {\n      var relation = relations[i];\n      boundRelations[relation.name] = relation.bindKnex(knex);\n    }\n\n    BoundModelClass.relations = boundRelations;\n    BoundModelClass.relationArray = _lodash2.default.values(boundRelations);\n\n    return BoundModelClass;\n  };\n\n  /**\n   * @param {knex} trx\n   * @returns {Constructor.<Model>}\n   */\n\n\n  Model.bindTransaction = function bindTransaction(trx) {\n    return this.bindKnex(trx);\n  };\n\n  /**\n   * @param {Model|Object} model\n   * @param {ModelOptions=} options\n   * @returns {Model}\n   */\n\n\n  Model.ensureModel = function ensureModel(model, options) {\n    var ModelClass = this;\n\n    if (!model) {\n      return null;\n    }\n\n    if (model instanceof ModelClass) {\n      return model;\n    } else {\n      return ModelClass.fromJson(model, options);\n    }\n  };\n\n  /**\n   * @param {Array.<Model|Object>} input\n   * @param {ModelOptions=} options\n   * @returns {Array.<Model>}\n   */\n\n\n  Model.ensureModelArray = function ensureModelArray(input, options) {\n    if (!input) {\n      return [];\n    }\n\n    if (Array.isArray(input)) {\n      var models = new Array(input.length);\n\n      for (var i = 0, l = input.length; i < l; ++i) {\n        models[i] = this.ensureModel(input[i], options);\n      }\n\n      return models;\n    } else {\n      return [this.ensureModel(input, options)];\n    }\n  };\n\n  /**\n   * @returns {Array.<string>}\n   */\n\n\n  Model.getIdColumnArray = function getIdColumnArray() {\n    if (Array.isArray(this.idColumn)) {\n      return this.idColumn;\n    } else {\n      return [this.idColumn];\n    }\n  };\n\n  /**\n   * @returns {string|Array.<string>}\n   */\n\n\n  Model.getFullIdColumn = function getFullIdColumn() {\n    var _this3 = this;\n\n    if (Array.isArray(this.idColumn)) {\n      return this.idColumn.map(function (col) {\n        return _this3.tableName + '.' + col;\n      });\n    } else {\n      return this.tableName + '.' + this.idColumn;\n    }\n  };\n\n  /**\n   * @returns {Array.<string>}\n   */\n\n\n  Model.getIdPropertyArray = function getIdPropertyArray() {\n    var _this4 = this;\n\n    return this.getIdColumnArray().map(function (col) {\n      return idColumnToIdProperty(_this4, col);\n    });\n  };\n\n  /**\n   * @returns {string|Array.<string>}\n   */\n\n\n  Model.getIdProperty = function getIdProperty() {\n    var _this5 = this;\n\n    if (Array.isArray(this.idColumn)) {\n      return this.idColumn.map(function (col) {\n        return idColumnToIdProperty(_this5, col);\n      });\n    } else {\n      return idColumnToIdProperty(this, this.idColumn);\n    }\n  };\n\n  /**\n   * @private\n   */\n\n\n  /**\n   * @return {Object.<string, Relation>}\n   */\n  Model.getRelations = function getRelations() {\n    var _this6 = this;\n\n    var relations = this.relations;\n\n    if (!relations) {\n      relations = _lodash2.default.reduce(_lodash2.default.result(this, 'relationMappings'), function (relations, mapping, relationName) {\n        relations[relationName] = new mapping.relation(relationName, _this6);\n        relations[relationName].setMapping(mapping);\n        return relations;\n      }, (0, _create2.default)(null));\n\n      this.relations = relations;\n    }\n\n    return relations;\n  };\n\n  /**\n   * @return {Array.<Relation>}\n   */\n\n\n  Model.getRelationArray = function getRelationArray() {\n    var relationArray = this.relationArray;\n\n    if (!relationArray) {\n      relationArray = _lodash2.default.values(this.getRelations());\n      this.relationArray = relationArray;\n    }\n\n    return relationArray;\n  };\n\n  /**\n   * @return {Relation}\n   */\n\n\n  Model.getRelation = function getRelation(name) {\n    var relation = this.getRelations()[name];\n\n    if (!relation) {\n      throw new Error('A model class (tableName = ' + this.tableName + ') doesn\\'t have relation ' + name);\n    }\n\n    return relation;\n  };\n\n  /**\n   * @param {Array.<Model|Object>} $models\n   * @param {string|RelationExpression} expression\n   * @param {Object.<string, function(QueryBuilder)>=} filters\n   * @returns {QueryBuilder}\n   */\n\n\n  Model.loadRelated = function loadRelated($models, expression, filters) {\n    return this.query().resolve(this.ensureModelArray($models)).findOptions({ dontCallAfterGet: true }).eager(expression, filters).runAfter(function (models) {\n      return Array.isArray($models) ? models : models[0];\n    });\n  };\n\n  /**\n   * @param {Constructor.<Model>=} filterConstructor\n   * @param {Model|Array.<Model>} models\n   * @param {function(Model, Model, string)} traverser\n   * @return {Model}\n   */\n\n\n  Model.traverse = function traverse(filterConstructor, models, traverser) {\n    filterConstructor = filterConstructor || null;\n\n    if (_lodash2.default.isUndefined(traverser)) {\n      traverser = models;\n      models = filterConstructor;\n      filterConstructor = null;\n    }\n\n    if (!_lodash2.default.isFunction(traverser)) {\n      throw new Error('traverser must be a function');\n    }\n\n    if (_lodash2.default.isEmpty(models)) {\n      return this;\n    }\n\n    var modelClass = Array.isArray(models) ? models[0].constructor : models.constructor;\n\n    (0, _modelVisitor.visitModels)(models, modelClass, function (model, modelClass, parent, relation) {\n      if (!filterConstructor || model instanceof filterConstructor) {\n        traverser(model, parent, relation && relation.name);\n      }\n    });\n\n    return this;\n  };\n\n  /**\n   * @protected\n   * @returns {Array.<string>}\n   */\n\n\n  Model.getJsonAttributes = function getJsonAttributes() {\n    var _this7 = this;\n\n    // If the jsonAttributes property is not set, try to create it based\n    // on the jsonSchema. All properties that are objects or arrays must\n    // be converted to JSON.\n    if (!this.jsonAttributes && this.getJsonSchema()) {\n      this.jsonAttributes = [];\n\n      _lodash2.default.forOwn(this.getJsonSchema().properties, function (prop, propName) {\n        var types = _lodash2.default.compact(ensureArray(prop.type));\n\n        if (types.length === 0 && Array.isArray(prop.anyOf)) {\n          types = _lodash2.default.flattenDeep(_lodash2.default.map(prop.anyOf, 'type'));\n        }\n\n        if (types.length === 0 && Array.isArray(prop.oneOf)) {\n          types = _lodash2.default.flattenDeep(_lodash2.default.map(prop.oneOf, 'type'));\n        }\n\n        if (_lodash2.default.includes(types, 'object') || _lodash2.default.includes(types, 'array')) {\n          _this7.jsonAttributes.push(propName);\n        }\n      });\n    }\n\n    if (!Array.isArray(this.jsonAttributes)) {\n      this.jsonAttributes = [];\n    }\n\n    return this.jsonAttributes;\n  };\n\n  (0, _createClass3.default)(Model, null, [{\n    key: 'relations',\n    get: function get() {}\n\n    /**\n     * @private\n     */\n    ,\n    set: function set(value) {}\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: 'relationArray',\n    get: function get() {}\n\n    /**\n     * @private\n     */\n    ,\n    set: function set(value) {}\n  }]);\n  return Model;\n}(), _class2.QueryBuilder = _QueryBuilder2.default, _class2.RelatedQueryBuilder = _QueryBuilder2.default, _class2.HasOneRelation = _HasOneRelation2.default, _class2.HasManyRelation = _HasManyRelation2.default, _class2.ManyToManyRelation = _ManyToManyRelation2.default, _class2.BelongsToOneRelation = _BelongsToOneRelation2.default, _class2.HasOneThroughRelation = _HasOneThroughRelation2.default, _class2.JoinEagerAlgorithm = JoinEagerAlgorithm, _class2.WhereInEagerAlgorithm = WhereInEagerAlgorithm, _class2.tableName = null, _class2.jsonSchema = null, _class2.idColumn = 'id', _class2.uidProp = '#id', _class2.uidRefProp = '#ref', _class2.dbRefProp = '#dbRef', _class2.propRefRegex = /#ref{([^\\.]+)\\.([^}]+)}/g, _class2.jsonAttributes = null, _class2.virtualAttributes = null, _class2.relationMappings = null, _class2.modelPaths = [], _class2.pickJsonSchemaProperties = true, _class2.defaultEagerAlgorithm = WhereInEagerAlgorithm, _class2.defaultEagerOptions = null, _temp), (_applyDecoratedDescriptor(_class.prototype, '$omitFromJson', [_dec], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, '$omitFromJson'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, '$omitFromDatabaseJson', [_dec2], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, '$omitFromDatabaseJson'), _class.prototype), _applyDecoratedDescriptor(_class, 'getValidator', [_memoize2.default], (0, _getOwnPropertyDescriptor2.default)(_class, 'getValidator'), _class), _applyDecoratedDescriptor(_class, 'getJsonSchema', [_memoize2.default], (0, _getOwnPropertyDescriptor2.default)(_class, 'getJsonSchema'), _class), _applyDecoratedDescriptor(_class, 'columnNameToPropertyName', [_memoize2.default], (0, _getOwnPropertyDescriptor2.default)(_class, 'columnNameToPropertyName'), _class), _applyDecoratedDescriptor(_class, 'propertyNameToColumnName', [_memoize2.default], (0, _getOwnPropertyDescriptor2.default)(_class, 'propertyNameToColumnName'), _class), _applyDecoratedDescriptor(_class, 'getIdColumnArray', [_memoize2.default], (0, _getOwnPropertyDescriptor2.default)(_class, 'getIdColumnArray'), _class), _applyDecoratedDescriptor(_class, 'getFullIdColumn', [_memoize2.default], (0, _getOwnPropertyDescriptor2.default)(_class, 'getFullIdColumn'), _class), _applyDecoratedDescriptor(_class, 'getIdPropertyArray', [_memoize2.default], (0, _getOwnPropertyDescriptor2.default)(_class, 'getIdPropertyArray'), _class), _applyDecoratedDescriptor(_class, 'getIdProperty', [_memoize2.default], (0, _getOwnPropertyDescriptor2.default)(_class, 'getIdProperty'), _class), _applyDecoratedDescriptor(_class, 'relations', [_dec3], (0, _getOwnPropertyDescriptor2.default)(_class, 'relations'), _class), _applyDecoratedDescriptor(_class, 'relationArray', [_dec4], (0, _getOwnPropertyDescriptor2.default)(_class, 'relationArray'), _class), _applyDecoratedDescriptor(_class, 'relations', [_dec5], (0, _getOwnPropertyDescriptor2.default)(_class, 'relations'), _class), _applyDecoratedDescriptor(_class, 'relationArray', [_dec6], (0, _getOwnPropertyDescriptor2.default)(_class, 'relationArray'), _class)), _class));\nexports.default = Model;\n\n\nfunction setId(model, id) {\n  var idProp = model.constructor.getIdProperty();\n  var isArray = Array.isArray(idProp);\n\n  if (Array.isArray(id)) {\n    if (isArray) {\n      if (id.length !== idProp.length) {\n        throw new Error('trying to set an invalid identifier for a model');\n      }\n\n      for (var i = 0; i < id.length; ++i) {\n        model[idProp[i]] = id[i];\n      }\n    } else {\n      if (id.length !== 1) {\n        throw new Error('trying to set an invalid identifier for a model');\n      }\n\n      model[idProp] = id[0];\n    }\n  } else {\n    if (isArray) {\n      if (idProp.length > 1) {\n        throw new Error('trying to set an invalid identifier for a model');\n      }\n\n      model[idProp[0]] = id;\n    } else {\n      model[idProp] = id;\n    }\n  }\n}\n\nfunction getId(model) {\n  var idProp = model.constructor.getIdProperty();\n\n  if (Array.isArray(idProp)) {\n    return model.$values(idProp);\n  } else {\n    return model[idProp];\n  }\n}\n\nfunction tryParseJson(maybeJsonStr) {\n  try {\n    return JSON.parse(maybeJsonStr);\n  } catch (err) {\n    // Ignore error.\n  }\n\n  return undefined;\n}\n\nfunction toJsonImpl(model, createDbJson, omit, pick) {\n  if (createDbJson) {\n    return toDatabaseJsonImpl(model, omit, pick);\n  } else {\n    return toExternalJsonImpl(model, omit, pick);\n  }\n}\n\nfunction toDatabaseJsonImpl(model, omit, pick) {\n  var json = {};\n  var omitFromJson = model.$omitFromDatabaseJson();\n  var keys = (0, _keys4.default)(model);\n\n  for (var i = 0, l = keys.length; i < l; ++i) {\n    var key = keys[i];\n    assignJsonValue(json, key, model[key], omit, pick, omitFromJson, true);\n  }\n\n  return json;\n}\n\nfunction toExternalJsonImpl(model, omit, pick) {\n  var json = {};\n  var omitFromJson = model.$omitFromJson();\n  var keys = (0, _keys4.default)(model);\n  var vAttr = model.constructor.virtualAttributes;\n\n  for (var i = 0, l = keys.length; i < l; ++i) {\n    var key = keys[i];\n    var value = model[key];\n\n    assignJsonValue(json, key, value, omit, pick, omitFromJson, false);\n  }\n\n  if (vAttr) {\n    assignVirtualAttributes(json, model, vAttr, omit, pick, omitFromJson);\n  }\n\n  return json;\n}\n\nfunction assignVirtualAttributes(json, model, vAttr, omit, pick, omitFromJson) {\n  for (var i = 0, l = vAttr.length; i < l; ++i) {\n    var key = vAttr[i];\n    var value = model[key];\n\n    if (typeof value === 'function') {\n      value = value.call(model);\n    }\n\n    assignJsonValue(json, key, value, omit, pick, omitFromJson, false);\n  }\n}\n\nfunction assignJsonValue(json, key, value, omit, pick, omitFromJson, createDbJson) {\n  var type = typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value);\n\n  if (key.charAt(0) !== '$' && type !== 'function' && type !== 'undefined' && (!omit || !omit[key]) && (!pick || pick[key]) && (!omitFromJson || !contains(omitFromJson, key))) {\n\n    if (value !== null && type === 'object') {\n      json[key] = toJsonObject(value, createDbJson);\n    } else {\n      json[key] = value;\n    }\n  }\n}\n\nfunction toJsonObject(value, createDbJson) {\n  if (Array.isArray(value)) {\n    return toJsonArray(value, createDbJson);\n  } else if (value instanceof Model) {\n    if (createDbJson) {\n      return value.$toDatabaseJson();\n    } else {\n      return value.$toJson();\n    }\n  } else if (Buffer.isBuffer(value)) {\n    return value;\n  } else {\n    return _lodash2.default.cloneDeep(value);\n  }\n}\n\nfunction toJsonArray(value, createDbJson) {\n  var ret = new Array(value.length);\n\n  for (var i = 0, l = ret.length; i < l; ++i) {\n    ret[i] = toJsonObject(value[i], createDbJson);\n  }\n\n  return ret;\n}\n\nfunction cloneModel(model, shallow, stripInternal) {\n  var clone = null;\n\n  var omitFromJson = model.$omitFromJson();\n  var omitFromDatabaseJson = model.$omitFromDatabaseJson();\n\n  if (!shallow && !stripInternal) {\n    clone = cloneModelSimple(model);\n  } else {\n    clone = cloneModelWithOpt(model, shallow, stripInternal);\n  }\n\n  if (omitFromJson) {\n    clone.$omitFromJson(omitFromJson);\n  }\n\n  if (omitFromDatabaseJson) {\n    clone.$omitFromDatabaseJson(omitFromDatabaseJson);\n  }\n\n  return clone;\n}\n\nfunction cloneModelSimple(model) {\n  var clone = new model.constructor();\n  var keys = (0, _keys4.default)(model);\n\n  for (var i = 0, l = keys.length; i < l; ++i) {\n    var key = keys[i];\n    var value = model[key];\n\n    if (value !== null && (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) === 'object') {\n      clone[key] = cloneObject(value);\n    } else {\n      clone[key] = value;\n    }\n  }\n\n  return clone;\n}\n\nfunction cloneModelWithOpt(model, shallow, stripInternal) {\n  var clone = new model.constructor();\n  var keys = (0, _keys4.default)(model);\n  var relations = model.constructor.getRelations();\n\n  for (var i = 0, l = keys.length; i < l; ++i) {\n    var key = keys[i];\n    var value = model[key];\n\n    if (shallow && relations[key]) {\n      continue;\n    }\n\n    if (stripInternal && key.charAt(0) === '$') {\n      continue;\n    }\n\n    if (value !== null && (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) === 'object') {\n      clone[key] = cloneObject(value);\n    } else {\n      clone[key] = value;\n    }\n  }\n\n  return clone;\n}\n\nfunction cloneObject(value) {\n  if (Array.isArray(value)) {\n    return cloneArray(value);\n  } else if (value instanceof Model) {\n    return cloneModel(value, false, false);\n  } else if (Buffer.isBuffer(value)) {\n    return new Buffer(value);\n  } else {\n    return _lodash2.default.cloneDeep(value);\n  }\n}\n\nfunction cloneArray(value) {\n  var ret = new Array(value.length);\n\n  for (var i = 0, l = ret.length; i < l; ++i) {\n    ret[i] = cloneObject(value[i]);\n  }\n\n  return ret;\n}\n\nfunction omitObject(model, keyObj) {\n  var ModelClass = model.constructor;\n  var keys = (0, _keys4.default)(keyObj);\n\n  for (var i = 0, l = keys.length; i < l; ++i) {\n    var key = keys[i];\n    var value = keyObj[key];\n\n    if (value && key.charAt(0) !== '$' && _lodash2.default.has(model, key)) {\n      ModelClass.omitImpl(model, key);\n    }\n  }\n}\n\nfunction omitArray(model, keys) {\n  var ModelClass = model.constructor;\n\n  for (var i = 0, l = keys.length; i < l; ++i) {\n    var key = keys[i];\n\n    if (key.charAt(0) !== '$' && _lodash2.default.has(model, key)) {\n      ModelClass.omitImpl(model, key);\n    }\n  }\n}\n\nfunction pickObject(model, keyObj) {\n  var ModelClass = model.constructor;\n  var keys = (0, _keys4.default)(model);\n\n  for (var i = 0, l = keys.length; i < l; ++i) {\n    var key = keys[i];\n\n    if (key.charAt(0) !== '$' && !keyObj[key]) {\n      ModelClass.omitImpl(model, key);\n    }\n  }\n}\n\nfunction pickArray(model, pick) {\n  var ModelClass = model.constructor;\n  var keys = (0, _keys4.default)(model);\n\n  for (var i = 0, l = keys.length; i < l; ++i) {\n    var key = keys[i];\n\n    if (key.charAt(0) !== '$' && !contains(pick, key)) {\n      ModelClass.omitImpl(model, key);\n    }\n  }\n}\n\nfunction contains(arr, value) {\n  for (var i = 0, l = arr.length; i < l; ++i) {\n    if (arr[i] === value) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction ensureArray(obj) {\n  if (Array.isArray(obj)) {\n    return obj;\n  } else {\n    return [obj];\n  }\n}\n\nfunction idColumnToIdProperty(ModelClass, idColumn) {\n  var idProperty = ModelClass.columnNameToPropertyName(idColumn);\n\n  if (!idProperty) {\n    throw new Error(ModelClass.tableName + '.$parseDatabaseJson probably changes the value of the id column `' + idColumn + '` which is a no-no.');\n  }\n\n  return idProperty;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1vZGVsLmpzIl0sIm5hbWVzIjpbIkpvaW5FYWdlckFsZ29yaXRobSIsIldoZXJlSW5FYWdlckFsZ29yaXRobSIsIk1vZGVsIiwibmFtZSIsImFwcGVuZCIsIiRpZCIsImlkIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic2V0SWQiLCJnZXRJZCIsIiRxdWVyeSIsInRyeCIsIk1vZGVsQ2xhc3MiLCJjb25zdHJ1Y3RvciIsIlF1ZXJ5QnVpbGRlciIsImZvckNsYXNzIiwidHJhbnNhY3RpbmciLCJmaW5kT3BlcmF0aW9uRmFjdG9yeSIsImluc3RhbmNlIiwiaW5zZXJ0T3BlcmF0aW9uRmFjdG9yeSIsInVwZGF0ZU9wZXJhdGlvbkZhY3RvcnkiLCJwYXRjaE9wZXJhdGlvbkZhY3RvcnkiLCJtb2RlbE9wdGlvbnMiLCJwYXRjaCIsImRlbGV0ZU9wZXJhdGlvbkZhY3RvcnkiLCJyZWxhdGVPcGVyYXRpb25GYWN0b3J5IiwiRXJyb3IiLCJ1bnJlbGF0ZU9wZXJhdGlvbkZhY3RvcnkiLCIkcmVsYXRlZFF1ZXJ5IiwicmVsYXRpb25OYW1lIiwicmVsYXRpb24iLCJnZXRSZWxhdGlvbiIsIlJlbGF0ZWRNb2RlbENsYXNzIiwicmVsYXRlZE1vZGVsQ2xhc3MiLCJSZWxhdGVkUXVlcnlCdWlsZGVyIiwiZmluZCIsImJ1aWxkZXIiLCJpbnNlcnQiLCJ1cGRhdGUiLCJkZWxldGUiLCJyZWxhdGUiLCJ1bnJlbGF0ZSIsIiRsb2FkUmVsYXRlZCIsInJlbGF0aW9uRXhwcmVzc2lvbiIsImZpbHRlcnMiLCJsb2FkUmVsYXRlZCIsIiRiZWZvcmVWYWxpZGF0ZSIsImpzb25TY2hlbWEiLCJqc29uIiwib3B0aW9ucyIsIiR2YWxpZGF0ZSIsImNsb25lTW9kZWwiLCJtdXRhYmxlIiwic2tpcFZhbGlkYXRpb24iLCJ2YWxpZGF0b3IiLCJnZXRWYWxpZGF0b3IiLCJhcmdzIiwibW9kZWwiLCJjdHgiLCJiZWZvcmVWYWxpZGF0ZSIsInZhbGlkYXRlIiwiYWZ0ZXJWYWxpZGF0ZSIsIiRhZnRlclZhbGlkYXRlIiwiJHBhcnNlRGF0YWJhc2VKc29uIiwianNvbkF0dHIiLCJnZXRKc29uQXR0cmlidXRlcyIsImkiLCJsIiwiYXR0ciIsInZhbHVlIiwiaXNTdHJpbmciLCJwYXJzZWQiLCJ0cnlQYXJzZUpzb24iLCJ1bmRlZmluZWQiLCIkZm9ybWF0RGF0YWJhc2VKc29uIiwiaXNPYmplY3QiLCIkcGFyc2VKc29uIiwiJGZvcm1hdEpzb24iLCIkc2V0SnNvbiIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsIiRzZXQiLCJyZWxhdGlvbnMiLCJnZXRSZWxhdGlvbkFycmF5IiwicmVsYXRpb25Kc29uIiwiQXJyYXkiLCJpc0FycmF5IiwiZW5zdXJlTW9kZWxBcnJheSIsImVuc3VyZU1vZGVsIiwiJHNldERhdGFiYXNlSnNvbiIsImtleXMiLCJrZXkiLCJvYmoiLCJjaGFyQXQiLCIkdG9Kc29uIiwic2hhbGxvdyIsIiQkdG9Kc29uIiwiZ2V0UmVsYXRpb25zIiwidG9KU09OIiwiJHRvRGF0YWJhc2VKc29uIiwiZ2V0SnNvblNjaGVtYSIsInBpY2tKc29uU2NoZW1hUHJvcGVydGllcyIsInByb3BlcnRpZXMiLCIkYmVmb3JlSW5zZXJ0IiwicXVlcnlDb250ZXh0IiwiJGFmdGVySW5zZXJ0IiwiJGJlZm9yZVVwZGF0ZSIsIm9wdCIsIiRhZnRlclVwZGF0ZSIsIiRhZnRlckdldCIsIiRiZWZvcmVEZWxldGUiLCIkYWZ0ZXJEZWxldGUiLCIkdHJhdmVyc2UiLCJmaWx0ZXJDb25zdHJ1Y3RvciIsImNhbGxiYWNrIiwiaXNVbmRlZmluZWQiLCJ0cmF2ZXJzZSIsIiRvbWl0Iiwib21pdEFycmF5Iiwib21pdE9iamVjdCIsIiRwaWNrIiwicGlja0FycmF5IiwicGlja09iamVjdCIsIiR2YWx1ZXMiLCJ2YWx1ZXMiLCIkJHZhbHVlcyIsInJldCIsIiRwcm9wS2V5IiwicHJvcHMiLCIkY2xvbmUiLCIkb21pdEZyb21Kc29uIiwiJG9taXRGcm9tRGF0YWJhc2VKc29uIiwiJGtuZXgiLCJrbmV4IiwiJHRyYW5zYWN0aW9uIiwidHJhbnNhY3Rpb24iLCJjcmVhdGVEYkpzb24iLCJvbWl0IiwicGljayIsInRvSnNvbkltcGwiLCJleHRlbmQiLCJzdWJjbGFzc0NvbnN0cnVjdG9yIiwiaXNFbXB0eSIsImZyb21Kc29uIiwiZnJvbURhdGFiYXNlSnNvbiIsIm9taXRJbXBsIiwicHJvcCIsImNyZWF0ZVZhbGlkYXRvciIsIm9uQ3JlYXRlQWp2IiwiYWp2IiwiYWxsRXJyb3JzIiwidmFsaWRhdGVTY2hlbWEiLCJvd25Qcm9wZXJ0aWVzIiwidjUiLCJjb2x1bW5OYW1lVG9Qcm9wZXJ0eU5hbWUiLCJjb2x1bW5OYW1lIiwiYWRkZWRQcm9wcyIsInJvdyIsInByb3BlcnR5TmFtZSIsImZpcnN0IiwiZGlmZmVyZW5jZSIsInByb3BlcnR5TmFtZVRvQ29sdW1uTmFtZSIsImFkZGVkQ29scyIsImNvbHMiLCJxdWVyeSIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwiJCRrbmV4IiwicmF3IiwiYXBwbHkiLCJmbiIsImZvcm1hdHRlciIsImNsaWVudCIsImtuZXhRdWVyeSIsInRhYmxlIiwidGFibGVOYW1lIiwidW5pcXVlVGFnIiwiYmluZEtuZXgiLCIkJG9iamVjdGlvbiIsImJvdW5kTW9kZWxzIiwiQm91bmRNb2RlbENsYXNzIiwiYm91bmRSZWxhdGlvbnMiLCJyZWxhdGlvbkFycmF5IiwiYmluZFRyYW5zYWN0aW9uIiwiaW5wdXQiLCJtb2RlbHMiLCJnZXRJZENvbHVtbkFycmF5IiwiaWRDb2x1bW4iLCJnZXRGdWxsSWRDb2x1bW4iLCJtYXAiLCJjb2wiLCJnZXRJZFByb3BlcnR5QXJyYXkiLCJpZENvbHVtblRvSWRQcm9wZXJ0eSIsImdldElkUHJvcGVydHkiLCJyZWR1Y2UiLCJyZXN1bHQiLCJtYXBwaW5nIiwic2V0TWFwcGluZyIsIiRtb2RlbHMiLCJleHByZXNzaW9uIiwicmVzb2x2ZSIsImZpbmRPcHRpb25zIiwiZG9udENhbGxBZnRlckdldCIsImVhZ2VyIiwicnVuQWZ0ZXIiLCJ0cmF2ZXJzZXIiLCJpc0Z1bmN0aW9uIiwibW9kZWxDbGFzcyIsInBhcmVudCIsImpzb25BdHRyaWJ1dGVzIiwiZm9yT3duIiwicHJvcE5hbWUiLCJ0eXBlcyIsImNvbXBhY3QiLCJlbnN1cmVBcnJheSIsInR5cGUiLCJhbnlPZiIsImZsYXR0ZW5EZWVwIiwib25lT2YiLCJpbmNsdWRlcyIsInB1c2giLCJIYXNPbmVSZWxhdGlvbiIsIkhhc01hbnlSZWxhdGlvbiIsIk1hbnlUb01hbnlSZWxhdGlvbiIsIkJlbG9uZ3NUb09uZVJlbGF0aW9uIiwiSGFzT25lVGhyb3VnaFJlbGF0aW9uIiwidWlkUHJvcCIsInVpZFJlZlByb3AiLCJkYlJlZlByb3AiLCJwcm9wUmVmUmVnZXgiLCJ2aXJ0dWFsQXR0cmlidXRlcyIsInJlbGF0aW9uTWFwcGluZ3MiLCJtb2RlbFBhdGhzIiwiZGVmYXVsdEVhZ2VyQWxnb3JpdGhtIiwiZGVmYXVsdEVhZ2VyT3B0aW9ucyIsImlkUHJvcCIsIm1heWJlSnNvblN0ciIsIkpTT04iLCJwYXJzZSIsImVyciIsInRvRGF0YWJhc2VKc29uSW1wbCIsInRvRXh0ZXJuYWxKc29uSW1wbCIsIm9taXRGcm9tSnNvbiIsImFzc2lnbkpzb25WYWx1ZSIsInZBdHRyIiwiYXNzaWduVmlydHVhbEF0dHJpYnV0ZXMiLCJjb250YWlucyIsInRvSnNvbk9iamVjdCIsInRvSnNvbkFycmF5IiwiQnVmZmVyIiwiaXNCdWZmZXIiLCJjbG9uZURlZXAiLCJzdHJpcEludGVybmFsIiwiY2xvbmUiLCJvbWl0RnJvbURhdGFiYXNlSnNvbiIsImNsb25lTW9kZWxTaW1wbGUiLCJjbG9uZU1vZGVsV2l0aE9wdCIsImNsb25lT2JqZWN0IiwiY2xvbmVBcnJheSIsImtleU9iaiIsImhhcyIsImFyciIsImlkUHJvcGVydHkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7O0FBRUE7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ZnJvbSAnbG9kYXNoJztcbmltcG9ydCBBanZWYWxpZGF0b3IgZnJvbSAnLi9BanZWYWxpZGF0b3InO1xuaW1wb3J0IFF1ZXJ5QnVpbGRlciBmcm9tICcuLi9xdWVyeUJ1aWxkZXIvUXVlcnlCdWlsZGVyJztcbmltcG9ydCBpbmhlcml0TW9kZWwgZnJvbSAnLi9pbmhlcml0TW9kZWwnO1xuaW1wb3J0IFJlbGF0aW9uRXhwcmVzc2lvbiBmcm9tICcuLi9xdWVyeUJ1aWxkZXIvUmVsYXRpb25FeHByZXNzaW9uJztcbmltcG9ydCB7dmlzaXRNb2RlbHN9IGZyb20gJy4vbW9kZWxWaXNpdG9yJztcblxuaW1wb3J0IHtpbmhlcml0c30gZnJvbSAnLi4vdXRpbHMvY2xhc3NVdGlscyc7XG5pbXBvcnQge2luaGVyaXRIaWRkZW5EYXRhfSBmcm9tICcuLi91dGlscy9oaWRkZW5EYXRhJztcbmltcG9ydCBoaWRkZW5EYXRhIGZyb20gJy4uL3V0aWxzL2RlY29yYXRvcnMvaGlkZGVuRGF0YSc7XG5pbXBvcnQgbWVtb2l6ZSBmcm9tICcuLi91dGlscy9kZWNvcmF0b3JzL21lbW9pemUnO1xuXG5pbXBvcnQgUmVsYXRpb24gZnJvbSAnLi4vcmVsYXRpb25zL1JlbGF0aW9uJztcbmltcG9ydCBIYXNPbmVSZWxhdGlvbiBmcm9tICcuLi9yZWxhdGlvbnMvaGFzT25lL0hhc09uZVJlbGF0aW9uJztcbmltcG9ydCBIYXNNYW55UmVsYXRpb24gZnJvbSAnLi4vcmVsYXRpb25zL2hhc01hbnkvSGFzTWFueVJlbGF0aW9uJztcbmltcG9ydCBNYW55VG9NYW55UmVsYXRpb24gZnJvbSAnLi4vcmVsYXRpb25zL21hbnlUb01hbnkvTWFueVRvTWFueVJlbGF0aW9uJztcbmltcG9ydCBCZWxvbmdzVG9PbmVSZWxhdGlvbiBmcm9tICcuLi9yZWxhdGlvbnMvYmVsb25nc1RvT25lL0JlbG9uZ3NUb09uZVJlbGF0aW9uJztcbmltcG9ydCBIYXNPbmVUaHJvdWdoUmVsYXRpb24gZnJvbSAnLi4vcmVsYXRpb25zL2hhc09uZVRocm91Z2gvSGFzT25lVGhyb3VnaFJlbGF0aW9uJztcblxuaW1wb3J0IEluc3RhbmNlRmluZE9wZXJhdGlvbiBmcm9tICcuLi9xdWVyeUJ1aWxkZXIvb3BlcmF0aW9ucy9JbnN0YW5jZUZpbmRPcGVyYXRpb24nO1xuaW1wb3J0IEluc3RhbmNlSW5zZXJ0T3BlcmF0aW9uIGZyb20gJy4uL3F1ZXJ5QnVpbGRlci9vcGVyYXRpb25zL0luc3RhbmNlSW5zZXJ0T3BlcmF0aW9uJztcbmltcG9ydCBJbnN0YW5jZVVwZGF0ZU9wZXJhdGlvbiBmcm9tICcuLi9xdWVyeUJ1aWxkZXIvb3BlcmF0aW9ucy9JbnN0YW5jZVVwZGF0ZU9wZXJhdGlvbic7XG5pbXBvcnQgSW5zdGFuY2VEZWxldGVPcGVyYXRpb24gZnJvbSAnLi4vcXVlcnlCdWlsZGVyL29wZXJhdGlvbnMvSW5zdGFuY2VEZWxldGVPcGVyYXRpb24nO1xuXG5pbXBvcnQgSm9pbkVhZ2VyT3BlcmF0aW9uIGZyb20gJy4uL3F1ZXJ5QnVpbGRlci9vcGVyYXRpb25zL2VhZ2VyL0pvaW5FYWdlck9wZXJhdGlvbic7XG5pbXBvcnQgV2hlcmVJbkVhZ2VyT3BlcmF0aW9uIGZyb20gJy4uL3F1ZXJ5QnVpbGRlci9vcGVyYXRpb25zL2VhZ2VyL1doZXJlSW5FYWdlck9wZXJhdGlvbic7XG5cbmNvbnN0IEpvaW5FYWdlckFsZ29yaXRobSA9ICgpID0+IHtcbiAgcmV0dXJuIG5ldyBKb2luRWFnZXJPcGVyYXRpb24oJ2VhZ2VyJyk7XG59O1xuXG5jb25zdCBXaGVyZUluRWFnZXJBbGdvcml0aG0gPSAoKSA9PiB7XG4gIHJldHVybiBuZXcgV2hlcmVJbkVhZ2VyT3BlcmF0aW9uKCdlYWdlcicpO1xufTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBNb2RlbE9wdGlvbnNcbiAqXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtwYXRjaF1cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3NraXBWYWxpZGF0aW9uXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbbXV0YWJsZV1cbiAqIEBwcm9wZXJ0eSB7TW9kZWx9IFtvbGRdXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kZWwge1xuXG4gIHN0YXRpYyBRdWVyeUJ1aWxkZXIgPSBRdWVyeUJ1aWxkZXI7XG4gIHN0YXRpYyBSZWxhdGVkUXVlcnlCdWlsZGVyID0gUXVlcnlCdWlsZGVyO1xuXG4gIHN0YXRpYyBIYXNPbmVSZWxhdGlvbiA9IEhhc09uZVJlbGF0aW9uO1xuICBzdGF0aWMgSGFzTWFueVJlbGF0aW9uID0gSGFzTWFueVJlbGF0aW9uO1xuICBzdGF0aWMgTWFueVRvTWFueVJlbGF0aW9uID0gTWFueVRvTWFueVJlbGF0aW9uO1xuICBzdGF0aWMgQmVsb25nc1RvT25lUmVsYXRpb24gPSBCZWxvbmdzVG9PbmVSZWxhdGlvbjtcbiAgc3RhdGljIEhhc09uZVRocm91Z2hSZWxhdGlvbiA9IEhhc09uZVRocm91Z2hSZWxhdGlvbjtcblxuICBzdGF0aWMgSm9pbkVhZ2VyQWxnb3JpdGhtID0gSm9pbkVhZ2VyQWxnb3JpdGhtO1xuICBzdGF0aWMgV2hlcmVJbkVhZ2VyQWxnb3JpdGhtID0gV2hlcmVJbkVhZ2VyQWxnb3JpdGhtO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKi9cbiAgc3RhdGljIHRhYmxlTmFtZSA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuICBzdGF0aWMganNvblNjaGVtYSA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtzdHJpbmd8QXJyYXkuPHN0cmluZz59XG4gICAqL1xuICBzdGF0aWMgaWRDb2x1bW4gPSAnaWQnO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKi9cbiAgc3RhdGljIHVpZFByb3AgPSAnI2lkJztcblxuICAvKipcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gIHN0YXRpYyB1aWRSZWZQcm9wID0gJyNyZWYnO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKi9cbiAgc3RhdGljIGRiUmVmUHJvcCA9ICcjZGJSZWYnO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgKi9cbiAgc3RhdGljIHByb3BSZWZSZWdleCA9IC8jcmVmeyhbXlxcLl0rKVxcLihbXn1dKyl9L2c7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtBcnJheS48c3RyaW5nPn1cbiAgICovXG4gIHN0YXRpYyBqc29uQXR0cmlidXRlcyA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtBcnJheS48c3RyaW5nPn1cbiAgICovXG4gIHN0YXRpYyB2aXJ0dWFsQXR0cmlidXRlcyA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtPYmplY3QuPHN0cmluZywgUmVsYXRpb25NYXBwaW5nPn1cbiAgICovXG4gIHN0YXRpYyByZWxhdGlvbk1hcHBpbmdzID0gbnVsbDtcblxuICAvKipcbiAgICogQHR5cGUge0FycmF5LjxzdHJpbmc+fVxuICAgKi9cbiAgc3RhdGljIG1vZGVsUGF0aHMgPSBbXTtcblxuICAvKipcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgcGlja0pzb25TY2hlbWFQcm9wZXJ0aWVzID0gdHJ1ZTtcblxuICAvKipcbiAgICogQHR5cGUge0NvbnN0cnVjdG9yLjw/IGV4dGVuZHMgRWFnZXJPcGVyYXRpb24+fVxuICAgKi9cbiAgc3RhdGljIGRlZmF1bHRFYWdlckFsZ29yaXRobSA9IFdoZXJlSW5FYWdlckFsZ29yaXRobTtcblxuICAvKipcbiAgICogQHR5cGUge29iamVjdH1cbiAgICovXG4gIHN0YXRpYyBkZWZhdWx0RWFnZXJPcHRpb25zID0gbnVsbDtcblxuICAvKipcbiAgICogQHBhcmFtIHsqPX0gaWRcbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICAkaWQoaWQpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBzZXRJZCh0aGlzLCBhcmd1bWVudHNbMF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0SWQodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VHJhbnNhY3Rpb249fSB0cnhcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlcn1cbiAgICovXG4gICRxdWVyeSh0cngpIHtcbiAgICBjb25zdCBNb2RlbENsYXNzID0gdGhpcy5jb25zdHJ1Y3RvcjtcblxuICAgIHJldHVybiBNb2RlbENsYXNzLlF1ZXJ5QnVpbGRlclxuICAgICAgLmZvckNsYXNzKE1vZGVsQ2xhc3MpXG4gICAgICAudHJhbnNhY3RpbmcodHJ4KVxuICAgICAgLmZpbmRPcGVyYXRpb25GYWN0b3J5KCgpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnN0YW5jZUZpbmRPcGVyYXRpb24oJ2ZpbmQnLCB7aW5zdGFuY2U6IHRoaXN9KTtcbiAgICAgIH0pXG4gICAgICAuaW5zZXJ0T3BlcmF0aW9uRmFjdG9yeSgoKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgSW5zdGFuY2VJbnNlcnRPcGVyYXRpb24oJ2luc2VydCcsIHtpbnN0YW5jZTogdGhpc30pO1xuICAgICAgfSlcbiAgICAgIC51cGRhdGVPcGVyYXRpb25GYWN0b3J5KCgpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnN0YW5jZVVwZGF0ZU9wZXJhdGlvbigndXBkYXRlJywge2luc3RhbmNlOiB0aGlzfSk7XG4gICAgICB9KVxuICAgICAgLnBhdGNoT3BlcmF0aW9uRmFjdG9yeSgoKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgSW5zdGFuY2VVcGRhdGVPcGVyYXRpb24oJ3BhdGNoJywge2luc3RhbmNlOiB0aGlzLCBtb2RlbE9wdGlvbnM6IHtwYXRjaDogdHJ1ZX19KTtcbiAgICAgIH0pXG4gICAgICAuZGVsZXRlT3BlcmF0aW9uRmFjdG9yeSgoKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgSW5zdGFuY2VEZWxldGVPcGVyYXRpb24oJ2RlbGV0ZScsIHtpbnN0YW5jZTogdGhpc30pO1xuICAgICAgfSlcbiAgICAgIC5yZWxhdGVPcGVyYXRpb25GYWN0b3J5KCgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdgcmVsYXRlYCBtYWtlcyBubyBzZW5zZSBpbiB0aGlzIGNvbnRleHQnKTtcbiAgICAgIH0pXG4gICAgICAudW5yZWxhdGVPcGVyYXRpb25GYWN0b3J5KCgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdgdW5yZWxhdGVgIG1ha2VzIG5vIHNlbnNlIGluIHRoaXMgY29udGV4dCcpO1xuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlbGF0aW9uTmFtZVxuICAgKiBAcGFyYW0ge1RyYW5zYWN0aW9uPX0gdHJ4XG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICAkcmVsYXRlZFF1ZXJ5KHJlbGF0aW9uTmFtZSwgdHJ4KSB7XG4gICAgY29uc3QgTW9kZWxDbGFzcyA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgY29uc3QgcmVsYXRpb24gPSBNb2RlbENsYXNzLmdldFJlbGF0aW9uKHJlbGF0aW9uTmFtZSk7XG4gICAgY29uc3QgUmVsYXRlZE1vZGVsQ2xhc3MgPSByZWxhdGlvbi5yZWxhdGVkTW9kZWxDbGFzcztcblxuICAgIHJldHVybiBNb2RlbENsYXNzLlJlbGF0ZWRRdWVyeUJ1aWxkZXJcbiAgICAgIC5mb3JDbGFzcyhSZWxhdGVkTW9kZWxDbGFzcylcbiAgICAgIC50cmFuc2FjdGluZyh0cngpXG4gICAgICAuZmluZE9wZXJhdGlvbkZhY3RvcnkoYnVpbGRlciA9PiB7XG4gICAgICAgIHJldHVybiByZWxhdGlvbi5maW5kKGJ1aWxkZXIsIFt0aGlzXSk7XG4gICAgICB9KVxuICAgICAgLmluc2VydE9wZXJhdGlvbkZhY3RvcnkoYnVpbGRlciA9PiB7XG4gICAgICAgIHJldHVybiByZWxhdGlvbi5pbnNlcnQoYnVpbGRlciwgdGhpcyk7XG4gICAgICB9KVxuICAgICAgLnVwZGF0ZU9wZXJhdGlvbkZhY3RvcnkoYnVpbGRlciA9PiB7XG4gICAgICAgIHJldHVybiByZWxhdGlvbi51cGRhdGUoYnVpbGRlciwgdGhpcyk7XG4gICAgICB9KVxuICAgICAgLnBhdGNoT3BlcmF0aW9uRmFjdG9yeShidWlsZGVyID0+IHtcbiAgICAgICAgcmV0dXJuIHJlbGF0aW9uLnBhdGNoKGJ1aWxkZXIsIHRoaXMpO1xuICAgICAgfSlcbiAgICAgIC5kZWxldGVPcGVyYXRpb25GYWN0b3J5KGJ1aWxkZXIgPT4ge1xuICAgICAgICByZXR1cm4gcmVsYXRpb24uZGVsZXRlKGJ1aWxkZXIsIHRoaXMpO1xuICAgICAgfSlcbiAgICAgIC5yZWxhdGVPcGVyYXRpb25GYWN0b3J5KGJ1aWxkZXIgPT4ge1xuICAgICAgICByZXR1cm4gcmVsYXRpb24ucmVsYXRlKGJ1aWxkZXIsIHRoaXMpO1xuICAgICAgfSlcbiAgICAgIC51bnJlbGF0ZU9wZXJhdGlvbkZhY3RvcnkoYnVpbGRlciA9PiB7XG4gICAgICAgIHJldHVybiByZWxhdGlvbi51bnJlbGF0ZShidWlsZGVyLCB0aGlzKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfFJlbGF0aW9uRXhwcmVzc2lvbn0gcmVsYXRpb25FeHByZXNzaW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uKFF1ZXJ5QnVpbGRlcik+PX0gZmlsdGVyc1xuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgJGxvYWRSZWxhdGVkKHJlbGF0aW9uRXhwcmVzc2lvbiwgZmlsdGVycykge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLmxvYWRSZWxhdGVkKHRoaXMsIHJlbGF0aW9uRXhwcmVzc2lvbiwgZmlsdGVycyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb25TY2hlbWFcbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb25cbiAgICogQHBhcmFtIHtNb2RlbE9wdGlvbnM9fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICovXG4gICRiZWZvcmVWYWxpZGF0ZShqc29uU2NoZW1hLCBqc29uLCBvcHRpb25zKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICByZXR1cm4ganNvblNjaGVtYTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdD19IGpzb25cbiAgICogQHBhcmFtIHtNb2RlbE9wdGlvbnM9fSBvcHRpb25zXG4gICAqIEB0aHJvd3Mge1ZhbGlkYXRpb25FcnJvcn1cbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKi9cbiAgJHZhbGlkYXRlKGpzb24gPSB0aGlzLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICBpZiAoanNvbiBpbnN0YW5jZW9mIE1vZGVsKSB7XG4gICAgICAvLyBTdHJpcCBhd2F5IHJlbGF0aW9ucyBhbmQgb3RoZXIgaW50ZXJuYWwgc3R1ZmYuXG4gICAgICBqc29uID0gY2xvbmVNb2RlbChqc29uLCB0cnVlLCB0cnVlKTtcbiAgICAgIC8vIFdlIGNhbiBtdXRhdGUgYGpzb25gIG5vdyB0aGF0IHdlIHRvb2sgYSBjb3B5IG9mIGl0LlxuICAgICAgb3B0aW9ucy5tdXRhYmxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5za2lwVmFsaWRhdGlvbikge1xuICAgICAgcmV0dXJuIGpzb247XG4gICAgfVxuXG4gICAgY29uc3QgdmFsaWRhdG9yID0gdGhpcy5jb25zdHJ1Y3Rvci5nZXRWYWxpZGF0b3IoKTtcbiAgICBjb25zdCBhcmdzID0ge1xuICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgIG1vZGVsOiB0aGlzLFxuICAgICAganNvbjoganNvbixcbiAgICAgIGN0eDogT2JqZWN0LmNyZWF0ZShudWxsKVxuICAgIH07XG5cbiAgICB2YWxpZGF0b3IuYmVmb3JlVmFsaWRhdGUoYXJncyk7XG4gICAganNvbiA9IHZhbGlkYXRvci52YWxpZGF0ZShhcmdzKTtcbiAgICB2YWxpZGF0b3IuYWZ0ZXJWYWxpZGF0ZShhcmdzKTtcblxuICAgIHJldHVybiBqc29uO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0ganNvblxuICAgKiBAcGFyYW0ge01vZGVsT3B0aW9ucz19IG9wdGlvbnNcbiAgICovXG4gICRhZnRlclZhbGlkYXRlKGpzb24sIG9wdGlvbnMpIHtcbiAgICAvLyBEbyBub3RoaW5nIGJ5IGRlZmF1bHQuXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb25cbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKi9cbiAgJHBhcnNlRGF0YWJhc2VKc29uKGpzb24pIHtcbiAgICBjb25zdCBqc29uQXR0ciA9IHRoaXMuY29uc3RydWN0b3IuZ2V0SnNvbkF0dHJpYnV0ZXMoKTtcblxuICAgIGlmIChqc29uQXR0ci5sZW5ndGgpIHtcbiAgICAgIC8vIEpTT04gYXR0cmlidXRlcyBtYXkgYmUgcmV0dXJuZWQgYXMgc3RyaW5ncyBkZXBlbmRpbmcgb24gdGhlIGRhdGFiYXNlIGFuZFxuICAgICAgLy8gdGhlIGRhdGFiYXNlIGNsaWVudC4gQ29udmVydCB0aGVtIHRvIG9iamVjdHMgaGVyZS5cbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0ganNvbkF0dHIubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgIGNvbnN0IGF0dHIgPSBqc29uQXR0cltpXTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBqc29uW2F0dHJdO1xuXG4gICAgICAgIGlmIChfLmlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IHRyeVBhcnNlSnNvbih2YWx1ZSk7XG5cbiAgICAgICAgICAvLyB0cnlQYXJzZUpzb24gcmV0dXJucyB1bmRlZmluZWQgaWYgcGFyc2luZyBmYWlsZWQuXG4gICAgICAgICAgaWYgKHBhcnNlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBqc29uW2F0dHJdID0gcGFyc2VkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBqc29uO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICovXG4gICRmb3JtYXREYXRhYmFzZUpzb24oanNvbikge1xuICAgIGNvbnN0IGpzb25BdHRyID0gdGhpcy5jb25zdHJ1Y3Rvci5nZXRKc29uQXR0cmlidXRlcygpO1xuXG4gICAgaWYgKGpzb25BdHRyLmxlbmd0aCkge1xuICAgICAgLy8gQWxsIGRhdGFiYXNlIGNsaWVudHMgd2FudCBKU09OIGNvbHVtbnMgYXMgc3RyaW5ncy4gRG8gdGhlIGNvbnZlcnNpb24gaGVyZS5cbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0ganNvbkF0dHIubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgIGNvbnN0IGF0dHIgPSBqc29uQXR0cltpXTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBqc29uW2F0dHJdO1xuXG4gICAgICAgIGlmIChfLmlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICAgIGpzb25bYXR0cl0gPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ganNvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvblxuICAgKiBAcGFyYW0ge01vZGVsT3B0aW9ucz19IG9wdGlvbnNcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKi9cbiAgJHBhcnNlSnNvbihqc29uLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGpzb247XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb25cbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKi9cbiAgJGZvcm1hdEpzb24oanNvbikge1xuICAgIHJldHVybiBqc29uO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uXG4gICAqIEBwYXJhbSB7TW9kZWxPcHRpb25zPX0gb3B0aW9uc1xuICAgKiBAcmV0dXJucyB7TW9kZWx9XG4gICAqIEB0aHJvd3MgVmFsaWRhdGlvbkVycm9yXG4gICAqL1xuICAkc2V0SnNvbihqc29uLCBvcHRpb25zID0ge30pIHtcbiAgICBqc29uID0ganNvbiB8fCB7fTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoanNvbikgIT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBzaG91bGQgb25seSBwYXNzIG9iamVjdHMgdG8gJHNldEpzb24gbWV0aG9kLiAnXG4gICAgICAgICsgJyRzZXRKc29uIG1ldGhvZCB3YXMgZ2l2ZW4gYW4gaW52YWxpZCB2YWx1ZSAnXG4gICAgICAgICsganNvbik7XG4gICAgfVxuXG4gICAganNvbiA9IHRoaXMuJHBhcnNlSnNvbihqc29uLCBvcHRpb25zKTtcbiAgICBqc29uID0gdGhpcy4kdmFsaWRhdGUoanNvbiwgb3B0aW9ucyk7XG4gICAgdGhpcy4kc2V0KGpzb24pO1xuXG4gICAgY29uc3QgcmVsYXRpb25zID0gdGhpcy5jb25zdHJ1Y3Rvci5nZXRSZWxhdGlvbkFycmF5KCk7XG4gICAgLy8gUGFyc2UgcmVsYXRpb25zIGludG8gTW9kZWwgaW5zdGFuY2VzLlxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gcmVsYXRpb25zLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgY29uc3QgcmVsYXRpb24gPSByZWxhdGlvbnNbaV07XG4gICAgICBjb25zdCByZWxhdGlvbk5hbWUgPSByZWxhdGlvbi5uYW1lO1xuICAgICAgY29uc3QgcmVsYXRpb25Kc29uID0ganNvbltyZWxhdGlvbk5hbWVdO1xuXG4gICAgICBpZiAocmVsYXRpb25Kc29uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVsYXRpb25Kc29uKSkge1xuICAgICAgICAgIHRoaXNbcmVsYXRpb25OYW1lXSA9IHJlbGF0aW9uLnJlbGF0ZWRNb2RlbENsYXNzLmVuc3VyZU1vZGVsQXJyYXkocmVsYXRpb25Kc29uLCBvcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIGlmIChyZWxhdGlvbkpzb24pIHtcbiAgICAgICAgICB0aGlzW3JlbGF0aW9uTmFtZV0gPSByZWxhdGlvbi5yZWxhdGVkTW9kZWxDbGFzcy5lbnN1cmVNb2RlbChyZWxhdGlvbkpzb24sIG9wdGlvbnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXNbcmVsYXRpb25OYW1lXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb25cbiAgICogQHJldHVybnMge01vZGVsfVxuICAgKi9cbiAgJHNldERhdGFiYXNlSnNvbihqc29uKSB7XG4gICAganNvbiA9IHRoaXMuJHBhcnNlRGF0YWJhc2VKc29uKGpzb24pO1xuXG4gICAgaWYgKGpzb24pIHtcbiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhqc29uKTtcblxuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgICAgICB0aGlzW2tleV0gPSBqc29uW2tleV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IG9ialxuICAgKiBAcmV0dXJucyB7TW9kZWx9XG4gICAqL1xuICAkc2V0KG9iaikge1xuICAgIGlmIChvYmopIHtcbiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuXG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICAgIGNvbnN0IHZhbHVlID0gb2JqW2tleV07XG5cbiAgICAgICAgaWYgKGtleS5jaGFyQXQoMCkgIT09ICckJyAmJiB0eXBlb2YgdmFsdWUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IHNoYWxsb3dcbiAgICovXG4gICR0b0pzb24oc2hhbGxvdykge1xuICAgIGlmIChzaGFsbG93KSB7XG4gICAgICByZXR1cm4gdGhpcy4kJHRvSnNvbihmYWxzZSwgdGhpcy5jb25zdHJ1Y3Rvci5nZXRSZWxhdGlvbnMoKSwgbnVsbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLiQkdG9Kc29uKGZhbHNlLCBudWxsLCBudWxsKTtcbiAgICB9XG4gIH1cblxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMuJHRvSnNvbihmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICAkdG9EYXRhYmFzZUpzb24oKSB7XG4gICAgY29uc3QganNvblNjaGVtYSA9IHRoaXMuY29uc3RydWN0b3IuZ2V0SnNvblNjaGVtYSgpO1xuXG4gICAgaWYgKGpzb25TY2hlbWEgJiYgdGhpcy5jb25zdHJ1Y3Rvci5waWNrSnNvblNjaGVtYVByb3BlcnRpZXMpIHtcbiAgICAgIHJldHVybiB0aGlzLiQkdG9Kc29uKHRydWUsIG51bGwsIGpzb25TY2hlbWEucHJvcGVydGllcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLiQkdG9Kc29uKHRydWUsIHRoaXMuY29uc3RydWN0b3IuZ2V0UmVsYXRpb25zKCksIG51bGwpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnlDb250ZXh0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlfCp9XG4gICAqL1xuICAkYmVmb3JlSW5zZXJ0KHF1ZXJ5Q29udGV4dCkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5Q29udGV4dFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZXwqfVxuICAgKi9cbiAgJGFmdGVySW5zZXJ0KHF1ZXJ5Q29udGV4dCkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtNb2RlbE9wdGlvbnN9IG9wdFxuICAgKiBAcGFyYW0ge1F1ZXJ5QnVpbGRlckNvbnRleHR9IHF1ZXJ5Q29udGV4dFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZXwqfVxuICAgKi9cbiAgJGJlZm9yZVVwZGF0ZShvcHQsIHF1ZXJ5Q29udGV4dCkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtNb2RlbE9wdGlvbnN9IG9wdFxuICAgKiBAcGFyYW0ge1F1ZXJ5QnVpbGRlckNvbnRleHR9IHF1ZXJ5Q29udGV4dFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZXwqfVxuICAgKi9cbiAgJGFmdGVyVXBkYXRlKG9wdCwgcXVlcnlDb250ZXh0KSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1F1ZXJ5QnVpbGRlckNvbnRleHR9IHF1ZXJ5Q29udGV4dFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZXwqfVxuICAgKi9cbiAgJGFmdGVyR2V0KHF1ZXJ5Q29udGV4dCkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtRdWVyeUJ1aWxkZXJDb250ZXh0fSBxdWVyeUNvbnRleHRcbiAgICogQHJldHVybnMge1Byb21pc2V8Kn1cbiAgICovXG4gICRiZWZvcmVEZWxldGUocXVlcnlDb250ZXh0KSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1F1ZXJ5QnVpbGRlckNvbnRleHR9IHF1ZXJ5Q29udGV4dFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZXwqfVxuICAgKi9cbiAgJGFmdGVyRGVsZXRlKHF1ZXJ5Q29udGV4dCkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtDb25zdHJ1Y3Rvci48TW9kZWw+PX0gZmlsdGVyQ29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtmdW5jdGlvbihNb2RlbCl9IGNhbGxiYWNrXG4gICAqIEByZXR1cm4ge01vZGVsfVxuICAgKi9cbiAgJHRyYXZlcnNlKGZpbHRlckNvbnN0cnVjdG9yLCBjYWxsYmFjaykge1xuICAgIGlmIChfLmlzVW5kZWZpbmVkKGNhbGxiYWNrKSkge1xuICAgICAgY2FsbGJhY2sgPSBmaWx0ZXJDb25zdHJ1Y3RvcjtcbiAgICAgIGZpbHRlckNvbnN0cnVjdG9yID0gbnVsbDtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnN0cnVjdG9yLnRyYXZlcnNlKGZpbHRlckNvbnN0cnVjdG9yLCB0aGlzLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXkuPHN0cmluZz58T2JqZWN0LjxzdHJpbmcsIGJvb2xlYW4+fSBrZXlzXG4gICAqIEByZXR1cm5zIHtNb2RlbH1cbiAgICovXG4gICRvbWl0KCkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmIF8uaXNPYmplY3QoYXJndW1lbnRzWzBdKSkge1xuICAgICAgY29uc3Qga2V5cyA9IGFyZ3VtZW50c1swXTtcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoa2V5cykpIHtcbiAgICAgICAgb21pdEFycmF5KHRoaXMsIGtleXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb21pdE9iamVjdCh0aGlzLCBrZXlzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qga2V5cyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcblxuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICBrZXlzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgICAgfVxuXG4gICAgICBvbWl0QXJyYXkodGhpcywga2V5cyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXkuPHN0cmluZz58T2JqZWN0LjxzdHJpbmcsIGJvb2xlYW4+fSBrZXlzXG4gICAqIEByZXR1cm5zIHtNb2RlbH0gYHRoaXNgIGZvciBjaGFpbmluZy5cbiAgICovXG4gICRwaWNrKCkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmIF8uaXNPYmplY3QoYXJndW1lbnRzWzBdKSkge1xuICAgICAgY29uc3Qga2V5cyA9IGFyZ3VtZW50c1swXTtcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoa2V5cykpIHtcbiAgICAgICAgcGlja0FycmF5KHRoaXMsIGtleXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGlja09iamVjdCh0aGlzLCBrZXlzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qga2V5cyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcblxuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICBrZXlzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgICAgfVxuXG4gICAgICBwaWNrQXJyYXkodGhpcywga2V5cyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheS48c3RyaW5nPn0gcHJvcHNcbiAgICogQHJldHVybiB7QXJyYXkuPCo+fVxuICAgKi9cbiAgJHZhbHVlcygpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIF8udmFsdWVzKHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiBBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJCR2YWx1ZXMoYXJndW1lbnRzWzBdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhcmdzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy4kJHZhbHVlcyhhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gICQkdmFsdWVzKGFyZ3MpIHtcbiAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBbdGhpc1thcmdzWzBdXV07XG4gICAgICBjYXNlIDI6IHJldHVybiBbdGhpc1thcmdzWzBdXSwgdGhpc1thcmdzWzFdXV07XG4gICAgICBjYXNlIDM6IHJldHVybiBbdGhpc1thcmdzWzBdXSwgdGhpc1thcmdzWzFdXSwgdGhpc1thcmdzWzJdXV07XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGNvbnN0IHJldCA9IG5ldyBBcnJheShhcmdzLmxlbmd0aCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhcmdzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgIHJldFtpXSA9IHRoaXNbYXJnc1tpXV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5LjxzdHJpbmc+fSBwcm9wc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICAkcHJvcEtleShwcm9wcykge1xuICAgIHN3aXRjaCAocHJvcHMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDE6IHJldHVybiB0aGlzW3Byb3BzWzBdXSArICcnO1xuICAgICAgY2FzZSAyOiByZXR1cm4gdGhpc1twcm9wc1swXV0gKyAnLCcgKyB0aGlzW3Byb3BzWzFdXTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIHRoaXNbcHJvcHNbMF1dICsgJywnICsgdGhpc1twcm9wc1sxXV0gKyAnLCcgKyB0aGlzW3Byb3BzWzJdXTtcbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgbGV0IGtleSA9ICcnO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gcHJvcHMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAga2V5ICs9IHRoaXNbcHJvcHNbaV1dICsgKChpIDwgcHJvcHMubGVuZ3RoIC0gMSkgPyAnLCcgOiAnJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNoYWxsb3dcbiAgICogQHJldHVybiB7TW9kZWx9XG4gICAqL1xuICAkY2xvbmUoc2hhbGxvdykge1xuICAgIHJldHVybiBjbG9uZU1vZGVsKHRoaXMsIHNoYWxsb3csIGZhbHNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5LjxzdHJpbmc+PX0ga2V5c1xuICAgKiBAcmV0dXJucyB7QXJyYXkuPHN0cmluZz59XG4gICAqL1xuICBAaGlkZGVuRGF0YSh7bmFtZTogJ29taXRGcm9tSnNvbicsIGFwcGVuZDogdHJ1ZX0pXG4gICRvbWl0RnJvbUpzb24oa2V5cykge31cblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheS48c3RyaW5nPj19IGtleXNcbiAgICogQHJldHVybnMge0FycmF5LjxzdHJpbmc+fVxuICAgKi9cbiAgQGhpZGRlbkRhdGEoe25hbWU6ICdvbWl0RnJvbURhdGFiYXNlSnNvbicsIGFwcGVuZDogdHJ1ZX0pXG4gICRvbWl0RnJvbURhdGFiYXNlSnNvbihrZXlzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7a25leH1cbiAgICovXG4gICRrbmV4KCkge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLmtuZXgoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7a25leH1cbiAgICovXG4gICR0cmFuc2FjdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50cmFuc2FjdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gICQkdG9Kc29uKGNyZWF0ZURiSnNvbiwgb21pdCwgcGljaykge1xuICAgIGxldCBqc29uID0gdG9Kc29uSW1wbCh0aGlzLCBjcmVhdGVEYkpzb24sIG9taXQsIHBpY2spO1xuXG4gICAgaWYgKGNyZWF0ZURiSnNvbikge1xuICAgICAgcmV0dXJuIHRoaXMuJGZvcm1hdERhdGFiYXNlSnNvbihqc29uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuJGZvcm1hdEpzb24oanNvbik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb249fSBzdWJjbGFzc0NvbnN0cnVjdG9yXG4gICAqIEByZXR1cm4ge0NvbnN0cnVjdG9yLjxNb2RlbD59XG4gICAqL1xuICBzdGF0aWMgZXh0ZW5kKHN1YmNsYXNzQ29uc3RydWN0b3IpIHtcbiAgICBpZiAoXy5pc0VtcHR5KHN1YmNsYXNzQ29uc3RydWN0b3IubmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRWFjaCBNb2RlbCBzdWJjbGFzcyBjb25zdHJ1Y3RvciBtdXN0IGhhdmUgYSBuYW1lJyk7XG4gICAgfVxuXG4gICAgaW5oZXJpdHMoc3ViY2xhc3NDb25zdHJ1Y3RvciwgdGhpcyk7XG4gICAgcmV0dXJuIHN1YmNsYXNzQ29uc3RydWN0b3I7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3Q9fSBqc29uXG4gICAqIEBwYXJhbSB7TW9kZWxPcHRpb25zPX0gb3B0aW9uc1xuICAgKiBAcmV0dXJucyB7TW9kZWx9XG4gICAqIEB0aHJvd3MgVmFsaWRhdGlvbkVycm9yXG4gICAqL1xuICBzdGF0aWMgZnJvbUpzb24oanNvbiwgb3B0aW9ucykge1xuICAgIGxldCBtb2RlbCA9IG5ldyB0aGlzKCk7XG4gICAgbW9kZWwuJHNldEpzb24oanNvbiB8fCB7fSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIG1vZGVsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0ganNvblxuICAgKiBAcmV0dXJucyB7TW9kZWx9XG4gICAqL1xuICBzdGF0aWMgZnJvbURhdGFiYXNlSnNvbihqc29uKSB7XG4gICAgbGV0IG1vZGVsID0gbmV3IHRoaXMoKTtcbiAgICBtb2RlbC4kc2V0RGF0YWJhc2VKc29uKGpzb24gfHwge30pO1xuICAgIHJldHVybiBtb2RlbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wXG4gICAqL1xuICBzdGF0aWMgb21pdEltcGwob2JqLCBwcm9wKSB7XG4gICAgZGVsZXRlIG9ialtwcm9wXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtWYWxpZGF0b3J9XG4gICAqL1xuICBzdGF0aWMgY3JlYXRlVmFsaWRhdG9yKCkge1xuICAgIHJldHVybiBuZXcgQWp2VmFsaWRhdG9yKHtcbiAgICAgIG9uQ3JlYXRlQWp2OiAoYWp2KSA9PiB7IC8qIERvIE5vdGhpbmcgYnkgZGVmYXVsdCAqLyB9LFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBhbGxFcnJvcnM6IHRydWUsXG4gICAgICAgIHZhbGlkYXRlU2NoZW1hOiBmYWxzZSxcbiAgICAgICAgb3duUHJvcGVydGllczogdHJ1ZSxcbiAgICAgICAgdjU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtWYWxpZGF0b3J9XG4gICAqL1xuICBAbWVtb2l6ZVxuICBzdGF0aWMgZ2V0VmFsaWRhdG9yKCkge1xuICAgIHJldHVybiB0aGlzLmNyZWF0ZVZhbGlkYXRvcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICovXG4gIEBtZW1vaXplXG4gIHN0YXRpYyBnZXRKc29uU2NoZW1hKCkge1xuICAgIC8vIE1lbW9pemVkIGdldHRlciBpbiBjYXNlIGpzb25TY2hlbWEgaXMgYSBnZXR0ZXIgcHJvcGVydHkgKHVzdWFsbHkgaXMgd2l0aCBFUzYpLlxuICAgIHJldHVybiB0aGlzLmpzb25TY2hlbWE7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbHVtbk5hbWVcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIEBtZW1vaXplXG4gIHN0YXRpYyBjb2x1bW5OYW1lVG9Qcm9wZXJ0eU5hbWUoY29sdW1uTmFtZSkge1xuICAgIGxldCBtb2RlbCA9IG5ldyB0aGlzKCk7XG4gICAgbGV0IGFkZGVkUHJvcHMgPSBfLmtleXMobW9kZWwuJHBhcnNlRGF0YWJhc2VKc29uKHt9KSk7XG5cbiAgICBsZXQgcm93ID0ge307XG4gICAgcm93W2NvbHVtbk5hbWVdID0gbnVsbDtcblxuICAgIGxldCBwcm9wcyA9IF8ua2V5cyhtb2RlbC4kcGFyc2VEYXRhYmFzZUpzb24ocm93KSk7XG4gICAgbGV0IHByb3BlcnR5TmFtZSA9IF8uZmlyc3QoXy5kaWZmZXJlbmNlKHByb3BzLCBhZGRlZFByb3BzKSk7XG5cbiAgICByZXR1cm4gcHJvcGVydHlOYW1lIHx8IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5TmFtZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgQG1lbW9pemVcbiAgc3RhdGljIHByb3BlcnR5TmFtZVRvQ29sdW1uTmFtZShwcm9wZXJ0eU5hbWUpIHtcbiAgICBsZXQgbW9kZWwgPSBuZXcgdGhpcygpO1xuICAgIGxldCBhZGRlZENvbHMgPSBfLmtleXMobW9kZWwuJGZvcm1hdERhdGFiYXNlSnNvbih7fSkpO1xuXG4gICAgbGV0IG9iaiA9IHt9O1xuICAgIG9ialtwcm9wZXJ0eU5hbWVdID0gbnVsbDtcblxuICAgIGxldCBjb2xzID0gXy5rZXlzKG1vZGVsLiRmb3JtYXREYXRhYmFzZUpzb24ob2JqKSk7XG4gICAgbGV0IGNvbHVtbk5hbWUgPSBfLmZpcnN0KF8uZGlmZmVyZW5jZShjb2xzLCBhZGRlZENvbHMpKTtcblxuICAgIHJldHVybiBjb2x1bW5OYW1lIHx8IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtUcmFuc2FjdGlvbj19IHRyeFxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgc3RhdGljIHF1ZXJ5KHRyeCkge1xuICAgIGNvbnN0IE1vZGVsQ2xhc3MgPSB0aGlzO1xuXG4gICAgcmV0dXJuIE1vZGVsQ2xhc3MuUXVlcnlCdWlsZGVyXG4gICAgICAuZm9yQ2xhc3MoTW9kZWxDbGFzcylcbiAgICAgIC50cmFuc2FjdGluZyh0cngpXG4gICAgICAucmVsYXRlT3BlcmF0aW9uRmFjdG9yeSgoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYHJlbGF0ZWAgbWFrZXMgbm8gc2Vuc2UgaW4gdGhpcyBjb250ZXh0Jyk7XG4gICAgICB9KVxuICAgICAgLnVucmVsYXRlT3BlcmF0aW9uRmFjdG9yeSgoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYHVucmVsYXRlYCBtYWtlcyBubyBzZW5zZSBpbiB0aGlzIGNvbnRleHQnKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7a25leD19IGtuZXhcbiAgICogQHJldHVybnMge2tuZXh9XG4gICAqL1xuICBzdGF0aWMga25leCgpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgLy8gV2UgY2Fubm90IHNhdmUgdGhpcyB0byBoaWRkZW5EYXRhIGJlY2F1c2UgdmFsdWVzXG4gICAgICAvLyBpbiB0aGVyZSBkb24ndCBnZXQgaW5oZXJpdGVkIGF1dG9tYXRpY2FsbHkgd2hlblxuICAgICAgLy8gYSBjbGFzcyBpcyBpbmhlcml0ZWQuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJyQka25leCcsIHtcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogYXJndW1lbnRzWzBdXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy4kJGtuZXg7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtrbmV4fVxuICAgKi9cbiAgc3RhdGljIHRyYW5zYWN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmtuZXgoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtSYXd9XG4gICAqL1xuICBzdGF0aWMgcmF3KCkge1xuICAgIGNvbnN0IGtuZXggPSB0aGlzLmtuZXgoKTtcbiAgICByZXR1cm4ga25leC5yYXcuYXBwbHkoa25leCwgYXJndW1lbnRzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZm4oKSB7XG4gICAgY29uc3Qga25leCA9IHRoaXMua25leCgpO1xuICAgIHJldHVybiBrbmV4LmZuO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0Zvcm1hdHRlcn1cbiAgICovXG4gIHN0YXRpYyBmb3JtYXR0ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMua25leCgpLmNsaWVudC5mb3JtYXR0ZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7a25leC5RdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICBzdGF0aWMga25leFF1ZXJ5KCkge1xuICAgIHJldHVybiB0aGlzLmtuZXgoKS50YWJsZSh0aGlzLnRhYmxlTmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIHN0YXRpYyB1bmlxdWVUYWcoKSB7XG4gICAgcmV0dXJuIHRoaXMudGFibGVOYW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7a25leH0ga25leFxuICAgKiBAcmV0dXJucyB7Q29uc3RydWN0b3IuPE1vZGVsPn1cbiAgICovXG4gIHN0YXRpYyBiaW5kS25leChrbmV4KSB7XG4gICAgY29uc3QgTW9kZWxDbGFzcyA9IHRoaXM7XG5cbiAgICBpZiAoIWtuZXguJCRvYmplY3Rpb24pIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShrbmV4LCAnJCRvYmplY3Rpb24nLCB7XG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgYm91bmRNb2RlbHM6IE9iamVjdC5jcmVhdGUobnVsbClcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgdGhpcyBtb2RlbCBjbGFzcyBoYXMgYWxyZWFkeSBiZWVuIGJvdW5kIHRvIHRoZSBnaXZlbiBrbmV4LlxuICAgIGlmIChrbmV4LiQkb2JqZWN0aW9uLmJvdW5kTW9kZWxzW01vZGVsQ2xhc3MudW5pcXVlVGFnKCldKSB7XG4gICAgICByZXR1cm4ga25leC4kJG9iamVjdGlvbi5ib3VuZE1vZGVsc1tNb2RlbENsYXNzLnVuaXF1ZVRhZygpXTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgYSBuZXcgc3ViY2xhc3Mgb2YgdGhpcyBjbGFzcy5cbiAgICBjb25zdCBCb3VuZE1vZGVsQ2xhc3MgPSBpbmhlcml0TW9kZWwoTW9kZWxDbGFzcyk7XG5cbiAgICAvLyBUaGUgYm91bmQgbW9kZWwgaXMgZXF1YWwgdG8gdGhlIHNvdXJjZSBtb2RlbCBpbiBldmVyeSB3YXkuIFdlIHdhbnQgdG8gY29weVxuICAgIC8vIHRoZSBoaWRkZW4gZGF0YSBhcy1pcyBmcm9tIHRoZSBzb3VyY2Ugc28gdGhhdCB3ZSBkb24ndCBnZXQgdGhlIHBlcmZvcm1hbmNlXG4gICAgLy8gcGVuYWx0eSBvZiBjYWxjdWxhdGluZyBhbGwgbWVtb2l6ZWQgZXRjLiB2YWx1ZXMgYWdhaW4uXG4gICAgaW5oZXJpdEhpZGRlbkRhdGEoTW9kZWxDbGFzcywgQm91bmRNb2RlbENsYXNzKTtcblxuICAgIEJvdW5kTW9kZWxDbGFzcy5rbmV4KGtuZXgpO1xuICAgIGtuZXguJCRvYmplY3Rpb24uYm91bmRNb2RlbHNbTW9kZWxDbGFzcy51bmlxdWVUYWcoKV0gPSBCb3VuZE1vZGVsQ2xhc3M7XG5cbiAgICBjb25zdCBib3VuZFJlbGF0aW9ucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgY29uc3QgcmVsYXRpb25zID0gTW9kZWxDbGFzcy5nZXRSZWxhdGlvbkFycmF5KCk7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHJlbGF0aW9ucy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgIGNvbnN0IHJlbGF0aW9uID0gcmVsYXRpb25zW2ldO1xuICAgICAgYm91bmRSZWxhdGlvbnNbcmVsYXRpb24ubmFtZV0gPSByZWxhdGlvbi5iaW5kS25leChrbmV4KTtcbiAgICB9XG5cbiAgICBCb3VuZE1vZGVsQ2xhc3MucmVsYXRpb25zID0gYm91bmRSZWxhdGlvbnM7XG4gICAgQm91bmRNb2RlbENsYXNzLnJlbGF0aW9uQXJyYXkgPSBfLnZhbHVlcyhib3VuZFJlbGF0aW9ucyk7XG5cbiAgICByZXR1cm4gQm91bmRNb2RlbENsYXNzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7a25leH0gdHJ4XG4gICAqIEByZXR1cm5zIHtDb25zdHJ1Y3Rvci48TW9kZWw+fVxuICAgKi9cbiAgc3RhdGljIGJpbmRUcmFuc2FjdGlvbih0cngpIHtcbiAgICByZXR1cm4gdGhpcy5iaW5kS25leCh0cngpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TW9kZWx8T2JqZWN0fSBtb2RlbFxuICAgKiBAcGFyYW0ge01vZGVsT3B0aW9ucz19IG9wdGlvbnNcbiAgICogQHJldHVybnMge01vZGVsfVxuICAgKi9cbiAgc3RhdGljIGVuc3VyZU1vZGVsKG1vZGVsLCBvcHRpb25zKSB7XG4gICAgY29uc3QgTW9kZWxDbGFzcyA9IHRoaXM7XG5cbiAgICBpZiAoIW1vZGVsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAobW9kZWwgaW5zdGFuY2VvZiBNb2RlbENsYXNzKSB7XG4gICAgICByZXR1cm4gbW9kZWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBNb2RlbENsYXNzLmZyb21Kc29uKG1vZGVsLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheS48TW9kZWx8T2JqZWN0Pn0gaW5wdXRcbiAgICogQHBhcmFtIHtNb2RlbE9wdGlvbnM9fSBvcHRpb25zXG4gICAqIEByZXR1cm5zIHtBcnJheS48TW9kZWw+fVxuICAgKi9cbiAgc3RhdGljIGVuc3VyZU1vZGVsQXJyYXkoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIWlucHV0KSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICBsZXQgbW9kZWxzID0gbmV3IEFycmF5KGlucHV0Lmxlbmd0aCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gaW5wdXQubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgIG1vZGVsc1tpXSA9IHRoaXMuZW5zdXJlTW9kZWwoaW5wdXRbaV0sIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbW9kZWxzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW3RoaXMuZW5zdXJlTW9kZWwoaW5wdXQsIG9wdGlvbnMpXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge0FycmF5LjxzdHJpbmc+fVxuICAgKi9cbiAgQG1lbW9pemVcbiAgc3RhdGljIGdldElkQ29sdW1uQXJyYXkoKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5pZENvbHVtbikpIHtcbiAgICAgIHJldHVybiB0aGlzLmlkQ29sdW1uO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW3RoaXMuaWRDb2x1bW5dO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfEFycmF5LjxzdHJpbmc+fVxuICAgKi9cbiAgQG1lbW9pemVcbiAgc3RhdGljIGdldEZ1bGxJZENvbHVtbigpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLmlkQ29sdW1uKSkge1xuICAgICAgcmV0dXJuIHRoaXMuaWRDb2x1bW4ubWFwKGNvbCA9PiB0aGlzLnRhYmxlTmFtZSArICcuJyArIGNvbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnRhYmxlTmFtZSArICcuJyArIHRoaXMuaWRDb2x1bW47XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtBcnJheS48c3RyaW5nPn1cbiAgICovXG4gIEBtZW1vaXplXG4gIHN0YXRpYyBnZXRJZFByb3BlcnR5QXJyYXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0SWRDb2x1bW5BcnJheSgpLm1hcChjb2wgPT4gaWRDb2x1bW5Ub0lkUHJvcGVydHkodGhpcywgY29sKSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3N0cmluZ3xBcnJheS48c3RyaW5nPn1cbiAgICovXG4gIEBtZW1vaXplXG4gIHN0YXRpYyBnZXRJZFByb3BlcnR5KCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuaWRDb2x1bW4pKSB7XG4gICAgICByZXR1cm4gdGhpcy5pZENvbHVtbi5tYXAoY29sID0+IGlkQ29sdW1uVG9JZFByb3BlcnR5KHRoaXMsIGNvbCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaWRDb2x1bW5Ub0lkUHJvcGVydHkodGhpcywgdGhpcy5pZENvbHVtbik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBAaGlkZGVuRGF0YSgpXG4gIHN0YXRpYyBnZXQgcmVsYXRpb25zKCkge31cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIEBoaWRkZW5EYXRhKClcbiAgc3RhdGljIGdldCByZWxhdGlvbkFycmF5KCkge31cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIEBoaWRkZW5EYXRhKClcbiAgc3RhdGljIHNldCByZWxhdGlvbnModmFsdWUpIHt9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBAaGlkZGVuRGF0YSgpXG4gIHN0YXRpYyBzZXQgcmVsYXRpb25BcnJheSh2YWx1ZSkge31cblxuICAvKipcbiAgICogQHJldHVybiB7T2JqZWN0LjxzdHJpbmcsIFJlbGF0aW9uPn1cbiAgICovXG4gIHN0YXRpYyBnZXRSZWxhdGlvbnMoKSB7XG4gICAgbGV0IHJlbGF0aW9ucyA9IHRoaXMucmVsYXRpb25zO1xuXG4gICAgaWYgKCFyZWxhdGlvbnMpIHtcbiAgICAgIHJlbGF0aW9ucyA9IF8ucmVkdWNlKF8ucmVzdWx0KHRoaXMsICdyZWxhdGlvbk1hcHBpbmdzJyksIChyZWxhdGlvbnMsIG1hcHBpbmcsIHJlbGF0aW9uTmFtZSkgPT4ge1xuICAgICAgICByZWxhdGlvbnNbcmVsYXRpb25OYW1lXSA9IG5ldyBtYXBwaW5nLnJlbGF0aW9uKHJlbGF0aW9uTmFtZSwgdGhpcyk7XG4gICAgICAgIHJlbGF0aW9uc1tyZWxhdGlvbk5hbWVdLnNldE1hcHBpbmcobWFwcGluZyk7XG4gICAgICAgIHJldHVybiByZWxhdGlvbnM7XG4gICAgICB9LCBPYmplY3QuY3JlYXRlKG51bGwpKTtcblxuICAgICAgdGhpcy5yZWxhdGlvbnMgPSByZWxhdGlvbnM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbGF0aW9ucztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheS48UmVsYXRpb24+fVxuICAgKi9cbiAgc3RhdGljIGdldFJlbGF0aW9uQXJyYXkoKSB7XG4gICAgbGV0IHJlbGF0aW9uQXJyYXkgPSB0aGlzLnJlbGF0aW9uQXJyYXk7XG5cbiAgICBpZiAoIXJlbGF0aW9uQXJyYXkpIHtcbiAgICAgIHJlbGF0aW9uQXJyYXkgPSBfLnZhbHVlcyh0aGlzLmdldFJlbGF0aW9ucygpKTtcbiAgICAgIHRoaXMucmVsYXRpb25BcnJheSA9IHJlbGF0aW9uQXJyYXk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbGF0aW9uQXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7UmVsYXRpb259XG4gICAqL1xuICBzdGF0aWMgZ2V0UmVsYXRpb24obmFtZSkge1xuICAgIGNvbnN0IHJlbGF0aW9uID0gdGhpcy5nZXRSZWxhdGlvbnMoKVtuYW1lXTtcblxuICAgIGlmICghcmVsYXRpb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQSBtb2RlbCBjbGFzcyAodGFibGVOYW1lID0gJHt0aGlzLnRhYmxlTmFtZX0pIGRvZXNuJ3QgaGF2ZSByZWxhdGlvbiAke25hbWV9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbGF0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXkuPE1vZGVsfE9iamVjdD59ICRtb2RlbHNcbiAgICogQHBhcmFtIHtzdHJpbmd8UmVsYXRpb25FeHByZXNzaW9ufSBleHByZXNzaW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uKFF1ZXJ5QnVpbGRlcik+PX0gZmlsdGVyc1xuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgc3RhdGljIGxvYWRSZWxhdGVkKCRtb2RlbHMsIGV4cHJlc3Npb24sIGZpbHRlcnMpIHtcbiAgICByZXR1cm4gdGhpc1xuICAgICAgLnF1ZXJ5KClcbiAgICAgIC5yZXNvbHZlKHRoaXMuZW5zdXJlTW9kZWxBcnJheSgkbW9kZWxzKSlcbiAgICAgIC5maW5kT3B0aW9ucyh7ZG9udENhbGxBZnRlckdldDogdHJ1ZX0pXG4gICAgICAuZWFnZXIoZXhwcmVzc2lvbiwgZmlsdGVycylcbiAgICAgIC5ydW5BZnRlcihmdW5jdGlvbiAobW9kZWxzKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KCRtb2RlbHMpID8gbW9kZWxzIDogbW9kZWxzWzBdO1xuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtDb25zdHJ1Y3Rvci48TW9kZWw+PX0gZmlsdGVyQ29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtNb2RlbHxBcnJheS48TW9kZWw+fSBtb2RlbHNcbiAgICogQHBhcmFtIHtmdW5jdGlvbihNb2RlbCwgTW9kZWwsIHN0cmluZyl9IHRyYXZlcnNlclxuICAgKiBAcmV0dXJuIHtNb2RlbH1cbiAgICovXG4gIHN0YXRpYyB0cmF2ZXJzZShmaWx0ZXJDb25zdHJ1Y3RvciwgbW9kZWxzLCB0cmF2ZXJzZXIpIHtcbiAgICBmaWx0ZXJDb25zdHJ1Y3RvciA9IGZpbHRlckNvbnN0cnVjdG9yIHx8IG51bGw7XG5cbiAgICBpZiAoXy5pc1VuZGVmaW5lZCh0cmF2ZXJzZXIpKSB7XG4gICAgICB0cmF2ZXJzZXIgPSBtb2RlbHM7XG4gICAgICBtb2RlbHMgPSBmaWx0ZXJDb25zdHJ1Y3RvcjtcbiAgICAgIGZpbHRlckNvbnN0cnVjdG9yID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoIV8uaXNGdW5jdGlvbih0cmF2ZXJzZXIpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3RyYXZlcnNlciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICBpZiAoXy5pc0VtcHR5KG1vZGVscykpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNvbnN0IG1vZGVsQ2xhc3MgPSBBcnJheS5pc0FycmF5KG1vZGVscylcbiAgICAgID8gbW9kZWxzWzBdLmNvbnN0cnVjdG9yXG4gICAgICA6IG1vZGVscy5jb25zdHJ1Y3RvcjtcblxuICAgIHZpc2l0TW9kZWxzKG1vZGVscywgbW9kZWxDbGFzcywgKG1vZGVsLCBtb2RlbENsYXNzLCBwYXJlbnQsIHJlbGF0aW9uKSA9PiB7XG4gICAgICBpZiAoIWZpbHRlckNvbnN0cnVjdG9yIHx8IG1vZGVsIGluc3RhbmNlb2YgZmlsdGVyQ29uc3RydWN0b3IpIHtcbiAgICAgICAgdHJhdmVyc2VyKG1vZGVsLCBwYXJlbnQsIHJlbGF0aW9uICYmIHJlbGF0aW9uLm5hbWUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKiBAcmV0dXJucyB7QXJyYXkuPHN0cmluZz59XG4gICAqL1xuICBzdGF0aWMgZ2V0SnNvbkF0dHJpYnV0ZXMoKSB7XG4gICAgLy8gSWYgdGhlIGpzb25BdHRyaWJ1dGVzIHByb3BlcnR5IGlzIG5vdCBzZXQsIHRyeSB0byBjcmVhdGUgaXQgYmFzZWRcbiAgICAvLyBvbiB0aGUganNvblNjaGVtYS4gQWxsIHByb3BlcnRpZXMgdGhhdCBhcmUgb2JqZWN0cyBvciBhcnJheXMgbXVzdFxuICAgIC8vIGJlIGNvbnZlcnRlZCB0byBKU09OLlxuICAgIGlmICghdGhpcy5qc29uQXR0cmlidXRlcyAmJiB0aGlzLmdldEpzb25TY2hlbWEoKSkge1xuICAgICAgdGhpcy5qc29uQXR0cmlidXRlcyA9IFtdO1xuXG4gICAgICBfLmZvck93bih0aGlzLmdldEpzb25TY2hlbWEoKS5wcm9wZXJ0aWVzLCAocHJvcCwgcHJvcE5hbWUpID0+IHtcbiAgICAgICAgdmFyIHR5cGVzID0gXy5jb21wYWN0KGVuc3VyZUFycmF5KHByb3AudHlwZSkpO1xuXG4gICAgICAgIGlmICh0eXBlcy5sZW5ndGggPT09IDAgJiYgQXJyYXkuaXNBcnJheShwcm9wLmFueU9mKSkge1xuICAgICAgICAgIHR5cGVzID0gXy5mbGF0dGVuRGVlcChfLm1hcChwcm9wLmFueU9mLCAndHlwZScpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlcy5sZW5ndGggPT09IDAgJiYgQXJyYXkuaXNBcnJheShwcm9wLm9uZU9mKSkge1xuICAgICAgICAgIHR5cGVzID0gXy5mbGF0dGVuRGVlcChfLm1hcChwcm9wLm9uZU9mLCAndHlwZScpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLmluY2x1ZGVzKHR5cGVzLCAnb2JqZWN0JykgfHwgXy5pbmNsdWRlcyh0eXBlcywgJ2FycmF5JykpIHtcbiAgICAgICAgICB0aGlzLmpzb25BdHRyaWJ1dGVzLnB1c2gocHJvcE5hbWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5qc29uQXR0cmlidXRlcykpIHtcbiAgICAgIHRoaXMuanNvbkF0dHJpYnV0ZXMgPSBbXTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5qc29uQXR0cmlidXRlcztcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRJZChtb2RlbCwgaWQpIHtcbiAgY29uc3QgaWRQcm9wID0gbW9kZWwuY29uc3RydWN0b3IuZ2V0SWRQcm9wZXJ0eSgpO1xuICBjb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheShpZFByb3ApO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KGlkKSkge1xuICAgIGlmIChpc0FycmF5KSB7XG4gICAgICBpZiAoaWQubGVuZ3RoICE9PSBpZFByb3AubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndHJ5aW5nIHRvIHNldCBhbiBpbnZhbGlkIGlkZW50aWZpZXIgZm9yIGEgbW9kZWwnKTtcbiAgICAgIH1cblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpZC5sZW5ndGg7ICsraSkge1xuICAgICAgICBtb2RlbFtpZFByb3BbaV1dID0gaWRbaV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpZC5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd0cnlpbmcgdG8gc2V0IGFuIGludmFsaWQgaWRlbnRpZmllciBmb3IgYSBtb2RlbCcpO1xuICAgICAgfVxuXG4gICAgICBtb2RlbFtpZFByb3BdID0gaWRbMF07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChpc0FycmF5KSB7XG4gICAgICBpZiAoaWRQcm9wLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd0cnlpbmcgdG8gc2V0IGFuIGludmFsaWQgaWRlbnRpZmllciBmb3IgYSBtb2RlbCcpO1xuICAgICAgfVxuXG4gICAgICBtb2RlbFtpZFByb3BbMF1dID0gaWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vZGVsW2lkUHJvcF0gPSBpZDtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0SWQobW9kZWwpIHtcbiAgY29uc3QgaWRQcm9wID0gbW9kZWwuY29uc3RydWN0b3IuZ2V0SWRQcm9wZXJ0eSgpO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KGlkUHJvcCkpIHtcbiAgICByZXR1cm4gbW9kZWwuJHZhbHVlcyhpZFByb3ApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBtb2RlbFtpZFByb3BdO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRyeVBhcnNlSnNvbihtYXliZUpzb25TdHIpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShtYXliZUpzb25TdHIpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBJZ25vcmUgZXJyb3IuXG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiB0b0pzb25JbXBsKG1vZGVsLCBjcmVhdGVEYkpzb24sIG9taXQsIHBpY2spIHtcbiAgaWYgKGNyZWF0ZURiSnNvbikge1xuICAgIHJldHVybiB0b0RhdGFiYXNlSnNvbkltcGwobW9kZWwsIG9taXQsIHBpY2spO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0b0V4dGVybmFsSnNvbkltcGwobW9kZWwsIG9taXQsIHBpY2spO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRvRGF0YWJhc2VKc29uSW1wbChtb2RlbCwgb21pdCwgcGljaykge1xuICBjb25zdCBqc29uID0ge307XG4gIGNvbnN0IG9taXRGcm9tSnNvbiA9IG1vZGVsLiRvbWl0RnJvbURhdGFiYXNlSnNvbigpO1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMobW9kZWwpO1xuXG4gIGZvciAobGV0IGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgIGFzc2lnbkpzb25WYWx1ZShqc29uLCBrZXksIG1vZGVsW2tleV0sIG9taXQsIHBpY2ssIG9taXRGcm9tSnNvbiwgdHJ1ZSk7XG4gIH1cblxuICByZXR1cm4ganNvbjtcbn1cblxuZnVuY3Rpb24gdG9FeHRlcm5hbEpzb25JbXBsKG1vZGVsLCBvbWl0LCBwaWNrKSB7XG4gIGNvbnN0IGpzb24gPSB7fTtcbiAgY29uc3Qgb21pdEZyb21Kc29uID0gbW9kZWwuJG9taXRGcm9tSnNvbigpO1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMobW9kZWwpO1xuICBjb25zdCB2QXR0ciA9IG1vZGVsLmNvbnN0cnVjdG9yLnZpcnR1YWxBdHRyaWJ1dGVzO1xuXG4gIGZvciAobGV0IGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgIGNvbnN0IHZhbHVlID0gbW9kZWxba2V5XTtcblxuICAgIGFzc2lnbkpzb25WYWx1ZShqc29uLCBrZXksIHZhbHVlLCBvbWl0LCBwaWNrLCBvbWl0RnJvbUpzb24sIGZhbHNlKTtcbiAgfVxuXG4gIGlmICh2QXR0cikge1xuICAgIGFzc2lnblZpcnR1YWxBdHRyaWJ1dGVzKGpzb24sIG1vZGVsLCB2QXR0ciwgb21pdCwgcGljaywgb21pdEZyb21Kc29uKTtcbiAgfVxuXG4gIHJldHVybiBqc29uO1xufVxuXG5mdW5jdGlvbiBhc3NpZ25WaXJ0dWFsQXR0cmlidXRlcyhqc29uLCBtb2RlbCwgdkF0dHIsIG9taXQsIHBpY2ssIG9taXRGcm9tSnNvbikge1xuICBmb3IgKGxldCBpID0gMCwgbCA9IHZBdHRyLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgIGNvbnN0IGtleSA9IHZBdHRyW2ldO1xuICAgIGxldCB2YWx1ZSA9IG1vZGVsW2tleV07XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLmNhbGwobW9kZWwpO1xuICAgIH1cblxuICAgIGFzc2lnbkpzb25WYWx1ZShqc29uLCBrZXksIHZhbHVlLCBvbWl0LCBwaWNrLCBvbWl0RnJvbUpzb24sIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NpZ25Kc29uVmFsdWUoanNvbiwga2V5LCB2YWx1ZSwgb21pdCwgcGljaywgb21pdEZyb21Kc29uLCBjcmVhdGVEYkpzb24pIHtcbiAgY29uc3QgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcblxuICBpZiAoa2V5LmNoYXJBdCgwKSAhPT0gJyQnXG4gICAgJiYgdHlwZSAhPT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGUgIT09ICd1bmRlZmluZWQnXG4gICAgJiYgKCFvbWl0IHx8ICFvbWl0W2tleV0pXG4gICAgJiYgKCFwaWNrIHx8IHBpY2tba2V5XSlcbiAgICAmJiAoIW9taXRGcm9tSnNvbiB8fCAhY29udGFpbnMob21pdEZyb21Kc29uLCBrZXkpKSkge1xuXG4gICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICBqc29uW2tleV0gPSB0b0pzb25PYmplY3QodmFsdWUsIGNyZWF0ZURiSnNvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGpzb25ba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB0b0pzb25PYmplY3QodmFsdWUsIGNyZWF0ZURiSnNvbikge1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdG9Kc29uQXJyYXkodmFsdWUsIGNyZWF0ZURiSnNvbik7XG4gIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBNb2RlbCkge1xuICAgIGlmIChjcmVhdGVEYkpzb24pIHtcbiAgICAgIHJldHVybiB2YWx1ZS4kdG9EYXRhYmFzZUpzb24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZhbHVlLiR0b0pzb24oKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoQnVmZmVyLmlzQnVmZmVyKHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gXy5jbG9uZURlZXAodmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRvSnNvbkFycmF5KHZhbHVlLCBjcmVhdGVEYkpzb24pIHtcbiAgY29uc3QgcmV0ID0gbmV3IEFycmF5KHZhbHVlLmxlbmd0aCk7XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSByZXQubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgcmV0W2ldID0gdG9Kc29uT2JqZWN0KHZhbHVlW2ldLCBjcmVhdGVEYkpzb24pXG4gIH1cblxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBjbG9uZU1vZGVsKG1vZGVsLCBzaGFsbG93LCBzdHJpcEludGVybmFsKSB7XG4gIGxldCBjbG9uZSA9IG51bGw7XG5cbiAgY29uc3Qgb21pdEZyb21Kc29uID0gbW9kZWwuJG9taXRGcm9tSnNvbigpO1xuICBjb25zdCBvbWl0RnJvbURhdGFiYXNlSnNvbiA9IG1vZGVsLiRvbWl0RnJvbURhdGFiYXNlSnNvbigpO1xuXG4gIGlmICghc2hhbGxvdyAmJiAhc3RyaXBJbnRlcm5hbCkge1xuICAgIGNsb25lID0gY2xvbmVNb2RlbFNpbXBsZShtb2RlbCk7XG4gIH0gZWxzZSB7XG4gICAgY2xvbmUgPSBjbG9uZU1vZGVsV2l0aE9wdChtb2RlbCwgc2hhbGxvdywgc3RyaXBJbnRlcm5hbCk7XG4gIH1cblxuICBpZiAob21pdEZyb21Kc29uKSB7XG4gICAgY2xvbmUuJG9taXRGcm9tSnNvbihvbWl0RnJvbUpzb24pO1xuICB9XG5cbiAgaWYgKG9taXRGcm9tRGF0YWJhc2VKc29uKSB7XG4gICAgY2xvbmUuJG9taXRGcm9tRGF0YWJhc2VKc29uKG9taXRGcm9tRGF0YWJhc2VKc29uKTtcbiAgfVxuXG4gIHJldHVybiBjbG9uZTtcbn1cblxuZnVuY3Rpb24gY2xvbmVNb2RlbFNpbXBsZShtb2RlbCkge1xuICBjb25zdCBjbG9uZSA9IG5ldyBtb2RlbC5jb25zdHJ1Y3RvcigpO1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMobW9kZWwpO1xuXG4gIGZvciAobGV0IGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgIGNvbnN0IHZhbHVlID0gbW9kZWxba2V5XTtcblxuICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICBjbG9uZVtrZXldID0gY2xvbmVPYmplY3QodmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbG9uZVtrZXldID0gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNsb25lO1xufVxuXG5mdW5jdGlvbiBjbG9uZU1vZGVsV2l0aE9wdChtb2RlbCwgc2hhbGxvdywgc3RyaXBJbnRlcm5hbCkge1xuICBjb25zdCBjbG9uZSA9IG5ldyBtb2RlbC5jb25zdHJ1Y3RvcigpO1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMobW9kZWwpO1xuICBjb25zdCByZWxhdGlvbnMgPSBtb2RlbC5jb25zdHJ1Y3Rvci5nZXRSZWxhdGlvbnMoKTtcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICBjb25zdCB2YWx1ZSA9IG1vZGVsW2tleV07XG5cbiAgICBpZiAoc2hhbGxvdyAmJiByZWxhdGlvbnNba2V5XSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKHN0cmlwSW50ZXJuYWwgJiYga2V5LmNoYXJBdCgwKSA9PT0gJyQnKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgY2xvbmVba2V5XSA9IGNsb25lT2JqZWN0KHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2xvbmVba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjbG9uZTtcbn1cblxuZnVuY3Rpb24gY2xvbmVPYmplY3QodmFsdWUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIGNsb25lQXJyYXkodmFsdWUpO1xuICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgTW9kZWwpIHtcbiAgICByZXR1cm4gY2xvbmVNb2RlbCh2YWx1ZSwgZmFsc2UsIGZhbHNlKTtcbiAgfSBlbHNlIGlmIChCdWZmZXIuaXNCdWZmZXIodmFsdWUpKSB7XG4gICAgcmV0dXJuIG5ldyBCdWZmZXIodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBfLmNsb25lRGVlcCh2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xvbmVBcnJheSh2YWx1ZSkge1xuICBjb25zdCByZXQgPSBuZXcgQXJyYXkodmFsdWUubGVuZ3RoKTtcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IHJldC5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICByZXRbaV0gPSBjbG9uZU9iamVjdCh2YWx1ZVtpXSlcbiAgfVxuXG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIG9taXRPYmplY3QobW9kZWwsIGtleU9iaikge1xuICBjb25zdCBNb2RlbENsYXNzID0gbW9kZWwuY29uc3RydWN0b3I7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhrZXlPYmopO1xuXG4gIGZvciAobGV0IGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgIGNvbnN0IHZhbHVlID0ga2V5T2JqW2tleV07XG5cbiAgICBpZiAodmFsdWUgJiYga2V5LmNoYXJBdCgwKSAhPT0gJyQnICYmIF8uaGFzKG1vZGVsLCBrZXkpKSB7XG4gICAgICBNb2RlbENsYXNzLm9taXRJbXBsKG1vZGVsLCBrZXkpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBvbWl0QXJyYXkobW9kZWwsIGtleXMpIHtcbiAgY29uc3QgTW9kZWxDbGFzcyA9IG1vZGVsLmNvbnN0cnVjdG9yO1xuXG4gIGZvciAobGV0IGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuXG4gICAgaWYgKGtleS5jaGFyQXQoMCkgIT09ICckJyAmJiBfLmhhcyhtb2RlbCwga2V5KSkge1xuICAgICAgTW9kZWxDbGFzcy5vbWl0SW1wbChtb2RlbCwga2V5KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcGlja09iamVjdChtb2RlbCwga2V5T2JqKSB7XG4gIGNvbnN0IE1vZGVsQ2xhc3MgPSBtb2RlbC5jb25zdHJ1Y3RvcjtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG1vZGVsKTtcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcblxuICAgIGlmIChrZXkuY2hhckF0KDApICE9PSAnJCcgJiYgIWtleU9ialtrZXldKSB7XG4gICAgICBNb2RlbENsYXNzLm9taXRJbXBsKG1vZGVsLCBrZXkpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBwaWNrQXJyYXkobW9kZWwsIHBpY2spIHtcbiAgY29uc3QgTW9kZWxDbGFzcyA9IG1vZGVsLmNvbnN0cnVjdG9yO1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMobW9kZWwpO1xuXG4gIGZvciAobGV0IGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuXG4gICAgaWYgKGtleS5jaGFyQXQoMCkgIT09ICckJyAmJiAhY29udGFpbnMocGljaywga2V5KSkge1xuICAgICAgTW9kZWxDbGFzcy5vbWl0SW1wbChtb2RlbCwga2V5KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY29udGFpbnMoYXJyLCB2YWx1ZSkge1xuICBmb3IgKGxldCBpID0gMCwgbCA9IGFyci5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBpZiAoYXJyW2ldID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZW5zdXJlQXJyYXkob2JqKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICByZXR1cm4gb2JqO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBbb2JqXTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpZENvbHVtblRvSWRQcm9wZXJ0eShNb2RlbENsYXNzLCBpZENvbHVtbikge1xuICBsZXQgaWRQcm9wZXJ0eSA9IE1vZGVsQ2xhc3MuY29sdW1uTmFtZVRvUHJvcGVydHlOYW1lKGlkQ29sdW1uKTtcblxuICBpZiAoIWlkUHJvcGVydHkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoTW9kZWxDbGFzcy50YWJsZU5hbWUgKyAnLiRwYXJzZURhdGFiYXNlSnNvbiBwcm9iYWJseSBjaGFuZ2VzIHRoZSB2YWx1ZSBvZiB0aGUgaWQgY29sdW1uIGAnICsgaWRDb2x1bW4gKyAnYCB3aGljaCBpcyBhIG5vLW5vLicpO1xuICB9XG5cbiAgcmV0dXJuIGlkUHJvcGVydHk7XG59Il19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/model/AjvValidator.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _stringify = require('babel-runtime/core-js/json/stringify');\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _create = require('babel-runtime/core-js/object/create');\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _ajv = require('ajv');\n\nvar _ajv2 = _interopRequireDefault(_ajv);\n\nvar _Model = require('./Model');\n\nvar _Model2 = _interopRequireDefault(_Model);\n\nvar _Validator2 = require('./Validator');\n\nvar _Validator3 = _interopRequireDefault(_Validator2);\n\nvar _ValidationError = require('./ValidationError');\n\nvar _ValidationError2 = _interopRequireDefault(_ValidationError);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar AjvValidator = function (_Validator) {\n  (0, _inherits3.default)(AjvValidator, _Validator);\n\n  function AjvValidator(conf) {\n    (0, _classCallCheck3.default)(this, AjvValidator);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _Validator.call(this));\n\n    _this.ajv = new _ajv2.default(_lodash2.default.defaults({}, conf.options, {\n      useDefaults: true\n    }));\n\n    _this.ajvNoDefaults = new _ajv2.default(_lodash2.default.assign({}, conf.options, {\n      useDefaults: false\n    }));\n\n    _this.cache = (0, _create2.default)(null);\n\n    conf.onCreateAjv(_this.ajv);\n    conf.onCreateAjv(_this.ajvNoDefaults);\n    return _this;\n  }\n\n  AjvValidator.prototype.beforeValidate = function beforeValidate(_ref) {\n    var model = _ref.model,\n        json = _ref.json,\n        options = _ref.options,\n        ctx = _ref.ctx;\n\n    ctx.jsonSchema = model.constructor.getJsonSchema();\n\n    if (model.$beforeValidate !== _Model2.default.prototype.$beforeValidate) {\n      ctx.jsonSchema = _lodash2.default.cloneDeep(ctx.jsonSchema);\n      ctx.jsonSchema = model.$beforeValidate(ctx.jsonSchema, json, options);\n    }\n  };\n\n  AjvValidator.prototype.validate = function validate(_ref2) {\n    var model = _ref2.model,\n        json = _ref2.json,\n        options = _ref2.options,\n        ctx = _ref2.ctx;\n\n    if (!ctx.jsonSchema) {\n      return json;\n    }\n\n    var validator = this.getJsonSchemaValidator(model.constructor, ctx.jsonSchema, !!options.patch);\n\n    if (!options.mutable && !options.patch && this.setsDefaultValues(ctx.jsonSchema)) {\n      json = _lodash2.default.cloneDeep(json);\n    }\n\n    validator(json);\n\n    if (validator.errors) {\n      throw parseValidationError(validator.errors);\n    }\n\n    return json;\n  };\n\n  AjvValidator.prototype.getJsonSchemaValidator = function getJsonSchemaValidator(ModelClass, jsonSchema, skipRequired) {\n    var key = jsonSchema === ModelClass.getJsonSchema() ? 'default' : (0, _stringify2.default)(jsonSchema);\n\n    var validators = this.cache[key];\n\n    if (!validators) {\n      validators = {};\n      this.cache[key] = validators;\n    }\n\n    var validator = validators[skipRequired];\n\n    if (!validator) {\n      validator = this.compileJsonSchemaValidator(jsonSchema, skipRequired);\n      validators[skipRequired] = validator;\n    }\n\n    return validator;\n  };\n\n  AjvValidator.prototype.compileJsonSchemaValidator = function compileJsonSchemaValidator(jsonSchema, skipRequired) {\n    var origRequired = void 0;\n\n    try {\n      if (skipRequired) {\n        origRequired = jsonSchema.required;\n        jsonSchema.required = [];\n        return this.ajvNoDefaults.compile(jsonSchema);\n      } else {\n        return this.ajv.compile(jsonSchema);\n      }\n    } finally {\n      if (skipRequired) {\n        jsonSchema.required = origRequired;\n      }\n    }\n  };\n\n  AjvValidator.prototype.setsDefaultValues = function setsDefaultValues(jsonSchema) {\n    return jsonSchema && jsonSchema.properties && hasDefaults(jsonSchema.properties);\n  };\n\n  return AjvValidator;\n}(_Validator3.default);\n\nexports.default = AjvValidator;\n\n\nfunction parseValidationError(errors) {\n  var errorHash = {};\n  var index = 0;\n\n  for (var i = 0; i < errors.length; ++i) {\n    var error = errors[i];\n    var key = error.dataPath.substring(1);\n\n    if (!key) {\n      var match = /should have required property '(.+)'/.exec(error.message);\n      if (match && match.length > 1) {\n        key = match[1];\n      }\n    }\n\n    if (!key && error.params && error.params.additionalProperty) {\n      key = error.params.additionalProperty;\n    }\n\n    if (!key) {\n      key = (index++).toString();\n    }\n\n    errorHash[key] = [{\n      message: error.message,\n      keyword: error.keyword,\n      params: error.params\n    }];\n  }\n\n  return new _ValidationError2.default(errorHash);\n}\n\nfunction hasDefaults(obj) {\n  if (Array.isArray(obj)) {\n    return arrayHasDefaults(obj);\n  } else {\n    return objectHasDefaults(obj);\n  }\n}\n\nfunction arrayHasDefaults(arr) {\n  for (var i = 0, l = arr.length; i < l; ++i) {\n    var val = arr[i];\n\n    if (val && (typeof val === 'undefined' ? 'undefined' : (0, _typeof3.default)(val)) === 'object' && hasDefaults(val)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction objectHasDefaults(obj) {\n  var keys = (0, _keys2.default)(obj);\n\n  for (var i = 0, l = keys.length; i < l; ++i) {\n    var key = keys[i];\n\n    if (key === 'default') {\n      return true;\n    } else {\n      var val = obj[key];\n\n      if (val && (typeof val === 'undefined' ? 'undefined' : (0, _typeof3.default)(val)) === 'object' && hasDefaults(val)) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFqdlZhbGlkYXRvci5qcyJdLCJuYW1lcyI6WyJBanZWYWxpZGF0b3IiLCJjb25mIiwiYWp2IiwiZGVmYXVsdHMiLCJvcHRpb25zIiwidXNlRGVmYXVsdHMiLCJhanZOb0RlZmF1bHRzIiwiYXNzaWduIiwiY2FjaGUiLCJvbkNyZWF0ZUFqdiIsImJlZm9yZVZhbGlkYXRlIiwibW9kZWwiLCJqc29uIiwiY3R4IiwianNvblNjaGVtYSIsImNvbnN0cnVjdG9yIiwiZ2V0SnNvblNjaGVtYSIsIiRiZWZvcmVWYWxpZGF0ZSIsInByb3RvdHlwZSIsImNsb25lRGVlcCIsInZhbGlkYXRlIiwidmFsaWRhdG9yIiwiZ2V0SnNvblNjaGVtYVZhbGlkYXRvciIsInBhdGNoIiwibXV0YWJsZSIsInNldHNEZWZhdWx0VmFsdWVzIiwiZXJyb3JzIiwicGFyc2VWYWxpZGF0aW9uRXJyb3IiLCJNb2RlbENsYXNzIiwic2tpcFJlcXVpcmVkIiwia2V5IiwidmFsaWRhdG9ycyIsImNvbXBpbGVKc29uU2NoZW1hVmFsaWRhdG9yIiwib3JpZ1JlcXVpcmVkIiwicmVxdWlyZWQiLCJjb21waWxlIiwicHJvcGVydGllcyIsImhhc0RlZmF1bHRzIiwiZXJyb3JIYXNoIiwiaW5kZXgiLCJpIiwibGVuZ3RoIiwiZXJyb3IiLCJkYXRhUGF0aCIsInN1YnN0cmluZyIsIm1hdGNoIiwiZXhlYyIsIm1lc3NhZ2UiLCJwYXJhbXMiLCJhZGRpdGlvbmFsUHJvcGVydHkiLCJ0b1N0cmluZyIsImtleXdvcmQiLCJvYmoiLCJBcnJheSIsImlzQXJyYXkiLCJhcnJheUhhc0RlZmF1bHRzIiwib2JqZWN0SGFzRGVmYXVsdHMiLCJhcnIiLCJsIiwidmFsIiwia2V5cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7SUFFcUJBLFk7OztBQUVuQix3QkFBWUMsSUFBWixFQUFrQjtBQUFBOztB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QXJDLEVBQXdDLEVBQUVsQixDQUExQyxFQUE2QztBQUMzQyxRQUFNVixNQUFNOEIsS0FBS3BCLENBQUwsQ0FBWjs7QUFFQSxRQUFJVixRQUFRLFNBQVosRUFBdUI7QUFDckIsYUFBTyxJQUFQO0FBQ0QsS0FGRCxNQUVPO0FBQ0wsVUFBTTZCLE1BQU1QLElBQUl0QixHQUFKLENBQVo7O0FBRUEsVUFBSTZCLE9BQU8sUUFBT0EsR0FBUCx1REFBT0EsR0FBUCxPQUFlLFFBQXRCLElBQWtDdEIsWUFBWXNCLEdBQVosQ0FBdEMsRUFBd0Q7QUFDdEQsZUFBTyxJQUFQO0FBQ0Q7QUFDRjtBQUNGOztBQUVELFNBQU8sS0FBUDtBQUNEIiwiZmlsZSI6IkFqdlZhbGlkYXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgQWp2IGZyb20gJ2Fqdic7XG5pbXBvcnQgTW9kZWwgZnJvbSAnLi9Nb2RlbCc7XG5pbXBvcnQgVmFsaWRhdG9yIGZyb20gJy4vVmFsaWRhdG9yJztcbmltcG9ydCBWYWxpZGF0aW9uRXJyb3IgZnJvbSAnLi9WYWxpZGF0aW9uRXJyb3InO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBanZWYWxpZGF0b3IgZXh0ZW5kcyBWYWxpZGF0b3Ige1xuXG4gIGNvbnN0cnVjdG9yKGNvbmYpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5hanYgPSBuZXcgQWp2KF8uZGVmYXVsdHMoe30sIGNvbmYub3B0aW9ucywge1xuICAgICAgdXNlRGVmYXVsdHM6IHRydWVcbiAgICB9KSk7XG5cbiAgICB0aGlzLmFqdk5vRGVmYXVsdHMgPSBuZXcgQWp2KF8uYXNzaWduKHt9LCBjb25mLm9wdGlvbnMsIHtcbiAgICAgIHVzZURlZmF1bHRzOiBmYWxzZVxuICAgIH0pKTtcblxuICAgIHRoaXMuY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgY29uZi5vbkNyZWF0ZUFqdih0aGlzLmFqdik7XG4gICAgY29uZi5vbkNyZWF0ZUFqdih0aGlzLmFqdk5vRGVmYXVsdHMpO1xuICB9XG5cbiAgYmVmb3JlVmFsaWRhdGUoe21vZGVsLCBqc29uLCBvcHRpb25zLCBjdHh9KSB7XG4gICAgY3R4Lmpzb25TY2hlbWEgPSBtb2RlbC5jb25zdHJ1Y3Rvci5nZXRKc29uU2NoZW1hKCk7XG5cbiAgICBpZiAobW9kZWwuJGJlZm9yZVZhbGlkYXRlICE9PSBNb2RlbC5wcm90b3R5cGUuJGJlZm9yZVZhbGlkYXRlKSB7XG4gICAgICBjdHguanNvblNjaGVtYSA9IF8uY2xvbmVEZWVwKGN0eC5qc29uU2NoZW1hKTtcbiAgICAgIGN0eC5qc29uU2NoZW1hID0gbW9kZWwuJGJlZm9yZVZhbGlkYXRlKGN0eC5qc29uU2NoZW1hLCBqc29uLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICB2YWxpZGF0ZSh7bW9kZWwsIGpzb24sIG9wdGlvbnMsIGN0eH0pIHtcbiAgICBpZiAoIWN0eC5qc29uU2NoZW1hKSB7XG4gICAgICByZXR1cm4ganNvbjtcbiAgICB9XG5cbiAgICBjb25zdCB2YWxpZGF0b3IgPSB0aGlzLmdldEpzb25TY2hlbWFWYWxpZGF0b3IobW9kZWwuY29uc3RydWN0b3IsIGN0eC5qc29uU2NoZW1hLCAhIW9wdGlvbnMucGF0Y2gpO1xuXG4gICAgaWYgKCFvcHRpb25zLm11dGFibGUgJiYgIW9wdGlvbnMucGF0Y2ggJiYgdGhpcy5zZXRzRGVmYXVsdFZhbHVlcyhjdHguanNvblNjaGVtYSkpIHtcbiAgICAgIGpzb24gPSBfLmNsb25lRGVlcChqc29uKTtcbiAgICB9XG5cbiAgICB2YWxpZGF0b3IoanNvbik7XG5cbiAgICBpZiAodmFsaWRhdG9yLmVycm9ycykge1xuICAgICAgdGhyb3cgcGFyc2VWYWxpZGF0aW9uRXJyb3IodmFsaWRhdG9yLmVycm9ycyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGpzb247XG4gIH1cblxuICBnZXRKc29uU2NoZW1hVmFsaWRhdG9yKE1vZGVsQ2xhc3MsIGpzb25TY2hlbWEsIHNraXBSZXF1aXJlZCkge1xuICAgIGNvbnN0IGtleSA9IGpzb25TY2hlbWEgPT09IE1vZGVsQ2xhc3MuZ2V0SnNvblNjaGVtYSgpXG4gICAgICA/ICdkZWZhdWx0J1xuICAgICAgOiBKU09OLnN0cmluZ2lmeShqc29uU2NoZW1hKTtcblxuICAgIGxldCB2YWxpZGF0b3JzID0gdGhpcy5jYWNoZVtrZXldO1xuXG4gICAgaWYgKCF2YWxpZGF0b3JzKSB7XG4gICAgICB2YWxpZGF0b3JzID0ge307XG4gICAgICB0aGlzLmNhY2hlW2tleV0gPSB2YWxpZGF0b3JzO1xuICAgIH1cblxuICAgIGxldCB2YWxpZGF0b3IgPSB2YWxpZGF0b3JzW3NraXBSZXF1aXJlZF07XG5cbiAgICBpZiAoIXZhbGlkYXRvcikge1xuICAgICAgdmFsaWRhdG9yID0gdGhpcy5jb21waWxlSnNvblNjaGVtYVZhbGlkYXRvcihqc29uU2NoZW1hLCBza2lwUmVxdWlyZWQpO1xuICAgICAgdmFsaWRhdG9yc1tza2lwUmVxdWlyZWRdID0gdmFsaWRhdG9yO1xuICAgIH1cblxuICAgIHJldHVybiB2YWxpZGF0b3I7XG4gIH1cblxuICBjb21waWxlSnNvblNjaGVtYVZhbGlkYXRvcihqc29uU2NoZW1hLCBza2lwUmVxdWlyZWQpIHtcbiAgICBsZXQgb3JpZ1JlcXVpcmVkO1xuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChza2lwUmVxdWlyZWQpIHtcbiAgICAgICAgb3JpZ1JlcXVpcmVkID0ganNvblNjaGVtYS5yZXF1aXJlZDtcbiAgICAgICAganNvblNjaGVtYS5yZXF1aXJlZCA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcy5hanZOb0RlZmF1bHRzLmNvbXBpbGUoanNvblNjaGVtYSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5hanYuY29tcGlsZShqc29uU2NoZW1hKTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKHNraXBSZXF1aXJlZCkge1xuICAgICAgICBqc29uU2NoZW1hLnJlcXVpcmVkID0gb3JpZ1JlcXVpcmVkO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNldHNEZWZhdWx0VmFsdWVzKGpzb25TY2hlbWEpIHtcbiAgICByZXR1cm4ganNvblNjaGVtYSAmJiBqc29uU2NoZW1hLnByb3BlcnRpZXMgJiYgaGFzRGVmYXVsdHMoanNvblNjaGVtYS5wcm9wZXJ0aWVzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZVZhbGlkYXRpb25FcnJvcihlcnJvcnMpIHtcbiAgY29uc3QgZXJyb3JIYXNoID0ge307XG4gIGxldCBpbmRleCA9IDA7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBlcnJvcnMubGVuZ3RoOyArK2kpIHtcbiAgICBsZXQgZXJyb3IgPSBlcnJvcnNbaV07XG4gICAgbGV0IGtleSA9IGVycm9yLmRhdGFQYXRoLnN1YnN0cmluZygxKTtcblxuICAgIGlmICgha2V5KSB7XG4gICAgICBsZXQgbWF0Y2ggPSAvc2hvdWxkIGhhdmUgcmVxdWlyZWQgcHJvcGVydHkgJyguKyknLy5leGVjKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgaWYgKG1hdGNoICYmIG1hdGNoLmxlbmd0aCA+IDEpIHtcbiAgICAgICAga2V5ID0gbWF0Y2hbMV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFrZXkgJiYgZXJyb3IucGFyYW1zICYmIGVycm9yLnBhcmFtcy5hZGRpdGlvbmFsUHJvcGVydHkpIHtcbiAgICAgIGtleSA9IGVycm9yLnBhcmFtcy5hZGRpdGlvbmFsUHJvcGVydHk7XG4gICAgfVxuXG4gICAgaWYgKCFrZXkpIHtcbiAgICAgIGtleSA9IChpbmRleCsrKS50b1N0cmluZygpO1xuICAgIH1cblxuICAgIGVycm9ySGFzaFtrZXldID0gW3tcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICBrZXl3b3JkOiBlcnJvci5rZXl3b3JkLFxuICAgICAgcGFyYW1zOiBlcnJvci5wYXJhbXNcbiAgICB9XTtcbiAgfVxuXG4gIHJldHVybiBuZXcgVmFsaWRhdGlvbkVycm9yKGVycm9ySGFzaCk7XG59XG5cbmZ1bmN0aW9uIGhhc0RlZmF1bHRzKG9iaikge1xuICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgcmV0dXJuIGFycmF5SGFzRGVmYXVsdHMob2JqKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gb2JqZWN0SGFzRGVmYXVsdHMob2JqKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhcnJheUhhc0RlZmF1bHRzKGFycikge1xuICBmb3IgKGxldCBpID0gMCwgbCA9IGFyci5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBjb25zdCB2YWwgPSBhcnJbaV07XG5cbiAgICBpZiAodmFsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnICYmIGhhc0RlZmF1bHRzKHZhbCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gb2JqZWN0SGFzRGVmYXVsdHMob2JqKSB7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuXG4gIGZvciAobGV0IGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuXG4gICAgaWYgKGtleSA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdmFsID0gb2JqW2tleV07XG5cbiAgICAgIGlmICh2YWwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgaGFzRGVmYXVsdHModmFsKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG4iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/model/Validator.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Validator = function () {\n  function Validator() {\n    (0, _classCallCheck3.default)(this, Validator);\n  }\n\n  Validator.prototype.beforeValidate = function beforeValidate(_ref) {\n    var model = _ref.model,\n        json = _ref.json,\n        options = _ref.options;\n\n    model.$beforeValidate(null, json, options);\n  };\n\n  Validator.prototype.validate = function validate(_ref2) {\n    var model = _ref2.model,\n        json = _ref2.json,\n        options = _ref2.options;\n\n    throw new Error('not implemented');\n  };\n\n  Validator.prototype.afterValidate = function afterValidate(_ref3) {\n    var model = _ref3.model,\n        json = _ref3.json,\n        options = _ref3.options;\n\n    model.$afterValidate(json, options);\n  };\n\n  return Validator;\n}();\n\nexports.default = Validator;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlZhbGlkYXRvci5qcyJdLCJuYW1lcyI6WyJWYWxpZGF0b3IiLCJiZWZvcmVWYWxpZGF0ZSIsIm1vZGVsIiwianNvbiIsIm9wdGlvbnMiLCIkYmVmb3JlVmFsaWRhdGUiLCJ2YWxpZGF0ZSIsIkVycm9yIiwiYWZ0ZXJWYWxpZGF0ZSIsIiRhZnRlclZhbGlkYXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0lBQXFCQSxTOzs7OztzQkFDbkJDLGMsaUNBQXVDO0FBQUEsUUFBdkJDLEtBQXVCLFFBQXZCQSxLQUF1QjtBQUFBLFFBQWhCQyxJQUFnQixRQUFoQkEsSUFBZ0I7QUFBQSxRQUFWQyxPQUFVLFFBQVZBLE9BQVU7O0FBQ3JDRixVQUFNRyxlQUFOLENBQXNCLElBQXRCLEVBQTRCRixJQUE1QixFQUFrQ0MsT0FBbEM7QUFDRCxHOztzQkFFREUsUSw0QkFBaUM7QUFBQSxRQUF2QkosS0FBdUIsU0FBdkJBLEtBQXVCO0FBQUEsUUFBaEJDLElBQWdCLFNBQWhCQSxJQUFnQjtBQUFBLFFBQVZDLE9BQVUsU0FBVkEsT0FBVTs7QUFDL0IsVUFBTSxJQUFJRyxLQUFKLENBQVUsaUJBQVYsQ0FBTjtBQUNELEc7O3NCQUVEQyxhLGlDQUFzQztBQUFBLFFBQXZCTixLQUF1QixTQUF2QkEsS0FBdUI7QUFBQSxRQUFoQkMsSUFBZ0IsU0FBaEJBLElBQWdCO0FBQUEsUUFBVkMsT0FBVSxTQUFWQSxPQUFVOztBQUNwQ0YsVUFBTU8sY0FBTixDQUFxQk4sSUFBckIsRUFBMkJDLE9BQTNCO0FBQ0QsRzs7Ozs7a0JBWGtCSixTIiwiZmlsZSI6IlZhbGlkYXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFZhbGlkYXRvciB7XG4gIGJlZm9yZVZhbGlkYXRlKHttb2RlbCwganNvbiwgb3B0aW9uc30pIHtcbiAgICBtb2RlbC4kYmVmb3JlVmFsaWRhdGUobnVsbCwganNvbiwgb3B0aW9ucyk7XG4gIH1cblxuICB2YWxpZGF0ZSh7bW9kZWwsIGpzb24sIG9wdGlvbnN9KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIGFmdGVyVmFsaWRhdGUoe21vZGVsLCBqc29uLCBvcHRpb25zfSkge1xuICAgIG1vZGVsLiRhZnRlclZhbGlkYXRlKGpzb24sIG9wdGlvbnMpO1xuICB9XG59Il19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/model/ValidationError.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _stringify = require('babel-runtime/core-js/json/stringify');\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nexports.default = ValidationError;\n\nvar _util = require('util');\n\nvar _util2 = _interopRequireDefault(_util);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Note: babel cannot inherit from built-in types like Error.\n// that's why we use ES5 inheritance here.\n\n/**\n * @param {Object} errors\n */\nfunction ValidationError(errors) {\n  Error.call(this);\n  Error.captureStackTrace(this, ValidationError);\n\n  /**\n   * @type {Object}\n   */\n  this.data = errors;\n\n  /**\n   * @type {number}\n   */\n  this.statusCode = 400;\n\n  /**\n   * @type {string}\n   */\n  this.message = (0, _stringify2.default)(errors, null, 2);\n}\n\n_util2.default.inherits(ValidationError, Error);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlZhbGlkYXRpb25FcnJvci5qcyJdLCJuYW1lcyI6WyJWYWxpZGF0aW9uRXJyb3IiLCJlcnJvcnMiLCJFcnJvciIsImNhbGwiLCJjYXB0dXJlU3RhY2tUcmFjZSIsImRhdGEiLCJzdGF0dXNDb2RlIiwibWVzc2FnZSIsImluaGVyaXRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O2tCQVF3QkEsZTs7QUFSeEI7Ozs7OztBQUVBO0FBQ0E7O0FBRUE7OztBQUdlLFNBQVNBLGVBQVQsQ0FBeUJDLE1BQXpCLEVBQWlDO0FBQzlDQyxRQUFNQyxJQUFOLENBQVcsSUFBWDtBQUNBRCxRQUFNRSxpQkFBTixDQUF3QixJQUF4QixFQUE4QkosZUFBOUI7O0FBRUE7OztBQUdBLE9BQUtLLElBQUwsR0FBWUosTUFBWjs7QUFFQTs7O0FBR0EsT0FBS0ssVUFBTCxHQUFrQixHQUFsQjs7QUFFQTs7O0FBR0EsT0FBS0MsT0FBTCxHQUFlLHlCQUFlTixNQUFmLEVBQXVCLElBQXZCLEVBQTZCLENBQTdCLENBQWY7QUFDRDs7QUFFRCxlQUFLTyxRQUFMLENBQWNSLGVBQWQsRUFBK0JFLEtBQS9CIiwiZmlsZSI6IlZhbGlkYXRpb25FcnJvci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB1dGlsIGZyb20gJ3V0aWwnO1xuXG4vLyBOb3RlOiBiYWJlbCBjYW5ub3QgaW5oZXJpdCBmcm9tIGJ1aWx0LWluIHR5cGVzIGxpa2UgRXJyb3IuXG4vLyB0aGF0J3Mgd2h5IHdlIHVzZSBFUzUgaW5oZXJpdGFuY2UgaGVyZS5cblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdH0gZXJyb3JzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFZhbGlkYXRpb25FcnJvcihlcnJvcnMpIHtcbiAgRXJyb3IuY2FsbCh0aGlzKTtcbiAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgVmFsaWRhdGlvbkVycm9yKTtcblxuICAvKipcbiAgICogQHR5cGUge09iamVjdH1cbiAgICovXG4gIHRoaXMuZGF0YSA9IGVycm9ycztcblxuICAvKipcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMuc3RhdHVzQ29kZSA9IDQwMDtcblxuICAvKipcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gIHRoaXMubWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KGVycm9ycywgbnVsbCwgMik7XG59XG5cbnV0aWwuaW5oZXJpdHMoVmFsaWRhdGlvbkVycm9yLCBFcnJvcik7XG5cblxuIl19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/QueryBuilder.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getOwnPropertyDescriptor = require('babel-runtime/core-js/object/get-own-property-descriptor');\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _desc, _value, _class;\n\nvar _bluebird = require('bluebird');\n\nvar _bluebird2 = _interopRequireDefault(_bluebird);\n\nvar _ValidationError = require('../model/ValidationError');\n\nvar _ValidationError2 = _interopRequireDefault(_ValidationError);\n\nvar _queryBuilderOperation = require('./decorators/queryBuilderOperation');\n\nvar _queryBuilderOperation2 = _interopRequireDefault(_queryBuilderOperation);\n\nvar _QueryBuilderContext = require('./QueryBuilderContext');\n\nvar _QueryBuilderContext2 = _interopRequireDefault(_QueryBuilderContext);\n\nvar _RelationExpression = require('./RelationExpression');\n\nvar _RelationExpression2 = _interopRequireDefault(_RelationExpression);\n\nvar _QueryBuilderBase2 = require('./QueryBuilderBase');\n\nvar _QueryBuilderBase3 = _interopRequireDefault(_QueryBuilderBase2);\n\nvar _FindOperation = require('./operations/FindOperation');\n\nvar _FindOperation2 = _interopRequireDefault(_FindOperation);\n\nvar _DeleteOperation = require('./operations/DeleteOperation');\n\nvar _DeleteOperation2 = _interopRequireDefault(_DeleteOperation);\n\nvar _UpdateOperation = require('./operations/UpdateOperation');\n\nvar _UpdateOperation2 = _interopRequireDefault(_UpdateOperation);\n\nvar _InsertOperation = require('./operations/InsertOperation');\n\nvar _InsertOperation2 = _interopRequireDefault(_InsertOperation);\n\nvar _InsertGraphAndFetchOperation = require('./operations/InsertGraphAndFetchOperation');\n\nvar _InsertGraphAndFetchOperation2 = _interopRequireDefault(_InsertGraphAndFetchOperation);\n\nvar _InsertAndFetchOperation = require('./operations/InsertAndFetchOperation');\n\nvar _InsertAndFetchOperation2 = _interopRequireDefault(_InsertAndFetchOperation);\n\nvar _UpdateAndFetchOperation = require('./operations/UpdateAndFetchOperation');\n\nvar _UpdateAndFetchOperation2 = _interopRequireDefault(_UpdateAndFetchOperation);\n\nvar _QueryBuilderOperation = require('./operations/QueryBuilderOperation');\n\nvar _QueryBuilderOperation2 = _interopRequireDefault(_QueryBuilderOperation);\n\nvar _JoinRelationOperation = require('./operations/JoinRelationOperation');\n\nvar _JoinRelationOperation2 = _interopRequireDefault(_JoinRelationOperation);\n\nvar _InsertGraphOperation = require('./operations/InsertGraphOperation');\n\nvar _InsertGraphOperation2 = _interopRequireDefault(_InsertGraphOperation);\n\nvar _RunBeforeOperation = require('./operations/RunBeforeOperation');\n\nvar _RunBeforeOperation2 = _interopRequireDefault(_RunBeforeOperation);\n\nvar _RunAfterOperation = require('./operations/RunAfterOperation');\n\nvar _RunAfterOperation2 = _interopRequireDefault(_RunAfterOperation);\n\nvar _OnBuildOperation = require('./operations/OnBuildOperation');\n\nvar _OnBuildOperation2 = _interopRequireDefault(_OnBuildOperation);\n\nvar _SelectOperation = require('./operations/SelectOperation');\n\nvar _SelectOperation2 = _interopRequireDefault(_SelectOperation);\n\nvar _EagerOperation = require('./operations/eager/EagerOperation');\n\nvar _EagerOperation2 = _interopRequireDefault(_EagerOperation);\n\nvar _RangeOperation = require('./operations/RangeOperation');\n\nvar _RangeOperation2 = _interopRequireDefault(_RangeOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\nvar QueryBuilder = (_dec = (0, _queryBuilderOperation2.default)(_RunBeforeOperation2.default), _dec2 = (0, _queryBuilderOperation2.default)(_OnBuildOperation2.default), _dec3 = (0, _queryBuilderOperation2.default)(_RunAfterOperation2.default), _dec4 = (0, _queryBuilderOperation2.default)(_RangeOperation2.default), _dec5 = (0, _queryBuilderOperation2.default)([_JoinRelationOperation2.default, { joinOperation: 'join' }]), _dec6 = (0, _queryBuilderOperation2.default)([_JoinRelationOperation2.default, { joinOperation: 'innerJoin' }]), _dec7 = (0, _queryBuilderOperation2.default)([_JoinRelationOperation2.default, { joinOperation: 'outerJoin' }]), _dec8 = (0, _queryBuilderOperation2.default)([_JoinRelationOperation2.default, { joinOperation: 'leftJoin' }]), _dec9 = (0, _queryBuilderOperation2.default)([_JoinRelationOperation2.default, { joinOperation: 'leftOuterJoin' }]), _dec10 = (0, _queryBuilderOperation2.default)([_JoinRelationOperation2.default, { joinOperation: 'rightJoin' }]), _dec11 = (0, _queryBuilderOperation2.default)([_JoinRelationOperation2.default, { joinOperation: 'rightOuterJoin' }]), _dec12 = (0, _queryBuilderOperation2.default)([_JoinRelationOperation2.default, { joinOperation: 'fullOuterJoin' }]), (_class = function (_QueryBuilderBase) {\n  (0, _inherits3.default)(QueryBuilder, _QueryBuilderBase);\n\n  function QueryBuilder(modelClass) {\n    (0, _classCallCheck3.default)(this, QueryBuilder);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _QueryBuilderBase.call(this, modelClass.knex(), _QueryBuilderContext2.default));\n\n    _this._modelClass = modelClass;\n    _this._explicitRejectValue = null;\n    _this._explicitResolveValue = null;\n\n    _this._eagerExpression = null;\n    _this._eagerFilterExpressions = [];\n    _this._allowedEagerExpression = null;\n    _this._allowedInsertExpression = null;\n\n    _this._findOperationOptions = {};\n    _this._eagerOperationOptions = {};\n\n    _this._findOperationFactory = findOperationFactory;\n    _this._insertOperationFactory = insertOperationFactory;\n    _this._updateOperationFactory = updateOperationFactory;\n    _this._patchOperationFactory = patchOperationFactory;\n    _this._relateOperationFactory = relateOperationFactory;\n    _this._unrelateOperationFactory = unrelateOperationFactory;\n    _this._deleteOperationFactory = deleteOperationFactory;\n    _this._eagerOperationFactory = modelClass.defaultEagerAlgorithm;\n    return _this;\n  }\n\n  /**\n   * @param {Model} modelClass\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.forClass = function forClass(modelClass) {\n    return new this(modelClass);\n  };\n\n  /**\n   * @param {QueryBuilderBase} query\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.childQueryOf = function childQueryOf(query) {\n    if (query) {\n      this.internalContext(query.internalContext());\n    }\n\n    return this;\n  };\n\n  /**\n   * @param {Error} error\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.reject = function reject(error) {\n    this._explicitRejectValue = error;\n    return this;\n  };\n\n  /**\n   * @param {*} value\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.resolve = function resolve(value) {\n    this._explicitResolveValue = value;\n    return this;\n  };\n\n  /**\n   * @returns {boolean}\n   */\n\n\n  QueryBuilder.prototype.isExecutable = function isExecutable() {\n    var hasExecutor = !!this._queryExecutorOperation();\n    return !this._explicitRejectValue && !this._explicitResolveValue && !hasExecutor;\n  };\n\n  /**\n   * @param {function(*, QueryBuilder)} runBefore\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.runBefore = function runBefore(_runBefore) {};\n\n  /**\n   * @param {function(QueryBuilder)} onBuild\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.onBuild = function onBuild(_onBuild) {};\n\n  /**\n   * @param {function(Model|Array.<Model>, QueryBuilder)} runAfter\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.runAfter = function runAfter(_runAfter) {};\n\n  /**\n   * @param {function(QueryBuilder):EagerOperation} algorithm\n   * @param {object=} eagerOptions\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.eagerAlgorithm = function eagerAlgorithm(algorithm, eagerOptions) {\n    this.eagerOperationFactory(algorithm);\n\n    if (eagerOptions) {\n      this.eagerOptions(eagerOptions);\n    }\n\n    return this;\n  };\n\n  /**\n   * @param {function(QueryBuilder):EagerOperation} factory\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.eagerOperationFactory = function eagerOperationFactory(factory) {\n    this._eagerOperationFactory = factory;\n    return this;\n  };\n\n  /**\n   * @param {function(QueryBuilder):QueryBuilderOperation} factory\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.findOperationFactory = function findOperationFactory(factory) {\n    this._findOperationFactory = factory;\n    return this;\n  };\n\n  /**\n   * @param {function(QueryBuilder):QueryBuilderOperation} factory\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.insertOperationFactory = function insertOperationFactory(factory) {\n    this._insertOperationFactory = factory;\n    return this;\n  };\n\n  /**\n   * @param {function(QueryBuilder):QueryBuilderOperation} factory\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.updateOperationFactory = function updateOperationFactory(factory) {\n    this._updateOperationFactory = factory;\n    return this;\n  };\n\n  /**\n   * @param {function(QueryBuilder):QueryBuilderOperation} factory\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.patchOperationFactory = function patchOperationFactory(factory) {\n    this._patchOperationFactory = factory;\n    return this;\n  };\n\n  /**\n   * @param {function(QueryBuilder):QueryBuilderOperation} factory\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.deleteOperationFactory = function deleteOperationFactory(factory) {\n    this._deleteOperationFactory = factory;\n    return this;\n  };\n\n  /**\n   * @param {function(QueryBuilder):QueryBuilderOperation} factory\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.relateOperationFactory = function relateOperationFactory(factory) {\n    this._relateOperationFactory = factory;\n    return this;\n  };\n\n  /**\n   * @param {function(QueryBuilder):QueryBuilderOperation} factory\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.unrelateOperationFactory = function unrelateOperationFactory(factory) {\n    this._unrelateOperationFactory = factory;\n    return this;\n  };\n\n  /**\n   * @param {string|RelationExpression} exp\n   * @param {Object.<string, function(QueryBuilder)>=} filters\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.eager = function eager(exp, filters) {\n    this._eagerExpression = exp || null;\n\n    if (typeof this._eagerExpression === 'string') {\n      this._eagerExpression = _RelationExpression2.default.parse(this._eagerExpression);\n    }\n\n    if (filters) {\n      this._eagerExpression.filters = filters;\n    }\n\n    checkEager(this);\n    return this;\n  };\n\n  /**\n   * @param {string|RelationExpression} exp\n   * @param {Object.<string, function(QueryBuilder)>=} filters\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.mergeEager = function mergeEager(exp, filters) {\n    if (!this._eagerExpression) {\n      return this.eager(exp, filters);\n    }\n\n    var expr = _RelationExpression2.default.parse(exp);\n\n    if (filters) {\n      expr.filters = filters;\n    }\n\n    this._eagerExpression = this._eagerExpression.merge(expr);\n\n    checkEager(this);\n    return this;\n  };\n\n  /**\n   * @param {string|RelationExpression} exp\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.allowEager = function allowEager(exp) {\n    this._allowedEagerExpression = exp || null;\n\n    if (typeof this._allowedEagerExpression === 'string') {\n      this._allowedEagerExpression = _RelationExpression2.default.parse(this._allowedEagerExpression);\n    }\n\n    checkEager(this);\n    return this;\n  };\n\n  /**\n   * @param {string|RelationExpression} path\n   * @param {function(QueryBuilder)} modifier\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.modifyEager = function modifyEager(path, modifier) {\n    this._eagerFilterExpressions.push({\n      path: path,\n      filter: modifier\n    });\n\n    return this;\n  };\n\n  QueryBuilder.prototype.filterEager = function filterEager() {\n    return this.modifyEager.apply(this, arguments);\n  };\n\n  /**\n   * @param {string|RelationExpression} exp\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.allowInsert = function allowInsert(exp) {\n    this._allowedInsertExpression = exp || null;\n\n    if (typeof this._allowedInsertExpression === 'string') {\n      this._allowedInsertExpression = _RelationExpression2.default.parse(this._allowedInsertExpression);\n    }\n\n    return this;\n  };\n\n  /**\n   * @param {object} opt\n   * @return {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.eagerOptions = function eagerOptions(opt) {\n    this._eagerOperationOptions = (0, _assign2.default)({}, this._eagerOperationOptions, opt);\n    var opIdx = this.indexOfOperation(_EagerOperation2.default);\n\n    if (opIdx !== -1) {\n      this._operations[opIdx] = this._operations[opIdx].clone({\n        opt: this._eagerOperationOptions\n      });\n    }\n\n    return this;\n  };\n\n  /**\n   * @param {object} opt\n   * @return {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.findOptions = function findOptions(opt) {\n    this._findOperationOptions = (0, _assign2.default)({}, this._findOperationOptions, opt);\n    var opIdx = this.indexOfOperation(_FindOperation2.default);\n\n    if (opIdx !== -1) {\n      this._operations[opIdx] = this._operations[opIdx].clone({\n        opt: this._findOperationOptions\n      });\n    }\n\n    return this;\n  };\n\n  /**\n   * @returns {Constructor.<Model>}\n   */\n\n\n  QueryBuilder.prototype.modelClass = function modelClass() {\n    return this._modelClass;\n  };\n\n  /**\n   * @returns {boolean}\n   */\n\n\n  QueryBuilder.prototype.isFindQuery = function isFindQuery() {\n    return !this._operations.some(function (method) {\n      return method.isWriteOperation;\n    }) && !this._explicitRejectValue;\n  };\n\n  /**\n   * @returns {string}\n   */\n\n\n  QueryBuilder.prototype.toString = function toString() {\n    return this.build().toString();\n  };\n\n  /**\n   * @returns {string}\n   */\n\n\n  QueryBuilder.prototype.toSql = function toSql() {\n    return this.toString();\n  };\n\n  /**\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.clone = function clone() {\n    var builder = new this.constructor(this._modelClass);\n    this.baseCloneInto(builder);\n\n    builder._explicitRejectValue = this._explicitRejectValue;\n    builder._explicitResolveValue = this._explicitResolveValue;\n\n    builder._eagerExpression = this._eagerExpression;\n    builder._eagerFilterExpressions = this._eagerFilterExpressions.slice();\n\n    builder._allowedEagerExpression = this._allowedEagerExpression;\n    builder._allowedInsertExpression = this._allowedInsertExpression;\n\n    builder._findOperationOptions = this._findOperationOptions;\n    builder._eagerOperationOptions = this._eagerOperationOptions;\n\n    builder._findOperationFactory = this._findOperationFactory;\n    builder._insertOperationFactory = this._insertOperationFactory;\n    builder._updateOperationFactory = this._updateOperationFactory;\n    builder._patchOperationFactory = this._patchOperationFactory;\n    builder._relateOperationFactory = this._relateOperationFactory;\n    builder._unrelateOperationFactory = this._unrelateOperationFactory;\n    builder._deleteOperationFactory = this._deleteOperationFactory;\n    builder._eagerOperationFactory = this._eagerOperationFactory;\n\n    return builder;\n  };\n\n  /**\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.clearEager = function clearEager() {\n    this._eagerExpression = null;\n    this._eagerFilterExpressions = [];\n    return this;\n  };\n\n  /**\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.clearReject = function clearReject() {\n    this._explicitRejectValue = null;\n    return this;\n  };\n\n  /**\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.clearResolve = function clearResolve() {\n    this._explicitResolveValue = null;\n    return this;\n  };\n\n  /**\n   * @param {function=} successHandler\n   * @param {function=} errorHandler\n   * @returns {Promise}\n   */\n\n\n  QueryBuilder.prototype.then = function then(successHandler, errorHandler) {\n    var promise = this.execute();\n    return promise.then.apply(promise, arguments);\n  };\n\n  /**\n   * @param {function} mapper\n   * @returns {Promise}\n   */\n\n\n  QueryBuilder.prototype.map = function map(mapper) {\n    var promise = this.execute();\n    return promise.map.apply(promise, arguments);\n  };\n\n  /**\n   * @param {function} errorHandler\n   * @returns {Promise}\n   */\n\n\n  QueryBuilder.prototype.catch = function _catch(errorHandler) {\n    var promise = this.execute();\n    return promise.catch.apply(promise, arguments);\n  };\n\n  /**\n   * @param {*} returnValue\n   * @returns {Promise}\n   */\n\n\n  QueryBuilder.prototype.return = function _return(returnValue) {\n    var promise = this.execute();\n    return promise.return.apply(promise, arguments);\n  };\n\n  /**\n   * @param {*} context\n   * @returns {Promise}\n   */\n\n\n  QueryBuilder.prototype.bind = function bind(context) {\n    var promise = this.execute();\n    return promise.bind.apply(promise, arguments);\n  };\n\n  /**\n   * @param {function} callback\n   * @returns {Promise}\n   */\n\n\n  QueryBuilder.prototype.asCallback = function asCallback(callback) {\n    var promise = this.execute();\n    return promise.asCallback.apply(promise, arguments);\n  };\n\n  /**\n   * @param {function} callback\n   * @returns {Promise}\n   */\n\n\n  QueryBuilder.prototype.nodeify = function nodeify(callback) {\n    var promise = this.execute();\n    return promise.nodeify.apply(promise, arguments);\n  };\n\n  /**\n   * @returns {Promise}\n   */\n\n\n  QueryBuilder.prototype.resultSize = function resultSize() {\n    var knex = this.knex();\n\n    // orderBy is useless here and it can make things a lot slower (at least with postgresql 9.3).\n    // Remove it from the count query. We also remove the offset and limit\n    var query = this.clone().clear(/orderBy|offset|limit/).build();\n    var rawQuery = knex.raw(query).wrap('(', ') as temp');\n    var countQuery = knex.count('* as count').from(rawQuery);\n\n    if (this.internalOptions().debug) {\n      countQuery.debug();\n    }\n\n    return countQuery.then(function (result) {\n      return result[0] ? result[0].count : 0;\n    });\n  };\n\n  /**\n   * @returns {knex.QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.build = function build() {\n    // Take a clone so that we don't modify this instance during build.\n    var builder = this.clone();\n\n    if (builder.isFindQuery()) {\n      // If no write operations have been called at this point this query is a\n      // find query and we need to call the custom find implementation.\n      builder._callFindOperation();\n    }\n\n    if (builder._eagerExpression) {\n      builder._callEagerFetchOperation();\n    }\n\n    // We need to build the builder even if a query executor operation\n    // has been called so that the onBuild hooks get called.\n    var knexBuilder = _build(builder);\n    var queryExecutorOperation = builder._queryExecutorOperation();\n\n    if (queryExecutorOperation) {\n      // If the query executor is set, we build the builder that it returns.\n      return queryExecutorOperation.queryExecutor(builder).build();\n    } else {\n      return knexBuilder;\n    }\n  };\n\n  /**\n   * @returns {Promise}\n   */\n\n\n  QueryBuilder.prototype.execute = function execute() {\n    // Take a clone so that we don't modify this instance during execution.\n    var builder = this.clone();\n    var promiseCtx = { builder: builder };\n    var promise = _bluebird2.default.bind(promiseCtx);\n    var context = builder.context() || {};\n    var internalContext = builder.internalContext();\n\n    if (builder.isFindQuery()) {\n      // If no write operations have been called at this point this query is a\n      // find query and we need to call the custom find implementation.\n      builder._callFindOperation();\n    }\n\n    if (builder._eagerExpression) {\n      builder._callEagerFetchOperation();\n    }\n\n    promise = chainBeforeOperations(promise, builder._operations);\n    promise = chainHooks(promise, context.runBefore);\n    promise = chainHooks(promise, internalContext.runBefore);\n    promise = chainBeforeInternalOperations(promise, builder._operations);\n\n    // Resolve all before hooks before building and executing the query\n    // and the rest of the hooks.\n    return promise.then(function () {\n      var promiseCtx = this;\n      var builder = promiseCtx.builder;\n\n      var promise = null;\n      var knexBuilder = _build(builder);\n      var queryExecutorOperation = builder._queryExecutorOperation();\n\n      if (builder._explicitRejectValue) {\n        promise = _bluebird2.default.reject(builder._explicitRejectValue).bind(promiseCtx);\n      } else if (builder._explicitResolveValue) {\n        promise = _bluebird2.default.resolve(builder._explicitResolveValue).bind(promiseCtx);\n      } else if (queryExecutorOperation) {\n        promise = queryExecutorOperation.queryExecutor(builder).bind(promiseCtx);\n      } else {\n        promise = knexBuilder.bind(promiseCtx);\n        promise = chainRawResultOperations(promise, builder._operations);\n        promise = promise.then(createModels);\n      }\n\n      promise = chainAfterQueryOperations(promise, builder._operations);\n      promise = chainAfterInternalOperations(promise, builder._operations);\n      promise = chainHooks(promise, context.runAfter);\n      promise = chainHooks(promise, internalContext.runAfter);\n      promise = chainAfterOperations(promise, builder._operations);\n\n      return promise;\n    });\n  };\n\n  /**\n   * @private\n   * @returns {QueryBuilderOperation}\n   */\n\n\n  QueryBuilder.prototype._queryExecutorOperation = function _queryExecutorOperation() {\n    for (var i = 0, l = this._operations.length; i < l; ++i) {\n      var op = this._operations[i];\n\n      if (op.hasQueryExecutor()) {\n        return op;\n      }\n    }\n\n    return null;\n  };\n\n  /**\n   * @private\n   */\n\n\n  QueryBuilder.prototype._callFindOperation = function _callFindOperation() {\n    if (!this.has(_FindOperation2.default)) {\n      var operation = this._findOperationFactory(this);\n\n      operation.opt = (0, _assign2.default)(operation.opt, this._findOperationOptions);\n\n      this.callQueryBuilderOperation(operation, [], /* pushFront = */true);\n    }\n  };\n\n  /**\n   * @private\n   */\n\n\n  QueryBuilder.prototype._callEagerFetchOperation = function _callEagerFetchOperation() {\n    if (!this.has(_EagerOperation2.default) && this._eagerExpression) {\n      var operation = this._eagerOperationFactory(this);\n\n      operation.opt = (0, _assign2.default)(operation.opt, this._modelClass.defaultEagerOptions, this._eagerOperationOptions);\n\n      this.callQueryBuilderOperation(operation, [this._eagerExpression, this._eagerFilterExpressions]);\n    }\n  };\n\n  /**\n   * @param {string} propertyName\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.pluck = function pluck(propertyName) {\n    return this.runAfter(function (result) {\n      if (Array.isArray(result)) {\n        return result.map(function (it) {\n          return it && it[propertyName];\n        });\n      } else {\n        return result;\n      }\n    });\n  };\n\n  /**\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.first = function first() {\n    return this.runAfter(function (result) {\n      if (Array.isArray(result)) {\n        return result[0];\n      } else {\n        return result;\n      }\n    });\n  };\n\n  /**\n   * @returns {boolean}\n   */\n\n\n  QueryBuilder.prototype.hasSelection = function hasSelection(selection) {\n    var explicit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    var table = this.modelClass().tableName;\n    var noSelectStatements = true;\n\n    for (var i = 0, l = this._operations.length; i < l; ++i) {\n      var op = this._operations[i];\n\n      if (op instanceof _SelectOperation2.default) {\n        noSelectStatements = false;\n\n        if (op.hasSelection(table, selection)) {\n          return true;\n        }\n      }\n    }\n\n    if (noSelectStatements && !explicit) {\n      // Implicit `select *`.\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  /**\n   * @param {Constructor.<Model>=} modelClass\n   * @param {function(Model, Model, string)} traverser\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.traverse = function traverse(modelClass, traverser) {\n    var _this2 = this;\n\n    if (typeof traverser === 'undefined') {\n      traverser = modelClass;\n      modelClass = null;\n    }\n\n    return this.runAfter(function (result) {\n      _this2._modelClass.traverse(modelClass, result, traverser);\n      return result;\n    });\n  };\n\n  /**\n   * @param {Constructor.<Model>=} modelClass\n   * @param {Array.<string>} properties\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.pick = function pick(modelClass, properties) {\n    if (typeof properties === 'undefined') {\n      properties = modelClass;\n      modelClass = null;\n    }\n\n    // Turn the properties into a hash for performance.\n    properties = properties.reduce(function (obj, prop) {\n      obj[prop] = true;\n      return obj;\n    }, {});\n\n    return this.traverse(modelClass, function (model) {\n      model.$pick(properties);\n    });\n  };\n\n  /**\n   * @param {Constructor.<Model>=} modelClass\n   * @param {Array.<string>} properties\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.omit = function omit(modelClass, properties) {\n    if (typeof properties === 'undefined') {\n      properties = modelClass;\n      modelClass = null;\n    }\n\n    // Turn the properties into a hash for performance.\n    properties = properties.reduce(function (obj, prop) {\n      obj[prop] = true;\n      return obj;\n    }, {});\n\n    return this.traverse(modelClass, function (model) {\n      model.$omit(properties);\n    });\n  };\n\n  /**\n   * @param {number} page\n   * @param {number} pageSize\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.page = function page(_page, pageSize) {\n    return this.range(_page * pageSize, (_page + 1) * pageSize - 1);\n  };\n\n  /**\n   * @param {number} start\n   * @param {number} end\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.range = function range(start, end) {};\n\n  /**\n   * @param {string} relationName\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.joinRelation = function joinRelation(relationName) {};\n\n  /**\n   * @param {string} relationName\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.innerJoinRelation = function innerJoinRelation(relationName) {};\n\n  /**\n   * @param {string} relationName\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.outerJoinRelation = function outerJoinRelation(relationName) {};\n\n  /**\n   * @param {string} relationName\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.leftJoinRelation = function leftJoinRelation(relationName) {};\n\n  /**\n   * @param {string} relationName\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.leftOuterJoinRelation = function leftOuterJoinRelation(relationName) {};\n\n  /**\n   * @param {string} relationName\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.rightJoinRelation = function rightJoinRelation(relationName) {};\n\n  /**\n   * @param {string} relationName\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.rightOuterJoinRelation = function rightOuterJoinRelation(relationName) {};\n\n  /**\n   * @param {string} relationName\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.fullOuterJoinRelation = function fullOuterJoinRelation(relationName) {};\n\n  /**\n   * @param {string|number|Array.<string|number>} id\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.findById = function findById(id) {\n    return this.whereComposite(this._modelClass.getFullIdColumn(), id).first();\n  };\n\n  /**\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.withSchema = function withSchema(schema) {\n    this.internalContext().onBuild.push(function (builder) {\n      if (!builder.has(/withSchema/)) {\n        // Need to push this operation to the front because knex doesn't use the\n        // schema for operations called before `withSchema`.\n        builder.callKnexQueryBuilderOperation('withSchema', [schema], true);\n      }\n    });\n\n    return this;\n  };\n\n  /**\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.debug = function debug() {\n    this.internalOptions().debug = true;\n    this.internalContext().onBuild.push(function (builder) {\n      builder.callKnexQueryBuilderOperation('debug', []);\n    });\n\n    return this;\n  };\n\n  /**\n   * @param {Object|Model|Array.<Object>|Array.<Model>} modelsOrObjects\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.insert = function insert(modelsOrObjects) {\n    var insertOperation = this._insertOperationFactory(this);\n    return this.callQueryBuilderOperation(insertOperation, [modelsOrObjects]);\n  };\n\n  /**\n   * @param {Object|Model|Array.<Object>|Array.<Model>} modelsOrObjects\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.insertAndFetch = function insertAndFetch(modelsOrObjects) {\n    var insertAndFetchOperation = new _InsertAndFetchOperation2.default('insertAndFetch', {\n      delegate: this._insertOperationFactory(this)\n    });\n\n    return this.callQueryBuilderOperation(insertAndFetchOperation, [modelsOrObjects]);\n  };\n\n  /**\n   * @param {Object|Model|Array.<Object>|Array.<Model>} modelsOrObjects\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.insertGraph = function insertGraph(modelsOrObjects) {\n    var insertGraphOperation = new _InsertGraphOperation2.default('insertGraph', {\n      delegate: this._insertOperationFactory(this)\n    });\n\n    return this.callQueryBuilderOperation(insertGraphOperation, [modelsOrObjects]);\n  };\n\n  /**\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.insertWithRelated = function insertWithRelated() {\n    return this.insertGraph.apply(this, arguments);\n  };\n\n  /**\n   * @param {Object|Model|Array.<Object>|Array.<Model>} modelsOrObjects\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.insertGraphAndFetch = function insertGraphAndFetch(modelsOrObjects) {\n    var insertGraphAndFetchOperation = new _InsertGraphAndFetchOperation2.default('insertGraphAndFetch', {\n      delegate: new _InsertGraphOperation2.default('insertGraph', {\n        delegate: this._insertOperationFactory(this)\n      })\n    });\n\n    return this.callQueryBuilderOperation(insertGraphAndFetchOperation, [modelsOrObjects]);\n  };\n\n  /**\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.insertWithRelatedAndFetch = function insertWithRelatedAndFetch() {\n    return this.insertGraphAndFetch.apply(this, arguments);\n  };\n\n  /**\n   * @param {Model|Object=} modelOrObject\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.update = function update(modelOrObject) {\n    var updateOperation = this._updateOperationFactory(this);\n    return this.callQueryBuilderOperation(updateOperation, [modelOrObject]);\n  };\n\n  /**\n   * @param {Model|Object=} modelOrObject\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.updateAndFetch = function updateAndFetch(modelOrObject) {\n    var delegateOperation = this._updateOperationFactory(this);\n\n    if (!(delegateOperation.instance instanceof this._modelClass)) {\n      throw new Error('updateAndFetch can only be called for instance operations');\n    }\n\n    var updateAndFetch = new _UpdateAndFetchOperation2.default('updateAndFetch', {\n      delegate: delegateOperation\n    });\n\n    return this.callQueryBuilderOperation(updateAndFetch, [delegateOperation.instance.$id(), modelOrObject]);\n  };\n\n  /**\n   * @param {number|string|Array.<number|string>} id\n   * @param {Model|Object=} modelOrObject\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.updateAndFetchById = function updateAndFetchById(id, modelOrObject) {\n    var updateAndFetch = new _UpdateAndFetchOperation2.default('updateAndFetch', {\n      delegate: this._updateOperationFactory(this)\n    });\n\n    return this.callQueryBuilderOperation(updateAndFetch, [id, modelOrObject]);\n  };\n\n  /**\n   * @param {Model|Object=} modelOrObject\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.patch = function patch(modelOrObject) {\n    var patchOperation = this._patchOperationFactory(this);\n    return this.callQueryBuilderOperation(patchOperation, [modelOrObject]);\n  };\n\n  /**\n   * @param {Model|Object=} modelOrObject\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.patchAndFetch = function patchAndFetch(modelOrObject) {\n    var delegateOperation = this._patchOperationFactory(this);\n\n    if (!(delegateOperation.instance instanceof this._modelClass)) {\n      throw new Error('patchAndFetch can only be called for instance operations');\n    }\n\n    var patchAndFetch = new _UpdateAndFetchOperation2.default('patchAndFetch', {\n      delegate: delegateOperation\n    });\n\n    return this.callQueryBuilderOperation(patchAndFetch, [delegateOperation.instance.$id(), modelOrObject]);\n  };\n\n  /**\n   * @param {number|string|Array.<number|string>} id\n   * @param {Model|Object=} modelOrObject\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.patchAndFetchById = function patchAndFetchById(id, modelOrObject) {\n    var patchAndFetch = new _UpdateAndFetchOperation2.default('patchAndFetch', {\n      delegate: this._patchOperationFactory(this)\n    });\n\n    return this.callQueryBuilderOperation(patchAndFetch, [id, modelOrObject]);\n  };\n\n  /**\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.delete = function _delete() {\n    var deleteOperation = this._deleteOperationFactory(this);\n    return this.callQueryBuilderOperation(deleteOperation, []);\n  };\n\n  /**\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.del = function del() {\n    return this.delete();\n  };\n\n  /**\n   * @param {number|string|Array.<number|string>} id\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.deleteById = function deleteById(id) {\n    return this.delete().whereComposite(this._modelClass.getFullIdColumn(), id);\n  };\n\n  /**\n   * @param {number|string|object|Array.<number|string>|Array.<Array.<number|string>>|Array.<object>} ids\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.relate = function relate(ids) {\n    var relateOperation = this._relateOperationFactory(this);\n    return this.callQueryBuilderOperation(relateOperation, [ids]);\n  };\n\n  /**\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.unrelate = function unrelate() {\n    var unrelateOperation = this._unrelateOperationFactory(this);\n    return this.callQueryBuilderOperation(unrelateOperation, []);\n  };\n\n  /**\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.increment = function increment(propertyName, howMuch) {\n    var columnName = this.modelClass().propertyNameToColumnName(propertyName);\n\n    return this.patch((0, _defineProperty3.default)({}, columnName, this.knex().raw('?? + ?', [columnName, howMuch])));\n  };\n\n  /**\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilder.prototype.decrement = function decrement(propertyName, howMuch) {\n    var columnName = this.modelClass().propertyNameToColumnName(propertyName);\n\n    return this.patch((0, _defineProperty3.default)({}, columnName, this.knex().raw('?? - ?', [columnName, howMuch])));\n  };\n\n  return QueryBuilder;\n}(_QueryBuilderBase3.default), (_applyDecoratedDescriptor(_class.prototype, 'runBefore', [_dec], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'runBefore'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'onBuild', [_dec2], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'onBuild'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'runAfter', [_dec3], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'runAfter'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'range', [_dec4], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'range'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'joinRelation', [_dec5], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'joinRelation'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'innerJoinRelation', [_dec6], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'innerJoinRelation'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'outerJoinRelation', [_dec7], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'outerJoinRelation'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'leftJoinRelation', [_dec8], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'leftJoinRelation'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'leftOuterJoinRelation', [_dec9], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'leftOuterJoinRelation'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'rightJoinRelation', [_dec10], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'rightJoinRelation'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'rightOuterJoinRelation', [_dec11], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'rightOuterJoinRelation'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'fullOuterJoinRelation', [_dec12], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'fullOuterJoinRelation'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'insert', [writeQueryOperation], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'insert'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'insertAndFetch', [writeQueryOperation], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'insertAndFetch'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'insertGraph', [writeQueryOperation], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'insertGraph'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'insertGraphAndFetch', [writeQueryOperation], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'insertGraphAndFetch'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'update', [writeQueryOperation], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'update'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'updateAndFetch', [writeQueryOperation], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'updateAndFetch'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'updateAndFetchById', [writeQueryOperation], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'updateAndFetchById'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'patch', [writeQueryOperation], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'patch'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'patchAndFetch', [writeQueryOperation], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'patchAndFetch'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'patchAndFetchById', [writeQueryOperation], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'patchAndFetchById'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'delete', [writeQueryOperation], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'delete'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'relate', [writeQueryOperation], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'relate'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'unrelate', [writeQueryOperation], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'unrelate'), _class.prototype)), _class));\nexports.default = QueryBuilder;\n\n\nfunction writeQueryOperation(target, property, descriptor) {\n  var func = descriptor.value;\n\n  descriptor.value = function decorator$writeQueryOperation() {\n    if (!this.isFindQuery()) {\n      return this.reject(new Error('Double call to a write method. ' + 'You can only call one of the write methods ' + '(insert, update, patch, delete, relate, unrelate, increment, decrement) ' + 'and only once per query builder.'));\n    }\n\n    try {\n      func.apply(this, arguments);\n    } catch (err) {\n      this.reject(err);\n    }\n\n    return this;\n  };\n}\n\nfunction checkEager(builder) {\n  if (builder._eagerExpression && builder._allowedEagerExpression) {\n    if (!builder._allowedEagerExpression.isSubExpression(builder._eagerExpression)) {\n      builder.reject(new _ValidationError2.default({ eager: 'eager expression not allowed' }));\n    }\n  }\n}\n\nfunction createModels(result) {\n  var builder = this.builder;\n\n  if (result === null || result === undefined) {\n    return null;\n  }\n\n  if (Array.isArray(result)) {\n    if (result.length && (0, _typeof3.default)(result[0]) === 'object' && !(result[0] instanceof builder._modelClass)) {\n      for (var i = 0, l = result.length; i < l; ++i) {\n        result[i] = builder._modelClass.fromDatabaseJson(result[i]);\n      }\n    }\n  } else if ((typeof result === 'undefined' ? 'undefined' : (0, _typeof3.default)(result)) === 'object' && !(result instanceof builder._modelClass)) {\n    result = builder._modelClass.fromDatabaseJson(result);\n  }\n\n  return result;\n}\n\nfunction _build(builder) {\n  var context = builder.context() || {};\n  var internalContext = builder.internalContext();\n  var knexBuilder = builder.knex().queryBuilder();\n\n  callOnBuildHooks(builder, context.onBuild);\n  callOnBuildHooks(builder, internalContext.onBuild);\n\n  knexBuilder = builder.buildInto(knexBuilder);\n\n  if (!builder.has(_QueryBuilderBase3.default.FromSelector)) {\n    var table = builder.modelClass().tableName;\n\n    // Set the table only if it hasn't been explicitly set yet.\n    knexBuilder.table(table);\n\n    if (!builder.has(_QueryBuilderBase3.default.SelectSelector)) {\n      knexBuilder.select(table + '.*');\n    }\n  }\n\n  return knexBuilder;\n}\n\nfunction chainHooks(promise, func) {\n  if (typeof func === 'function') {\n    promise = promise.then(function (result) {\n      return func.call(this.builder, result, this.builder);\n    });\n  } else if (Array.isArray(func)) {\n    func.forEach(function (func) {\n      promise = promise.then(function (result) {\n        return func.call(this.builder, result, this.builder);\n      });\n    });\n  }\n\n  return promise;\n}\n\nfunction callOnBuildHooks(builder, func) {\n  if (typeof func === 'function') {\n    func.call(builder, builder);\n  } else if (Array.isArray(func)) {\n    for (var i = 0, l = func.length; i < l; ++i) {\n      func[i].call(builder, builder);\n    }\n  }\n}\n\nfunction createHookCaller(hook) {\n  var hasMethod = 'has' + hook.charAt(0).toUpperCase() + hook.substr(1);\n\n  return function (promise, operations) {\n    var _loop = function _loop(i, l) {\n      var op = operations[i];\n\n      if (op[hasMethod]()) {\n        promise = promise.then(function (result) {\n          return op[hook](this.builder, result);\n        });\n      }\n    };\n\n    for (var i = 0, l = operations.length; i < l; ++i) {\n      _loop(i, l);\n    }\n\n    return promise;\n  };\n}\n\nfunction createOperationFactory(OperationClass, name, options) {\n  return function () {\n    return new OperationClass(name, options);\n  };\n}\n\nvar chainBeforeOperations = createHookCaller('onBefore');\nvar chainBeforeInternalOperations = createHookCaller('onBeforeInternal');\nvar chainRawResultOperations = createHookCaller('onRawResult');\nvar chainAfterQueryOperations = createHookCaller('onAfterQuery');\nvar chainAfterInternalOperations = createHookCaller('onAfterInternal');\nvar chainAfterOperations = createHookCaller('onAfter');\n\nvar findOperationFactory = createOperationFactory(_FindOperation2.default, 'find');\nvar insertOperationFactory = createOperationFactory(_InsertOperation2.default, 'insert');\nvar updateOperationFactory = createOperationFactory(_UpdateOperation2.default, 'update');\nvar patchOperationFactory = createOperationFactory(_UpdateOperation2.default, 'patch', { modelOptions: { patch: true } });\nvar relateOperationFactory = createOperationFactory(_QueryBuilderOperation2.default, 'relate');\nvar unrelateOperationFactory = createOperationFactory(_QueryBuilderOperation2.default, 'unrelate');\nvar deleteOperationFactory = createOperationFactory(_DeleteOperation2.default, 'delete');\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlF1ZXJ5QnVpbGRlci5qcyJdLCJuYW1lcyI6WyJRdWVyeUJ1aWxkZXIiLCJqb2luT3BlcmF0aW9uIiwibW9kZWxDbGFzcyIsImtuZXgiLCJfbW9kZWxDbGFzcyIsIl9leHBsaWNpdFJlamVjdFZhbHVlIiwiX2V4cGxpY2l0UmVzb2x2ZVZhbHVlIiwiX2VhZ2VyRXhwcmVzc2lvbiIsIl9lYWdlckZpbHRlckV4cHJlc3Npb25zIiwiX2FsbG93ZWRFYWdlckV4cHJlc3Npb24iLCJfYWxsb3dlZEluc2VydEV4cHJlc3Npb24iLCJfZmluZE9wZXJhdGlvbk9wdGlvbnMiLCJfZWFnZXJPcGVyYXRpb25PcHRpb25zIiwiX2ZpbmRPcGVyYXRpb25GYWN0b3J5IiwiZmluZE9wZXJhdGlvbkZhY3RvcnkiLCJfaW5zZXJ0T3BlcmF0aW9uRmFjdG9yeSIsImluc2VydE9wZXJhdGlvbkZhY3RvcnkiLCJfdXBkYXRlT3BlcmF0aW9uRmFjdG9yeSIsInVwZGF0ZU9wZXJhdGlvbkZhY3RvcnkiLCJfcGF0Y2hPcGVyYXRpb25GYWN0b3J5IiwicGF0Y2hPcGVyYXRpb25GYWN0b3J5IiwiX3JlbGF0ZU9wZXJhdGlvbkZhY3RvcnkiLCJyZWxhdGVPcGVyYXRpb25GYWN0b3J5IiwiX3VucmVsYXRlT3BlcmF0aW9uRmFjdG9yeSIsInVucmVsYXRlT3BlcmF0aW9uRmFjdG9yeSIsIl9kZWxldGVPcGVyYXRpb25GYWN0b3J5IiwiZGVsZXRlT3BlcmF0aW9uRmFjdG9yeSIsIl9lYWdlck9wZXJhdGlvbkZhY3RvcnkiLCJkZWZhdWx0RWFnZXJBbGdvcml0aG0iLCJmb3JDbGFzcyIsImNoaWxkUXVlcnlPZiIsInF1ZXJ5IiwiaW50ZXJuYWxDb250ZXh0IiwicmVqZWN0IiwiZXJyb3IiLCJyZXNvbHZlIiwidmFsdWUiLCJpc0V4ZWN1dGFibGUiLCJoYXNFeGVjdXRvciIsIl9xdWVyeUV4ZWN1dG9yT3BlcmF0aW9uIiwicnVuQmVmb3JlIiwib25CdWlsZCIsInJ1bkFmdGVyIiwiZWFnZXJBbGdvcml0aG0iLCJhbGdvcml0aG0iLCJlYWdlck9wdGlvbnMiLCJlYWdlck9wZXJhdGlvbkZhY3RvcnkiLCJmYWN0b3J5IiwiZWFnZXIiLCJleHAiLCJmaWx0ZXJzIiwicGFyc2UiLCJjaGVja0VhZ2VyIiwibWVyZ2VFYWdlciIsImV4cHIiLCJtZXJnZSIsImFsbG93RWFnZXIiLCJtb2RpZnlFYWdlciIsInBhdGgiLCJtb2RpZmllciIsInB1c2giLCJmaWx0ZXIiLCJmaWx0ZXJFYWdlciIsImFsbG93SW5zZXJ0Iiwib3B0Iiwib3BJZHgiLCJpbmRleE9mT3BlcmF0aW9uIiwiX29wZXJhdGlvbnMiLCJjbG9uZSIsImZpbmRPcHRpb25zIiwiaXNGaW5kUXVlcnkiLCJzb21lIiwibWV0aG9kIiwiaXNXcml0ZU9wZXJhdGlvbiIsInRvU3RyaW5nIiwiYnVpbGQiLCJ0b1NxbCIsImJ1aWxkZXIiLCJjb25zdHJ1Y3RvciIsImJhc2VDbG9uZUludG8iLCJzbGljZSIsImNsZWFyRWFnZXIiLCJjbGVhclJlamVjdCIsImNsZWFyUmVzb2x2ZSIsInRoZW4iLCJzdWNjZXNzSGFuZGxlciIsImVycm9ySGFuZGxlciIsInByb21pc2UiLCJleGVjdXRlIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJtYXAiLCJtYXBwZXIiLCJjYXRjaCIsInJldHVybiIsInJldHVyblZhbHVlIiwiYmluZCIsImNvbnRleHQiLCJhc0NhbGxiYWNrIiwiY2FsbGJhY2siLCJub2RlaWZ5IiwicmVzdWx0U2l6ZSIsImNsZWFyIiwicmF3UXVlcnkiLCJyYXciLCJ3cmFwIiwiY291bnRRdWVyeSIsImNvdW50IiwiZnJvbSIsImludGVybmFsT3B0aW9ucyIsImRlYnVnIiwicmVzdWx0IiwiX2NhbGxGaW5kT3BlcmF0aW9uIiwiX2NhbGxFYWdlckZldGNoT3BlcmF0aW9uIiwia25leEJ1aWxkZXIiLCJxdWVyeUV4ZWN1dG9yT3BlcmF0aW9uIiwicXVlcnlFeGVjdXRvciIsInByb21pc2VDdHgiLCJjaGFpbkJlZm9yZU9wZXJhdGlvbnMiLCJjaGFpbkhvb2tzIiwiY2hhaW5CZWZvcmVJbnRlcm5hbE9wZXJhdGlvbnMiLCJjaGFpblJhd1Jlc3VsdE9wZXJhdGlvbnMiLCJjcmVhdGVNb2RlbHMiLCJjaGFpbkFmdGVyUXVlcnlPcGVyYXRpb25zIiwiY2hhaW5BZnRlckludGVybmFsT3BlcmF0aW9ucyIsImNoYWluQWZ0ZXJPcGVyYXRpb25zIiwiaSIsImwiLCJsZW5ndGgiLCJvcCIsImhhc1F1ZXJ5RXhlY3V0b3IiLCJoYXMiLCJvcGVyYXRpb24iLCJjYWxsUXVlcnlCdWlsZGVyT3BlcmF0aW9uIiwiZGVmYXVsdEVhZ2VyT3B0aW9ucyIsInBsdWNrIiwicHJvcGVydHlOYW1lIiwiQXJyYXkiLCJpc0FycmF5IiwiaXQiLCJmaXJzdCIsImhhc1NlbGVjdGlvbiIsInNlbGVjdGlvbiIsImV4cGxpY2l0IiwidGFibGUiLCJ0YWJsZU5hbWUiLCJub1NlbGVjdFN0YXRlbWVudHMiLCJ0cmF2ZXJzZSIsInRyYXZlcnNlciIsInBpY2siLCJwcm9wZXJ0aWVzIiwicmVkdWNlIiwib2JqIiwicHJvcCIsIm1vZGVsIiwiJHBpY2siLCJvbWl0IiwiJG9taXQiLCJwYWdlIiwicGFnZVNpemUiLCJyYW5nZSIsInN0YXJ0IiwiZW5kIiwiam9pblJlbGF0aW9uIiwicmVsYXRpb25OYW1lIiwiaW5uZXJKb2luUmVsYXRpb24iLCJvdXRlckpvaW5SZWxhdGlvbiIsImxlZnRKb2luUmVsYXRpb24iLCJsZWZ0T3V0ZXJKb2luUmVsYXRpb24iLCJyaWdodEpvaW5SZWxhdGlvbiIsInJpZ2h0T3V0ZXJKb2luUmVsYXRpb24iLCJmdWxsT3V0ZXJKb2luUmVsYXRpb24iLCJmaW5kQnlJZCIsImlkIiwid2hlcmVDb21wb3NpdGUiLCJnZXRGdWxsSWRDb2x1bW4iLCJ3aXRoU2NoZW1hIiwic2NoZW1hIiwiY2FsbEtuZXhRdWVyeUJ1aWxkZXJPcGVyYXRpb24iLCJpbnNlcnQiLCJtb2RlbHNPck9iamVjdHMiLCJpbnNlcnRPcGVyYXRpb24iLCJpbnNlcnRBbmRGZXRjaCIsImluc2VydEFuZEZldGNoT3BlcmF0aW9uIiwiZGVsZWdhdGUiLCJpbnNlcnRHcmFwaCIsImluc2VydEdyYXBoT3BlcmF0aW9uIiwiaW5zZXJ0V2l0aFJlbGF0ZWQiLCJpbnNlcnRHcmFwaEFuZEZldGNoIiwiaW5zZXJ0R3JhcGhBbmRGZXRjaE9wZXJhdGlvbiIsImluc2VydFdpdGhSZWxhdGVkQW5kRmV0Y2giLCJ1cGRhdGUiLCJtb2RlbE9yT2JqZWN0IiwidXBkYXRlT3BlcmF0aW9uIiwidXBkYXRlQW5kRmV0Y2giLCJkZWxlZ2F0ZU9wZXJhdGlvbiIsImluc3RhbmNlIiwiRXJyb3IiLCIkaWQiLCJ1cGRhdGVBbmRGZXRjaEJ5SWQiLCJwYXRjaCIsInBhdGNoT3BlcmF0aW9uIiwicGF0Y2hBbmRGZXRjaCIsInBhdGNoQW5kRmV0Y2hCeUlkIiwiZGVsZXRlIiwiZGVsZXRlT3BlcmF0aW9uIiwiZGVsIiwiZGVsZXRlQnlJZCIsInJlbGF0ZSIsImlkcyIsInJlbGF0ZU9wZXJhdGlvbiIsInVucmVsYXRlIiwidW5yZWxhdGVPcGVyYXRpb24iLCJpbmNyZW1lbnQiLCJob3dNdWNoIiwiY29sdW1uTmFtZSIsInByb3BlcnR5TmFtZVRvQ29sdW1uTmFtZSIsImRlY3JlbWVudCIsIndyaXRlUXVlcnlPcGVyYXRpb24iLCJ0YXJnZXQiLCJwcm9wZXJ0eSIsImRlc2NyaXB0b3IiLCJmdW5jIiwiZGVjb3JhdG9yJHdyaXRlUXVlcnlPcGVyYXRpb24iLCJlcnIiLCJpc1N1YkV4cHJlc3Npb24iLCJ1bmRlZmluZWQiLCJmcm9tRGF0YWJhc2VKc29uIiwicXVlcnlCdWlsZGVyIiwiY2FsbE9uQnVpbGRIb29rcyIsImJ1aWxkSW50byIsIkZyb21TZWxlY3RvciIsIlNlbGVjdFNlbGVjdG9yIiwic2VsZWN0IiwiY2FsbCIsImZvckVhY2giLCJjcmVhdGVIb29rQ2FsbGVyIiwiaG9vayIsImhhc01ldGhvZCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic3Vic3RyIiwib3BlcmF0aW9ucyIsImNyZWF0ZU9wZXJhdGlvbkZhY3RvcnkiLCJPcGVyYXRp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O0FBYUQ7O0FBRUQsU0FBUzRKLHNCQUFULENBQWdDQyxjQUFoQyxFQUFnREMsSUFBaEQsRUFBc0RDLE9BQXRELEVBQStEO0FBQzdELFNBQU8sWUFBTTtBQUNYLFdBQU8sSUFBSUYsY0FBSixDQUFtQkMsSUFBbkIsRUFBeUJDLE9BQXpCLENBQVA7QUFDRCxHQUZEO0FBR0Q7O0FBRUQsSUFBTWhJLHdCQUF3QnNILGlCQUFpQixVQUFqQixDQUE5QjtBQUNBLElBQU1wSCxnQ0FBZ0NvSCxpQkFBaUIsa0JBQWpCLENBQXRDO0FBQ0EsSUFBTW5ILDJCQUEyQm1ILGlCQUFpQixhQUFqQixDQUFqQztBQUNBLElBQU1qSCw0QkFBNEJpSCxpQkFBaUIsY0FBakIsQ0FBbEM7QUFDQSxJQUFNaEgsK0JBQStCZ0gsaUJBQWlCLGlCQUFqQixDQUFyQztBQUNBLElBQU0vRyx1QkFBdUIrRyxpQkFBaUIsU0FBakIsQ0FBN0I7O0FBRUEsSUFBTTlOLHVCQUF1QnFPLGdEQUFzQyxNQUF0QyxDQUE3QjtBQUNBLElBQU1uTyx5QkFBeUJtTyxrREFBd0MsUUFBeEMsQ0FBL0I7QUFDQSxJQUFNak8seUJBQXlCaU8sa0RBQXdDLFFBQXhDLENBQS9CO0FBQ0EsSUFBTS9OLHdCQUF3QitOLGtEQUF3QyxPQUF4QyxFQUFpRCxFQUFDSSxjQUFjLEVBQUMvQyxPQUFPLElBQVIsRUFBZixFQUFqRCxDQUE5QjtBQUNBLElBQU1sTCx5QkFBeUI2Tix3REFBOEMsUUFBOUMsQ0FBL0I7QUFDQSxJQUFNM04sMkJBQTJCMk4sd0RBQThDLFVBQTlDLENBQWpDO0FBQ0EsSUFBTXpOLHlCQUF5QnlOLGtEQUF3QyxRQUF4QyxDQUEvQiIsImZpbGUiOiJRdWVyeUJ1aWxkZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvbWlzZSBmcm9tICdibHVlYmlyZCc7XG5pbXBvcnQgVmFsaWRhdGlvbkVycm9yIGZyb20gJy4uL21vZGVsL1ZhbGlkYXRpb25FcnJvcic7XG5pbXBvcnQgcXVlcnlCdWlsZGVyT3BlcmF0aW9uIGZyb20gJy4vZGVjb3JhdG9ycy9xdWVyeUJ1aWxkZXJPcGVyYXRpb24nO1xuaW1wb3J0IFF1ZXJ5QnVpbGRlckNvbnRleHQgZnJvbSAnLi9RdWVyeUJ1aWxkZXJDb250ZXh0JztcbmltcG9ydCBSZWxhdGlvbkV4cHJlc3Npb24gZnJvbSAnLi9SZWxhdGlvbkV4cHJlc3Npb24nO1xuaW1wb3J0IFF1ZXJ5QnVpbGRlckJhc2UgZnJvbSAnLi9RdWVyeUJ1aWxkZXJCYXNlJztcblxuaW1wb3J0IEZpbmRPcGVyYXRpb24gZnJvbSAnLi9vcGVyYXRpb25zL0ZpbmRPcGVyYXRpb24nO1xuaW1wb3J0IERlbGV0ZU9wZXJhdGlvbiBmcm9tICcuL29wZXJhdGlvbnMvRGVsZXRlT3BlcmF0aW9uJztcbmltcG9ydCBVcGRhdGVPcGVyYXRpb24gZnJvbSAnLi9vcGVyYXRpb25zL1VwZGF0ZU9wZXJhdGlvbic7XG5pbXBvcnQgSW5zZXJ0T3BlcmF0aW9uIGZyb20gJy4vb3BlcmF0aW9ucy9JbnNlcnRPcGVyYXRpb24nO1xuXG5pbXBvcnQgSW5zZXJ0R3JhcGhBbmRGZXRjaE9wZXJhdGlvbiBmcm9tICcuL29wZXJhdGlvbnMvSW5zZXJ0R3JhcGhBbmRGZXRjaE9wZXJhdGlvbic7XG5pbXBvcnQgSW5zZXJ0QW5kRmV0Y2hPcGVyYXRpb24gZnJvbSAnLi9vcGVyYXRpb25zL0luc2VydEFuZEZldGNoT3BlcmF0aW9uJztcbmltcG9ydCBVcGRhdGVBbmRGZXRjaE9wZXJhdGlvbiBmcm9tICcuL29wZXJhdGlvbnMvVXBkYXRlQW5kRmV0Y2hPcGVyYXRpb24nO1xuaW1wb3J0IFF1ZXJ5QnVpbGRlck9wZXJhdGlvbiBmcm9tICcuL29wZXJhdGlvbnMvUXVlcnlCdWlsZGVyT3BlcmF0aW9uJztcbmltcG9ydCBKb2luUmVsYXRpb25PcGVyYXRpb24gZnJvbSAnLi9vcGVyYXRpb25zL0pvaW5SZWxhdGlvbk9wZXJhdGlvbic7XG5pbXBvcnQgSW5zZXJ0R3JhcGhPcGVyYXRpb24gZnJvbSAnLi9vcGVyYXRpb25zL0luc2VydEdyYXBoT3BlcmF0aW9uJztcbmltcG9ydCBSdW5CZWZvcmVPcGVyYXRpb24gZnJvbSAnLi9vcGVyYXRpb25zL1J1bkJlZm9yZU9wZXJhdGlvbic7XG5pbXBvcnQgUnVuQWZ0ZXJPcGVyYXRpb24gZnJvbSAnLi9vcGVyYXRpb25zL1J1bkFmdGVyT3BlcmF0aW9uJztcbmltcG9ydCBPbkJ1aWxkT3BlcmF0aW9uIGZyb20gJy4vb3BlcmF0aW9ucy9PbkJ1aWxkT3BlcmF0aW9uJztcbmltcG9ydCBTZWxlY3RPcGVyYXRpb24gZnJvbSAnLi9vcGVyYXRpb25zL1NlbGVjdE9wZXJhdGlvbic7XG5pbXBvcnQgRWFnZXJPcGVyYXRpb24gZnJvbSAnLi9vcGVyYXRpb25zL2VhZ2VyL0VhZ2VyT3BlcmF0aW9uJztcbmltcG9ydCBSYW5nZU9wZXJhdGlvbiBmcm9tICcuL29wZXJhdGlvbnMvUmFuZ2VPcGVyYXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBRdWVyeUJ1aWxkZXIgZXh0ZW5kcyBRdWVyeUJ1aWxkZXJCYXNlIHtcblxuICBjb25zdHJ1Y3Rvcihtb2RlbENsYXNzKSB7XG4gICAgc3VwZXIobW9kZWxDbGFzcy5rbmV4KCksIFF1ZXJ5QnVpbGRlckNvbnRleHQpO1xuXG4gICAgdGhpcy5fbW9kZWxDbGFzcyA9IG1vZGVsQ2xhc3M7XG4gICAgdGhpcy5fZXhwbGljaXRSZWplY3RWYWx1ZSA9IG51bGw7XG4gICAgdGhpcy5fZXhwbGljaXRSZXNvbHZlVmFsdWUgPSBudWxsO1xuXG4gICAgdGhpcy5fZWFnZXJFeHByZXNzaW9uID0gbnVsbDtcbiAgICB0aGlzLl9lYWdlckZpbHRlckV4cHJlc3Npb25zID0gW107XG4gICAgdGhpcy5fYWxsb3dlZEVhZ2VyRXhwcmVzc2lvbiA9IG51bGw7XG4gICAgdGhpcy5fYWxsb3dlZEluc2VydEV4cHJlc3Npb24gPSBudWxsO1xuXG4gICAgdGhpcy5fZmluZE9wZXJhdGlvbk9wdGlvbnMgPSB7fTtcbiAgICB0aGlzLl9lYWdlck9wZXJhdGlvbk9wdGlvbnMgPSB7fTtcblxuICAgIHRoaXMuX2ZpbmRPcGVyYXRpb25GYWN0b3J5ID0gZmluZE9wZXJhdGlvbkZhY3Rvcnk7XG4gICAgdGhpcy5faW5zZXJ0T3BlcmF0aW9uRmFjdG9yeSA9IGluc2VydE9wZXJhdGlvbkZhY3Rvcnk7XG4gICAgdGhpcy5fdXBkYXRlT3BlcmF0aW9uRmFjdG9yeSA9IHVwZGF0ZU9wZXJhdGlvbkZhY3Rvcnk7XG4gICAgdGhpcy5fcGF0Y2hPcGVyYXRpb25GYWN0b3J5ID0gcGF0Y2hPcGVyYXRpb25GYWN0b3J5O1xuICAgIHRoaXMuX3JlbGF0ZU9wZXJhdGlvbkZhY3RvcnkgPSByZWxhdGVPcGVyYXRpb25GYWN0b3J5O1xuICAgIHRoaXMuX3VucmVsYXRlT3BlcmF0aW9uRmFjdG9yeSA9IHVucmVsYXRlT3BlcmF0aW9uRmFjdG9yeTtcbiAgICB0aGlzLl9kZWxldGVPcGVyYXRpb25GYWN0b3J5ID0gZGVsZXRlT3BlcmF0aW9uRmFjdG9yeTtcbiAgICB0aGlzLl9lYWdlck9wZXJhdGlvbkZhY3RvcnkgPSBtb2RlbENsYXNzLmRlZmF1bHRFYWdlckFsZ29yaXRobTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01vZGVsfSBtb2RlbENsYXNzXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICBzdGF0aWMgZm9yQ2xhc3MobW9kZWxDbGFzcykge1xuICAgIHJldHVybiBuZXcgdGhpcyhtb2RlbENsYXNzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1F1ZXJ5QnVpbGRlckJhc2V9IHF1ZXJ5XG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICBjaGlsZFF1ZXJ5T2YocXVlcnkpIHtcbiAgICBpZiAocXVlcnkpIHtcbiAgICAgIHRoaXMuaW50ZXJuYWxDb250ZXh0KHF1ZXJ5LmludGVybmFsQ29udGV4dCgpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0Vycm9yfSBlcnJvclxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgcmVqZWN0KGVycm9yKSB7XG4gICAgdGhpcy5fZXhwbGljaXRSZWplY3RWYWx1ZSA9IGVycm9yO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlcn1cbiAgICovXG4gIHJlc29sdmUodmFsdWUpIHtcbiAgICB0aGlzLl9leHBsaWNpdFJlc29sdmVWYWx1ZSA9IHZhbHVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgaXNFeGVjdXRhYmxlKCkge1xuICAgIGNvbnN0IGhhc0V4ZWN1dG9yID0gISF0aGlzLl9xdWVyeUV4ZWN1dG9yT3BlcmF0aW9uKCk7XG4gICAgcmV0dXJuICF0aGlzLl9leHBsaWNpdFJlamVjdFZhbHVlICYmICF0aGlzLl9leHBsaWNpdFJlc29sdmVWYWx1ZSAmJiAhaGFzRXhlY3V0b3I7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbigqLCBRdWVyeUJ1aWxkZXIpfSBydW5CZWZvcmVcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlcn1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oUnVuQmVmb3JlT3BlcmF0aW9uKVxuICBydW5CZWZvcmUocnVuQmVmb3JlKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKFF1ZXJ5QnVpbGRlcil9IG9uQnVpbGRcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlcn1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oT25CdWlsZE9wZXJhdGlvbilcbiAgb25CdWlsZChvbkJ1aWxkKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKE1vZGVsfEFycmF5LjxNb2RlbD4sIFF1ZXJ5QnVpbGRlcil9IHJ1bkFmdGVyXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKFJ1bkFmdGVyT3BlcmF0aW9uKVxuICBydW5BZnRlcihydW5BZnRlcikge31cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbihRdWVyeUJ1aWxkZXIpOkVhZ2VyT3BlcmF0aW9ufSBhbGdvcml0aG1cbiAgICogQHBhcmFtIHtvYmplY3Q9fSBlYWdlck9wdGlvbnNcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlcn1cbiAgICovXG4gIGVhZ2VyQWxnb3JpdGhtKGFsZ29yaXRobSwgZWFnZXJPcHRpb25zKSB7XG4gICAgdGhpcy5lYWdlck9wZXJhdGlvbkZhY3RvcnkoYWxnb3JpdGhtKTtcblxuICAgIGlmIChlYWdlck9wdGlvbnMpIHtcbiAgICAgIHRoaXMuZWFnZXJPcHRpb25zKGVhZ2VyT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbihRdWVyeUJ1aWxkZXIpOkVhZ2VyT3BlcmF0aW9ufSBmYWN0b3J5XG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICBlYWdlck9wZXJhdGlvbkZhY3RvcnkoZmFjdG9yeSkge1xuICAgIHRoaXMuX2VhZ2VyT3BlcmF0aW9uRmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbihRdWVyeUJ1aWxkZXIpOlF1ZXJ5QnVpbGRlck9wZXJhdGlvbn0gZmFjdG9yeVxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgZmluZE9wZXJhdGlvbkZhY3RvcnkoZmFjdG9yeSkge1xuICAgIHRoaXMuX2ZpbmRPcGVyYXRpb25GYWN0b3J5ID0gZmFjdG9yeTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKFF1ZXJ5QnVpbGRlcik6UXVlcnlCdWlsZGVyT3BlcmF0aW9ufSBmYWN0b3J5XG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICBpbnNlcnRPcGVyYXRpb25GYWN0b3J5KGZhY3RvcnkpIHtcbiAgICB0aGlzLl9pbnNlcnRPcGVyYXRpb25GYWN0b3J5ID0gZmFjdG9yeTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKFF1ZXJ5QnVpbGRlcik6UXVlcnlCdWlsZGVyT3BlcmF0aW9ufSBmYWN0b3J5XG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICB1cGRhdGVPcGVyYXRpb25GYWN0b3J5KGZhY3RvcnkpIHtcbiAgICB0aGlzLl91cGRhdGVPcGVyYXRpb25GYWN0b3J5ID0gZmFjdG9yeTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKFF1ZXJ5QnVpbGRlcik6UXVlcnlCdWlsZGVyT3BlcmF0aW9ufSBmYWN0b3J5XG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICBwYXRjaE9wZXJhdGlvbkZhY3RvcnkoZmFjdG9yeSkge1xuICAgIHRoaXMuX3BhdGNoT3BlcmF0aW9uRmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbihRdWVyeUJ1aWxkZXIpOlF1ZXJ5QnVpbGRlck9wZXJhdGlvbn0gZmFjdG9yeVxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgZGVsZXRlT3BlcmF0aW9uRmFjdG9yeShmYWN0b3J5KSB7XG4gICAgdGhpcy5fZGVsZXRlT3BlcmF0aW9uRmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbihRdWVyeUJ1aWxkZXIpOlF1ZXJ5QnVpbGRlck9wZXJhdGlvbn0gZmFjdG9yeVxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgcmVsYXRlT3BlcmF0aW9uRmFjdG9yeShmYWN0b3J5KSB7XG4gICAgdGhpcy5fcmVsYXRlT3BlcmF0aW9uRmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbihRdWVyeUJ1aWxkZXIpOlF1ZXJ5QnVpbGRlck9wZXJhdGlvbn0gZmFjdG9yeVxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgdW5yZWxhdGVPcGVyYXRpb25GYWN0b3J5KGZhY3RvcnkpIHtcbiAgICB0aGlzLl91bnJlbGF0ZU9wZXJhdGlvbkZhY3RvcnkgPSBmYWN0b3J5O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfFJlbGF0aW9uRXhwcmVzc2lvbn0gZXhwXG4gICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uKFF1ZXJ5QnVpbGRlcik+PX0gZmlsdGVyc1xuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgZWFnZXIoZXhwLCBmaWx0ZXJzKSB7XG4gICAgdGhpcy5fZWFnZXJFeHByZXNzaW9uID0gZXhwIHx8IG51bGw7XG5cbiAgICBpZiAodHlwZW9mIHRoaXMuX2VhZ2VyRXhwcmVzc2lvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuX2VhZ2VyRXhwcmVzc2lvbiA9IFJlbGF0aW9uRXhwcmVzc2lvbi5wYXJzZSh0aGlzLl9lYWdlckV4cHJlc3Npb24pO1xuICAgIH1cblxuICAgIGlmIChmaWx0ZXJzKSB7XG4gICAgICB0aGlzLl9lYWdlckV4cHJlc3Npb24uZmlsdGVycyA9IGZpbHRlcnM7XG4gICAgfVxuXG4gICAgY2hlY2tFYWdlcih0aGlzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xSZWxhdGlvbkV4cHJlc3Npb259IGV4cFxuICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCBmdW5jdGlvbihRdWVyeUJ1aWxkZXIpPj19IGZpbHRlcnNcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlcn1cbiAgICovXG4gIG1lcmdlRWFnZXIoZXhwLCBmaWx0ZXJzKSB7XG4gICAgaWYgKCF0aGlzLl9lYWdlckV4cHJlc3Npb24pIHtcbiAgICAgIHJldHVybiB0aGlzLmVhZ2VyKGV4cCwgZmlsdGVycyk7XG4gICAgfVxuXG4gICAgY29uc3QgZXhwciA9IFJlbGF0aW9uRXhwcmVzc2lvbi5wYXJzZShleHApO1xuXG4gICAgaWYgKGZpbHRlcnMpIHtcbiAgICAgIGV4cHIuZmlsdGVycyA9IGZpbHRlcnM7XG4gICAgfVxuXG4gICAgdGhpcy5fZWFnZXJFeHByZXNzaW9uID0gdGhpcy5fZWFnZXJFeHByZXNzaW9uLm1lcmdlKGV4cHIpO1xuXG4gICAgY2hlY2tFYWdlcih0aGlzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xSZWxhdGlvbkV4cHJlc3Npb259IGV4cFxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgYWxsb3dFYWdlcihleHApIHtcbiAgICB0aGlzLl9hbGxvd2VkRWFnZXJFeHByZXNzaW9uID0gZXhwIHx8IG51bGw7XG5cbiAgICBpZiAodHlwZW9mIHRoaXMuX2FsbG93ZWRFYWdlckV4cHJlc3Npb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLl9hbGxvd2VkRWFnZXJFeHByZXNzaW9uID0gUmVsYXRpb25FeHByZXNzaW9uLnBhcnNlKHRoaXMuX2FsbG93ZWRFYWdlckV4cHJlc3Npb24pO1xuICAgIH1cblxuICAgIGNoZWNrRWFnZXIodGhpcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd8UmVsYXRpb25FeHByZXNzaW9ufSBwYXRoXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oUXVlcnlCdWlsZGVyKX0gbW9kaWZpZXJcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlcn1cbiAgICovXG4gIG1vZGlmeUVhZ2VyKHBhdGgsIG1vZGlmaWVyKSB7XG4gICAgdGhpcy5fZWFnZXJGaWx0ZXJFeHByZXNzaW9ucy5wdXNoKHtcbiAgICAgIHBhdGg6IHBhdGgsXG4gICAgICBmaWx0ZXI6IG1vZGlmaWVyXG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZpbHRlckVhZ2VyKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5tb2RpZnlFYWdlciguLi5hcmdzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xSZWxhdGlvbkV4cHJlc3Npb259IGV4cFxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgYWxsb3dJbnNlcnQoZXhwKSB7XG4gICAgdGhpcy5fYWxsb3dlZEluc2VydEV4cHJlc3Npb24gPSBleHAgfHwgbnVsbDtcblxuICAgIGlmICh0eXBlb2YgdGhpcy5fYWxsb3dlZEluc2VydEV4cHJlc3Npb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLl9hbGxvd2VkSW5zZXJ0RXhwcmVzc2lvbiA9IFJlbGF0aW9uRXhwcmVzc2lvbi5wYXJzZSh0aGlzLl9hbGxvd2VkSW5zZXJ0RXhwcmVzc2lvbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdFxuICAgKiBAcmV0dXJuIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICBlYWdlck9wdGlvbnMob3B0KSB7XG4gICAgdGhpcy5fZWFnZXJPcGVyYXRpb25PcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fZWFnZXJPcGVyYXRpb25PcHRpb25zLCBvcHQpO1xuICAgIGNvbnN0IG9wSWR4ID0gdGhpcy5pbmRleE9mT3BlcmF0aW9uKEVhZ2VyT3BlcmF0aW9uKTtcblxuICAgIGlmIChvcElkeCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuX29wZXJhdGlvbnNbb3BJZHhdID0gdGhpcy5fb3BlcmF0aW9uc1tvcElkeF0uY2xvbmUoe1xuICAgICAgICBvcHQ6IHRoaXMuX2VhZ2VyT3BlcmF0aW9uT3B0aW9uc1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdFxuICAgKiBAcmV0dXJuIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICBmaW5kT3B0aW9ucyhvcHQpIHtcbiAgICB0aGlzLl9maW5kT3BlcmF0aW9uT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuX2ZpbmRPcGVyYXRpb25PcHRpb25zLCBvcHQpO1xuICAgIGNvbnN0IG9wSWR4ID0gdGhpcy5pbmRleE9mT3BlcmF0aW9uKEZpbmRPcGVyYXRpb24pO1xuXG4gICAgaWYgKG9wSWR4ICE9PSAtMSkge1xuICAgICAgdGhpcy5fb3BlcmF0aW9uc1tvcElkeF0gPSB0aGlzLl9vcGVyYXRpb25zW29wSWR4XS5jbG9uZSh7XG4gICAgICAgIG9wdDogdGhpcy5fZmluZE9wZXJhdGlvbk9wdGlvbnNcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtDb25zdHJ1Y3Rvci48TW9kZWw+fVxuICAgKi9cbiAgbW9kZWxDbGFzcygpIHtcbiAgICByZXR1cm4gdGhpcy5fbW9kZWxDbGFzcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGlzRmluZFF1ZXJ5KCkge1xuICAgIHJldHVybiAhdGhpcy5fb3BlcmF0aW9ucy5zb21lKG1ldGhvZCA9PiBtZXRob2QuaXNXcml0ZU9wZXJhdGlvbikgJiYgIXRoaXMuX2V4cGxpY2l0UmVqZWN0VmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLmJ1aWxkKCkudG9TdHJpbmcoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgdG9TcWwoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgY29uc3QgYnVpbGRlciA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuX21vZGVsQ2xhc3MpO1xuICAgIHRoaXMuYmFzZUNsb25lSW50byhidWlsZGVyKTtcblxuICAgIGJ1aWxkZXIuX2V4cGxpY2l0UmVqZWN0VmFsdWUgPSB0aGlzLl9leHBsaWNpdFJlamVjdFZhbHVlO1xuICAgIGJ1aWxkZXIuX2V4cGxpY2l0UmVzb2x2ZVZhbHVlID0gdGhpcy5fZXhwbGljaXRSZXNvbHZlVmFsdWU7XG5cbiAgICBidWlsZGVyLl9lYWdlckV4cHJlc3Npb24gPSB0aGlzLl9lYWdlckV4cHJlc3Npb247XG4gICAgYnVpbGRlci5fZWFnZXJGaWx0ZXJFeHByZXNzaW9ucyA9IHRoaXMuX2VhZ2VyRmlsdGVyRXhwcmVzc2lvbnMuc2xpY2UoKTtcblxuICAgIGJ1aWxkZXIuX2FsbG93ZWRFYWdlckV4cHJlc3Npb24gPSB0aGlzLl9hbGxvd2VkRWFnZXJFeHByZXNzaW9uO1xuICAgIGJ1aWxkZXIuX2FsbG93ZWRJbnNlcnRFeHByZXNzaW9uID0gdGhpcy5fYWxsb3dlZEluc2VydEV4cHJlc3Npb247XG5cbiAgICBidWlsZGVyLl9maW5kT3BlcmF0aW9uT3B0aW9ucyA9IHRoaXMuX2ZpbmRPcGVyYXRpb25PcHRpb25zO1xuICAgIGJ1aWxkZXIuX2VhZ2VyT3BlcmF0aW9uT3B0aW9ucyA9IHRoaXMuX2VhZ2VyT3BlcmF0aW9uT3B0aW9ucztcblxuICAgIGJ1aWxkZXIuX2ZpbmRPcGVyYXRpb25GYWN0b3J5ID0gdGhpcy5fZmluZE9wZXJhdGlvbkZhY3Rvcnk7XG4gICAgYnVpbGRlci5faW5zZXJ0T3BlcmF0aW9uRmFjdG9yeSA9IHRoaXMuX2luc2VydE9wZXJhdGlvbkZhY3Rvcnk7XG4gICAgYnVpbGRlci5fdXBkYXRlT3BlcmF0aW9uRmFjdG9yeSA9IHRoaXMuX3VwZGF0ZU9wZXJhdGlvbkZhY3Rvcnk7XG4gICAgYnVpbGRlci5fcGF0Y2hPcGVyYXRpb25GYWN0b3J5ID0gdGhpcy5fcGF0Y2hPcGVyYXRpb25GYWN0b3J5O1xuICAgIGJ1aWxkZXIuX3JlbGF0ZU9wZXJhdGlvbkZhY3RvcnkgPSB0aGlzLl9yZWxhdGVPcGVyYXRpb25GYWN0b3J5O1xuICAgIGJ1aWxkZXIuX3VucmVsYXRlT3BlcmF0aW9uRmFjdG9yeSA9IHRoaXMuX3VucmVsYXRlT3BlcmF0aW9uRmFjdG9yeTtcbiAgICBidWlsZGVyLl9kZWxldGVPcGVyYXRpb25GYWN0b3J5ID0gdGhpcy5fZGVsZXRlT3BlcmF0aW9uRmFjdG9yeTtcbiAgICBidWlsZGVyLl9lYWdlck9wZXJhdGlvbkZhY3RvcnkgPSB0aGlzLl9lYWdlck9wZXJhdGlvbkZhY3Rvcnk7XG5cbiAgICByZXR1cm4gYnVpbGRlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgY2xlYXJFYWdlcigpIHtcbiAgICB0aGlzLl9lYWdlckV4cHJlc3Npb24gPSBudWxsO1xuICAgIHRoaXMuX2VhZ2VyRmlsdGVyRXhwcmVzc2lvbnMgPSBbXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgY2xlYXJSZWplY3QoKSB7XG4gICAgdGhpcy5fZXhwbGljaXRSZWplY3RWYWx1ZSA9IG51bGw7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlcn1cbiAgICovXG4gIGNsZWFyUmVzb2x2ZSgpIHtcbiAgICB0aGlzLl9leHBsaWNpdFJlc29sdmVWYWx1ZSA9IG51bGw7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbj19IHN1Y2Nlc3NIYW5kbGVyXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb249fSBlcnJvckhhbmRsZXJcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICB0aGVuKHN1Y2Nlc3NIYW5kbGVyLCBlcnJvckhhbmRsZXIpIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXMuZXhlY3V0ZSgpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4uYXBwbHkocHJvbWlzZSwgYXJndW1lbnRzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBtYXBwZXJcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBtYXAobWFwcGVyKSB7XG4gICAgdmFyIHByb21pc2UgPSB0aGlzLmV4ZWN1dGUoKTtcbiAgICByZXR1cm4gcHJvbWlzZS5tYXAuYXBwbHkocHJvbWlzZSwgYXJndW1lbnRzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBlcnJvckhhbmRsZXJcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBjYXRjaChlcnJvckhhbmRsZXIpIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXMuZXhlY3V0ZSgpO1xuICAgIHJldHVybiBwcm9taXNlLmNhdGNoLmFwcGx5KHByb21pc2UsIGFyZ3VtZW50cyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHsqfSByZXR1cm5WYWx1ZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIHJldHVybihyZXR1cm5WYWx1ZSkge1xuICAgIHZhciBwcm9taXNlID0gdGhpcy5leGVjdXRlKCk7XG4gICAgcmV0dXJuIHByb21pc2UucmV0dXJuLmFwcGx5KHByb21pc2UsIGFyZ3VtZW50cyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHsqfSBjb250ZXh0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKi9cbiAgYmluZChjb250ZXh0KSB7XG4gICAgdmFyIHByb21pc2UgPSB0aGlzLmV4ZWN1dGUoKTtcbiAgICByZXR1cm4gcHJvbWlzZS5iaW5kLmFwcGx5KHByb21pc2UsIGFyZ3VtZW50cyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBhc0NhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgdmFyIHByb21pc2UgPSB0aGlzLmV4ZWN1dGUoKTtcbiAgICByZXR1cm4gcHJvbWlzZS5hc0NhbGxiYWNrLmFwcGx5KHByb21pc2UsIGFyZ3VtZW50cyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBub2RlaWZ5KGNhbGxiYWNrKSB7XG4gICAgdmFyIHByb21pc2UgPSB0aGlzLmV4ZWN1dGUoKTtcbiAgICByZXR1cm4gcHJvbWlzZS5ub2RlaWZ5LmFwcGx5KHByb21pc2UsIGFyZ3VtZW50cyk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICByZXN1bHRTaXplKCkge1xuICAgIGNvbnN0IGtuZXggPSB0aGlzLmtuZXgoKTtcblxuICAgIC8vIG9yZGVyQnkgaXMgdXNlbGVzcyBoZXJlIGFuZCBpdCBjYW4gbWFrZSB0aGluZ3MgYSBsb3Qgc2xvd2VyIChhdCBsZWFzdCB3aXRoIHBvc3RncmVzcWwgOS4zKS5cbiAgICAvLyBSZW1vdmUgaXQgZnJvbSB0aGUgY291bnQgcXVlcnkuIFdlIGFsc28gcmVtb3ZlIHRoZSBvZmZzZXQgYW5kIGxpbWl0XG4gICAgY29uc3QgcXVlcnkgPSB0aGlzLmNsb25lKCkuY2xlYXIoL29yZGVyQnl8b2Zmc2V0fGxpbWl0LykuYnVpbGQoKTtcbiAgICBjb25zdCByYXdRdWVyeSA9IGtuZXgucmF3KHF1ZXJ5KS53cmFwKCcoJywgJykgYXMgdGVtcCcpO1xuICAgIGNvbnN0IGNvdW50UXVlcnkgPSBrbmV4LmNvdW50KCcqIGFzIGNvdW50JykuZnJvbShyYXdRdWVyeSk7XG5cbiAgICBpZiAodGhpcy5pbnRlcm5hbE9wdGlvbnMoKS5kZWJ1Zykge1xuICAgICAgY291bnRRdWVyeS5kZWJ1ZygpO1xuICAgIH1cblxuICAgIHJldHVybiBjb3VudFF1ZXJ5LnRoZW4ocmVzdWx0ID0+IHJlc3VsdFswXSA/IHJlc3VsdFswXS5jb3VudCA6IDApO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtrbmV4LlF1ZXJ5QnVpbGRlcn1cbiAgICovXG4gIGJ1aWxkKCkge1xuICAgIC8vIFRha2UgYSBjbG9uZSBzbyB0aGF0IHdlIGRvbid0IG1vZGlmeSB0aGlzIGluc3RhbmNlIGR1cmluZyBidWlsZC5cbiAgICBjb25zdCBidWlsZGVyID0gdGhpcy5jbG9uZSgpO1xuXG4gICAgaWYgKGJ1aWxkZXIuaXNGaW5kUXVlcnkoKSkge1xuICAgICAgLy8gSWYgbm8gd3JpdGUgb3BlcmF0aW9ucyBoYXZlIGJlZW4gY2FsbGVkIGF0IHRoaXMgcG9pbnQgdGhpcyBxdWVyeSBpcyBhXG4gICAgICAvLyBmaW5kIHF1ZXJ5IGFuZCB3ZSBuZWVkIHRvIGNhbGwgdGhlIGN1c3RvbSBmaW5kIGltcGxlbWVudGF0aW9uLlxuICAgICAgYnVpbGRlci5fY2FsbEZpbmRPcGVyYXRpb24oKTtcbiAgICB9XG5cbiAgICBpZiAoYnVpbGRlci5fZWFnZXJFeHByZXNzaW9uKSB7XG4gICAgICBidWlsZGVyLl9jYWxsRWFnZXJGZXRjaE9wZXJhdGlvbigpO1xuICAgIH1cblxuICAgIC8vIFdlIG5lZWQgdG8gYnVpbGQgdGhlIGJ1aWxkZXIgZXZlbiBpZiBhIHF1ZXJ5IGV4ZWN1dG9yIG9wZXJhdGlvblxuICAgIC8vIGhhcyBiZWVuIGNhbGxlZCBzbyB0aGF0IHRoZSBvbkJ1aWxkIGhvb2tzIGdldCBjYWxsZWQuXG4gICAgY29uc3Qga25leEJ1aWxkZXIgPSBidWlsZChidWlsZGVyKTtcbiAgICBjb25zdCBxdWVyeUV4ZWN1dG9yT3BlcmF0aW9uID0gYnVpbGRlci5fcXVlcnlFeGVjdXRvck9wZXJhdGlvbigpO1xuXG4gICAgaWYgKHF1ZXJ5RXhlY3V0b3JPcGVyYXRpb24pIHtcbiAgICAgIC8vIElmIHRoZSBxdWVyeSBleGVjdXRvciBpcyBzZXQsIHdlIGJ1aWxkIHRoZSBidWlsZGVyIHRoYXQgaXQgcmV0dXJucy5cbiAgICAgIHJldHVybiBxdWVyeUV4ZWN1dG9yT3BlcmF0aW9uLnF1ZXJ5RXhlY3V0b3IoYnVpbGRlcikuYnVpbGQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGtuZXhCdWlsZGVyO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIGV4ZWN1dGUoKSB7XG4gICAgLy8gVGFrZSBhIGNsb25lIHNvIHRoYXQgd2UgZG9uJ3QgbW9kaWZ5IHRoaXMgaW5zdGFuY2UgZHVyaW5nIGV4ZWN1dGlvbi5cbiAgICBsZXQgYnVpbGRlciA9IHRoaXMuY2xvbmUoKTtcbiAgICBsZXQgcHJvbWlzZUN0eCA9IHtidWlsZGVyOiBidWlsZGVyfTtcbiAgICBsZXQgcHJvbWlzZSA9IFByb21pc2UuYmluZChwcm9taXNlQ3R4KTtcbiAgICBsZXQgY29udGV4dCA9IGJ1aWxkZXIuY29udGV4dCgpIHx8IHt9O1xuICAgIGxldCBpbnRlcm5hbENvbnRleHQgPSBidWlsZGVyLmludGVybmFsQ29udGV4dCgpO1xuXG4gICAgaWYgKGJ1aWxkZXIuaXNGaW5kUXVlcnkoKSkge1xuICAgICAgLy8gSWYgbm8gd3JpdGUgb3BlcmF0aW9ucyBoYXZlIGJlZW4gY2FsbGVkIGF0IHRoaXMgcG9pbnQgdGhpcyBxdWVyeSBpcyBhXG4gICAgICAvLyBmaW5kIHF1ZXJ5IGFuZCB3ZSBuZWVkIHRvIGNhbGwgdGhlIGN1c3RvbSBmaW5kIGltcGxlbWVudGF0aW9uLlxuICAgICAgYnVpbGRlci5fY2FsbEZpbmRPcGVyYXRpb24oKTtcbiAgICB9XG5cbiAgICBpZiAoYnVpbGRlci5fZWFnZXJFeHByZXNzaW9uKSB7XG4gICAgICBidWlsZGVyLl9jYWxsRWFnZXJGZXRjaE9wZXJhdGlvbigpO1xuICAgIH1cblxuICAgIHByb21pc2UgPSBjaGFpbkJlZm9yZU9wZXJhdGlvbnMocHJvbWlzZSwgYnVpbGRlci5fb3BlcmF0aW9ucyk7XG4gICAgcHJvbWlzZSA9IGNoYWluSG9va3MocHJvbWlzZSwgY29udGV4dC5ydW5CZWZvcmUpO1xuICAgIHByb21pc2UgPSBjaGFpbkhvb2tzKHByb21pc2UsIGludGVybmFsQ29udGV4dC5ydW5CZWZvcmUpO1xuICAgIHByb21pc2UgPSBjaGFpbkJlZm9yZUludGVybmFsT3BlcmF0aW9ucyhwcm9taXNlLCBidWlsZGVyLl9vcGVyYXRpb25zKTtcblxuICAgIC8vIFJlc29sdmUgYWxsIGJlZm9yZSBob29rcyBiZWZvcmUgYnVpbGRpbmcgYW5kIGV4ZWN1dGluZyB0aGUgcXVlcnlcbiAgICAvLyBhbmQgdGhlIHJlc3Qgb2YgdGhlIGhvb2tzLlxuICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgcHJvbWlzZUN0eCA9IHRoaXM7XG4gICAgICBjb25zdCBidWlsZGVyID0gcHJvbWlzZUN0eC5idWlsZGVyO1xuXG4gICAgICBsZXQgcHJvbWlzZSA9IG51bGw7XG4gICAgICBsZXQga25leEJ1aWxkZXIgPSBidWlsZChidWlsZGVyKTtcbiAgICAgIGxldCBxdWVyeUV4ZWN1dG9yT3BlcmF0aW9uID0gYnVpbGRlci5fcXVlcnlFeGVjdXRvck9wZXJhdGlvbigpO1xuXG4gICAgICBpZiAoYnVpbGRlci5fZXhwbGljaXRSZWplY3RWYWx1ZSkge1xuICAgICAgICBwcm9taXNlICA9IFByb21pc2UucmVqZWN0KGJ1aWxkZXIuX2V4cGxpY2l0UmVqZWN0VmFsdWUpLmJpbmQocHJvbWlzZUN0eCk7XG4gICAgICB9IGVsc2UgaWYgKGJ1aWxkZXIuX2V4cGxpY2l0UmVzb2x2ZVZhbHVlKSB7XG4gICAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoYnVpbGRlci5fZXhwbGljaXRSZXNvbHZlVmFsdWUpLmJpbmQocHJvbWlzZUN0eCk7XG4gICAgICB9IGVsc2UgaWYgKHF1ZXJ5RXhlY3V0b3JPcGVyYXRpb24pIHtcbiAgICAgICAgcHJvbWlzZSA9IHF1ZXJ5RXhlY3V0b3JPcGVyYXRpb24ucXVlcnlFeGVjdXRvcihidWlsZGVyKS5iaW5kKHByb21pc2VDdHgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvbWlzZSA9IGtuZXhCdWlsZGVyLmJpbmQocHJvbWlzZUN0eCk7XG4gICAgICAgIHByb21pc2UgPSBjaGFpblJhd1Jlc3VsdE9wZXJhdGlvbnMocHJvbWlzZSwgYnVpbGRlci5fb3BlcmF0aW9ucyk7XG4gICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oY3JlYXRlTW9kZWxzKTtcbiAgICAgIH1cblxuICAgICAgcHJvbWlzZSA9IGNoYWluQWZ0ZXJRdWVyeU9wZXJhdGlvbnMocHJvbWlzZSwgYnVpbGRlci5fb3BlcmF0aW9ucyk7XG4gICAgICBwcm9taXNlID0gY2hhaW5BZnRlckludGVybmFsT3BlcmF0aW9ucyhwcm9taXNlLCBidWlsZGVyLl9vcGVyYXRpb25zKTtcbiAgICAgIHByb21pc2UgPSBjaGFpbkhvb2tzKHByb21pc2UsIGNvbnRleHQucnVuQWZ0ZXIpO1xuICAgICAgcHJvbWlzZSA9IGNoYWluSG9va3MocHJvbWlzZSwgaW50ZXJuYWxDb250ZXh0LnJ1bkFmdGVyKTtcbiAgICAgIHByb21pc2UgPSBjaGFpbkFmdGVyT3BlcmF0aW9ucyhwcm9taXNlLCBidWlsZGVyLl9vcGVyYXRpb25zKTtcblxuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlck9wZXJhdGlvbn1cbiAgICovXG4gIF9xdWVyeUV4ZWN1dG9yT3BlcmF0aW9uKCkge1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gdGhpcy5fb3BlcmF0aW9ucy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgIGNvbnN0IG9wID0gdGhpcy5fb3BlcmF0aW9uc1tpXTtcblxuICAgICAgaWYgKG9wLmhhc1F1ZXJ5RXhlY3V0b3IoKSkge1xuICAgICAgICByZXR1cm4gb3A7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jYWxsRmluZE9wZXJhdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuaGFzKEZpbmRPcGVyYXRpb24pKSB7XG4gICAgICBjb25zdCBvcGVyYXRpb24gPSB0aGlzLl9maW5kT3BlcmF0aW9uRmFjdG9yeSh0aGlzKTtcblxuICAgICAgb3BlcmF0aW9uLm9wdCA9IE9iamVjdC5hc3NpZ24ob3BlcmF0aW9uLm9wdCxcbiAgICAgICAgdGhpcy5fZmluZE9wZXJhdGlvbk9wdGlvbnNcbiAgICAgICk7XG5cbiAgICAgIHRoaXMuY2FsbFF1ZXJ5QnVpbGRlck9wZXJhdGlvbihvcGVyYXRpb24sIFtdLCAvKiBwdXNoRnJvbnQgPSAqLyB0cnVlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jYWxsRWFnZXJGZXRjaE9wZXJhdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuaGFzKEVhZ2VyT3BlcmF0aW9uKSAmJiB0aGlzLl9lYWdlckV4cHJlc3Npb24pIHtcbiAgICAgIGNvbnN0IG9wZXJhdGlvbiA9IHRoaXMuX2VhZ2VyT3BlcmF0aW9uRmFjdG9yeSh0aGlzKTtcblxuICAgICAgb3BlcmF0aW9uLm9wdCA9IE9iamVjdC5hc3NpZ24ob3BlcmF0aW9uLm9wdCxcbiAgICAgICAgdGhpcy5fbW9kZWxDbGFzcy5kZWZhdWx0RWFnZXJPcHRpb25zLFxuICAgICAgICB0aGlzLl9lYWdlck9wZXJhdGlvbk9wdGlvbnNcbiAgICAgICk7XG5cbiAgICAgIHRoaXMuY2FsbFF1ZXJ5QnVpbGRlck9wZXJhdGlvbihvcGVyYXRpb24sIFtcbiAgICAgICAgdGhpcy5fZWFnZXJFeHByZXNzaW9uLFxuICAgICAgICB0aGlzLl9lYWdlckZpbHRlckV4cHJlc3Npb25zXG4gICAgICBdKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5TmFtZVxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgcGx1Y2socHJvcGVydHlOYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMucnVuQWZ0ZXIocmVzdWx0ID0+IHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5tYXAoaXQgPT4gaXQgJiYgaXRbcHJvcGVydHlOYW1lXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICBmaXJzdCgpIHtcbiAgICByZXR1cm4gdGhpcy5ydW5BZnRlcihyZXN1bHQgPT4ge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0WzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGhhc1NlbGVjdGlvbihzZWxlY3Rpb24sIGV4cGxpY2l0ID0gZmFsc2UpIHtcbiAgICBjb25zdCB0YWJsZSA9IHRoaXMubW9kZWxDbGFzcygpLnRhYmxlTmFtZTtcbiAgICBsZXQgbm9TZWxlY3RTdGF0ZW1lbnRzID0gdHJ1ZTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gdGhpcy5fb3BlcmF0aW9ucy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgIGNvbnN0IG9wID0gdGhpcy5fb3BlcmF0aW9uc1tpXTtcblxuICAgICAgaWYgKG9wIGluc3RhbmNlb2YgU2VsZWN0T3BlcmF0aW9uKSB7XG4gICAgICAgIG5vU2VsZWN0U3RhdGVtZW50cyA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChvcC5oYXNTZWxlY3Rpb24odGFibGUsIHNlbGVjdGlvbikpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChub1NlbGVjdFN0YXRlbWVudHMgJiYgIWV4cGxpY2l0KSB7XG4gICAgICAvLyBJbXBsaWNpdCBgc2VsZWN0ICpgLlxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtDb25zdHJ1Y3Rvci48TW9kZWw+PX0gbW9kZWxDbGFzc1xuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKE1vZGVsLCBNb2RlbCwgc3RyaW5nKX0gdHJhdmVyc2VyXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICB0cmF2ZXJzZShtb2RlbENsYXNzLCB0cmF2ZXJzZXIpIHtcbiAgICBpZiAodHlwZW9mIHRyYXZlcnNlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRyYXZlcnNlciA9IG1vZGVsQ2xhc3M7XG4gICAgICBtb2RlbENsYXNzID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5ydW5BZnRlcihyZXN1bHQgPT4ge1xuICAgICAgdGhpcy5fbW9kZWxDbGFzcy50cmF2ZXJzZShtb2RlbENsYXNzLCByZXN1bHQsIHRyYXZlcnNlcik7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q29uc3RydWN0b3IuPE1vZGVsPj19IG1vZGVsQ2xhc3NcbiAgICogQHBhcmFtIHtBcnJheS48c3RyaW5nPn0gcHJvcGVydGllc1xuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgcGljayhtb2RlbENsYXNzLCBwcm9wZXJ0aWVzKSB7XG4gICAgaWYgKHR5cGVvZiBwcm9wZXJ0aWVzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcHJvcGVydGllcyA9IG1vZGVsQ2xhc3M7XG4gICAgICBtb2RlbENsYXNzID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBUdXJuIHRoZSBwcm9wZXJ0aWVzIGludG8gYSBoYXNoIGZvciBwZXJmb3JtYW5jZS5cbiAgICBwcm9wZXJ0aWVzID0gcHJvcGVydGllcy5yZWR1Y2UoKG9iaiwgcHJvcCkgPT4ge1xuICAgICAgb2JqW3Byb3BdID0gdHJ1ZTtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfSwge30pO1xuXG4gICAgcmV0dXJuIHRoaXMudHJhdmVyc2UobW9kZWxDbGFzcywgbW9kZWwgPT4ge1xuICAgICAgbW9kZWwuJHBpY2socHJvcGVydGllcyk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtDb25zdHJ1Y3Rvci48TW9kZWw+PX0gbW9kZWxDbGFzc1xuICAgKiBAcGFyYW0ge0FycmF5LjxzdHJpbmc+fSBwcm9wZXJ0aWVzXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICBvbWl0KG1vZGVsQ2xhc3MsIHByb3BlcnRpZXMpIHtcbiAgICBpZiAodHlwZW9mIHByb3BlcnRpZXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwcm9wZXJ0aWVzID0gbW9kZWxDbGFzcztcbiAgICAgIG1vZGVsQ2xhc3MgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIFR1cm4gdGhlIHByb3BlcnRpZXMgaW50byBhIGhhc2ggZm9yIHBlcmZvcm1hbmNlLlxuICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzLnJlZHVjZSgob2JqLCBwcm9wKSA9PiB7XG4gICAgICBvYmpbcHJvcF0gPSB0cnVlO1xuICAgICAgcmV0dXJuIG9iajtcbiAgICB9LCB7fSk7XG5cbiAgICByZXR1cm4gdGhpcy50cmF2ZXJzZShtb2RlbENsYXNzLCBtb2RlbCA9PiB7XG4gICAgICBtb2RlbC4kb21pdChwcm9wZXJ0aWVzKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGFnZVxuICAgKiBAcGFyYW0ge251bWJlcn0gcGFnZVNpemVcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlcn1cbiAgICovXG4gIHBhZ2UocGFnZSwgcGFnZVNpemUpIHtcbiAgICByZXR1cm4gdGhpcy5yYW5nZShwYWdlICogcGFnZVNpemUsIChwYWdlICsgMSkgKiBwYWdlU2l6ZSAtIDEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFxuICAgKiBAcGFyYW0ge251bWJlcn0gZW5kXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKFJhbmdlT3BlcmF0aW9uKVxuICByYW5nZShzdGFydCwgZW5kKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpb25OYW1lXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKFtKb2luUmVsYXRpb25PcGVyYXRpb24sIHtqb2luT3BlcmF0aW9uOiAnam9pbid9XSlcbiAgam9pblJlbGF0aW9uKHJlbGF0aW9uTmFtZSkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlbGF0aW9uTmFtZVxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihbSm9pblJlbGF0aW9uT3BlcmF0aW9uLCB7am9pbk9wZXJhdGlvbjogJ2lubmVySm9pbid9XSlcbiAgaW5uZXJKb2luUmVsYXRpb24ocmVsYXRpb25OYW1lKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpb25OYW1lXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKFtKb2luUmVsYXRpb25PcGVyYXRpb24sIHtqb2luT3BlcmF0aW9uOiAnb3V0ZXJKb2luJ31dKVxuICBvdXRlckpvaW5SZWxhdGlvbihyZWxhdGlvbk5hbWUpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGlvbk5hbWVcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlcn1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oW0pvaW5SZWxhdGlvbk9wZXJhdGlvbiwge2pvaW5PcGVyYXRpb246ICdsZWZ0Sm9pbid9XSlcbiAgbGVmdEpvaW5SZWxhdGlvbihyZWxhdGlvbk5hbWUpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGlvbk5hbWVcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlcn1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oW0pvaW5SZWxhdGlvbk9wZXJhdGlvbiwge2pvaW5PcGVyYXRpb246ICdsZWZ0T3V0ZXJKb2luJ31dKVxuICBsZWZ0T3V0ZXJKb2luUmVsYXRpb24ocmVsYXRpb25OYW1lKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpb25OYW1lXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKFtKb2luUmVsYXRpb25PcGVyYXRpb24sIHtqb2luT3BlcmF0aW9uOiAncmlnaHRKb2luJ31dKVxuICByaWdodEpvaW5SZWxhdGlvbihyZWxhdGlvbk5hbWUpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGlvbk5hbWVcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlcn1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oW0pvaW5SZWxhdGlvbk9wZXJhdGlvbiwge2pvaW5PcGVyYXRpb246ICdyaWdodE91dGVySm9pbid9XSlcbiAgcmlnaHRPdXRlckpvaW5SZWxhdGlvbihyZWxhdGlvbk5hbWUpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGlvbk5hbWVcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlcn1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oW0pvaW5SZWxhdGlvbk9wZXJhdGlvbiwge2pvaW5PcGVyYXRpb246ICdmdWxsT3V0ZXJKb2luJ31dKVxuICBmdWxsT3V0ZXJKb2luUmVsYXRpb24ocmVsYXRpb25OYW1lKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ8QXJyYXkuPHN0cmluZ3xudW1iZXI+fSBpZFxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgZmluZEJ5SWQoaWQpIHtcbiAgICByZXR1cm4gdGhpcy53aGVyZUNvbXBvc2l0ZSh0aGlzLl9tb2RlbENsYXNzLmdldEZ1bGxJZENvbHVtbigpLCBpZCkuZmlyc3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgd2l0aFNjaGVtYShzY2hlbWEpIHtcbiAgICB0aGlzLmludGVybmFsQ29udGV4dCgpLm9uQnVpbGQucHVzaChidWlsZGVyID0+IHtcbiAgICAgIGlmICghYnVpbGRlci5oYXMoL3dpdGhTY2hlbWEvKSkge1xuICAgICAgICAvLyBOZWVkIHRvIHB1c2ggdGhpcyBvcGVyYXRpb24gdG8gdGhlIGZyb250IGJlY2F1c2Uga25leCBkb2Vzbid0IHVzZSB0aGVcbiAgICAgICAgLy8gc2NoZW1hIGZvciBvcGVyYXRpb25zIGNhbGxlZCBiZWZvcmUgYHdpdGhTY2hlbWFgLlxuICAgICAgICBidWlsZGVyLmNhbGxLbmV4UXVlcnlCdWlsZGVyT3BlcmF0aW9uKCd3aXRoU2NoZW1hJywgW3NjaGVtYV0sIHRydWUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlcn1cbiAgICovXG4gIGRlYnVnKCkge1xuICAgIHRoaXMuaW50ZXJuYWxPcHRpb25zKCkuZGVidWcgPSB0cnVlO1xuICAgIHRoaXMuaW50ZXJuYWxDb250ZXh0KCkub25CdWlsZC5wdXNoKGJ1aWxkZXIgPT4ge1xuICAgICAgYnVpbGRlci5jYWxsS25leFF1ZXJ5QnVpbGRlck9wZXJhdGlvbignZGVidWcnLCBbXSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdHxNb2RlbHxBcnJheS48T2JqZWN0PnxBcnJheS48TW9kZWw+fSBtb2RlbHNPck9iamVjdHNcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlcn1cbiAgICovXG4gIEB3cml0ZVF1ZXJ5T3BlcmF0aW9uXG4gIGluc2VydChtb2RlbHNPck9iamVjdHMpIHtcbiAgICBjb25zdCBpbnNlcnRPcGVyYXRpb24gPSB0aGlzLl9pbnNlcnRPcGVyYXRpb25GYWN0b3J5KHRoaXMpO1xuICAgIHJldHVybiB0aGlzLmNhbGxRdWVyeUJ1aWxkZXJPcGVyYXRpb24oaW5zZXJ0T3BlcmF0aW9uLCBbbW9kZWxzT3JPYmplY3RzXSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R8TW9kZWx8QXJyYXkuPE9iamVjdD58QXJyYXkuPE1vZGVsPn0gbW9kZWxzT3JPYmplY3RzXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICBAd3JpdGVRdWVyeU9wZXJhdGlvblxuICBpbnNlcnRBbmRGZXRjaChtb2RlbHNPck9iamVjdHMpIHtcbiAgICBjb25zdCBpbnNlcnRBbmRGZXRjaE9wZXJhdGlvbiA9IG5ldyBJbnNlcnRBbmRGZXRjaE9wZXJhdGlvbignaW5zZXJ0QW5kRmV0Y2gnLCB7XG4gICAgICBkZWxlZ2F0ZTogdGhpcy5faW5zZXJ0T3BlcmF0aW9uRmFjdG9yeSh0aGlzKVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuY2FsbFF1ZXJ5QnVpbGRlck9wZXJhdGlvbihpbnNlcnRBbmRGZXRjaE9wZXJhdGlvbiwgW21vZGVsc09yT2JqZWN0c10pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fE1vZGVsfEFycmF5LjxPYmplY3Q+fEFycmF5LjxNb2RlbD59IG1vZGVsc09yT2JqZWN0c1xuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgQHdyaXRlUXVlcnlPcGVyYXRpb25cbiAgaW5zZXJ0R3JhcGgobW9kZWxzT3JPYmplY3RzKSB7XG4gICAgY29uc3QgaW5zZXJ0R3JhcGhPcGVyYXRpb24gPSBuZXcgSW5zZXJ0R3JhcGhPcGVyYXRpb24oJ2luc2VydEdyYXBoJywge1xuICAgICAgZGVsZWdhdGU6IHRoaXMuX2luc2VydE9wZXJhdGlvbkZhY3RvcnkodGhpcylcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLmNhbGxRdWVyeUJ1aWxkZXJPcGVyYXRpb24oaW5zZXJ0R3JhcGhPcGVyYXRpb24sIFttb2RlbHNPck9iamVjdHNdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgaW5zZXJ0V2l0aFJlbGF0ZWQoLi4uYXJncykge1xuICAgIHJldHVybiB0aGlzLmluc2VydEdyYXBoKC4uLmFyZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fE1vZGVsfEFycmF5LjxPYmplY3Q+fEFycmF5LjxNb2RlbD59IG1vZGVsc09yT2JqZWN0c1xuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgQHdyaXRlUXVlcnlPcGVyYXRpb25cbiAgaW5zZXJ0R3JhcGhBbmRGZXRjaChtb2RlbHNPck9iamVjdHMpIHtcbiAgICBjb25zdCBpbnNlcnRHcmFwaEFuZEZldGNoT3BlcmF0aW9uID0gbmV3IEluc2VydEdyYXBoQW5kRmV0Y2hPcGVyYXRpb24oJ2luc2VydEdyYXBoQW5kRmV0Y2gnLCB7XG4gICAgICBkZWxlZ2F0ZTogbmV3IEluc2VydEdyYXBoT3BlcmF0aW9uKCdpbnNlcnRHcmFwaCcsIHtcbiAgICAgICAgZGVsZWdhdGU6IHRoaXMuX2luc2VydE9wZXJhdGlvbkZhY3RvcnkodGhpcylcbiAgICAgIH0pXG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5jYWxsUXVlcnlCdWlsZGVyT3BlcmF0aW9uKGluc2VydEdyYXBoQW5kRmV0Y2hPcGVyYXRpb24sIFttb2RlbHNPck9iamVjdHNdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgaW5zZXJ0V2l0aFJlbGF0ZWRBbmRGZXRjaCguLi5hcmdzKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zZXJ0R3JhcGhBbmRGZXRjaCguLi5hcmdzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01vZGVsfE9iamVjdD19IG1vZGVsT3JPYmplY3RcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlcn1cbiAgICovXG4gIEB3cml0ZVF1ZXJ5T3BlcmF0aW9uXG4gIHVwZGF0ZShtb2RlbE9yT2JqZWN0KSB7XG4gICAgY29uc3QgdXBkYXRlT3BlcmF0aW9uID0gdGhpcy5fdXBkYXRlT3BlcmF0aW9uRmFjdG9yeSh0aGlzKTtcbiAgICByZXR1cm4gdGhpcy5jYWxsUXVlcnlCdWlsZGVyT3BlcmF0aW9uKHVwZGF0ZU9wZXJhdGlvbiwgW21vZGVsT3JPYmplY3RdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01vZGVsfE9iamVjdD19IG1vZGVsT3JPYmplY3RcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlcn1cbiAgICovXG4gIEB3cml0ZVF1ZXJ5T3BlcmF0aW9uXG4gIHVwZGF0ZUFuZEZldGNoKG1vZGVsT3JPYmplY3QpIHtcbiAgICBjb25zdCBkZWxlZ2F0ZU9wZXJhdGlvbiA9IHRoaXMuX3VwZGF0ZU9wZXJhdGlvbkZhY3RvcnkodGhpcyk7XG5cbiAgICBpZiAoIShkZWxlZ2F0ZU9wZXJhdGlvbi5pbnN0YW5jZSBpbnN0YW5jZW9mIHRoaXMuX21vZGVsQ2xhc3MpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VwZGF0ZUFuZEZldGNoIGNhbiBvbmx5IGJlIGNhbGxlZCBmb3IgaW5zdGFuY2Ugb3BlcmF0aW9ucycpO1xuICAgIH1cblxuICAgIGNvbnN0IHVwZGF0ZUFuZEZldGNoID0gbmV3IFVwZGF0ZUFuZEZldGNoT3BlcmF0aW9uKCd1cGRhdGVBbmRGZXRjaCcsIHtcbiAgICAgIGRlbGVnYXRlOiBkZWxlZ2F0ZU9wZXJhdGlvblxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuY2FsbFF1ZXJ5QnVpbGRlck9wZXJhdGlvbih1cGRhdGVBbmRGZXRjaCwgW2RlbGVnYXRlT3BlcmF0aW9uLmluc3RhbmNlLiRpZCgpLCBtb2RlbE9yT2JqZWN0XSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfEFycmF5LjxudW1iZXJ8c3RyaW5nPn0gaWRcbiAgICogQHBhcmFtIHtNb2RlbHxPYmplY3Q9fSBtb2RlbE9yT2JqZWN0XG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICBAd3JpdGVRdWVyeU9wZXJhdGlvblxuICB1cGRhdGVBbmRGZXRjaEJ5SWQoaWQsIG1vZGVsT3JPYmplY3QpIHtcbiAgICBjb25zdCB1cGRhdGVBbmRGZXRjaCA9IG5ldyBVcGRhdGVBbmRGZXRjaE9wZXJhdGlvbigndXBkYXRlQW5kRmV0Y2gnLCB7XG4gICAgICBkZWxlZ2F0ZTogdGhpcy5fdXBkYXRlT3BlcmF0aW9uRmFjdG9yeSh0aGlzKVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuY2FsbFF1ZXJ5QnVpbGRlck9wZXJhdGlvbih1cGRhdGVBbmRGZXRjaCwgW2lkLCBtb2RlbE9yT2JqZWN0XSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtNb2RlbHxPYmplY3Q9fSBtb2RlbE9yT2JqZWN0XG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICBAd3JpdGVRdWVyeU9wZXJhdGlvblxuICBwYXRjaChtb2RlbE9yT2JqZWN0KSB7XG4gICAgY29uc3QgcGF0Y2hPcGVyYXRpb24gPSB0aGlzLl9wYXRjaE9wZXJhdGlvbkZhY3RvcnkodGhpcyk7XG4gICAgcmV0dXJuIHRoaXMuY2FsbFF1ZXJ5QnVpbGRlck9wZXJhdGlvbihwYXRjaE9wZXJhdGlvbiwgW21vZGVsT3JPYmplY3RdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01vZGVsfE9iamVjdD19IG1vZGVsT3JPYmplY3RcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlcn1cbiAgICovXG4gIEB3cml0ZVF1ZXJ5T3BlcmF0aW9uXG4gIHBhdGNoQW5kRmV0Y2gobW9kZWxPck9iamVjdCkge1xuICAgIGNvbnN0IGRlbGVnYXRlT3BlcmF0aW9uID0gdGhpcy5fcGF0Y2hPcGVyYXRpb25GYWN0b3J5KHRoaXMpO1xuXG4gICAgaWYgKCEoZGVsZWdhdGVPcGVyYXRpb24uaW5zdGFuY2UgaW5zdGFuY2VvZiB0aGlzLl9tb2RlbENsYXNzKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXRjaEFuZEZldGNoIGNhbiBvbmx5IGJlIGNhbGxlZCBmb3IgaW5zdGFuY2Ugb3BlcmF0aW9ucycpO1xuICAgIH1cblxuICAgIGNvbnN0IHBhdGNoQW5kRmV0Y2ggPSBuZXcgVXBkYXRlQW5kRmV0Y2hPcGVyYXRpb24oJ3BhdGNoQW5kRmV0Y2gnLCB7XG4gICAgICBkZWxlZ2F0ZTogZGVsZWdhdGVPcGVyYXRpb25cbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLmNhbGxRdWVyeUJ1aWxkZXJPcGVyYXRpb24ocGF0Y2hBbmRGZXRjaCwgW2RlbGVnYXRlT3BlcmF0aW9uLmluc3RhbmNlLiRpZCgpLCBtb2RlbE9yT2JqZWN0XSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfEFycmF5LjxudW1iZXJ8c3RyaW5nPn0gaWRcbiAgICogQHBhcmFtIHtNb2RlbHxPYmplY3Q9fSBtb2RlbE9yT2JqZWN0XG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICBAd3JpdGVRdWVyeU9wZXJhdGlvblxuICBwYXRjaEFuZEZldGNoQnlJZChpZCwgbW9kZWxPck9iamVjdCkge1xuICAgIGNvbnN0IHBhdGNoQW5kRmV0Y2ggPSBuZXcgVXBkYXRlQW5kRmV0Y2hPcGVyYXRpb24oJ3BhdGNoQW5kRmV0Y2gnLCB7XG4gICAgICBkZWxlZ2F0ZTogdGhpcy5fcGF0Y2hPcGVyYXRpb25GYWN0b3J5KHRoaXMpXG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5jYWxsUXVlcnlCdWlsZGVyT3BlcmF0aW9uKHBhdGNoQW5kRmV0Y2gsIFtpZCwgbW9kZWxPck9iamVjdF0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICBAd3JpdGVRdWVyeU9wZXJhdGlvblxuICBkZWxldGUoKSB7XG4gICAgY29uc3QgZGVsZXRlT3BlcmF0aW9uID0gdGhpcy5fZGVsZXRlT3BlcmF0aW9uRmFjdG9yeSh0aGlzKTtcbiAgICByZXR1cm4gdGhpcy5jYWxsUXVlcnlCdWlsZGVyT3BlcmF0aW9uKGRlbGV0ZU9wZXJhdGlvbiwgW10pO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICBkZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVsZXRlKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfEFycmF5LjxudW1iZXJ8c3RyaW5nPn0gaWRcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlcn1cbiAgICovXG4gIGRlbGV0ZUJ5SWQoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5kZWxldGUoKS53aGVyZUNvbXBvc2l0ZSh0aGlzLl9tb2RlbENsYXNzLmdldEZ1bGxJZENvbHVtbigpLCBpZCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfG9iamVjdHxBcnJheS48bnVtYmVyfHN0cmluZz58QXJyYXkuPEFycmF5LjxudW1iZXJ8c3RyaW5nPj58QXJyYXkuPG9iamVjdD59IGlkc1xuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgQHdyaXRlUXVlcnlPcGVyYXRpb25cbiAgcmVsYXRlKGlkcykge1xuICAgIGNvbnN0IHJlbGF0ZU9wZXJhdGlvbiA9IHRoaXMuX3JlbGF0ZU9wZXJhdGlvbkZhY3RvcnkodGhpcyk7XG4gICAgcmV0dXJuIHRoaXMuY2FsbFF1ZXJ5QnVpbGRlck9wZXJhdGlvbihyZWxhdGVPcGVyYXRpb24sIFtpZHNdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgQHdyaXRlUXVlcnlPcGVyYXRpb25cbiAgdW5yZWxhdGUoKSB7XG4gICAgY29uc3QgdW5yZWxhdGVPcGVyYXRpb24gPSB0aGlzLl91bnJlbGF0ZU9wZXJhdGlvbkZhY3RvcnkodGhpcyk7XG4gICAgcmV0dXJuIHRoaXMuY2FsbFF1ZXJ5QnVpbGRlck9wZXJhdGlvbih1bnJlbGF0ZU9wZXJhdGlvbiwgW10pO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICBpbmNyZW1lbnQocHJvcGVydHlOYW1lLCBob3dNdWNoKSB7XG4gICAgY29uc3QgY29sdW1uTmFtZSA9IHRoaXMubW9kZWxDbGFzcygpLnByb3BlcnR5TmFtZVRvQ29sdW1uTmFtZShwcm9wZXJ0eU5hbWUpO1xuXG4gICAgcmV0dXJuIHRoaXMucGF0Y2goe1xuICAgICAgW2NvbHVtbk5hbWVdOiB0aGlzLmtuZXgoKS5yYXcoJz8/ICsgPycsIFtjb2x1bW5OYW1lLCBob3dNdWNoXSlcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgZGVjcmVtZW50KHByb3BlcnR5TmFtZSwgaG93TXVjaCkge1xuICAgIGNvbnN0IGNvbHVtbk5hbWUgPSB0aGlzLm1vZGVsQ2xhc3MoKS5wcm9wZXJ0eU5hbWVUb0NvbHVtbk5hbWUocHJvcGVydHlOYW1lKTtcblxuICAgIHJldHVybiB0aGlzLnBhdGNoKHtcbiAgICAgIFtjb2x1bW5OYW1lXTogdGhpcy5rbmV4KCkucmF3KCc/PyAtID8nLCBbY29sdW1uTmFtZSwgaG93TXVjaF0pXG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gd3JpdGVRdWVyeU9wZXJhdGlvbih0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yKSB7XG4gIGNvbnN0IGZ1bmMgPSBkZXNjcmlwdG9yLnZhbHVlO1xuXG4gIGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiBkZWNvcmF0b3Ikd3JpdGVRdWVyeU9wZXJhdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuaXNGaW5kUXVlcnkoKSkge1xuICAgICAgcmV0dXJuIHRoaXMucmVqZWN0KG5ldyBFcnJvcignRG91YmxlIGNhbGwgdG8gYSB3cml0ZSBtZXRob2QuICcgK1xuICAgICAgICAnWW91IGNhbiBvbmx5IGNhbGwgb25lIG9mIHRoZSB3cml0ZSBtZXRob2RzICcgK1xuICAgICAgICAnKGluc2VydCwgdXBkYXRlLCBwYXRjaCwgZGVsZXRlLCByZWxhdGUsIHVucmVsYXRlLCBpbmNyZW1lbnQsIGRlY3JlbWVudCkgJyArXG4gICAgICAgICdhbmQgb25seSBvbmNlIHBlciBxdWVyeSBidWlsZGVyLicpKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy5yZWplY3QoZXJyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbn1cblxuZnVuY3Rpb24gY2hlY2tFYWdlcihidWlsZGVyKSB7XG4gIGlmIChidWlsZGVyLl9lYWdlckV4cHJlc3Npb24gJiYgYnVpbGRlci5fYWxsb3dlZEVhZ2VyRXhwcmVzc2lvbikge1xuICAgIGlmICghYnVpbGRlci5fYWxsb3dlZEVhZ2VyRXhwcmVzc2lvbi5pc1N1YkV4cHJlc3Npb24oYnVpbGRlci5fZWFnZXJFeHByZXNzaW9uKSkge1xuICAgICAgYnVpbGRlci5yZWplY3QobmV3IFZhbGlkYXRpb25FcnJvcih7ZWFnZXI6ICdlYWdlciBleHByZXNzaW9uIG5vdCBhbGxvd2VkJ30pKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlTW9kZWxzKHJlc3VsdCkge1xuICBjb25zdCBidWlsZGVyID0gdGhpcy5idWlsZGVyO1xuXG4gIGlmIChyZXN1bHQgPT09IG51bGwgfHwgcmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHJlc3VsdCkpIHtcbiAgICBpZiAocmVzdWx0Lmxlbmd0aCAmJiB0eXBlb2YgcmVzdWx0WzBdID09PSAnb2JqZWN0JyAmJiAhKHJlc3VsdFswXSBpbnN0YW5jZW9mIGJ1aWxkZXIuX21vZGVsQ2xhc3MpKSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHJlc3VsdC5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgcmVzdWx0W2ldID0gYnVpbGRlci5fbW9kZWxDbGFzcy5mcm9tRGF0YWJhc2VKc29uKHJlc3VsdFtpXSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnICYmICEocmVzdWx0IGluc3RhbmNlb2YgYnVpbGRlci5fbW9kZWxDbGFzcykpIHtcbiAgICByZXN1bHQgPSBidWlsZGVyLl9tb2RlbENsYXNzLmZyb21EYXRhYmFzZUpzb24ocmVzdWx0KTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkKGJ1aWxkZXIpIHtcbiAgbGV0IGNvbnRleHQgPSBidWlsZGVyLmNvbnRleHQoKSB8fCB7fTtcbiAgbGV0IGludGVybmFsQ29udGV4dCA9IGJ1aWxkZXIuaW50ZXJuYWxDb250ZXh0KCk7XG4gIGxldCBrbmV4QnVpbGRlciA9IGJ1aWxkZXIua25leCgpLnF1ZXJ5QnVpbGRlcigpO1xuXG4gIGNhbGxPbkJ1aWxkSG9va3MoYnVpbGRlciwgY29udGV4dC5vbkJ1aWxkKTtcbiAgY2FsbE9uQnVpbGRIb29rcyhidWlsZGVyLCBpbnRlcm5hbENvbnRleHQub25CdWlsZCk7XG5cbiAga25leEJ1aWxkZXIgPSBidWlsZGVyLmJ1aWxkSW50byhrbmV4QnVpbGRlcik7XG5cbiAgaWYgKCFidWlsZGVyLmhhcyhRdWVyeUJ1aWxkZXJCYXNlLkZyb21TZWxlY3RvcikpIHtcbiAgICBjb25zdCB0YWJsZSA9IGJ1aWxkZXIubW9kZWxDbGFzcygpLnRhYmxlTmFtZTtcblxuICAgIC8vIFNldCB0aGUgdGFibGUgb25seSBpZiBpdCBoYXNuJ3QgYmVlbiBleHBsaWNpdGx5IHNldCB5ZXQuXG4gICAga25leEJ1aWxkZXIudGFibGUodGFibGUpO1xuXG4gICAgaWYgKCFidWlsZGVyLmhhcyhRdWVyeUJ1aWxkZXJCYXNlLlNlbGVjdFNlbGVjdG9yKSkge1xuICAgICAga25leEJ1aWxkZXIuc2VsZWN0KGAke3RhYmxlfS4qYCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGtuZXhCdWlsZGVyO1xufVxuXG5mdW5jdGlvbiBjaGFpbkhvb2tzKHByb21pc2UsIGZ1bmMpIHtcbiAgaWYgKHR5cGVvZiBmdW5jID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICByZXR1cm4gZnVuYy5jYWxsKHRoaXMuYnVpbGRlciwgcmVzdWx0LCB0aGlzLmJ1aWxkZXIpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZnVuYykpIHtcbiAgICBmdW5jLmZvckVhY2goZnVuYyA9PiB7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbCh0aGlzLmJ1aWxkZXIsIHJlc3VsdCwgdGhpcy5idWlsZGVyKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHByb21pc2U7XG59XG5cbmZ1bmN0aW9uIGNhbGxPbkJ1aWxkSG9va3MoYnVpbGRlciwgZnVuYykge1xuICBpZiAodHlwZW9mIGZ1bmMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmdW5jLmNhbGwoYnVpbGRlciwgYnVpbGRlcik7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShmdW5jKSkge1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gZnVuYy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgIGZ1bmNbaV0uY2FsbChidWlsZGVyLCBidWlsZGVyKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlSG9va0NhbGxlcihob29rKSB7XG4gIGNvbnN0IGhhc01ldGhvZCA9ICdoYXMnICsgaG9vay5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGhvb2suc3Vic3RyKDEpO1xuXG4gIHJldHVybiAocHJvbWlzZSwgb3BlcmF0aW9ucykgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gb3BlcmF0aW9ucy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgIGNvbnN0IG9wID0gb3BlcmF0aW9uc1tpXTtcblxuICAgICAgaWYgKG9wW2hhc01ldGhvZF0oKSkge1xuICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gb3BbaG9va10odGhpcy5idWlsZGVyLCByZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlT3BlcmF0aW9uRmFjdG9yeShPcGVyYXRpb25DbGFzcywgbmFtZSwgb3B0aW9ucykge1xuICByZXR1cm4gKCkgPT4ge1xuICAgIHJldHVybiBuZXcgT3BlcmF0aW9uQ2xhc3MobmFtZSwgb3B0aW9ucyk7XG4gIH07XG59XG5cbmNvbnN0IGNoYWluQmVmb3JlT3BlcmF0aW9ucyA9IGNyZWF0ZUhvb2tDYWxsZXIoJ29uQmVmb3JlJyk7XG5jb25zdCBjaGFpbkJlZm9yZUludGVybmFsT3BlcmF0aW9ucyA9IGNyZWF0ZUhvb2tDYWxsZXIoJ29uQmVmb3JlSW50ZXJuYWwnKTtcbmNvbnN0IGNoYWluUmF3UmVzdWx0T3BlcmF0aW9ucyA9IGNyZWF0ZUhvb2tDYWxsZXIoJ29uUmF3UmVzdWx0Jyk7XG5jb25zdCBjaGFpbkFmdGVyUXVlcnlPcGVyYXRpb25zID0gY3JlYXRlSG9va0NhbGxlcignb25BZnRlclF1ZXJ5Jyk7XG5jb25zdCBjaGFpbkFmdGVySW50ZXJuYWxPcGVyYXRpb25zID0gY3JlYXRlSG9va0NhbGxlcignb25BZnRlckludGVybmFsJyk7XG5jb25zdCBjaGFpbkFmdGVyT3BlcmF0aW9ucyA9IGNyZWF0ZUhvb2tDYWxsZXIoJ29uQWZ0ZXInKTtcblxuY29uc3QgZmluZE9wZXJhdGlvbkZhY3RvcnkgPSBjcmVhdGVPcGVyYXRpb25GYWN0b3J5KEZpbmRPcGVyYXRpb24sICdmaW5kJyk7XG5jb25zdCBpbnNlcnRPcGVyYXRpb25GYWN0b3J5ID0gY3JlYXRlT3BlcmF0aW9uRmFjdG9yeShJbnNlcnRPcGVyYXRpb24sICdpbnNlcnQnKTtcbmNvbnN0IHVwZGF0ZU9wZXJhdGlvbkZhY3RvcnkgPSBjcmVhdGVPcGVyYXRpb25GYWN0b3J5KFVwZGF0ZU9wZXJhdGlvbiwgJ3VwZGF0ZScpO1xuY29uc3QgcGF0Y2hPcGVyYXRpb25GYWN0b3J5ID0gY3JlYXRlT3BlcmF0aW9uRmFjdG9yeShVcGRhdGVPcGVyYXRpb24sICdwYXRjaCcsIHttb2RlbE9wdGlvbnM6IHtwYXRjaDogdHJ1ZX19KTtcbmNvbnN0IHJlbGF0ZU9wZXJhdGlvbkZhY3RvcnkgPSBjcmVhdGVPcGVyYXRpb25GYWN0b3J5KFF1ZXJ5QnVpbGRlck9wZXJhdGlvbiwgJ3JlbGF0ZScpO1xuY29uc3QgdW5yZWxhdGVPcGVyYXRpb25GYWN0b3J5ID0gY3JlYXRlT3BlcmF0aW9uRmFjdG9yeShRdWVyeUJ1aWxkZXJPcGVyYXRpb24sICd1bnJlbGF0ZScpO1xuY29uc3QgZGVsZXRlT3BlcmF0aW9uRmFjdG9yeSA9IGNyZWF0ZU9wZXJhdGlvbkZhY3RvcnkoRGVsZXRlT3BlcmF0aW9uLCAnZGVsZXRlJyk7XG4iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/decorators/queryBuilderOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = queryBuilderOperation;\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _knexUtils = require('../../utils/knexUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction queryBuilderOperation(input, name) {\n  var normalizedInput = normalizeInput(input);\n\n  return function (target, property, descriptor) {\n    var operationName = name || property;\n    if (_lodash2.default.isFunction(input) || _lodash2.default.isArray(input)) {\n      descriptor.value = function decorator$queryBuilderOperation() {\n        var args = new Array(arguments.length);\n\n        // Don't turn this into a function. This needs to be inline for V8 to optimize this.\n        for (var i = 0, l = arguments.length; i < l; ++i) {\n          args[i] = arguments[i];\n        }\n\n        var methodDesc = normalizedInput.default;\n        var method = new methodDesc.operationClass(operationName, methodDesc.opt);\n\n        return this.callQueryBuilderOperation(method, args);\n      };\n    } else {\n      descriptor.value = function decorator$queryBuilderOperationWithDialect() {\n        var args = new Array(arguments.length);\n\n        // Don't turn this into a function. This needs to be inline for V8 to optimize this.\n        for (var i = 0, l = arguments.length; i < l; ++i) {\n          args[i] = arguments[i];\n        }\n\n        var dialect = (0, _knexUtils.getDialect)(this.knex());\n        var methodDesc = normalizedInput[dialect] || normalizedInput.default;\n        var method = new methodDesc.operationClass(operationName, methodDesc.opt);\n\n        return this.callQueryBuilderOperation(method, args);\n      };\n    }\n  };\n}\n\nfunction normalizeInput(input) {\n  if (_lodash2.default.isFunction(input) || _lodash2.default.isArray(input)) {\n    return {\n      default: normalizeQueryOperationDesc(input)\n    };\n  } else {\n    return _lodash2.default.mapValues(input, normalizeQueryOperationDesc);\n  }\n}\n\nfunction normalizeQueryOperationDesc(desc) {\n  if (_lodash2.default.isArray(desc)) {\n    return {\n      operationClass: desc[0],\n      opt: desc[1]\n    };\n  } else {\n    return {\n      operationClass: desc,\n      opt: {}\n    };\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInF1ZXJ5QnVpbGRlck9wZXJhdGlvbi5qcyJdLCJuYW1lcyI6WyJxdWVyeUJ1aWxkZXJPcGVyYXRpb24iLCJpbnB1dCIsIm5hbWUiLCJub3JtYWxpemVkSW5wdXQiLCJub3JtYWxpemVJbnB1dCIsInRhcmdldCIsInByb3BlcnR5IiwiZGVzY3JpcHRvciIsIm9wZXJhdGlvbk5hbWUiLCJpc0Z1bmN0aW9uIiwiaXNBcnJheSIsInZhbHVlIiwiZGVjb3JhdG9yJHF1ZXJ5QnVpbGRlck9wZXJhdGlvbiIsImFyZ3MiLCJBcnJheSIsImFyZ3VtZW50cyIsImxlbmd0aCIsImkiLCJsIiwibWV0aG9kRGVzYyIsImRlZmF1bHQiLCJtZXRob2QiLCJvcGVyYXRpb25DbGFzcyIsIm9wdCIsImNhbGxRdWVyeUJ1aWxkZXJPcGVyYXRpb24iLCJkZWNvcmF0b3IkcXVlcnlCdWlsZGVyT3BlcmF0aW9uV2l0aERpYWxlY3QiLCJkaWFsZWN0Iiwia25leCIsIm5vcm1hbGl6ZVF1ZXJ5T3BlcmF0aW9uRGVzYyIsIm1hcFZhbHVlcyIsImRlc2MiXSwibWFwcGluZ3MiOiI7Ozs7O2tCQUd3QkEscUI7O0FBSHhCOzs7O0FBQ0E7Ozs7QUFFZSxTQUFTQSxxQkFBVCxDQUErQkMsS0FBL0IsRUFBc0NDLElBQXRDLEVBQTRDO0FBQ3pELE1BQU1DLGtCQUFrQkMsZUFBZUgsS0FBZixDQUF4Qjs7QUFFQSxTQUFPLFVBQVVJLE1BQVYsRUFBa0JDLFFBQWxCLEVBQTRCQyxVQUE1QixFQUF3QztBQUM3QyxRQUFNQyxnQkFBZ0JOLFFBQVFJLFFBQTlCO0FBQ0EsUUFBSSxpQkFBRUcsVUFBRixDQUFhUixLQUFiLEtBQXVCLGlCQUFFUyxPQUFGLENBQVVULEtBQVYsQ0FBM0IsRUFBNkM7QUFDM0NNLGlCQUFXSSxLQUFYLEdBQW1CLFNBQVNDLCtCQUFULEdBQTJDO0FBQzVELFlBQU1DLE9BQU8sSUFBSUMsS0FBSixDQUFVQyxVQUFVQyxNQUFwQixDQUFiOztBQUVBO0FBQ0EsYUFBSyxJQUFJQyxJQUFJLENBQVIsRUFBV0MsSUFBSUgsVUFBVUMsTUFBOUIsRUFBc0NDLElBQUlDLENBQTFDLEVBQTZDLEVBQUVELENBQS9DLEVBQWtEO0FBQ2hESixlQUFLSSxDQUFMLElBQVVGLFVBQVVFLENBQVYsQ0FBVjtBQUNEOztBQUVELFlBQU1FLGFBQWFoQixnQkFBZ0JpQixPQUFuQztBQUNBLFlBQU1DLFNBQVMsSUFBSUYsV0FBV0csY0FBZixDQUE4QmQsYUFBOUIsRUFBNkNXLFdBQVdJLEdBQXhELENBQWY7O0FBRUEsZUFBTyxLQUFLQyx5QkFBTCxDQUErQkgsTUFBL0IsRUFBdUNSLElBQXZDLENBQVA7QUFDRCxPQVpEO0FBYUQsS0FkRCxNQWNPO0FBQ0xOLGlCQUFXSSxLQUFYLEdBQW1CLFNBQVNjLDBDQUFULEdBQXNEO0FBQ3ZFLFlBQU1aLE9BQU8sSUFBSUMsS0FBSixDQUFVQyxVQUFVQyxNQUFwQixDQUFiOztBQUVBO0FBQ0EsYUFBSyxJQUFJQyxJQUFJLENBQVIsRUFBV0MsSUFBSUgsVUFBVUMsTUFBOUIsRUFBc0NDLElBQUlDLENBQTFDLEVBQTZDLEVBQUVELENBQS9DLEVBQWtEO0FBQ2hESixlQUFLSSxDQUFMLElBQVVGLFVBQVVFLENBQVYsQ0FBVjtBQUNEOztBQUVELFlBQU1TLFVBQVUsMkJBQVcsS0FBS0MsSUFBTCxFQUFYLENBQWhCO0FBQ0EsWUFBTVIsYUFBYWhCLGdCQUFnQnVCLE9BQWhCLEtBQTRCdkIsZ0JBQWdCaUIsT0FBL0Q7QUFDQSxZQUFNQyxTQUFTLElBQUlGLFdBQVdHLGNBQWYsQ0FBOEJkLGFBQTlCLEVBQTZDVyxXQUFXSSxHQUF4RCxDQUFmOztBQUVBLGVBQU8sS0FBS0MseUJBQUwsQ0FBK0JILE1BQS9CLEVBQXVDUixJQUF2QyxDQUFQO0FBQ0QsT0FiRDtBQWNEO0FBQ0YsR0FoQ0Q7QUFpQ0Q7O0FBRUQsU0FBU1QsY0FBVCxDQUF3QkgsS0FBeEIsRUFBK0I7QUFDN0IsTUFBSSxpQkFBRVEsVUFBRixDQUFhUixLQUFiLEtBQXVCLGlCQUFFUyxPQUFGLENBQVVULEtBQVYsQ0FBM0IsRUFBNkM7QUFDM0MsV0FBTztBQUNMbUIsZUFBU1EsNEJBQTRCM0IsS0FBNUI7QUFESixLQUFQO0FBR0QsR0FKRCxNQUlPO0FBQ0wsV0FBTyxpQkFBRTRCLFNBQUYsQ0FBWTVCLEtBQVosRUFBbUIyQiwyQkFBbkIsQ0FBUDtBQUNEO0FBQ0Y7O0FBRUQsU0FBU0EsMkJBQVQsQ0FBcUNFLElBQXJDLEVBQTJDO0FBQ3pDLE1BQUksaUJBQUVwQixPQUFGLENBQVVvQixJQUFWLENBQUosRUFBcUI7QUFDbkIsV0FBTztBQUNMUixzQkFBZ0JRLEtBQUssQ0FBTCxDQURYO0FBRUxQLFdBQUtPLEtBQUssQ0FBTDtBQUZBLEtBQVA7QUFJRCxHQUxELE1BS087QUFDTCxXQUFPO0FBQ0xSLHNCQUFnQlEsSUFEWDtBQUVMUCxXQUFLO0FBRkEsS0FBUDtBQUlEO0FBQ0YiLCJmaWxlIjoicXVlcnlCdWlsZGVyT3BlcmF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7Z2V0RGlhbGVjdH0gZnJvbSAnLi4vLi4vdXRpbHMva25leFV0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcXVlcnlCdWlsZGVyT3BlcmF0aW9uKGlucHV0LCBuYW1lKSB7XG4gIGNvbnN0IG5vcm1hbGl6ZWRJbnB1dCA9IG5vcm1hbGl6ZUlucHV0KGlucHV0KTtcblxuICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IpIHtcbiAgICBjb25zdCBvcGVyYXRpb25OYW1lID0gbmFtZSB8fCBwcm9wZXJ0eTtcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKGlucHV0KSB8fCBfLmlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICBkZXNjcmlwdG9yLnZhbHVlID0gZnVuY3Rpb24gZGVjb3JhdG9yJHF1ZXJ5QnVpbGRlck9wZXJhdGlvbigpIHtcbiAgICAgICAgY29uc3QgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcblxuICAgICAgICAvLyBEb24ndCB0dXJuIHRoaXMgaW50byBhIGZ1bmN0aW9uLiBUaGlzIG5lZWRzIHRvIGJlIGlubGluZSBmb3IgVjggdG8gb3B0aW1pemUgdGhpcy5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1ldGhvZERlc2MgPSBub3JtYWxpemVkSW5wdXQuZGVmYXVsdDtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gbmV3IG1ldGhvZERlc2Mub3BlcmF0aW9uQ2xhc3Mob3BlcmF0aW9uTmFtZSwgbWV0aG9kRGVzYy5vcHQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxRdWVyeUJ1aWxkZXJPcGVyYXRpb24obWV0aG9kLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiBkZWNvcmF0b3IkcXVlcnlCdWlsZGVyT3BlcmF0aW9uV2l0aERpYWxlY3QoKSB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG5cbiAgICAgICAgLy8gRG9uJ3QgdHVybiB0aGlzIGludG8gYSBmdW5jdGlvbi4gVGhpcyBuZWVkcyB0byBiZSBpbmxpbmUgZm9yIFY4IHRvIG9wdGltaXplIHRoaXMuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkaWFsZWN0ID0gZ2V0RGlhbGVjdCh0aGlzLmtuZXgoKSk7XG4gICAgICAgIGNvbnN0IG1ldGhvZERlc2MgPSBub3JtYWxpemVkSW5wdXRbZGlhbGVjdF0gfHwgbm9ybWFsaXplZElucHV0LmRlZmF1bHQ7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IG5ldyBtZXRob2REZXNjLm9wZXJhdGlvbkNsYXNzKG9wZXJhdGlvbk5hbWUsIG1ldGhvZERlc2Mub3B0KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jYWxsUXVlcnlCdWlsZGVyT3BlcmF0aW9uKG1ldGhvZCwgYXJncyk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplSW5wdXQoaW5wdXQpIHtcbiAgaWYgKF8uaXNGdW5jdGlvbihpbnB1dCkgfHwgXy5pc0FycmF5KGlucHV0KSkge1xuICAgIHJldHVybiB7XG4gICAgICBkZWZhdWx0OiBub3JtYWxpemVRdWVyeU9wZXJhdGlvbkRlc2MoaW5wdXQpXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gXy5tYXBWYWx1ZXMoaW5wdXQsIG5vcm1hbGl6ZVF1ZXJ5T3BlcmF0aW9uRGVzYyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplUXVlcnlPcGVyYXRpb25EZXNjKGRlc2MpIHtcbiAgaWYgKF8uaXNBcnJheShkZXNjKSkge1xuICAgIHJldHVybiB7XG4gICAgICBvcGVyYXRpb25DbGFzczogZGVzY1swXSxcbiAgICAgIG9wdDogZGVzY1sxXVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9wZXJhdGlvbkNsYXNzOiBkZXNjLFxuICAgICAgb3B0OiB7fVxuICAgIH07XG4gIH1cbn0iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/utils/knexUtils.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getDialect = getDialect;\nexports.isPostgres = isPostgres;\nexports.isMySql = isMySql;\nexports.isSqlite = isSqlite;\nexports.isMsSql = isMsSql;\nexports.isKnexQueryBuilder = isKnexQueryBuilder;\nexports.isKnexJoinBuilder = isKnexJoinBuilder;\nexports.isKnexRaw = isKnexRaw;\nexports.isKnexTransaction = isKnexTransaction;\n\nvar _builder = require('knex/lib/query/builder');\n\nvar _builder2 = _interopRequireDefault(_builder);\n\nvar _joinclause = require('knex/lib/query/joinclause');\n\nvar _joinclause2 = _interopRequireDefault(_joinclause);\n\nvar _raw = require('knex/lib/raw');\n\nvar _raw2 = _interopRequireDefault(_raw);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getDialect(knex) {\n  return knex && knex.client && knex.client.dialect || null;\n}\n\nfunction isPostgres(knex) {\n  return getDialect(knex) === 'postgresql';\n}\n\nfunction isMySql(knex) {\n  return getDialect(knex) === 'mysql';\n}\n\nfunction isSqlite(knex) {\n  return getDialect(knex) === 'sqlite3';\n}\n\nfunction isMsSql(knex) {\n  return getDialect(knex) === 'mssql';\n}\n\nfunction isKnexQueryBuilder(value) {\n  return value instanceof _builder2.default;\n}\n\nfunction isKnexJoinBuilder(value) {\n  return value instanceof _joinclause2.default;\n}\n\nfunction isKnexRaw(value) {\n  return value instanceof _raw2.default;\n}\n\nfunction isKnexTransaction(knex) {\n  return !!getDialect(knex) && typeof knex.commit === 'function' && typeof knex.rollback === 'function';\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtuZXhVdGlscy5qcyJdLCJuYW1lcyI6WyJnZXREaWFsZWN0IiwiaXNQb3N0Z3JlcyIsImlzTXlTcWwiLCJpc1NxbGl0ZSIsImlzTXNTcWwiLCJpc0tuZXhRdWVyeUJ1aWxkZXIiLCJpc0tuZXhKb2luQnVpbGRlciIsImlzS25leFJhdyIsImlzS25leFRyYW5zYWN0aW9uIiwia25leCIsImNsaWVudCIsImRpYWxlY3QiLCJ2YWx1ZSIsImNvbW1pdCIsInJvbGxiYWNrIl0sIm1hcHBpbmdzIjoiOzs7OztRQUlnQkEsVSxHQUFBQSxVO1FBSUFDLFUsR0FBQUEsVTtRQUlBQyxPLEdBQUFBLE87UUFJQUMsUSxHQUFBQSxRO1FBSUFDLE8sR0FBQUEsTztRQUlBQyxrQixHQUFBQSxrQjtRQUlBQyxpQixHQUFBQSxpQjtRQUlBQyxTLEdBQUFBLFM7UUFJQUMsaUIsR0FBQUEsaUI7O0FBcENoQjs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVPLFNBQVNSLFVBQVQsQ0FBb0JTLElBQXBCLEVBQTBCO0FBQy9CLFNBQVFBLFFBQVFBLEtBQUtDLE1BQWIsSUFBdUJELEtBQUtDLE1BQUwsQ0FBWUMsT0FBcEMsSUFBZ0QsSUFBdkQ7QUFDRDs7QUFFTSxTQUFTVixVQUFULENBQW9CUSxJQUFwQixFQUEwQjtBQUMvQixTQUFPVCxXQUFXUyxJQUFYLE1BQXFCLFlBQTVCO0FBQ0Q7O0FBRU0sU0FBU1AsT0FBVCxDQUFpQk8sSUFBakIsRUFBdUI7QUFDNUIsU0FBT1QsV0FBV1MsSUFBWCxNQUFxQixPQUE1QjtBQUNEOztBQUVNLFNBQVNOLFFBQVQsQ0FBa0JNLElBQWxCLEVBQXdCO0FBQzdCLFNBQU9ULFdBQVdTLElBQVgsTUFBcUIsU0FBNUI7QUFDRDs7QUFFTSxTQUFTTCxPQUFULENBQWlCSyxJQUFqQixFQUF1QjtBQUM1QixTQUFPVCxXQUFXUyxJQUFYLE1BQXFCLE9BQTVCO0FBQ0Q7O0FBRU0sU0FBU0osa0JBQVQsQ0FBNEJPLEtBQTVCLEVBQW1DO0FBQ3hDLFNBQU9BLGtDQUFQO0FBQ0Q7O0FBRU0sU0FBU04saUJBQVQsQ0FBMkJNLEtBQTNCLEVBQWtDO0FBQ3ZDLFNBQU9BLHFDQUFQO0FBQ0Q7O0FBRU0sU0FBU0wsU0FBVCxDQUFtQkssS0FBbkIsRUFBMEI7QUFDL0IsU0FBT0EsOEJBQVA7QUFDRDs7QUFFTSxTQUFTSixpQkFBVCxDQUEyQkMsSUFBM0IsRUFBaUM7QUFDdEMsU0FBTyxDQUFDLENBQUNULFdBQVdTLElBQVgsQ0FBRixJQUFzQixPQUFPQSxLQUFLSSxNQUFaLEtBQXVCLFVBQTdDLElBQTJELE9BQU9KLEtBQUtLLFFBQVosS0FBeUIsVUFBM0Y7QUFDRCIsImZpbGUiOiJrbmV4VXRpbHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgS25leFF1ZXJ5QnVpbGRlciBmcm9tICdrbmV4L2xpYi9xdWVyeS9idWlsZGVyJ1xuaW1wb3J0IEpvaW5DbGF1c2UgZnJvbSAna25leC9saWIvcXVlcnkvam9pbmNsYXVzZSdcbmltcG9ydCBLbmV4UmF3IGZyb20gJ2tuZXgvbGliL3Jhdyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREaWFsZWN0KGtuZXgpIHtcbiAgcmV0dXJuIChrbmV4ICYmIGtuZXguY2xpZW50ICYmIGtuZXguY2xpZW50LmRpYWxlY3QpIHx8IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Bvc3RncmVzKGtuZXgpIHtcbiAgcmV0dXJuIGdldERpYWxlY3Qoa25leCkgPT09ICdwb3N0Z3Jlc3FsJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTXlTcWwoa25leCkge1xuICByZXR1cm4gZ2V0RGlhbGVjdChrbmV4KSA9PT0gJ215c3FsJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3FsaXRlKGtuZXgpIHtcbiAgcmV0dXJuIGdldERpYWxlY3Qoa25leCkgPT09ICdzcWxpdGUzJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTXNTcWwoa25leCkge1xuICByZXR1cm4gZ2V0RGlhbGVjdChrbmV4KSA9PT0gJ21zc3FsJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzS25leFF1ZXJ5QnVpbGRlcih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBLbmV4UXVlcnlCdWlsZGVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNLbmV4Sm9pbkJ1aWxkZXIodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgSm9pbkNsYXVzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzS25leFJhdyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBLbmV4UmF3O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNLbmV4VHJhbnNhY3Rpb24oa25leCkge1xuICByZXR1cm4gISFnZXREaWFsZWN0KGtuZXgpICYmIHR5cGVvZiBrbmV4LmNvbW1pdCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Yga25leC5yb2xsYmFjayA9PT0gJ2Z1bmN0aW9uJztcbn1cbiJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/QueryBuilderContext.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _QueryBuilderContextBase = require('./QueryBuilderContextBase');\n\nvar _QueryBuilderContextBase2 = _interopRequireDefault(_QueryBuilderContextBase);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar QueryBuilderContext = function (_QueryBuilderContextB) {\n  (0, _inherits3.default)(QueryBuilderContext, _QueryBuilderContextB);\n\n  function QueryBuilderContext(userContext) {\n    (0, _classCallCheck3.default)(this, QueryBuilderContext);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _QueryBuilderContextB.call(this, userContext));\n\n    _this.runBefore = [];\n    _this.runAfter = [];\n    _this.onBuild = [];\n    return _this;\n  }\n\n  QueryBuilderContext.prototype.clone = function clone() {\n    var ctx = _QueryBuilderContextB.prototype.clone.call(this);\n\n    ctx.runBefore = this.runBefore.slice();\n    ctx.runAfter = this.runAfter.slice();\n    ctx.onBuild = this.onBuild.slice();\n\n    return ctx;\n  };\n\n  return QueryBuilderContext;\n}(_QueryBuilderContextBase2.default);\n\nexports.default = QueryBuilderContext;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlF1ZXJ5QnVpbGRlckNvbnRleHQuanMiXSwibmFtZXMiOlsiUXVlcnlCdWlsZGVyQ29udGV4dCIsInVzZXJDb250ZXh0IiwicnVuQmVmb3JlIiwicnVuQWZ0ZXIiLCJvbkJ1aWxkIiwiY2xvbmUiLCJjdHgiLCJzbGljZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7SUFFcUJBLG1COzs7QUFFbkIsK0JBQVlDLFdBQVosRUFBeUI7QUFBQTs7QUFBQSwrREFDdkIsaUNBQU1BLFdBQU4sQ0FEdUI7O0FBR3ZCLFVBQUtDLFNBQUwsR0FBaUIsRUFBakI7QUFDQSxVQUFLQyxRQUFMLEdBQWdCLEVBQWhCO0FBQ0EsVUFBS0MsT0FBTCxHQUFlLEVBQWY7QUFMdUI7QUFNeEI7O2dDQUVEQyxLLG9CQUFRO0FBQ04sUUFBSUMsTUFBTSxnQ0FBTUQsS0FBTixXQUFWOztBQUVBQyxRQUFJSixTQUFKLEdBQWdCLEtBQUtBLFNBQUwsQ0FBZUssS0FBZixFQUFoQjtBQUNBRCxRQUFJSCxRQUFKLEdBQWUsS0FBS0EsUUFBTCxDQUFjSSxLQUFkLEVBQWY7QUFDQUQsUUFBSUYsT0FBSixHQUFjLEtBQUtBLE9BQUwsQ0FBYUcsS0FBYixFQUFkOztBQUVBLFdBQU9ELEdBQVA7QUFDRCxHOzs7OztrQkFsQmtCTixtQiIsImZpbGUiOiJRdWVyeUJ1aWxkZXJDb250ZXh0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFF1ZXJ5QnVpbGRlckNvbnRleHRCYXNlIGZyb20gJy4vUXVlcnlCdWlsZGVyQ29udGV4dEJhc2UnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBRdWVyeUJ1aWxkZXJDb250ZXh0IGV4dGVuZHMgUXVlcnlCdWlsZGVyQ29udGV4dEJhc2Uge1xuXG4gIGNvbnN0cnVjdG9yKHVzZXJDb250ZXh0KSB7XG4gICAgc3VwZXIodXNlckNvbnRleHQpO1xuXG4gICAgdGhpcy5ydW5CZWZvcmUgPSBbXTtcbiAgICB0aGlzLnJ1bkFmdGVyID0gW107XG4gICAgdGhpcy5vbkJ1aWxkID0gW107XG4gIH1cblxuICBjbG9uZSgpIHtcbiAgICBsZXQgY3R4ID0gc3VwZXIuY2xvbmUoKTtcblxuICAgIGN0eC5ydW5CZWZvcmUgPSB0aGlzLnJ1bkJlZm9yZS5zbGljZSgpO1xuICAgIGN0eC5ydW5BZnRlciA9IHRoaXMucnVuQWZ0ZXIuc2xpY2UoKTtcbiAgICBjdHgub25CdWlsZCA9IHRoaXMub25CdWlsZC5zbGljZSgpO1xuXG4gICAgcmV0dXJuIGN0eDtcbiAgfVxufSJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/QueryBuilderContextBase.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar QueryBuilderContextBase = function () {\n  function QueryBuilderContextBase(userContext) {\n    (0, _classCallCheck3.default)(this, QueryBuilderContextBase);\n\n    this.userContext = userContext;\n    this.options = new InternalOptions();\n    this.knex = null;\n  }\n\n  QueryBuilderContextBase.prototype.clone = function clone() {\n    var ctx = new this.constructor(this.userContext);\n\n    ctx.options = this.options.clone();\n    ctx.knex = this.knex;\n\n    return ctx;\n  };\n\n  return QueryBuilderContextBase;\n}();\n\nexports.default = QueryBuilderContextBase;\n\nvar InternalOptions = function () {\n  function InternalOptions() {\n    (0, _classCallCheck3.default)(this, InternalOptions);\n\n    this.skipUndefined = false;\n    this.queryProps = null;\n    this.debug = false;\n  }\n\n  InternalOptions.prototype.clone = function clone() {\n    var copy = new InternalOptions();\n\n    copy.skipUndefined = this.skipUndefined;\n    copy.queryProps = this.queryProps;\n    copy.debug = this.debug;\n\n    return copy;\n  };\n\n  return InternalOptions;\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlF1ZXJ5QnVpbGRlckNvbnRleHRCYXNlLmpzIl0sIm5hbWVzIjpbIlF1ZXJ5QnVpbGRlckNvbnRleHRCYXNlIiwidXNlckNvbnRleHQiLCJvcHRpb25zIiwiSW50ZXJuYWxPcHRpb25zIiwia25leCIsImNsb25lIiwiY3R4IiwiY29uc3RydWN0b3IiLCJza2lwVW5kZWZpbmVkIiwicXVlcnlQcm9wcyIsImRlYnVnIiwiY29weSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztJQUFxQkEsdUI7QUFFbkIsbUNBQVlDLFdBQVosRUFBeUI7QUFBQTs7QUFDdkIsU0FBS0EsV0FBTCxHQUFtQkEsV0FBbkI7QUFDQSxTQUFLQyxPQUFMLEdBQWUsSUFBSUMsZUFBSixFQUFmO0FBQ0EsU0FBS0MsSUFBTCxHQUFZLElBQVo7QUFDRDs7b0NBRURDLEssb0JBQVE7QUFDTixRQUFNQyxNQUFNLElBQUksS0FBS0MsV0FBVCxDQUFxQixLQUFLTixXQUExQixDQUFaOztBQUVBSyxRQUFJSixPQUFKLEdBQWMsS0FBS0EsT0FBTCxDQUFhRyxLQUFiLEVBQWQ7QUFDQUMsUUFBSUYsSUFBSixHQUFXLEtBQUtBLElBQWhCOztBQUVBLFdBQU9FLEdBQVA7QUFDRCxHOzs7OztrQkFma0JOLHVCOztJQWtCZkcsZTtBQUVKLDZCQUFjO0FBQUE7O0FBQ1osU0FBS0ssYUFBTCxHQUFxQixLQUFyQjtBQUNBLFNBQUtDLFVBQUwsR0FBa0IsSUFBbEI7QUFDQSxTQUFLQyxLQUFMLEdBQWEsS0FBYjtBQUNEOzs0QkFFREwsSyxvQkFBUTtBQUNOLFFBQU1NLE9BQU8sSUFBSVIsZUFBSixFQUFiOztBQUVBUSxTQUFLSCxhQUFMLEdBQXFCLEtBQUtBLGFBQTFCO0FBQ0FHLFNBQUtGLFVBQUwsR0FBa0IsS0FBS0EsVUFBdkI7QUFDQUUsU0FBS0QsS0FBTCxHQUFhLEtBQUtBLEtBQWxCOztBQUVBLFdBQU9DLElBQVA7QUFDRCxHIiwiZmlsZSI6IlF1ZXJ5QnVpbGRlckNvbnRleHRCYXNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUXVlcnlCdWlsZGVyQ29udGV4dEJhc2Uge1xuXG4gIGNvbnN0cnVjdG9yKHVzZXJDb250ZXh0KSB7XG4gICAgdGhpcy51c2VyQ29udGV4dCA9IHVzZXJDb250ZXh0O1xuICAgIHRoaXMub3B0aW9ucyA9IG5ldyBJbnRlcm5hbE9wdGlvbnMoKTtcbiAgICB0aGlzLmtuZXggPSBudWxsO1xuICB9XG5cbiAgY2xvbmUoKSB7XG4gICAgY29uc3QgY3R4ID0gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy51c2VyQ29udGV4dCk7XG5cbiAgICBjdHgub3B0aW9ucyA9IHRoaXMub3B0aW9ucy5jbG9uZSgpO1xuICAgIGN0eC5rbmV4ID0gdGhpcy5rbmV4O1xuXG4gICAgcmV0dXJuIGN0eDtcbiAgfVxufVxuXG5jbGFzcyBJbnRlcm5hbE9wdGlvbnMge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc2tpcFVuZGVmaW5lZCA9IGZhbHNlO1xuICAgIHRoaXMucXVlcnlQcm9wcyA9IG51bGw7XG4gICAgdGhpcy5kZWJ1ZyA9IGZhbHNlO1xuICB9XG5cbiAgY2xvbmUoKSB7XG4gICAgY29uc3QgY29weSA9IG5ldyBJbnRlcm5hbE9wdGlvbnMoKTtcblxuICAgIGNvcHkuc2tpcFVuZGVmaW5lZCA9IHRoaXMuc2tpcFVuZGVmaW5lZDtcbiAgICBjb3B5LnF1ZXJ5UHJvcHMgPSB0aGlzLnF1ZXJ5UHJvcHM7XG4gICAgY29weS5kZWJ1ZyA9IHRoaXMuZGVidWc7XG5cbiAgICByZXR1cm4gY29weTtcbiAgfVxufSJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/RelationExpression.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _create = require('babel-runtime/core-js/object/create');\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _relationExpressionParser = require('./parsers/relationExpressionParser');\n\nvar _relationExpressionParser2 = _interopRequireDefault(_relationExpressionParser);\n\nvar _ValidationError = require('../model/ValidationError');\n\nvar _ValidationError2 = _interopRequireDefault(_ValidationError);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar RECURSIVE_REGEX = /^\\^(\\d*)$/;\nvar ALL_RECURSIVE_REGEX = /^\\*$/;\n\nvar RelationExpression = function () {\n  function RelationExpression(node, recursionDepth, filters) {\n    (0, _classCallCheck3.default)(this, RelationExpression);\n\n    node = node || {};\n\n    this.name = node.name || null;\n    this.args = node.args || [];\n    this.numChildren = node.numChildren || 0;\n    this.children = node.children || {};\n\n    Object.defineProperty(this, '_recursionDepth', {\n      enumerable: false,\n      value: recursionDepth || 0\n    });\n\n    Object.defineProperty(this, '_filters', {\n      enumerable: false,\n      writable: true,\n      value: filters || {}\n    });\n  }\n\n  /**\n   * @param {string|RelationExpression} expr\n   * @returns {RelationExpression}\n   */\n\n\n  RelationExpression.parse = function parse(expr) {\n    if (expr instanceof RelationExpression) {\n      return expr;\n    } else if (!_lodash2.default.isString(expr) || _lodash2.default.isEmpty(expr.trim())) {\n      return new RelationExpression();\n    } else {\n      try {\n        return new RelationExpression(_relationExpressionParser2.default.parse(expr));\n      } catch (err) {\n        throw new _ValidationError2.default({\n          message: 'Invalid relation expression \"' + expr + '\"',\n          cause: err.message\n        });\n      }\n    }\n  };\n\n  /**\n   * @param {Object|Array} graph\n   */\n\n\n  RelationExpression.fromGraph = function fromGraph(graph) {\n    if (!graph) {\n      return new RelationExpression();\n    }\n\n    return new RelationExpression(modelGraphToNode(graph, newNode()));\n  };\n\n  /**\n   * @param {string|RelationExpression} expr\n   * @returns {RelationExpression}\n   */\n  RelationExpression.prototype.merge = function merge(expr) {\n    var merged = this.clone();\n    expr = RelationExpression.parse(expr);\n\n    merged.numChildren += expr.numChildren;\n    merged.children = _lodash2.default.merge(merged.children, expr.children);\n    merged.args = _lodash2.default.merge(merged.args, expr.args);\n    merged.filters = _lodash2.default.merge(merged.filters, expr.filters);\n\n    // Handle recursive and all recursive nodes.\n    visit(merged, function (node, childNames) {\n      var maxName = null;\n      var maxDepth = 0;\n      var recurCount = 0;\n\n      for (var i = 0, l = childNames.length; i < l; ++i) {\n        var name = childNames[i];\n        var depth = _maxRecursionDepth(name);\n\n        if (depth > 0) {\n          recurCount++;\n        }\n\n        if (depth > maxDepth) {\n          maxDepth = depth;\n          maxName = name;\n        }\n      }\n\n      if (recurCount > 0) {\n        delete node.children[node.name];\n      }\n\n      if (recurCount > 1) {\n        for (var _i = 0, _l = childNames.length; _i < _l; ++_i) {\n          var _name = childNames[_i];\n\n          if (_name !== maxName) {\n            delete node.children[_name];\n          }\n        }\n      }\n    });\n\n    return merged;\n  };\n\n  /**\n   * @param {string|RelationExpression} expr\n   * @returns {boolean}\n   */\n\n\n  RelationExpression.prototype.isSubExpression = function isSubExpression(expr) {\n    var _this = this;\n\n    expr = RelationExpression.parse(expr);\n\n    if (this.isAllRecursive()) {\n      return true;\n    }\n\n    if (expr.isAllRecursive()) {\n      return this.isAllRecursive();\n    }\n\n    if (this.name !== expr.name) {\n      return false;\n    }\n\n    var maxRecursionDepth = expr.maxRecursionDepth();\n\n    if (maxRecursionDepth > 0) {\n      return this.isAllRecursive() || this.maxRecursionDepth() >= maxRecursionDepth;\n    }\n\n    return _lodash2.default.every(expr.children, function (child, childName) {\n      var ownSubExpression = _this.childExpression(childName);\n      var subExpression = expr.childExpression(childName);\n\n      return ownSubExpression && ownSubExpression.isSubExpression(subExpression);\n    });\n  };\n\n  /**\n   * @returns {number}\n   */\n\n\n  RelationExpression.prototype.maxRecursionDepth = function maxRecursionDepth() {\n    if (this.numChildren !== 1) {\n      return 0;\n    }\n\n    var key = (0, _keys2.default)(this.children)[0];\n    return _maxRecursionDepth(key);\n  };\n\n  /**\n   * @returns {boolean}\n   */\n\n\n  RelationExpression.prototype.isAllRecursive = function isAllRecursive() {\n    if (this.numChildren !== 1) {\n      return false;\n    }\n\n    var key = (0, _keys2.default)(this.children)[0];\n    return ALL_RECURSIVE_REGEX.test(key);\n  };\n\n  /**\n   * @returns {RelationExpression}\n   */\n\n\n  RelationExpression.prototype.childExpression = function childExpression(childName) {\n    if (this.isAllRecursive() || childName === this.name && this._recursionDepth < this.maxRecursionDepth() - 1) {\n      return new RelationExpression(this, this._recursionDepth + 1, this._filters);\n    }\n\n    if (this.children[childName]) {\n      return new RelationExpression(this.children[childName], 0, this._filters);\n    } else {\n      return null;\n    }\n  };\n\n  /**\n   * @returns {RelationExpression}\n   */\n\n\n  RelationExpression.prototype.clone = function clone() {\n    var node = {\n      name: this.name,\n      args: this.args,\n      numChildren: this.numChildren,\n      children: _lodash2.default.cloneDeep(this.children)\n    };\n\n    var filters = _lodash2.default.clone(this._filters);\n    return new RelationExpression(node, this._recursionDepth, filters);\n  };\n\n  RelationExpression.prototype.forEachChild = function forEachChild(cb) {\n    if (this.numChildren) {\n      var keys = (0, _keys2.default)(this.children);\n\n      for (var i = 0, l = keys.length; i < l; ++i) {\n        var childName = keys[i];\n\n        if (!ALL_RECURSIVE_REGEX.test(childName) && !RECURSIVE_REGEX.test(childName)) {\n          cb(this.children[childName], childName);\n        }\n      }\n    }\n  };\n\n  /**\n   * @param {string|RelationExpression} path\n   * @param {function(QueryBuilder)} filter\n   */\n\n\n  RelationExpression.prototype.addAnonymousFilterAtPath = function addAnonymousFilterAtPath(path, filter) {\n    var filterNodes = this._nodesAtPath(path);\n    var filters = this.filters;\n\n    var idx = 0;\n    var filterName = '_efe0_';\n\n    while (filters[filterName]) {\n      filterName = '_efe' + ++idx + '_';\n    }\n\n    if (!_lodash2.default.isEmpty(filterNodes)) {\n      filters[filterName] = filter;\n      _lodash2.default.each(filterNodes, function (node) {\n        return node.args.push(filterName);\n      });\n    }\n  };\n\n  /**\n   * @returns {string}\n   */\n\n\n  RelationExpression.prototype.toString = function toString() {\n    return _toString(this);\n  };\n\n  /**\n   * @private\n   * @return {Array.<Object>}\n   */\n\n\n  RelationExpression.prototype._nodesAtPath = function _nodesAtPath(pathExpression) {\n    var path = RelationExpression.parse(pathExpression);\n    var nodes = [];\n\n    RelationExpression.nodesAtPath(this, path, nodes);\n    return nodes;\n  };\n\n  /**\n   * @private\n   */\n\n\n  RelationExpression.nodesAtPath = function nodesAtPath(target, path, expressions) {\n    var _this2 = this;\n\n    if (path.numChildren == 0) {\n      expressions.push(target);\n    } else {\n      _lodash2.default.forOwn(path.children, function (child) {\n        var targetChild = target.children[child.name];\n\n        if (targetChild) {\n          _this2.nodesAtPath(targetChild, child, expressions);\n        }\n      });\n    }\n  };\n\n  (0, _createClass3.default)(RelationExpression, [{\n    key: 'filters',\n    get: function get() {\n      return this._filters;\n    },\n    set: function set(filters) {\n      this._filters = filters || {};\n    }\n  }]);\n  return RelationExpression;\n}();\n\nexports.default = RelationExpression;\n\n\nfunction _maxRecursionDepth(key) {\n  var rec = RECURSIVE_REGEX.exec(key);\n\n  if (rec) {\n    var maxDepth = rec[1];\n\n    if (maxDepth) {\n      return parseInt(maxDepth, 10);\n    } else {\n      return Number.POSITIVE_INFINITY;\n    }\n  } else {\n    return 0;\n  }\n}\n\nfunction visit(node, visitor) {\n  var keys = (0, _keys2.default)(node.children);\n\n  visitor(node, keys);\n\n  for (var i = 0, l = keys.length; i < l; ++i) {\n    var key = keys[i];\n    var childNode = node.children[key];\n\n    if (childNode) {\n      visit(childNode, visitor);\n    }\n  }\n}\n\nfunction _toString(node) {\n  var childExpr = _lodash2.default.values(node.children).map(_toString);\n\n  if (childExpr.length > 1) {\n    childExpr = '[' + childExpr.join(', ') + ']';\n  } else {\n    childExpr = childExpr[0];\n  }\n\n  var str = node.name;\n\n  if (node.args.length) {\n    str += '(' + node.args.join(', ') + ')';\n  }\n\n  if (childExpr) {\n    if (str) {\n      return str + '.' + childExpr;\n    } else {\n      return childExpr;\n    }\n  } else {\n    return str;\n  }\n}\n\nfunction modelGraphToNode(models, node) {\n  if (!models) {\n    return;\n  }\n\n  if (Array.isArray(models)) {\n    for (var i = 0, l = models.length; i < l; ++i) {\n      modelToNode(models[i], node);\n    }\n  } else {\n    modelToNode(models, node);\n  }\n\n  return node;\n}\n\nfunction modelToNode(model, node) {\n  var modelClass = model.constructor;\n  var relations = modelClass.getRelationArray();\n\n  for (var r = 0, lr = relations.length; r < lr; ++r) {\n    var relName = relations[r].name;\n\n    if (model.hasOwnProperty(relName)) {\n      var childNode = node.children[relName];\n\n      if (!childNode) {\n        childNode = newNode(relName);\n\n        node.children[relName] = childNode;\n        node.numChildren++;\n      }\n\n      modelGraphToNode(model[relName], childNode);\n    }\n  }\n}\n\nfunction newNode(name) {\n  return {\n    name: name || '',\n    args: [],\n    children: (0, _create2.default)(null),\n    numChildren: 0\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlbGF0aW9uRXhwcmVzc2lvbi5qcyJdLCJuYW1lcyI6WyJSRUNVUlNJVkVfUkVHRVgiLCJBTExfUkVDVVJTSVZFX1JFR0VYIiwiUmVsYXRpb25FeHByZXNzaW9uIiwibm9kZSIsInJlY3Vyc2lvbkRlcHRoIiwiZmlsdGVycyIsIm5hbWUiLCJhcmdzIiwibnVtQ2hpbGRyZW4iLCJjaGlsZHJlbiIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsInZhbHVlIiwid3JpdGFibGUiLCJwYXJzZSIsImV4cHIiLCJpc1N0cmluZyIsImlzRW1wdHkiLCJ0cmltIiwiZXJyIiwibWVzc2FnZSIsImNhdXNlIiwiZnJvbUdyYXBoIiwiZ3JhcGgiLCJtb2RlbEdyYXBoVG9Ob2RlIiwibmV3Tm9kZSIsIm1lcmdlIiwibWVyZ2VkIiwiY2xvbmUiLCJ2aXNpdCIsImNoaWxkTmFtZXMiLCJtYXhOYW1lIiwibWF4RGVwdGgiLCJyZWN1ckNvdW50IiwiaSIsImwiLCJsZW5ndGgiLCJkZXB0aCIsIm1heFJlY3Vyc2lvbkRlcHRoIiwiaXNTdWJFeHByZXNzaW9uIiwiaXNBbGxSZWN1cnNpdmUiLCJldmVyeSIsImNoaWxkIiwiY2hpbGROYW1lIiwib3duU3ViRXhwcmVzc2lvbiIsImNoaWxkRXhwcmVzc2lvbiIsInN1YkV4cHJlc3Npb24iLCJrZXkiLCJ0ZXN0IiwiX3JlY3Vyc2lvbkRlcHRoIiwiX2ZpbHRlcnMiLCJjbG9uZURlZXAiLCJmb3JFYWNoQ2hpbGQiLCJjYiIsImtleXMiLCJhZGRBbm9ueW1vdXNGaWx0ZXJBdFBhdGgiLCJwYXRoIiwiZmlsdGVyIiwiZmlsdGVyTm9kZXMiLCJfbm9kZXNBdFBhdGgiLCJpZHgiLCJmaWx0ZXJOYW1lIiwiZWFjaCIsInB1c2giLCJ0b1N0cmluZyIsInBhdGhFeHByZXNzaW9uIiwibm9kZXMiLCJub2Rlc0F0UGF0aCIsInRhcmdldCIsImV4cHJlc3Npb25zIiwiZm9yT3duIiwidGFyZ2V0Q2hpbGQiLCJyZWMiLCJleGVjIiwicGFyc2VJbnQiLCJOdW1iZXIiLCJQT1NJVElWRV9JTkZJTklUWSIsInZpc2l0b3IiLCJjaGlsZE5vZGUiLCJjaGlsZEV4cHIiLCJ2YWx1ZXMiLCJtYXAiLCJqb2luIiwic3RyIiwibW9kZWxzIiwiQXJyYXkiLCJpc0FycmF5IiwibW9kZWxUb05vZGUiLCJtb2RlbCIsIm1vZGVsQ2xhc3MiLCJjb25zdHJ1Y3RvciIsInJlbGF0aW9ucyIsImdldFJlbGF0aW9uQXJyYXkiLCJyIiwibHIiLCJyZWxOYW1lIiwiaGFzT3duUHJvcGVydHkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQSxJQUFNQSxrQkFBa0IsV0FBeEI7QUFDQSxJQUFNQyxzQkFBc0IsTUFBNUI7O0lBRXFCQyxrQjtBQUVuQiw4QkFBWUMsSUFBWixFQUFrQkMsY0FBbEIsRUFBa0NDLE9BQWxDLEVBQTJDO0FBQUE7O0FBQ3pDRixXQUFPQSxRQUFRLEVBQWY7O0FBRUEsU0FBS0csSUFBTCxHQUFZSCxLQUFLRyxJQUFMLElBQWEsSUFBekI7QUFDQSxTQUFLQyxJQUFMLEdBQVlKLEtBQUtJLElBQUwsSUFBYSxFQUF6QjtBQUNBLFNBQUtDLFdBQUwsR0FBbUJMLEtBQUtLLFdBQUwsSUFBb0IsQ0FBdkM7QUFDQSxTQUFLQyxRQUFMLEdBQWdCTixLQUFLTSxRQUFMLElBQWlCLEVBQWpDOztBQUVBQyxXQUFPQyxjQUFQLENBQXNCLElBQXRCLEVBQTRCLGlCQUE1QixFQUErQztBQUM3Q0Msa0JBQVksS0FEaUM7QUFFN0NDLGFBQU9ULGtCQUFrQjtBQUZvQixLQUEvQzs7QUFLQU0sV0FBT0MsY0FBUCxDQUFzQixJQUF0QixFQUE0QixVQUE1QixFQUF3QztBQUN0Q0Msa0JBQVksS0FEMEI7QUFFdENFLGdCQUFVLElBRjRCO0FBR3RDRCxhQUFPUixXQUFXO0FBSG9CLEtBQXhDO0FBS0Q7O0FBRUQ7Ozs7OztxQkFJT1UsSyxrQkFBTUMsSSxFQUFNO0FBQ2pCLFFBQUlBLGdCQUFn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QUFNLEVBRkQ7QUFHTEUsY0FBVSxzQkFBYyxJQUFkLENBSEw7QUFJTEQsaUJBQWE7QUFKUixHQUFQO0FBTUQiLCJmaWxlIjoiUmVsYXRpb25FeHByZXNzaW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBwYXJzZXIgZnJvbSAnLi9wYXJzZXJzL3JlbGF0aW9uRXhwcmVzc2lvblBhcnNlcic7XG5pbXBvcnQgVmFsaWRhdGlvbkVycm9yIGZyb20gJy4uL21vZGVsL1ZhbGlkYXRpb25FcnJvcic7XG5cbmNvbnN0IFJFQ1VSU0lWRV9SRUdFWCA9IC9eXFxeKFxcZCopJC87XG5jb25zdCBBTExfUkVDVVJTSVZFX1JFR0VYID0gL15cXCokLztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVsYXRpb25FeHByZXNzaW9uIHtcblxuICBjb25zdHJ1Y3Rvcihub2RlLCByZWN1cnNpb25EZXB0aCwgZmlsdGVycykge1xuICAgIG5vZGUgPSBub2RlIHx8IHt9O1xuXG4gICAgdGhpcy5uYW1lID0gbm9kZS5uYW1lIHx8IG51bGw7XG4gICAgdGhpcy5hcmdzID0gbm9kZS5hcmdzIHx8IFtdO1xuICAgIHRoaXMubnVtQ2hpbGRyZW4gPSBub2RlLm51bUNoaWxkcmVuIHx8IDA7XG4gICAgdGhpcy5jaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW4gfHwge307XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ19yZWN1cnNpb25EZXB0aCcsIHtcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgdmFsdWU6IHJlY3Vyc2lvbkRlcHRoIHx8IDBcbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnX2ZpbHRlcnMnLCB7XG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGZpbHRlcnMgfHwge31cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xSZWxhdGlvbkV4cHJlc3Npb259IGV4cHJcbiAgICogQHJldHVybnMge1JlbGF0aW9uRXhwcmVzc2lvbn1cbiAgICovXG4gIHN0YXRpYyBwYXJzZShleHByKSB7XG4gICAgaWYgKGV4cHIgaW5zdGFuY2VvZiBSZWxhdGlvbkV4cHJlc3Npb24pIHtcbiAgICAgIHJldHVybiBleHByO1xuICAgIH0gZWxzZSBpZiAoIV8uaXNTdHJpbmcoZXhwcikgfHwgXy5pc0VtcHR5KGV4cHIudHJpbSgpKSkge1xuICAgICAgcmV0dXJuIG5ldyBSZWxhdGlvbkV4cHJlc3Npb24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWxhdGlvbkV4cHJlc3Npb24ocGFyc2VyLnBhcnNlKGV4cHIpKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCByZWxhdGlvbiBleHByZXNzaW9uIFwiJyArIGV4cHIgKyAnXCInLFxuICAgICAgICAgIGNhdXNlOiBlcnIubWVzc2FnZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IGdyYXBoXG4gICAqL1xuICBzdGF0aWMgZnJvbUdyYXBoKGdyYXBoKSB7XG4gICAgaWYgKCFncmFwaCkge1xuICAgICAgcmV0dXJuIG5ldyBSZWxhdGlvbkV4cHJlc3Npb24oKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFJlbGF0aW9uRXhwcmVzc2lvbihtb2RlbEdyYXBoVG9Ob2RlKGdyYXBoLCBuZXdOb2RlKCkpKTtcbiAgfVxuXG4gIGdldCBmaWx0ZXJzKCkge1xuICAgIHJldHVybiB0aGlzLl9maWx0ZXJzO1xuICB9XG5cbiAgc2V0IGZpbHRlcnMoZmlsdGVycykge1xuICAgIHRoaXMuX2ZpbHRlcnMgPSBmaWx0ZXJzIHx8IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfFJlbGF0aW9uRXhwcmVzc2lvbn0gZXhwclxuICAgKiBAcmV0dXJucyB7UmVsYXRpb25FeHByZXNzaW9ufVxuICAgKi9cbiAgbWVyZ2UoZXhwcikge1xuICAgIGNvbnN0IG1lcmdlZCA9IHRoaXMuY2xvbmUoKTtcbiAgICBleHByID0gUmVsYXRpb25FeHByZXNzaW9uLnBhcnNlKGV4cHIpO1xuXG4gICAgbWVyZ2VkLm51bUNoaWxkcmVuICs9IGV4cHIubnVtQ2hpbGRyZW47XG4gICAgbWVyZ2VkLmNoaWxkcmVuID0gXy5tZXJnZShtZXJnZWQuY2hpbGRyZW4sIGV4cHIuY2hpbGRyZW4pO1xuICAgIG1lcmdlZC5hcmdzID0gXy5tZXJnZShtZXJnZWQuYXJncywgZXhwci5hcmdzKTtcbiAgICBtZXJnZWQuZmlsdGVycyA9IF8ubWVyZ2UobWVyZ2VkLmZpbHRlcnMsIGV4cHIuZmlsdGVycyk7XG5cbiAgICAvLyBIYW5kbGUgcmVjdXJzaXZlIGFuZCBhbGwgcmVjdXJzaXZlIG5vZGVzLlxuICAgIHZpc2l0KG1lcmdlZCwgKG5vZGUsIGNoaWxkTmFtZXMpID0+IHtcbiAgICAgIGxldCBtYXhOYW1lID0gbnVsbDtcbiAgICAgIGxldCBtYXhEZXB0aCA9IDA7XG4gICAgICBsZXQgcmVjdXJDb3VudCA9IDA7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gY2hpbGROYW1lcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGNoaWxkTmFtZXNbaV07XG4gICAgICAgIGNvbnN0IGRlcHRoID0gbWF4UmVjdXJzaW9uRGVwdGgobmFtZSk7XG5cbiAgICAgICAgaWYgKGRlcHRoID4gMCkge1xuICAgICAgICAgIHJlY3VyQ291bnQrKztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZXB0aCA+IG1heERlcHRoKSB7XG4gICAgICAgICAgbWF4RGVwdGggPSBkZXB0aDtcbiAgICAgICAgICBtYXhOYW1lID0gbmFtZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocmVjdXJDb3VudCA+IDApIHtcbiAgICAgICAgZGVsZXRlIG5vZGUuY2hpbGRyZW5bbm9kZS5uYW1lXTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlY3VyQ291bnQgPiAxKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gY2hpbGROYW1lcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICBjb25zdCBuYW1lID0gY2hpbGROYW1lc1tpXTtcblxuICAgICAgICAgIGlmIChuYW1lICE9PSBtYXhOYW1lKSB7XG4gICAgICAgICAgICBkZWxldGUgbm9kZS5jaGlsZHJlbltuYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBtZXJnZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd8UmVsYXRpb25FeHByZXNzaW9ufSBleHByXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgaXNTdWJFeHByZXNzaW9uKGV4cHIpIHtcbiAgICBleHByID0gUmVsYXRpb25FeHByZXNzaW9uLnBhcnNlKGV4cHIpO1xuXG4gICAgaWYgKHRoaXMuaXNBbGxSZWN1cnNpdmUoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGV4cHIuaXNBbGxSZWN1cnNpdmUoKSkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNBbGxSZWN1cnNpdmUoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5uYW1lICE9PSBleHByLm5hbWUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBtYXhSZWN1cnNpb25EZXB0aCA9IGV4cHIubWF4UmVjdXJzaW9uRGVwdGgoKTtcblxuICAgIGlmIChtYXhSZWN1cnNpb25EZXB0aCA+IDApIHtcbiAgICAgIHJldHVybiB0aGlzLmlzQWxsUmVjdXJzaXZlKCkgfHwgdGhpcy5tYXhSZWN1cnNpb25EZXB0aCgpID49IG1heFJlY3Vyc2lvbkRlcHRoO1xuICAgIH1cblxuICAgIHJldHVybiBfLmV2ZXJ5KGV4cHIuY2hpbGRyZW4sIChjaGlsZCwgY2hpbGROYW1lKSA9PiB7XG4gICAgICB2YXIgb3duU3ViRXhwcmVzc2lvbiA9IHRoaXMuY2hpbGRFeHByZXNzaW9uKGNoaWxkTmFtZSk7XG4gICAgICB2YXIgc3ViRXhwcmVzc2lvbiA9IGV4cHIuY2hpbGRFeHByZXNzaW9uKGNoaWxkTmFtZSk7XG5cbiAgICAgIHJldHVybiBvd25TdWJFeHByZXNzaW9uICYmIG93blN1YkV4cHJlc3Npb24uaXNTdWJFeHByZXNzaW9uKHN1YkV4cHJlc3Npb24pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBtYXhSZWN1cnNpb25EZXB0aCgpIHtcbiAgICBpZiAodGhpcy5udW1DaGlsZHJlbiAhPT0gMSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgY29uc3Qga2V5ID0gT2JqZWN0LmtleXModGhpcy5jaGlsZHJlbilbMF07XG4gICAgcmV0dXJuIG1heFJlY3Vyc2lvbkRlcHRoKGtleSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBpc0FsbFJlY3Vyc2l2ZSgpIHtcbiAgICBpZiAodGhpcy5udW1DaGlsZHJlbiAhPT0gMSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGtleSA9IE9iamVjdC5rZXlzKHRoaXMuY2hpbGRyZW4pWzBdO1xuICAgIHJldHVybiBBTExfUkVDVVJTSVZFX1JFR0VYLnRlc3Qoa2V5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UmVsYXRpb25FeHByZXNzaW9ufVxuICAgKi9cbiAgY2hpbGRFeHByZXNzaW9uKGNoaWxkTmFtZSkge1xuICAgIGlmICh0aGlzLmlzQWxsUmVjdXJzaXZlKCkgfHwgKGNoaWxkTmFtZSA9PT0gdGhpcy5uYW1lICYmIHRoaXMuX3JlY3Vyc2lvbkRlcHRoIDwgdGhpcy5tYXhSZWN1cnNpb25EZXB0aCgpIC0gMSkpIHtcbiAgICAgIHJldHVybiBuZXcgUmVsYXRpb25FeHByZXNzaW9uKHRoaXMsIHRoaXMuX3JlY3Vyc2lvbkRlcHRoICsgMSwgdGhpcy5fZmlsdGVycyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY2hpbGRyZW5bY2hpbGROYW1lXSkge1xuICAgICAgcmV0dXJuIG5ldyBSZWxhdGlvbkV4cHJlc3Npb24odGhpcy5jaGlsZHJlbltjaGlsZE5hbWVdLCAwLCB0aGlzLl9maWx0ZXJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtSZWxhdGlvbkV4cHJlc3Npb259XG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICBjb25zdCBub2RlID0ge1xuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgYXJnczogdGhpcy5hcmdzLFxuICAgICAgbnVtQ2hpbGRyZW46IHRoaXMubnVtQ2hpbGRyZW4sXG4gICAgICBjaGlsZHJlbjogXy5jbG9uZURlZXAodGhpcy5jaGlsZHJlbilcbiAgICB9O1xuXG4gICAgY29uc3QgZmlsdGVycyA9IF8uY2xvbmUodGhpcy5fZmlsdGVycyk7XG4gICAgcmV0dXJuIG5ldyBSZWxhdGlvbkV4cHJlc3Npb24obm9kZSwgdGhpcy5fcmVjdXJzaW9uRGVwdGgsIGZpbHRlcnMpO1xuICB9XG5cbiAgZm9yRWFjaENoaWxkKGNiKSB7XG4gICAgaWYgKHRoaXMubnVtQ2hpbGRyZW4pIHtcbiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLmNoaWxkcmVuKTtcblxuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICBjb25zdCBjaGlsZE5hbWUgPSBrZXlzW2ldO1xuXG4gICAgICAgIGlmICghQUxMX1JFQ1VSU0lWRV9SRUdFWC50ZXN0KGNoaWxkTmFtZSkgJiYgIVJFQ1VSU0lWRV9SRUdFWC50ZXN0KGNoaWxkTmFtZSkpIHtcbiAgICAgICAgICBjYih0aGlzLmNoaWxkcmVuW2NoaWxkTmFtZV0sIGNoaWxkTmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd8UmVsYXRpb25FeHByZXNzaW9ufSBwYXRoXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oUXVlcnlCdWlsZGVyKX0gZmlsdGVyXG4gICAqL1xuICBhZGRBbm9ueW1vdXNGaWx0ZXJBdFBhdGgocGF0aCwgZmlsdGVyKSB7XG4gICAgbGV0IGZpbHRlck5vZGVzID0gdGhpcy5fbm9kZXNBdFBhdGgocGF0aCk7XG4gICAgbGV0IGZpbHRlcnMgPSB0aGlzLmZpbHRlcnM7XG5cbiAgICBsZXQgaWR4ID0gMDtcbiAgICBsZXQgZmlsdGVyTmFtZSA9IGBfZWZlMF9gO1xuXG4gICAgd2hpbGUgKGZpbHRlcnNbZmlsdGVyTmFtZV0pIHtcbiAgICAgIGZpbHRlck5hbWUgPSBgX2VmZSR7KytpZHh9X2A7XG4gICAgfVxuXG4gICAgaWYgKCFfLmlzRW1wdHkoZmlsdGVyTm9kZXMpKSB7XG4gICAgICBmaWx0ZXJzW2ZpbHRlck5hbWVdID0gZmlsdGVyO1xuICAgICAgXy5lYWNoKGZpbHRlck5vZGVzLCBub2RlID0+IG5vZGUuYXJncy5wdXNoKGZpbHRlck5hbWUpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0b1N0cmluZyh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtBcnJheS48T2JqZWN0Pn1cbiAgICovXG4gIF9ub2Rlc0F0UGF0aChwYXRoRXhwcmVzc2lvbikge1xuICAgIGxldCBwYXRoID0gUmVsYXRpb25FeHByZXNzaW9uLnBhcnNlKHBhdGhFeHByZXNzaW9uKTtcbiAgICBsZXQgbm9kZXMgPSBbXTtcblxuICAgIFJlbGF0aW9uRXhwcmVzc2lvbi5ub2Rlc0F0UGF0aCh0aGlzLCBwYXRoLCBub2Rlcyk7XG4gICAgcmV0dXJuIG5vZGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgbm9kZXNBdFBhdGgodGFyZ2V0LCBwYXRoLCBleHByZXNzaW9ucykge1xuICAgIGlmIChwYXRoLm51bUNoaWxkcmVuID09IDApIHtcbiAgICAgIGV4cHJlc3Npb25zLnB1c2godGFyZ2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgXy5mb3JPd24ocGF0aC5jaGlsZHJlbiwgY2hpbGQgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXRDaGlsZCA9IHRhcmdldC5jaGlsZHJlbltjaGlsZC5uYW1lXTtcblxuICAgICAgICBpZiAodGFyZ2V0Q2hpbGQpIHtcbiAgICAgICAgICB0aGlzLm5vZGVzQXRQYXRoKHRhcmdldENoaWxkLCBjaGlsZCwgZXhwcmVzc2lvbnMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gbWF4UmVjdXJzaW9uRGVwdGgoa2V5KSB7XG4gIGNvbnN0IHJlYyA9IFJFQ1VSU0lWRV9SRUdFWC5leGVjKGtleSk7XG5cbiAgaWYgKHJlYykge1xuICAgIGNvbnN0IG1heERlcHRoID0gcmVjWzFdO1xuXG4gICAgaWYgKG1heERlcHRoKSB7XG4gICAgICByZXR1cm4gcGFyc2VJbnQobWF4RGVwdGgsIDEwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbn1cblxuZnVuY3Rpb24gdmlzaXQobm9kZSwgdmlzaXRvcikge1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMobm9kZS5jaGlsZHJlbik7XG5cbiAgdmlzaXRvcihub2RlLCBrZXlzKTtcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICBjb25zdCBjaGlsZE5vZGUgPSBub2RlLmNoaWxkcmVuW2tleV07XG5cbiAgICBpZiAoY2hpbGROb2RlKSB7XG4gICAgICB2aXNpdChjaGlsZE5vZGUsIHZpc2l0b3IpO1xuICAgIH1cbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHRvU3RyaW5nKG5vZGUpIHtcbiAgbGV0IGNoaWxkRXhwciA9IF8udmFsdWVzKG5vZGUuY2hpbGRyZW4pLm1hcCh0b1N0cmluZyk7XG5cbiAgaWYgKGNoaWxkRXhwci5sZW5ndGggPiAxKSB7XG4gICAgY2hpbGRFeHByID0gYFske2NoaWxkRXhwci5qb2luKCcsICcpfV1gO1xuICB9IGVsc2Uge1xuICAgIGNoaWxkRXhwciA9IGNoaWxkRXhwclswXTtcbiAgfVxuXG4gIGxldCBzdHIgPSBub2RlLm5hbWU7XG5cbiAgaWYgKG5vZGUuYXJncy5sZW5ndGgpIHtcbiAgICBzdHIgKz0gYCgke25vZGUuYXJncy5qb2luKCcsICcpfSlgO1xuICB9XG5cbiAgaWYgKGNoaWxkRXhwcikge1xuICAgIGlmIChzdHIpIHtcbiAgICAgIHJldHVybiBgJHtzdHJ9LiR7Y2hpbGRFeHByfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjaGlsZEV4cHI7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbn1cblxuZnVuY3Rpb24gbW9kZWxHcmFwaFRvTm9kZShtb2RlbHMsIG5vZGUpIHtcbiAgaWYgKCFtb2RlbHMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShtb2RlbHMpKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBtb2RlbHMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICBtb2RlbFRvTm9kZShtb2RlbHNbaV0sIG5vZGUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBtb2RlbFRvTm9kZShtb2RlbHMsIG5vZGUpO1xuICB9XG5cbiAgcmV0dXJuIG5vZGU7XG59XG5cbmZ1bmN0aW9uIG1vZGVsVG9Ob2RlKG1vZGVsLCBub2RlKSB7XG4gIGNvbnN0IG1vZGVsQ2xhc3MgPSBtb2RlbC5jb25zdHJ1Y3RvcjtcbiAgY29uc3QgcmVsYXRpb25zID0gbW9kZWxDbGFzcy5nZXRSZWxhdGlvbkFycmF5KCk7XG5cbiAgZm9yIChsZXQgciA9IDAsIGxyID0gcmVsYXRpb25zLmxlbmd0aDsgciA8IGxyOyArK3IpIHtcbiAgICBjb25zdCByZWxOYW1lID0gcmVsYXRpb25zW3JdLm5hbWU7XG5cbiAgICBpZiAobW9kZWwuaGFzT3duUHJvcGVydHkocmVsTmFtZSkpIHtcbiAgICAgIGxldCBjaGlsZE5vZGUgPSBub2RlLmNoaWxkcmVuW3JlbE5hbWVdO1xuXG4gICAgICBpZiAoIWNoaWxkTm9kZSkge1xuICAgICAgICBjaGlsZE5vZGUgPSBuZXdOb2RlKHJlbE5hbWUpO1xuXG4gICAgICAgIG5vZGUuY2hpbGRyZW5bcmVsTmFtZV0gPSBjaGlsZE5vZGU7XG4gICAgICAgIG5vZGUubnVtQ2hpbGRyZW4rKztcbiAgICAgIH1cblxuICAgICAgbW9kZWxHcmFwaFRvTm9kZShtb2RlbFtyZWxOYW1lXSwgY2hpbGROb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gbmV3Tm9kZShuYW1lKSB7XG4gIHJldHVybiB7XG4gICAgbmFtZTogbmFtZSB8fCAnJyxcbiAgICBhcmdzOiBbXSxcbiAgICBjaGlsZHJlbjogT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICBudW1DaGlsZHJlbjogMFxuICB9O1xufSJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/parsers/relationExpressionParser.js":"\"use strict\";\n\nmodule.exports = function () {\n  \"use strict\";\n\n  /*\n   * Generated by PEG.js 0.9.0.\n   *\n   * http://pegjs.org/\n   */\n\n  function peg$subclass(child, parent) {\n    function ctor() {\n      this.constructor = child;\n    }\n    ctor.prototype = parent.prototype;\n    child.prototype = new ctor();\n  }\n\n  function peg$SyntaxError(message, expected, found, location) {\n    this.message = message;\n    this.expected = expected;\n    this.found = found;\n    this.location = location;\n    this.name = \"SyntaxError\";\n\n    if (typeof Error.captureStackTrace === \"function\") {\n      Error.captureStackTrace(this, peg$SyntaxError);\n    }\n  }\n\n  peg$subclass(peg$SyntaxError, Error);\n\n  function peg$parse(input) {\n    var options = arguments.length > 1 ? arguments[1] : {},\n        parser = this,\n        peg$FAILED = {},\n        peg$startRuleFunctions = { start: peg$parsestart },\n        peg$startRuleFunction = peg$parsestart,\n        peg$c0 = function peg$c0(expr) {\n      var node = { name: null, args: [], numChildren: 1, children: {} };\n      node.children[expr.name] = expr;\n      return node;\n    },\n        peg$c1 = function peg$c1(list) {\n      return { name: null, args: [], numChildren: list.list.length, children: list.byName };\n    },\n        peg$c2 = function peg$c2(rel, args, list) {\n      return { name: rel, args: args || [], numChildren: list.list.length, children: list.byName };\n    },\n        peg$c3 = function peg$c3(rel, args, sub) {\n      var node = { name: rel, args: args || [], numChildren: 0, children: {} };\n      if (sub) {\n        node.numChildren = 1;\n        node.children[sub.name] = sub;\n      }\n      return node;\n    },\n        peg$c4 = function peg$c4(rel) {\n      return rel.join('');\n    },\n        peg$c5 = /^[^[\\](),. \\t\\r\\n]/,\n        peg$c6 = { type: \"class\", value: \"[^\\\\[\\\\]\\\\(\\\\),\\\\. \\\\t\\\\r\\\\n]\", description: \"[^\\\\[\\\\]\\\\(\\\\),\\\\. \\\\t\\\\r\\\\n]\" },\n        peg$c7 = \"(\",\n        peg$c8 = { type: \"literal\", value: \"(\", description: \"\\\"(\\\"\" },\n        peg$c9 = \")\",\n        peg$c10 = { type: \"literal\", value: \")\", description: \"\\\")\\\"\" },\n        peg$c11 = function peg$c11(args) {\n      return args;\n    },\n        peg$c12 = \",\",\n        peg$c13 = { type: \"literal\", value: \",\", description: \"\\\",\\\"\" },\n        peg$c14 = function peg$c14(arg) {\n      return arg;\n    },\n        peg$c15 = /^[ \\t\\r\\n]/,\n        peg$c16 = { type: \"class\", value: \"[ \\\\t\\\\r\\\\n]\", description: \"[ \\\\t\\\\r\\\\n]\" },\n        peg$c17 = \".\",\n        peg$c18 = { type: \"literal\", value: \".\", description: \"\\\".\\\"\" },\n        peg$c19 = function peg$c19(list) {\n      return list;\n    },\n        peg$c20 = \"[\",\n        peg$c21 = { type: \"literal\", value: \"[\", description: \"\\\"[\\\"\" },\n        peg$c22 = \"]\",\n        peg$c23 = { type: \"literal\", value: \"]\", description: \"\\\"]\\\"\" },\n        peg$c24 = function peg$c24(items) {\n      var itemsByName = {};\n\n      for (var i = 0; i < items.length; ++i) {\n        itemsByName[items[i].name] = items[i];\n      }\n\n      return {\n        list: items,\n        byName: itemsByName\n      };\n    },\n        peg$c25 = function peg$c25(expr) {\n      return expr;\n    },\n        peg$c26 = function peg$c26(sub) {\n      return sub;\n    },\n        peg$currPos = 0,\n        peg$savedPos = 0,\n        peg$posDetailsCache = [{ line: 1, column: 1, seenCR: false }],\n        peg$maxFailPos = 0,\n        peg$maxFailExpected = [],\n        peg$silentFails = 0,\n        peg$result;\n\n    if (\"startRule\" in options) {\n      if (!(options.startRule in peg$startRuleFunctions)) {\n        throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n      }\n\n      peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n    }\n\n    function text() {\n      return input.substring(peg$savedPos, peg$currPos);\n    }\n\n    function location() {\n      return peg$computeLocation(peg$savedPos, peg$currPos);\n    }\n\n    function expected(description) {\n      throw peg$buildException(null, [{ type: \"other\", description: description }], input.substring(peg$savedPos, peg$currPos), peg$computeLocation(peg$savedPos, peg$currPos));\n    }\n\n    function error(message) {\n      throw peg$buildException(message, null, input.substring(peg$savedPos, peg$currPos), peg$computeLocation(peg$savedPos, peg$currPos));\n    }\n\n    function peg$computePosDetails(pos) {\n      var details = peg$posDetailsCache[pos],\n          p,\n          ch;\n\n      if (details) {\n        return details;\n      } else {\n        p = pos - 1;\n        while (!peg$posDetailsCache[p]) {\n          p--;\n        }\n\n        details = peg$posDetailsCache[p];\n        details = {\n          line: details.line,\n          column: details.column,\n          seenCR: details.seenCR\n        };\n\n        while (p < pos) {\n          ch = input.charAt(p);\n          if (ch === \"\\n\") {\n            if (!details.seenCR) {\n              details.line++;\n            }\n            details.column = 1;\n            details.seenCR = false;\n          } else if (ch === \"\\r\" || ch === \"\\u2028\" || ch === \"\\u2029\") {\n            details.line++;\n            details.column = 1;\n            details.seenCR = true;\n          } else {\n            details.column++;\n            details.seenCR = false;\n          }\n\n          p++;\n        }\n\n        peg$posDetailsCache[pos] = details;\n        return details;\n      }\n    }\n\n    function peg$computeLocation(startPos, endPos) {\n      var startPosDetails = peg$computePosDetails(startPos),\n          endPosDetails = peg$computePosDetails(endPos);\n\n      return {\n        start: {\n          offset: startPos,\n          line: startPosDetails.line,\n          column: startPosDetails.column\n        },\n        end: {\n          offset: endPos,\n          line: endPosDetails.line,\n          column: endPosDetails.column\n        }\n      };\n    }\n\n    function peg$fail(expected) {\n      if (peg$currPos < peg$maxFailPos) {\n        return;\n      }\n\n      if (peg$currPos > peg$maxFailPos) {\n        peg$maxFailPos = peg$currPos;\n        peg$maxFailExpected = [];\n      }\n\n      peg$maxFailExpected.push(expected);\n    }\n\n    function peg$buildException(message, expected, found, location) {\n      function cleanupExpected(expected) {\n        var i = 1;\n\n        expected.sort(function (a, b) {\n          if (a.description < b.description) {\n            return -1;\n          } else if (a.description > b.description) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n\n        while (i < expected.length) {\n          if (expected[i - 1] === expected[i]) {\n            expected.splice(i, 1);\n          } else {\n            i++;\n          }\n        }\n      }\n\n      function buildMessage(expected, found) {\n        function stringEscape(s) {\n          function hex(ch) {\n            return ch.charCodeAt(0).toString(16).toUpperCase();\n          }\n\n          return s.replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"').replace(/\\x08/g, '\\\\b').replace(/\\t/g, '\\\\t').replace(/\\n/g, '\\\\n').replace(/\\f/g, '\\\\f').replace(/\\r/g, '\\\\r').replace(/[\\x00-\\x07\\x0B\\x0E\\x0F]/g, function (ch) {\n            return '\\\\x0' + hex(ch);\n          }).replace(/[\\x10-\\x1F\\x80-\\xFF]/g, function (ch) {\n            return '\\\\x' + hex(ch);\n          }).replace(/[\\u0100-\\u0FFF]/g, function (ch) {\n            return \"\\\\u0\" + hex(ch);\n          }).replace(/[\\u1000-\\uFFFF]/g, function (ch) {\n            return \"\\\\u\" + hex(ch);\n          });\n        }\n\n        var expectedDescs = new Array(expected.length),\n            expectedDesc,\n            foundDesc,\n            i;\n\n        for (i = 0; i < expected.length; i++) {\n          expectedDescs[i] = expected[i].description;\n        }\n\n        expectedDesc = expected.length > 1 ? expectedDescs.slice(0, -1).join(\", \") + \" or \" + expectedDescs[expected.length - 1] : expectedDescs[0];\n\n        foundDesc = found ? \"\\\"\" + stringEscape(found) + \"\\\"\" : \"end of input\";\n\n        return \"Expected \" + expectedDesc + \" but \" + foundDesc + \" found.\";\n      }\n\n      if (expected !== null) {\n        cleanupExpected(expected);\n      }\n\n      return new peg$SyntaxError(message !== null ? message : buildMessage(expected, found), expected, found, location);\n    }\n\n    function peg$parsestart() {\n      var s0, s1;\n\n      s0 = peg$currPos;\n      s1 = peg$parseexpression();\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c0(s1);\n      }\n      s0 = s1;\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parselistExpression();\n        if (s1 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c1(s1);\n        }\n        s0 = s1;\n      }\n\n      return s0;\n    }\n\n    function peg$parseexpression() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parserelation();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseargs();\n        if (s2 === peg$FAILED) {\n          s2 = null;\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsesubListExpression();\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c2(s1, s2, s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parserelation();\n        if (s1 !== peg$FAILED) {\n          s2 = peg$parseargs();\n          if (s2 === peg$FAILED) {\n            s2 = null;\n          }\n          if (s2 !== peg$FAILED) {\n            s3 = peg$parsesubExpression();\n            if (s3 === peg$FAILED) {\n              s3 = null;\n            }\n            if (s3 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c3(s1, s2, s3);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parserelation() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parsechar();\n      if (s2 !== peg$FAILED) {\n        while (s2 !== peg$FAILED) {\n          s1.push(s2);\n          s2 = peg$parsechar();\n        }\n      } else {\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c4(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsechar() {\n      var s0;\n\n      if (peg$c5.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c6);\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseargs() {\n      var s0, s1, s2, s3, s4, s5;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 40) {\n          s2 = peg$c7;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c8);\n          }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = [];\n          s4 = peg$parseargListItem();\n          while (s4 !== peg$FAILED) {\n            s3.push(s4);\n            s4 = peg$parseargListItem();\n          }\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 41) {\n              s4 = peg$c9;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) {\n                peg$fail(peg$c10);\n              }\n            }\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parsews();\n              if (s5 !== peg$FAILED) {\n                peg$savedPos = s0;\n                s1 = peg$c11(s3);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseargListItem() {\n      var s0, s1, s2, s3, s4, s5;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsearg();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 44) {\n              s4 = peg$c12;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) {\n                peg$fail(peg$c13);\n              }\n            }\n            if (s4 === peg$FAILED) {\n              s4 = null;\n            }\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parsews();\n              if (s5 !== peg$FAILED) {\n                peg$savedPos = s0;\n                s1 = peg$c14(s2);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsews() {\n      var s0, s1;\n\n      s0 = [];\n      if (peg$c15.test(input.charAt(peg$currPos))) {\n        s1 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c16);\n        }\n      }\n      while (s1 !== peg$FAILED) {\n        s0.push(s1);\n        if (peg$c15.test(input.charAt(peg$currPos))) {\n          s1 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c16);\n          }\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parsearg() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parsechar();\n      if (s2 !== peg$FAILED) {\n        while (s2 !== peg$FAILED) {\n          s1.push(s2);\n          s2 = peg$parsechar();\n        }\n      } else {\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c4(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsesubListExpression() {\n      var s0, s1, s2, s3, s4, s5;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 46) {\n          s2 = peg$c17;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c18);\n          }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parselistExpression();\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parsews();\n              if (s5 !== peg$FAILED) {\n                peg$savedPos = s0;\n                s1 = peg$c19(s4);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parselistExpression() {\n      var s0, s1, s2, s3, s4, s5;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 91) {\n          s2 = peg$c20;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c21);\n          }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = [];\n          s4 = peg$parselistExpressionItem();\n          while (s4 !== peg$FAILED) {\n            s3.push(s4);\n            s4 = peg$parselistExpressionItem();\n          }\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 93) {\n              s4 = peg$c22;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) {\n                peg$fail(peg$c23);\n              }\n            }\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parsews();\n              if (s5 !== peg$FAILED) {\n                peg$savedPos = s0;\n                s1 = peg$c24(s3);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parselistExpressionItem() {\n      var s0, s1, s2, s3, s4, s5;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseexpression();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 44) {\n              s4 = peg$c12;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) {\n                peg$fail(peg$c13);\n              }\n            }\n            if (s4 === peg$FAILED) {\n              s4 = null;\n            }\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parsews();\n              if (s5 !== peg$FAILED) {\n                peg$savedPos = s0;\n                s1 = peg$c25(s2);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsesubExpression() {\n      var s0, s1, s2, s3, s4, s5;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 46) {\n          s2 = peg$c17;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c18);\n          }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parseexpression();\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parsews();\n              if (s5 !== peg$FAILED) {\n                peg$savedPos = s0;\n                s1 = peg$c26(s4);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    peg$result = peg$startRuleFunction();\n\n    if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n      return peg$result;\n    } else {\n      if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n        peg$fail({ type: \"end\", description: \"end of input\" });\n      }\n\n      throw peg$buildException(null, peg$maxFailExpected, peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null, peg$maxFailPos < input.length ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1) : peg$computeLocation(peg$maxFailPos, peg$maxFailPos));\n    }\n  }\n\n  return {\n    SyntaxError: peg$SyntaxError,\n    parse: peg$parse\n  };\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbGF0aW9uRXhwcmVzc2lvblBhcnNlci5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicGVnJHN1YmNsYXNzIiwiY2hpbGQiLCJwYXJlbnQiLCJjdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJwZWckU3ludGF4RXJyb3IiLCJtZXNzYWdlIiwiZXhwZWN0ZWQiLCJmb3VuZCIsImxvY2F0aW9uIiwibmFtZSIsIkVycm9yIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJwZWckcGFyc2UiLCJpbnB1dCIsIm9wdGlvbnMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJwYXJzZXIiLCJwZWckRkFJTEVEIiwicGVnJHN0YXJ0UnVsZUZ1bmN0aW9ucyIsInN0YXJ0IiwicGVnJHBhcnNlc3RhcnQiLCJwZWckc3RhcnRSdWxlRnVuY3Rpb24iLCJwZWckYzAiLCJleHByIiwibm9kZSIsImFyZ3MiLCJudW1DaGlsZHJlbiIsImNoaWxkcmVuIiwicGVnJGMxIiwibGlzdCIsImJ5TmFtZSIsInBlZyRjMiIsInJlbCIsInBlZyRjMyIsInN1YiIsInBlZyRjNCIsImpvaW4iLCJwZWckYzUiLCJwZWckYzYiLCJ0eXBlIiwidmFsdWUiLCJkZXNjcmlwdGlvbiIsInBlZyRjNyIsInBlZyRjOCIsInBlZyRjOSIsInBlZyRjMTAiLCJwZWckYzExIiwicGVnJGMxMiIsInBlZyRjMTMiLCJwZWckYzE0IiwiYXJnIiwicGVnJGMxNSIsInBlZyRjMTYiLCJwZWckYzE3IiwicGVnJGMxOCIsInBlZyRjMTkiLCJwZWckYzIwIiwicGVnJGMyMSIsInBlZyRjMjIiLCJwZWckYzIzIiwicGVnJGMyNCIsIml0ZW1zIiwiaXRlbXNCeU5hbWUiLCJpIiwicGVnJGMyNSIsInBlZyRjMjYiLCJwZWckY3VyclBvcyIsInBlZyRzYXZlZFBvcyIsInBlZyRwb3NEZXRhaWxzQ2FjaGUiLCJsaW5lIiwiY29sdW1uIiwic2VlbkNSIiwicGVnJG1heEZhaWxQb3MiLCJwZWckbWF4RmFpbEV4cGVjdGVkIiwicGVnJHNpbGVudEZhaWxzIiwicGVnJHJlc3VsdCIsInN0YXJ0UnVsZSIsInRleHQiLCJzdWJzdHJpbmciLCJwZWckY29tcHV0ZUxvY2F0aW9uIiwicGVnJGJ1aWxkRXhjZXB0aW9uIiwiZXJyb3IiLCJwZWckY29tcHV0ZVBvc0RldGFpbHMiLCJwb3MiLCJkZXRhaWxzIiwicCIsImNoIiwiY2hhckF0Iiwic3RhcnRQb3MiLCJlbmRQb3MiLCJzdGFydFBvc0RldGFpbHMiLCJlbmRQb3NEZXRhaWxzIiwib2Zmc2V0IiwiZW5kIiwicGVnJGZhaWwiLCJwdXNoIiwiY2xlYW51cEV4cGVjdGVkIiwic29ydCIsImEiLCJiIiwic3BsaWNlIiwiYnVpbGRNZXNzYWdlIiwic3RyaW5nRXNjYXBlIiwicyIsImhleCIsImNoYXJDb2RlQXQiLCJ0b1N0cmluZyIsInRvVXBwZXJDYXNlIiwicmVwbGFjZSIsImV4cGVjdGVkRGVzY3MiLCJBcnJheSIsImV4cGVjdGVkRGVzYyIsImZvdW5kRGVzYyIsInNsaWNlIiwiczAiLCJzMSIsInBlZyRwYXJzZWV4cHJlc3Npb24iLCJwZWckcGFyc2VsaXN0RXhwcmVzc2lvbiIsInMyIiwiczMiLCJwZWckcGFyc2VyZWxhdGlvbiIsInBlZyRwYXJzZWFyZ3MiLCJwZWckcGFyc2VzdWJMaXN0RXhwcmVzc2lvbiIsInBlZyRwYXJzZXN1YkV4cHJlc3Npb24iLCJwZWckcGFyc2VjaGFyIiwidGVzdCIsInM0IiwiczUiLCJwZWckcGFyc2V3cyIsInBlZyRwYXJzZWFyZ0xpc3RJdGVtIiwicGVnJHBhcnNlYXJnIiwicGVnJHBhcnNlbGlzdEV4cHJlc3Npb25JdGVtIiwiU3ludGF4RXJyb3IiLCJwYXJzZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsT0FBT0MsT0FBUCxHQUFrQixZQUFXO0FBQzNCOztBQUVBOzs7Ozs7QUFNQSxXQUFTQyxZQUFULENBQXNCQyxLQUF0QixFQUE2QkMsTUFBN0IsRUFBcUM7QUFDbkMsYUFBU0MsSUFBVCxHQUFnQjtBQUFFLFdBQUtDLFdBQUwsR0FBbUJI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VUFBZixJQUE2QmlELGNBQWN0RCxNQUFNRyxNQUFyRCxFQUE2RDtBQUMzRCtFLGlCQUFTLEVBQUV2RCxNQUFNLEtBQVIsRUFBZUUsYUFBYSxjQUE1QixFQUFUO0FBQ0Q7O0FBRUQsWUFBTXVDLG1CQUNKLElBREksRUFFSlAsbUJBRkksRUFHSkQsaUJBQWlCNUQsTUFBTUcsTUFBdkIsR0FBZ0NILE1BQU0yRSxNQUFOLENBQWFmLGNBQWIsQ0FBaEMsR0FBK0QsSUFIM0QsRUFJSkEsaUJBQWlCNUQsTUFBTUcsTUFBdkIsR0FDSWdFLG9CQUFvQlAsY0FBcEIsRUFBb0NBLGlCQUFpQixDQUFyRCxDQURKLEdBRUlPLG9CQUFvQlAsY0FBcEIsRUFBb0NBLGNBQXBDLENBTkEsQ0FBTjtBQVFEO0FBQ0Y7O0FBRUQsU0FBTztBQUNMNEQsaUJBQWFqSSxlQURSO0FBRUxrSSxXQUFhMUg7QUFGUixHQUFQO0FBSUQsQ0F6eEJnQixFQUFqQiIsImZpbGUiOiJyZWxhdGlvbkV4cHJlc3Npb25QYXJzZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLypcbiAgICogR2VuZXJhdGVkIGJ5IFBFRy5qcyAwLjkuMC5cbiAgICpcbiAgICogaHR0cDovL3BlZ2pzLm9yZy9cbiAgICovXG5cbiAgZnVuY3Rpb24gcGVnJHN1YmNsYXNzKGNoaWxkLCBwYXJlbnQpIHtcbiAgICBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH1cbiAgICBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7XG4gICAgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRTeW50YXhFcnJvcihtZXNzYWdlLCBleHBlY3RlZCwgZm91bmQsIGxvY2F0aW9uKSB7XG4gICAgdGhpcy5tZXNzYWdlICA9IG1lc3NhZ2U7XG4gICAgdGhpcy5leHBlY3RlZCA9IGV4cGVjdGVkO1xuICAgIHRoaXMuZm91bmQgICAgPSBmb3VuZDtcbiAgICB0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgdGhpcy5uYW1lICAgICA9IFwiU3ludGF4RXJyb3JcIjtcblxuICAgIGlmICh0eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgcGVnJFN5bnRheEVycm9yKTtcbiAgICB9XG4gIH1cblxuICBwZWckc3ViY2xhc3MocGVnJFN5bnRheEVycm9yLCBFcnJvcik7XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlKGlucHV0KSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHt9LFxuICAgICAgICBwYXJzZXIgID0gdGhpcyxcblxuICAgICAgICBwZWckRkFJTEVEID0ge30sXG5cbiAgICAgICAgcGVnJHN0YXJ0UnVsZUZ1bmN0aW9ucyA9IHsgc3RhcnQ6IHBlZyRwYXJzZXN0YXJ0IH0sXG4gICAgICAgIHBlZyRzdGFydFJ1bGVGdW5jdGlvbiAgPSBwZWckcGFyc2VzdGFydCxcblxuICAgICAgICBwZWckYzAgPSBmdW5jdGlvbihleHByKSB7XG4gICAgICAgICAgICB2YXIgbm9kZSA9IHtuYW1lOiBudWxsLCBhcmdzOiBbXSwgbnVtQ2hpbGRyZW46IDEsIGNoaWxkcmVuOiB7fX07XG4gICAgICAgICAgICBub2RlLmNoaWxkcmVuW2V4cHIubmFtZV0gPSBleHByO1xuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgfSxcbiAgICAgICAgcGVnJGMxID0gZnVuY3Rpb24obGlzdCkge1xuICAgICAgICAgICAgcmV0dXJuIHtuYW1lOiBudWxsLCBhcmdzOiBbXSwgbnVtQ2hpbGRyZW46IGxpc3QubGlzdC5sZW5ndGgsIGNoaWxkcmVuOiBsaXN0LmJ5TmFtZX07XG4gICAgICAgICAgfSxcbiAgICAgICAgcGVnJGMyID0gZnVuY3Rpb24ocmVsLCBhcmdzLCBsaXN0KSB7XG4gICAgICAgICAgICByZXR1cm4ge25hbWU6IHJlbCwgYXJnczogYXJncyB8fCBbXSwgbnVtQ2hpbGRyZW46IGxpc3QubGlzdC5sZW5ndGgsIGNoaWxkcmVuOiBsaXN0LmJ5TmFtZX07XG4gICAgICAgICAgfSxcbiAgICAgICAgcGVnJGMzID0gZnVuY3Rpb24ocmVsLCBhcmdzLCBzdWIpIHtcbiAgICAgICAgICAgIHZhciBub2RlID0ge25hbWU6IHJlbCwgYXJnczogYXJncyB8fCBbXSwgbnVtQ2hpbGRyZW46IDAsIGNoaWxkcmVuOiB7fX07XG4gICAgICAgICAgICBpZiAoc3ViKSB7XG4gICAgICAgICAgICAgIG5vZGUubnVtQ2hpbGRyZW4gPSAxO1xuICAgICAgICAgICAgICBub2RlLmNoaWxkcmVuW3N1Yi5uYW1lXSA9IHN1YjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgIH0sXG4gICAgICAgIHBlZyRjNCA9IGZ1bmN0aW9uKHJlbCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlbC5qb2luKCcnKVxuICAgICAgICAgIH0sXG4gICAgICAgIHBlZyRjNSA9IC9eW15bXFxdKCksLiBcXHRcXHJcXG5dLyxcbiAgICAgICAgcGVnJGM2ID0geyB0eXBlOiBcImNsYXNzXCIsIHZhbHVlOiBcIlteXFxcXFtcXFxcXVxcXFwoXFxcXCksXFxcXC4gXFxcXHRcXFxcclxcXFxuXVwiLCBkZXNjcmlwdGlvbjogXCJbXlxcXFxbXFxcXF1cXFxcKFxcXFwpLFxcXFwuIFxcXFx0XFxcXHJcXFxcbl1cIiB9LFxuICAgICAgICBwZWckYzcgPSBcIihcIixcbiAgICAgICAgcGVnJGM4ID0geyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwiKFwiLCBkZXNjcmlwdGlvbjogXCJcXFwiKFxcXCJcIiB9LFxuICAgICAgICBwZWckYzkgPSBcIilcIixcbiAgICAgICAgcGVnJGMxMCA9IHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcIilcIiwgZGVzY3JpcHRpb246IFwiXFxcIilcXFwiXCIgfSxcbiAgICAgICAgcGVnJGMxMSA9IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmdzXG4gICAgICAgICAgfSxcbiAgICAgICAgcGVnJGMxMiA9IFwiLFwiLFxuICAgICAgICBwZWckYzEzID0geyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwiLFwiLCBkZXNjcmlwdGlvbjogXCJcXFwiLFxcXCJcIiB9LFxuICAgICAgICBwZWckYzE0ID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJnXG4gICAgICAgICAgfSxcbiAgICAgICAgcGVnJGMxNSA9IC9eWyBcXHRcXHJcXG5dLyxcbiAgICAgICAgcGVnJGMxNiA9IHsgdHlwZTogXCJjbGFzc1wiLCB2YWx1ZTogXCJbIFxcXFx0XFxcXHJcXFxcbl1cIiwgZGVzY3JpcHRpb246IFwiWyBcXFxcdFxcXFxyXFxcXG5dXCIgfSxcbiAgICAgICAgcGVnJGMxNyA9IFwiLlwiLFxuICAgICAgICBwZWckYzE4ID0geyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwiLlwiLCBkZXNjcmlwdGlvbjogXCJcXFwiLlxcXCJcIiB9LFxuICAgICAgICBwZWckYzE5ID0gZnVuY3Rpb24obGlzdCkge1xuICAgICAgICAgICAgcmV0dXJuIGxpc3RcbiAgICAgICAgICB9LFxuICAgICAgICBwZWckYzIwID0gXCJbXCIsXG4gICAgICAgIHBlZyRjMjEgPSB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJbXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJbXFxcIlwiIH0sXG4gICAgICAgIHBlZyRjMjIgPSBcIl1cIixcbiAgICAgICAgcGVnJGMyMyA9IHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcIl1cIiwgZGVzY3JpcHRpb246IFwiXFxcIl1cXFwiXCIgfSxcbiAgICAgICAgcGVnJGMyNCA9IGZ1bmN0aW9uKGl0ZW1zKSB7XG4gICAgICAgICAgICB2YXIgaXRlbXNCeU5hbWUgPSB7fTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICBpdGVtc0J5TmFtZVtpdGVtc1tpXS5uYW1lXSA9IGl0ZW1zW2ldO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBsaXN0OiBpdGVtcyxcbiAgICAgICAgICAgICAgYnlOYW1lOiBpdGVtc0J5TmFtZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9LFxuICAgICAgICBwZWckYzI1ID0gZnVuY3Rpb24oZXhwcikge1xuICAgICAgICAgICAgcmV0dXJuIGV4cHJcbiAgICAgICAgICB9LFxuICAgICAgICBwZWckYzI2ID0gZnVuY3Rpb24oc3ViKSB7XG4gICAgICAgICAgICByZXR1cm4gc3ViXG4gICAgICAgICAgfSxcblxuICAgICAgICBwZWckY3VyclBvcyAgICAgICAgICA9IDAsXG4gICAgICAgIHBlZyRzYXZlZFBvcyAgICAgICAgID0gMCxcbiAgICAgICAgcGVnJHBvc0RldGFpbHNDYWNoZSAgPSBbeyBsaW5lOiAxLCBjb2x1bW46IDEsIHNlZW5DUjogZmFsc2UgfV0sXG4gICAgICAgIHBlZyRtYXhGYWlsUG9zICAgICAgID0gMCxcbiAgICAgICAgcGVnJG1heEZhaWxFeHBlY3RlZCAgPSBbXSxcbiAgICAgICAgcGVnJHNpbGVudEZhaWxzICAgICAgPSAwLFxuXG4gICAgICAgIHBlZyRyZXN1bHQ7XG5cbiAgICBpZiAoXCJzdGFydFJ1bGVcIiBpbiBvcHRpb25zKSB7XG4gICAgICBpZiAoIShvcHRpb25zLnN0YXJ0UnVsZSBpbiBwZWckc3RhcnRSdWxlRnVuY3Rpb25zKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBzdGFydCBwYXJzaW5nIGZyb20gcnVsZSBcXFwiXCIgKyBvcHRpb25zLnN0YXJ0UnVsZSArIFwiXFxcIi5cIik7XG4gICAgICB9XG5cbiAgICAgIHBlZyRzdGFydFJ1bGVGdW5jdGlvbiA9IHBlZyRzdGFydFJ1bGVGdW5jdGlvbnNbb3B0aW9ucy5zdGFydFJ1bGVdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRleHQoKSB7XG4gICAgICByZXR1cm4gaW5wdXQuc3Vic3RyaW5nKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvY2F0aW9uKCkge1xuICAgICAgcmV0dXJuIHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXhwZWN0ZWQoZGVzY3JpcHRpb24pIHtcbiAgICAgIHRocm93IHBlZyRidWlsZEV4Y2VwdGlvbihcbiAgICAgICAgbnVsbCxcbiAgICAgICAgW3sgdHlwZTogXCJvdGhlclwiLCBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gfV0sXG4gICAgICAgIGlucHV0LnN1YnN0cmluZyhwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKSxcbiAgICAgICAgcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlcnJvcihtZXNzYWdlKSB7XG4gICAgICB0aHJvdyBwZWckYnVpbGRFeGNlcHRpb24oXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIG51bGwsXG4gICAgICAgIGlucHV0LnN1YnN0cmluZyhwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKSxcbiAgICAgICAgcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwZWckY29tcHV0ZVBvc0RldGFpbHMocG9zKSB7XG4gICAgICB2YXIgZGV0YWlscyA9IHBlZyRwb3NEZXRhaWxzQ2FjaGVbcG9zXSxcbiAgICAgICAgICBwLCBjaDtcblxuICAgICAgaWYgKGRldGFpbHMpIHtcbiAgICAgICAgcmV0dXJuIGRldGFpbHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwID0gcG9zIC0gMTtcbiAgICAgICAgd2hpbGUgKCFwZWckcG9zRGV0YWlsc0NhY2hlW3BdKSB7XG4gICAgICAgICAgcC0tO1xuICAgICAgICB9XG5cbiAgICAgICAgZGV0YWlscyA9IHBlZyRwb3NEZXRhaWxzQ2FjaGVbcF07XG4gICAgICAgIGRldGFpbHMgPSB7XG4gICAgICAgICAgbGluZTogICBkZXRhaWxzLmxpbmUsXG4gICAgICAgICAgY29sdW1uOiBkZXRhaWxzLmNvbHVtbixcbiAgICAgICAgICBzZWVuQ1I6IGRldGFpbHMuc2VlbkNSXG4gICAgICAgIH07XG5cbiAgICAgICAgd2hpbGUgKHAgPCBwb3MpIHtcbiAgICAgICAgICBjaCA9IGlucHV0LmNoYXJBdChwKTtcbiAgICAgICAgICBpZiAoY2ggPT09IFwiXFxuXCIpIHtcbiAgICAgICAgICAgIGlmICghZGV0YWlscy5zZWVuQ1IpIHsgZGV0YWlscy5saW5lKys7IH1cbiAgICAgICAgICAgIGRldGFpbHMuY29sdW1uID0gMTtcbiAgICAgICAgICAgIGRldGFpbHMuc2VlbkNSID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIGlmIChjaCA9PT0gXCJcXHJcIiB8fCBjaCA9PT0gXCJcXHUyMDI4XCIgfHwgY2ggPT09IFwiXFx1MjAyOVwiKSB7XG4gICAgICAgICAgICBkZXRhaWxzLmxpbmUrKztcbiAgICAgICAgICAgIGRldGFpbHMuY29sdW1uID0gMTtcbiAgICAgICAgICAgIGRldGFpbHMuc2VlbkNSID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGV0YWlscy5jb2x1bW4rKztcbiAgICAgICAgICAgIGRldGFpbHMuc2VlbkNSID0gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgcGVnJHBvc0RldGFpbHNDYWNoZVtwb3NdID0gZGV0YWlscztcbiAgICAgICAgcmV0dXJuIGRldGFpbHM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGVnJGNvbXB1dGVMb2NhdGlvbihzdGFydFBvcywgZW5kUG9zKSB7XG4gICAgICB2YXIgc3RhcnRQb3NEZXRhaWxzID0gcGVnJGNvbXB1dGVQb3NEZXRhaWxzKHN0YXJ0UG9zKSxcbiAgICAgICAgICBlbmRQb3NEZXRhaWxzICAgPSBwZWckY29tcHV0ZVBvc0RldGFpbHMoZW5kUG9zKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQ6IHtcbiAgICAgICAgICBvZmZzZXQ6IHN0YXJ0UG9zLFxuICAgICAgICAgIGxpbmU6ICAgc3RhcnRQb3NEZXRhaWxzLmxpbmUsXG4gICAgICAgICAgY29sdW1uOiBzdGFydFBvc0RldGFpbHMuY29sdW1uXG4gICAgICAgIH0sXG4gICAgICAgIGVuZDoge1xuICAgICAgICAgIG9mZnNldDogZW5kUG9zLFxuICAgICAgICAgIGxpbmU6ICAgZW5kUG9zRGV0YWlscy5saW5lLFxuICAgICAgICAgIGNvbHVtbjogZW5kUG9zRGV0YWlscy5jb2x1bW5cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwZWckZmFpbChleHBlY3RlZCkge1xuICAgICAgaWYgKHBlZyRjdXJyUG9zIDwgcGVnJG1heEZhaWxQb3MpIHsgcmV0dXJuOyB9XG5cbiAgICAgIGlmIChwZWckY3VyclBvcyA+IHBlZyRtYXhGYWlsUG9zKSB7XG4gICAgICAgIHBlZyRtYXhGYWlsUG9zID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHBlZyRtYXhGYWlsRXhwZWN0ZWQgPSBbXTtcbiAgICAgIH1cblxuICAgICAgcGVnJG1heEZhaWxFeHBlY3RlZC5wdXNoKGV4cGVjdGVkKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwZWckYnVpbGRFeGNlcHRpb24obWVzc2FnZSwgZXhwZWN0ZWQsIGZvdW5kLCBsb2NhdGlvbikge1xuICAgICAgZnVuY3Rpb24gY2xlYW51cEV4cGVjdGVkKGV4cGVjdGVkKSB7XG4gICAgICAgIHZhciBpID0gMTtcblxuICAgICAgICBleHBlY3RlZC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICBpZiAoYS5kZXNjcmlwdGlvbiA8IGIuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGEuZGVzY3JpcHRpb24gPiBiLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB3aGlsZSAoaSA8IGV4cGVjdGVkLmxlbmd0aCkge1xuICAgICAgICAgIGlmIChleHBlY3RlZFtpIC0gMV0gPT09IGV4cGVjdGVkW2ldKSB7XG4gICAgICAgICAgICBleHBlY3RlZC5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYnVpbGRNZXNzYWdlKGV4cGVjdGVkLCBmb3VuZCkge1xuICAgICAgICBmdW5jdGlvbiBzdHJpbmdFc2NhcGUocykge1xuICAgICAgICAgIGZ1bmN0aW9uIGhleChjaCkgeyByZXR1cm4gY2guY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTsgfVxuXG4gICAgICAgICAgcmV0dXJuIHNcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcL2csICAgJ1xcXFxcXFxcJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cIi9nLCAgICAnXFxcXFwiJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHgwOC9nLCAnXFxcXGInKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcdC9nLCAgICdcXFxcdCcpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxuL2csICAgJ1xcXFxuJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXGYvZywgICAnXFxcXGYnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcci9nLCAgICdcXFxccicpXG4gICAgICAgICAgICAucmVwbGFjZSgvW1xceDAwLVxceDA3XFx4MEJcXHgwRVxceDBGXS9nLCBmdW5jdGlvbihjaCkgeyByZXR1cm4gJ1xcXFx4MCcgKyBoZXgoY2gpOyB9KVxuICAgICAgICAgICAgLnJlcGxhY2UoL1tcXHgxMC1cXHgxRlxceDgwLVxceEZGXS9nLCAgICBmdW5jdGlvbihjaCkgeyByZXR1cm4gJ1xcXFx4JyAgKyBoZXgoY2gpOyB9KVxuICAgICAgICAgICAgLnJlcGxhY2UoL1tcXHUwMTAwLVxcdTBGRkZdL2csICAgICAgICAgZnVuY3Rpb24oY2gpIHsgcmV0dXJuICdcXFxcdTAnICsgaGV4KGNoKTsgfSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC9bXFx1MTAwMC1cXHVGRkZGXS9nLCAgICAgICAgIGZ1bmN0aW9uKGNoKSB7IHJldHVybiAnXFxcXHUnICArIGhleChjaCk7IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGV4cGVjdGVkRGVzY3MgPSBuZXcgQXJyYXkoZXhwZWN0ZWQubGVuZ3RoKSxcbiAgICAgICAgICAgIGV4cGVjdGVkRGVzYywgZm91bmREZXNjLCBpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBleHBlY3RlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGV4cGVjdGVkRGVzY3NbaV0gPSBleHBlY3RlZFtpXS5kZXNjcmlwdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGV4cGVjdGVkRGVzYyA9IGV4cGVjdGVkLmxlbmd0aCA+IDFcbiAgICAgICAgICA/IGV4cGVjdGVkRGVzY3Muc2xpY2UoMCwgLTEpLmpvaW4oXCIsIFwiKVxuICAgICAgICAgICAgICArIFwiIG9yIFwiXG4gICAgICAgICAgICAgICsgZXhwZWN0ZWREZXNjc1tleHBlY3RlZC5sZW5ndGggLSAxXVxuICAgICAgICAgIDogZXhwZWN0ZWREZXNjc1swXTtcblxuICAgICAgICBmb3VuZERlc2MgPSBmb3VuZCA/IFwiXFxcIlwiICsgc3RyaW5nRXNjYXBlKGZvdW5kKSArIFwiXFxcIlwiIDogXCJlbmQgb2YgaW5wdXRcIjtcblxuICAgICAgICByZXR1cm4gXCJFeHBlY3RlZCBcIiArIGV4cGVjdGVkRGVzYyArIFwiIGJ1dCBcIiArIGZvdW5kRGVzYyArIFwiIGZvdW5kLlwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXhwZWN0ZWQgIT09IG51bGwpIHtcbiAgICAgICAgY2xlYW51cEV4cGVjdGVkKGV4cGVjdGVkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBwZWckU3ludGF4RXJyb3IoXG4gICAgICAgIG1lc3NhZ2UgIT09IG51bGwgPyBtZXNzYWdlIDogYnVpbGRNZXNzYWdlKGV4cGVjdGVkLCBmb3VuZCksXG4gICAgICAgIGV4cGVjdGVkLFxuICAgICAgICBmb3VuZCxcbiAgICAgICAgbG9jYXRpb25cbiAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGVnJHBhcnNlc3RhcnQoKSB7XG4gICAgICB2YXIgczAsIHMxO1xuXG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBwZWckcGFyc2VleHByZXNzaW9uKCk7XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMwKHMxKTtcbiAgICAgIH1cbiAgICAgIHMwID0gczE7XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgczEgPSBwZWckcGFyc2VsaXN0RXhwcmVzc2lvbigpO1xuICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICBzMSA9IHBlZyRjMShzMSk7XG4gICAgICAgIH1cbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHMwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlZyRwYXJzZWV4cHJlc3Npb24oKSB7XG4gICAgICB2YXIgczAsIHMxLCBzMiwgczM7XG5cbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBzMSA9IHBlZyRwYXJzZXJlbGF0aW9uKCk7XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckcGFyc2VhcmdzKCk7XG4gICAgICAgIGlmIChzMiA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IHBlZyRwYXJzZXN1Ykxpc3RFeHByZXNzaW9uKCk7XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGMyKHMxLCBzMiwgczMpO1xuICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzMSA9IHBlZyRwYXJzZXJlbGF0aW9uKCk7XG4gICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyID0gcGVnJHBhcnNlYXJncygpO1xuICAgICAgICAgIGlmIChzMiA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczIgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMzID0gcGVnJHBhcnNlc3ViRXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHMzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczEgPSBwZWckYzMoczEsIHMyLCBzMyk7XG4gICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwZWckcGFyc2VyZWxhdGlvbigpIHtcbiAgICAgIHZhciBzMCwgczEsIHMyO1xuXG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBbXTtcbiAgICAgIHMyID0gcGVnJHBhcnNlY2hhcigpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHdoaWxlIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMxLnB1c2goczIpO1xuICAgICAgICAgIHMyID0gcGVnJHBhcnNlY2hhcigpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGM0KHMxKTtcbiAgICAgIH1cbiAgICAgIHMwID0gczE7XG5cbiAgICAgIHJldHVybiBzMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwZWckcGFyc2VjaGFyKCkge1xuICAgICAgdmFyIHMwO1xuXG4gICAgICBpZiAocGVnJGM1LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgczAgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNik7IH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHMwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlZyRwYXJzZWFyZ3MoKSB7XG4gICAgICB2YXIgczAsIHMxLCBzMiwgczMsIHM0LCBzNTtcblxuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIHMxID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQwKSB7XG4gICAgICAgICAgczIgPSBwZWckYzc7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzgpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBbXTtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZWFyZ0xpc3RJdGVtKCk7XG4gICAgICAgICAgd2hpbGUgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMy5wdXNoKHM0KTtcbiAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNlYXJnTGlzdEl0ZW0oKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJGM5O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTApOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMTEoczMpO1xuICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHMwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlZyRwYXJzZWFyZ0xpc3RJdGVtKCkge1xuICAgICAgdmFyIHMwLCBzMSwgczIsIHMzLCBzNCwgczU7XG5cbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBzMSA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckcGFyc2VhcmcoKTtcbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgICAgICAgICBzNCA9IHBlZyRjMTI7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMyk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMTQoczIpO1xuICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHMwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlZyRwYXJzZXdzKCkge1xuICAgICAgdmFyIHMwLCBzMTtcblxuICAgICAgczAgPSBbXTtcbiAgICAgIGlmIChwZWckYzE1LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgczEgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTYpOyB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAucHVzaChzMSk7XG4gICAgICAgIGlmIChwZWckYzE1LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICBzMSA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE2KTsgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwZWckcGFyc2VhcmcoKSB7XG4gICAgICB2YXIgczAsIHMxLCBzMjtcblxuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIHMxID0gW107XG4gICAgICBzMiA9IHBlZyRwYXJzZWNoYXIoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICB3aGlsZSAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMS5wdXNoKHMyKTtcbiAgICAgICAgICBzMiA9IHBlZyRwYXJzZWNoYXIoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjNChzMSk7XG4gICAgICB9XG4gICAgICBzMCA9IHMxO1xuXG4gICAgICByZXR1cm4gczA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGVnJHBhcnNlc3ViTGlzdEV4cHJlc3Npb24oKSB7XG4gICAgICB2YXIgczAsIHMxLCBzMiwgczMsIHM0LCBzNTtcblxuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIHMxID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ2KSB7XG4gICAgICAgICAgczIgPSBwZWckYzE3O1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxOCk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRwYXJzZWxpc3RFeHByZXNzaW9uKCk7XG4gICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMTkoczQpO1xuICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHMwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlZyRwYXJzZWxpc3RFeHByZXNzaW9uKCkge1xuICAgICAgdmFyIHMwLCBzMSwgczIsIHMzLCBzNCwgczU7XG5cbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBzMSA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA5MSkge1xuICAgICAgICAgIHMyID0gcGVnJGMyMDtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjEpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBbXTtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZWxpc3RFeHByZXNzaW9uSXRlbSgpO1xuICAgICAgICAgIHdoaWxlIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczMucHVzaChzNCk7XG4gICAgICAgICAgICBzNCA9IHBlZyRwYXJzZWxpc3RFeHByZXNzaW9uSXRlbSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gOTMpIHtcbiAgICAgICAgICAgICAgczQgPSBwZWckYzIyO1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjMpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMjQoczMpO1xuICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHMwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlZyRwYXJzZWxpc3RFeHByZXNzaW9uSXRlbSgpIHtcbiAgICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQsIHM1O1xuXG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gcGVnJHBhcnNlZXhwcmVzc2lvbigpO1xuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ0KSB7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJGMxMjtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzEzKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM0ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyNShzMik7XG4gICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gczA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGVnJHBhcnNlc3ViRXhwcmVzc2lvbigpIHtcbiAgICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQsIHM1O1xuXG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDYpIHtcbiAgICAgICAgICBzMiA9IHBlZyRjMTc7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE4KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNlZXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczEgPSBwZWckYzI2KHM0KTtcbiAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzMDtcbiAgICB9XG5cbiAgICBwZWckcmVzdWx0ID0gcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uKCk7XG5cbiAgICBpZiAocGVnJHJlc3VsdCAhPT0gcGVnJEZBSUxFRCAmJiBwZWckY3VyclBvcyA9PT0gaW5wdXQubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gcGVnJHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHBlZyRyZXN1bHQgIT09IHBlZyRGQUlMRUQgJiYgcGVnJGN1cnJQb3MgPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgcGVnJGZhaWwoeyB0eXBlOiBcImVuZFwiLCBkZXNjcmlwdGlvbjogXCJlbmQgb2YgaW5wdXRcIiB9KTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgcGVnJGJ1aWxkRXhjZXB0aW9uKFxuICAgICAgICBudWxsLFxuICAgICAgICBwZWckbWF4RmFpbEV4cGVjdGVkLFxuICAgICAgICBwZWckbWF4RmFpbFBvcyA8IGlucHV0Lmxlbmd0aCA/IGlucHV0LmNoYXJBdChwZWckbWF4RmFpbFBvcykgOiBudWxsLFxuICAgICAgICBwZWckbWF4RmFpbFBvcyA8IGlucHV0Lmxlbmd0aFxuICAgICAgICAgID8gcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckbWF4RmFpbFBvcywgcGVnJG1heEZhaWxQb3MgKyAxKVxuICAgICAgICAgIDogcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckbWF4RmFpbFBvcywgcGVnJG1heEZhaWxQb3MpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgU3ludGF4RXJyb3I6IHBlZyRTeW50YXhFcnJvcixcbiAgICBwYXJzZTogICAgICAgcGVnJHBhcnNlXG4gIH07XG59KSgpO1xuIl19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/QueryBuilderBase.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _getOwnPropertyDescriptor = require('babel-runtime/core-js/object/get-own-property-descriptor');\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _dec21, _dec22, _dec23, _dec24, _dec25, _dec26, _dec27, _dec28, _dec29, _dec30, _dec31, _dec32, _dec33, _dec34, _dec35, _dec36, _dec37, _dec38, _dec39, _dec40, _dec41, _dec42, _dec43, _dec44, _dec45, _dec46, _dec47, _dec48, _dec49, _dec50, _dec51, _dec52, _dec53, _dec54, _dec55, _dec56, _dec57, _dec58, _dec59, _dec60, _dec61, _dec62, _dec63, _dec64, _dec65, _dec66, _dec67, _dec68, _dec69, _dec70, _dec71, _dec72, _dec73, _dec74, _dec75, _dec76, _dec77, _dec78, _dec79, _dec80, _dec81, _dec82, _dec83, _dec84, _dec85, _dec86, _dec87, _dec88, _dec89, _dec90, _dec91, _dec92, _dec93, _dec94, _dec95, _dec96, _dec97, _dec98, _dec99, _dec100, _dec101, _dec102, _dec103, _dec104, _dec105, _dec106, _desc, _value, _class, _class2, _temp;\n\nvar _queryBuilderOperation = require('./decorators/queryBuilderOperation');\n\nvar _queryBuilderOperation2 = _interopRequireDefault(_queryBuilderOperation);\n\nvar _QueryBuilderOperationSupport = require('./QueryBuilderOperationSupport');\n\nvar _QueryBuilderOperationSupport2 = _interopRequireDefault(_QueryBuilderOperationSupport);\n\nvar _KnexOperation = require('./operations/KnexOperation');\n\nvar _KnexOperation2 = _interopRequireDefault(_KnexOperation);\n\nvar _SelectOperation = require('./operations/SelectOperation');\n\nvar _SelectOperation2 = _interopRequireDefault(_SelectOperation);\n\nvar _WhereRefOperation = require('./operations/WhereRefOperation');\n\nvar _WhereRefOperation2 = _interopRequireDefault(_WhereRefOperation);\n\nvar _ReturningOperation = require('./operations/ReturningOperation');\n\nvar _ReturningOperation2 = _interopRequireDefault(_ReturningOperation);\n\nvar _WhereCompositeOperation = require('./operations/WhereCompositeOperation');\n\nvar _WhereCompositeOperation2 = _interopRequireDefault(_WhereCompositeOperation);\n\nvar _WhereInCompositeOperation = require('./operations/whereInComposite/WhereInCompositeOperation');\n\nvar _WhereInCompositeOperation2 = _interopRequireDefault(_WhereInCompositeOperation);\n\nvar _WhereInCompositeSqliteOperation = require('./operations/whereInComposite/WhereInCompositeSqliteOperation');\n\nvar _WhereInCompositeSqliteOperation2 = _interopRequireDefault(_WhereInCompositeSqliteOperation);\n\nvar _WhereJsonPostgresOperation = require('./operations/jsonApi/WhereJsonPostgresOperation');\n\nvar _WhereJsonPostgresOperation2 = _interopRequireDefault(_WhereJsonPostgresOperation);\n\nvar _WhereJsonHasPostgresOperation = require('./operations/jsonApi/WhereJsonHasPostgresOperation');\n\nvar _WhereJsonHasPostgresOperation2 = _interopRequireDefault(_WhereJsonHasPostgresOperation);\n\nvar _WhereJsonFieldPostgresOperation = require('./operations/jsonApi/WhereJsonFieldPostgresOperation');\n\nvar _WhereJsonFieldPostgresOperation2 = _interopRequireDefault(_WhereJsonFieldPostgresOperation);\n\nvar _WhereJsonNotObjectPostgresOperation = require('./operations/jsonApi/WhereJsonNotObjectPostgresOperation');\n\nvar _WhereJsonNotObjectPostgresOperation2 = _interopRequireDefault(_WhereJsonNotObjectPostgresOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/**\n * This class is a thin wrapper around knex query builder. This class allows us to add our own\n * query builder methods without monkey patching knex query builder.\n */\n\nvar QueryBuilderBase = (_dec = (0, _queryBuilderOperation2.default)(_SelectOperation2.default), _dec2 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec3 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec4 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec5 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default, 'delete'), _dec6 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec7 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec8 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec9 = (0, _queryBuilderOperation2.default)(_SelectOperation2.default), _dec10 = (0, _queryBuilderOperation2.default)(_SelectOperation2.default), _dec11 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec12 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec13 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec14 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec15 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec16 = (0, _queryBuilderOperation2.default)(_SelectOperation2.default), _dec17 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec18 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec19 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec20 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec21 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec22 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec23 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec24 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec25 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec26 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec27 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec28 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec29 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec30 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec31 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec32 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec33 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec34 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec35 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec36 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec37 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec38 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec39 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec40 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec41 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec42 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec43 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec44 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec45 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec46 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec47 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec48 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec49 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec50 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec51 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec52 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec53 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec54 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec55 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec56 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec57 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec58 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec59 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec60 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec61 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec62 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec63 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec64 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec65 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec66 = (0, _queryBuilderOperation2.default)(_SelectOperation2.default), _dec67 = (0, _queryBuilderOperation2.default)(_SelectOperation2.default), _dec68 = (0, _queryBuilderOperation2.default)(_SelectOperation2.default), _dec69 = (0, _queryBuilderOperation2.default)(_SelectOperation2.default), _dec70 = (0, _queryBuilderOperation2.default)(_SelectOperation2.default), _dec71 = (0, _queryBuilderOperation2.default)(_SelectOperation2.default), _dec72 = (0, _queryBuilderOperation2.default)(_SelectOperation2.default), _dec73 = (0, _queryBuilderOperation2.default)(_SelectOperation2.default), _dec74 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec75 = (0, _queryBuilderOperation2.default)(_ReturningOperation2.default), _dec76 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec77 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec78 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec79 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec80 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec81 = (0, _queryBuilderOperation2.default)([_WhereRefOperation2.default, { bool: 'and' }]), _dec82 = (0, _queryBuilderOperation2.default)([_WhereRefOperation2.default, { bool: 'or' }]), _dec83 = (0, _queryBuilderOperation2.default)(_WhereCompositeOperation2.default), _dec84 = (0, _queryBuilderOperation2.default)({\n  default: _WhereInCompositeOperation2.default,\n  sqlite3: _WhereInCompositeSqliteOperation2.default\n}), _dec85 = (0, _queryBuilderOperation2.default)([_WhereJsonPostgresOperation2.default, { operator: '=', bool: 'and' }]), _dec86 = (0, _queryBuilderOperation2.default)([_WhereJsonPostgresOperation2.default, { operator: '=', bool: 'or' }]), _dec87 = (0, _queryBuilderOperation2.default)([_WhereJsonPostgresOperation2.default, { operator: '!=', bool: 'and' }]), _dec88 = (0, _queryBuilderOperation2.default)([_WhereJsonPostgresOperation2.default, { operator: '!=', bool: 'or' }]), _dec89 = (0, _queryBuilderOperation2.default)([_WhereJsonPostgresOperation2.default, { operator: '@>', bool: 'and' }]), _dec90 = (0, _queryBuilderOperation2.default)([_WhereJsonPostgresOperation2.default, { operator: '@>', bool: 'or' }]), _dec91 = (0, _queryBuilderOperation2.default)([_WhereJsonPostgresOperation2.default, { operator: '@>', bool: 'and', prefix: 'not' }]), _dec92 = (0, _queryBuilderOperation2.default)([_WhereJsonPostgresOperation2.default, { operator: '@>', bool: 'or', prefix: 'not' }]), _dec93 = (0, _queryBuilderOperation2.default)([_WhereJsonPostgresOperation2.default, { operator: '<@', bool: 'and' }]), _dec94 = (0, _queryBuilderOperation2.default)([_WhereJsonPostgresOperation2.default, { operator: '<@', bool: 'or' }]), _dec95 = (0, _queryBuilderOperation2.default)([_WhereJsonPostgresOperation2.default, { operator: '<@', bool: 'and', prefix: 'not' }]), _dec96 = (0, _queryBuilderOperation2.default)([_WhereJsonPostgresOperation2.default, { operator: '<@', bool: 'or', prefix: 'not' }]), _dec97 = (0, _queryBuilderOperation2.default)([_WhereJsonNotObjectPostgresOperation2.default, { bool: 'and', compareValue: [] }]), _dec98 = (0, _queryBuilderOperation2.default)([_WhereJsonNotObjectPostgresOperation2.default, { bool: 'or', compareValue: [] }]), _dec99 = (0, _queryBuilderOperation2.default)([_WhereJsonNotObjectPostgresOperation2.default, { bool: 'and', compareValue: {} }]), _dec100 = (0, _queryBuilderOperation2.default)([_WhereJsonNotObjectPostgresOperation2.default, { bool: 'or', compareValue: {} }]), _dec101 = (0, _queryBuilderOperation2.default)([_WhereJsonHasPostgresOperation2.default, { bool: 'and', operator: '?|' }]), _dec102 = (0, _queryBuilderOperation2.default)([_WhereJsonHasPostgresOperation2.default, { bool: 'or', operator: '?|' }]), _dec103 = (0, _queryBuilderOperation2.default)([_WhereJsonHasPostgresOperation2.default, { bool: 'and', operator: '?&' }]), _dec104 = (0, _queryBuilderOperation2.default)([_WhereJsonHasPostgresOperation2.default, { bool: 'or', operator: '?&' }]), _dec105 = (0, _queryBuilderOperation2.default)([_WhereJsonFieldPostgresOperation2.default, { bool: 'and' }]), _dec106 = (0, _queryBuilderOperation2.default)([_WhereJsonFieldPostgresOperation2.default, { bool: 'or' }]), (_class = (_temp = _class2 = function (_QueryBuilderOperatio) {\n  (0, _inherits3.default)(QueryBuilderBase, _QueryBuilderOperatio);\n\n  function QueryBuilderBase() {\n    (0, _classCallCheck3.default)(this, QueryBuilderBase);\n    return (0, _possibleConstructorReturn3.default)(this, _QueryBuilderOperatio.apply(this, arguments));\n  }\n\n  /**\n   * @return {boolean}\n   */\n  QueryBuilderBase.prototype.isSelectAll = function isSelectAll() {\n    return !this.has(QueryBuilderBase.SelectSelector) && !this.has(QueryBuilderBase.WhereSelector);\n  };\n\n  /**\n   * @param {function} func\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.modify = function modify(func) {\n    if (!func) {\n      return this;\n    }\n\n    if (arguments.length === 1) {\n      func.call(this, this);\n    } else {\n      var args = new Array(arguments.length);\n\n      args[0] = this;\n      for (var i = 1, l = args.length; i < l; ++i) {\n        args[i] = arguments[i];\n      }\n\n      func.apply(this, args);\n    }\n\n    return this;\n  };\n\n  /**\n   * @param {Transaction} trx\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.transacting = function transacting(trx) {\n    this._context.knex = trx || null;\n    return this;\n  };\n\n  QueryBuilderBase.prototype.clearSelect = function clearSelect() {\n    return this.clear(QueryBuilderBase.SelectSelector);\n  };\n\n  QueryBuilderBase.prototype.clearWhere = function clearWhere() {\n    return this.clear(QueryBuilderBase.WhereSelector);\n  };\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.select = function select() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.insert = function insert() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.update = function update() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.delete = function _delete() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.del = function del() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.forUpdate = function forUpdate() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.forShare = function forShare() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.as = function as() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.columns = function columns() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.column = function column() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.from = function from() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.fromJS = function fromJS() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.into = function into() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.withSchema = function withSchema() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.table = function table() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.distinct = function distinct() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.join = function join() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.joinRaw = function joinRaw() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.innerJoin = function innerJoin() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.leftJoin = function leftJoin() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.leftOuterJoin = function leftOuterJoin() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.rightJoin = function rightJoin() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.rightOuterJoin = function rightOuterJoin() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.outerJoin = function outerJoin() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.fullOuterJoin = function fullOuterJoin() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.crossJoin = function crossJoin() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.where = function where() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.andWhere = function andWhere() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orWhere = function orWhere() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereNot = function whereNot() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orWhereNot = function orWhereNot() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereRaw = function whereRaw() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereWrapped = function whereWrapped() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.havingWrapped = function havingWrapped() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orWhereRaw = function orWhereRaw() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereExists = function whereExists() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orWhereExists = function orWhereExists() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereNotExists = function whereNotExists() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orWhereNotExists = function orWhereNotExists() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereIn = function whereIn() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orWhereIn = function orWhereIn() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereNotIn = function whereNotIn() {};\n\n  /**\n   */\n\n\n  QueryBuilderBase.prototype.orWhereNotIn = function orWhereNotIn() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereNull = function whereNull() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orWhereNull = function orWhereNull() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereNotNull = function whereNotNull() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orWhereNotNull = function orWhereNotNull() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereBetween = function whereBetween() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.andWhereBetween = function andWhereBetween() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereNotBetween = function whereNotBetween() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.andWhereNotBetween = function andWhereNotBetween() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orWhereBetween = function orWhereBetween() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orWhereNotBetween = function orWhereNotBetween() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.groupBy = function groupBy() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.groupByRaw = function groupByRaw() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orderBy = function orderBy() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orderByRaw = function orderByRaw() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.union = function union() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.unionAll = function unionAll() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.having = function having() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.havingRaw = function havingRaw() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orHaving = function orHaving() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orHavingRaw = function orHavingRaw() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.offset = function offset() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.limit = function limit() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.count = function count() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.countDistinct = function countDistinct() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.min = function min() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.max = function max() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.sum = function sum() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.sumDistinct = function sumDistinct() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.avg = function avg() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.avgDistinct = function avgDistinct() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.debug = function debug() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.returning = function returning() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.truncate = function truncate() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.connection = function connection() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.options = function options() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.columnInfo = function columnInfo() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.with = function _with() {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereRef = function whereRef(lhs, op, rhs) {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orWhereRef = function orWhereRef(lhs, op, rhs) {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereComposite = function whereComposite(cols, op, values) {};\n\n  /**\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereInComposite = function whereInComposite(columns, values) {};\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @param {Object|Array|FieldExpression} jsonObjectOrFieldExpression\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereJsonEquals = function whereJsonEquals(fieldExpression, jsonObjectOrFieldExpression) {};\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @param {Object|Array|FieldExpression} jsonObjectOrFieldExpression\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orWhereJsonEquals = function orWhereJsonEquals(fieldExpression, jsonObjectOrFieldExpression) {};\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @param {Object|Array|FieldExpression} jsonObjectOrFieldExpression\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereJsonNotEquals = function whereJsonNotEquals(fieldExpression, jsonObjectOrFieldExpression) {};\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @param {Object|Array|FieldExpression} jsonObjectOrFieldExpression\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orWhereJsonNotEquals = function orWhereJsonNotEquals(fieldExpression, jsonObjectOrFieldExpression) {};\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @param {Object|Array|FieldExpression} jsonObjectOrFieldExpression\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereJsonSupersetOf = function whereJsonSupersetOf(fieldExpression, jsonObjectOrFieldExpression) {};\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @param {Object|Array|FieldExpression} jsonObjectOrFieldExpression\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orWhereJsonSupersetOf = function orWhereJsonSupersetOf(fieldExpression, jsonObjectOrFieldExpression) {};\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @param {Object|Array|FieldExpression} jsonObjectOrFieldExpression\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereJsonNotSupersetOf = function whereJsonNotSupersetOf(fieldExpression, jsonObjectOrFieldExpression) {};\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @param {Object|Array|FieldExpression} jsonObjectOrFieldExpression\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orWhereJsonNotSupersetOf = function orWhereJsonNotSupersetOf(fieldExpression, jsonObjectOrFieldExpression) {};\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @param {Object|Array|FieldExpression} jsonObjectOrFieldExpression\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereJsonSubsetOf = function whereJsonSubsetOf(fieldExpression, jsonObjectOrFieldExpression) {};\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @param {Object|Array|FieldExpression} jsonObjectOrFieldExpression\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orWhereJsonSubsetOf = function orWhereJsonSubsetOf(fieldExpression, jsonObjectOrFieldExpression) {};\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @param {Object|Array|FieldExpression} jsonObjectOrFieldExpression\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereJsonNotSubsetOf = function whereJsonNotSubsetOf(fieldExpression, jsonObjectOrFieldExpression) {};\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @param {Object|Array|FieldExpression} jsonObjectOrFieldExpression\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orWhereJsonNotSubsetOf = function orWhereJsonNotSubsetOf(fieldExpression, jsonObjectOrFieldExpression) {};\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereJsonIsArray = function whereJsonIsArray(fieldExpression) {\n    return this.whereJsonSupersetOf(fieldExpression, []);\n  };\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orWhereJsonIsArray = function orWhereJsonIsArray(fieldExpression) {\n    return this.orWhereJsonSupersetOf(fieldExpression, []);\n  };\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereJsonIsObject = function whereJsonIsObject(fieldExpression) {\n    return this.whereJsonSupersetOf(fieldExpression, {});\n  };\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orWhereJsonIsObject = function orWhereJsonIsObject(fieldExpression) {\n    return this.orWhereJsonSupersetOf(fieldExpression, {});\n  };\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereJsonNotArray = function whereJsonNotArray(fieldExpression) {};\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orWhereJsonNotArray = function orWhereJsonNotArray(fieldExpression) {};\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereJsonNotObject = function whereJsonNotObject(fieldExpression) {};\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orWhereJsonNotObject = function orWhereJsonNotObject(fieldExpression) {};\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @param {string|Array.<string>} keys\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereJsonHasAny = function whereJsonHasAny(fieldExpression, keys) {};\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @param {string|Array.<string>} keys\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orWhereJsonHasAny = function orWhereJsonHasAny(fieldExpression, keys) {};\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @param {string|Array.<string>} keys\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereJsonHasAll = function whereJsonHasAll(fieldExpression, keys) {};\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @param {string|Array.<string>} keys\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orWhereJsonHasAll = function orWhereJsonHasAll(fieldExpression, keys) {};\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @param {string} operator\n   * @param {boolean|Number|string|null} value\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.whereJsonField = function whereJsonField(fieldExpression, operator, value) {};\n\n  /**\n   * @param {FieldExpression} fieldExpression\n   * @param {string} operator\n   * @param {boolean|Number|string|null} value\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderBase.prototype.orWhereJsonField = function orWhereJsonField(fieldExpression, operator, value) {};\n\n  return QueryBuilderBase;\n}(_QueryBuilderOperationSupport2.default), _class2.SelectSelector = _SelectOperation2.default, _class2.WhereSelector = /where|orWhere|andWhere/, _class2.FromSelector = /^(from|into|table)$/, _temp), (_applyDecoratedDescriptor(_class.prototype, 'select', [_dec], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'select'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'insert', [_dec2], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'insert'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'update', [_dec3], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'update'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'delete', [_dec4], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'delete'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'del', [_dec5], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'del'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'forUpdate', [_dec6], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'forUpdate'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'forShare', [_dec7], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'forShare'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'as', [_dec8], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'as'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'columns', [_dec9], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'columns'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'column', [_dec10], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'column'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'from', [_dec11], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'from'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'fromJS', [_dec12], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'fromJS'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'into', [_dec13], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'into'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'withSchema', [_dec14], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'withSchema'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'table', [_dec15], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'table'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'distinct', [_dec16], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'distinct'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'join', [_dec17], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'join'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'joinRaw', [_dec18], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'joinRaw'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'innerJoin', [_dec19], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'innerJoin'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'leftJoin', [_dec20], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'leftJoin'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'leftOuterJoin', [_dec21], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'leftOuterJoin'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'rightJoin', [_dec22], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'rightJoin'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'rightOuterJoin', [_dec23], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'rightOuterJoin'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'outerJoin', [_dec24], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'outerJoin'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'fullOuterJoin', [_dec25], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'fullOuterJoin'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'crossJoin', [_dec26], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'crossJoin'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'where', [_dec27], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'where'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'andWhere', [_dec28], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'andWhere'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orWhere', [_dec29], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orWhere'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereNot', [_dec30], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereNot'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orWhereNot', [_dec31], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orWhereNot'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereRaw', [_dec32], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereRaw'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereWrapped', [_dec33], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereWrapped'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'havingWrapped', [_dec34], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'havingWrapped'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orWhereRaw', [_dec35], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orWhereRaw'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereExists', [_dec36], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereExists'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orWhereExists', [_dec37], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orWhereExists'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereNotExists', [_dec38], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereNotExists'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orWhereNotExists', [_dec39], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orWhereNotExists'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereIn', [_dec40], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereIn'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orWhereIn', [_dec41], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orWhereIn'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereNotIn', [_dec42], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereNotIn'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orWhereNotIn', [_dec43], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orWhereNotIn'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereNull', [_dec44], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereNull'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orWhereNull', [_dec45], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orWhereNull'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereNotNull', [_dec46], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereNotNull'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orWhereNotNull', [_dec47], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orWhereNotNull'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereBetween', [_dec48], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereBetween'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'andWhereBetween', [_dec49], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'andWhereBetween'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereNotBetween', [_dec50], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereNotBetween'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'andWhereNotBetween', [_dec51], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'andWhereNotBetween'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orWhereBetween', [_dec52], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orWhereBetween'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orWhereNotBetween', [_dec53], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orWhereNotBetween'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'groupBy', [_dec54], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'groupBy'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'groupByRaw', [_dec55], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'groupByRaw'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orderBy', [_dec56], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orderBy'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orderByRaw', [_dec57], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orderByRaw'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'union', [_dec58], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'union'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'unionAll', [_dec59], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'unionAll'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'having', [_dec60], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'having'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'havingRaw', [_dec61], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'havingRaw'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orHaving', [_dec62], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orHaving'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orHavingRaw', [_dec63], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orHavingRaw'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'offset', [_dec64], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'offset'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'limit', [_dec65], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'limit'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'count', [_dec66], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'count'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'countDistinct', [_dec67], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'countDistinct'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'min', [_dec68], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'min'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'max', [_dec69], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'max'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'sum', [_dec70], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'sum'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'sumDistinct', [_dec71], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'sumDistinct'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'avg', [_dec72], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'avg'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'avgDistinct', [_dec73], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'avgDistinct'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'debug', [_dec74], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'debug'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'returning', [_dec75], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'returning'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'truncate', [_dec76], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'truncate'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'connection', [_dec77], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'connection'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'options', [_dec78], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'options'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'columnInfo', [_dec79], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'columnInfo'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'with', [_dec80], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'with'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereRef', [_dec81], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereRef'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orWhereRef', [_dec82], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orWhereRef'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereComposite', [_dec83], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereComposite'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereInComposite', [_dec84], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereInComposite'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereJsonEquals', [_dec85], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereJsonEquals'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orWhereJsonEquals', [_dec86], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orWhereJsonEquals'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereJsonNotEquals', [_dec87], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereJsonNotEquals'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orWhereJsonNotEquals', [_dec88], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orWhereJsonNotEquals'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereJsonSupersetOf', [_dec89], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereJsonSupersetOf'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orWhereJsonSupersetOf', [_dec90], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orWhereJsonSupersetOf'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereJsonNotSupersetOf', [_dec91], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereJsonNotSupersetOf'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orWhereJsonNotSupersetOf', [_dec92], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orWhereJsonNotSupersetOf'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereJsonSubsetOf', [_dec93], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereJsonSubsetOf'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orWhereJsonSubsetOf', [_dec94], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orWhereJsonSubsetOf'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereJsonNotSubsetOf', [_dec95], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereJsonNotSubsetOf'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orWhereJsonNotSubsetOf', [_dec96], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orWhereJsonNotSubsetOf'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereJsonNotArray', [_dec97], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereJsonNotArray'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orWhereJsonNotArray', [_dec98], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orWhereJsonNotArray'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereJsonNotObject', [_dec99], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereJsonNotObject'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orWhereJsonNotObject', [_dec100], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orWhereJsonNotObject'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereJsonHasAny', [_dec101], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereJsonHasAny'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orWhereJsonHasAny', [_dec102], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orWhereJsonHasAny'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereJsonHasAll', [_dec103], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereJsonHasAll'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orWhereJsonHasAll', [_dec104], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orWhereJsonHasAll'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'whereJsonField', [_dec105], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'whereJsonField'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orWhereJsonField', [_dec106], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orWhereJsonField'), _class.prototype)), _class));\nexports.default = QueryBuilderBase;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlF1ZXJ5QnVpbGRlckJhc2UuanMiXSwibmFtZXMiOlsiUXVlcnlCdWlsZGVyQmFzZSIsImJvb2wiLCJkZWZhdWx0Iiwic3FsaXRlMyIsIm9wZXJhdG9yIiwicHJlZml4IiwiY29tcGFyZVZhbHVlIiwiaXNTZWxlY3RBbGwiLCJoYXMiLCJTZWxlY3RTZWxlY3RvciIsIldoZXJlU2VsZWN0b3IiLCJtb2RpZnkiLCJmdW5jIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiY2FsbCIsImFyZ3MiLCJBcnJheSIsImkiLCJsIiwiYXBwbHkiLCJ0cmFuc2FjdGluZyIsInRyeCIsIl9jb250ZXh0Iiwia25leCIsImNsZWFyU2VsZWN0IiwiY2xlYXIiLCJjbGVhcldoZXJlIiwic2VsZWN0IiwiaW5zZXJ0IiwidXBkYXRlIiwiZGVsZXRlIiwiZGVsIiwiZm9yVXBkYXRlIiwiZm9yU2hhcmUiLCJhcyIsImNvbHVtbnMiLCJjb2x1bW4iLCJmcm9tIiwiZnJvbUpTIiwiaW50byIsIndpdGhTY2hlbWEiLCJ0YWJsZSIsImRpc3RpbmN0Iiwiam9pbiIsImpvaW5SYXciLCJpbm5lckpvaW4iLCJsZWZ0Sm9pbiIsImxlZnRPdXRlckpvaW4iLCJyaWdodEpvaW4iLCJyaWdodE91dGVySm9pbiIsIm91dGVySm9pbiIsImZ1bGxPdXRlckpvaW4iLCJjcm9zc0pvaW4iLCJ3aGVyZSIsImFuZFdoZXJlIiwib3JXaGVyZSIsIndoZXJlTm90Iiwib3JXaGVyZU5vdCIsIndoZXJlUmF3Iiwid2hlcmVXcmFwcGVkIiwiaGF2aW5nV3JhcHBlZCIsIm9yV2hlcmVSYXciLCJ3aGVyZUV4aXN0cyIsIm9yV2hlcmVFeGlzdHMiLCJ3aGVyZU5vdEV4aXN0cyIsIm9yV2hlcmVOb3RFeGlzdHMiLCJ3aGVyZUluIiwib3JXaGVyZUluIiwid2hlcmVOb3RJbiIsIm9yV2hlcmVOb3RJbiIsIndoZXJlTnVsbCIsIm9yV2hlcmVOdWxsIiwid2hlcmVOb3ROdWxsIiwib3JXaGVyZU5vdE51bGwiLCJ3aGVyZUJldHdlZW4iLCJhbmRXaGVyZUJldHdlZW4iLCJ3aGVyZU5vdEJldHdlZW4iLCJhbmRXaGVyZU5vdEJldHdlZW4iLCJvcldoZXJlQmV0d2VlbiIsIm9yV2hlcmVOb3RCZXR3ZWVuIiwiZ3JvdXBCeSIsImdyb3VwQnlSYXciLCJvcmRlckJ5Iiwib3JkZXJCeVJhdyIsInVuaW9uIiwidW5pb25BbGwiLCJoYXZpbmciLCJoYXZpbmdSYXciLCJvckhhdmluZyIsIm9ySGF2aW5nUmF3Iiwib2Zmc2V0IiwibGltaXQiLCJjb3VudCIsImNvdW50RGlzdGluY3QiLCJtaW4iLCJtYXgiLCJzdW0iLCJzdW1EaXN0aW5jdCIsImF2ZyIsImF2Z0Rpc3RpbmN0IiwiZGVidWciLCJyZXR1cm5pbmciLCJ0cnVuY2F0ZSIsImNvbm5lY3Rpb24iLCJvcHRpb25zIiwiY29sdW1uSW5mbyIsIndpdGgiLCJ3aGVyZVJlZiIsImxocyIsIm9wIiwicmhzIiwib3JXaGVyZVJlZiIsIndoZXJlQ29tcG9zaXRlIiwiY29scyIsInZhbHVlcyIsIndoZXJlSW5Db21wb3NpdGUiLCJ3aGVyZUpzb25FcXVhbHMiLCJmaWVsZEV4cHJlc3Npb24iLCJqc29uT2JqZWN0T3JGaWVsZEV4cHJlc3Npb24iLCJvcldoZXJlSnNvbkVxdWFscyIsIndoZXJlSnNvbk5vdEVxdWFscyIsIm9yV2hlcmVKc29uTm90RXF1YWxzIiwid2hlcmVKc29uU3VwZXJzZXRPZiIsIm9yV2hlcmVKc29uU3VwZXJzZXRPZiIsIndoZXJlSnNvbk5vdFN1cGVyc2V0T2YiLCJvcldoZXJlSnNvbk5vdFN1cGVyc2V0T2YiLCJ3aGVyZUpzb25TdWJzZXRPZiIsIm9yV2hlcmVKc29uU3Vic2V0T2YiLCJ3aGVyZUpzb25Ob3RTdWJzZXRPZiIsIm9yV2hlcmVKc29uTm90U3Vic2V0T2YiLCJ3aGVyZUpzb25Jc0FycmF5Iiwib3JXaGVyZUpzb25Jc0FycmF5Iiwid2hlcmVKc29uSXNPYmplY3QiLCJvcldoZXJlSnNvbklzT2JqZWN0Iiwid2hlcmVKc29uTm90QXJyYXkiLCJvcldoZXJlSnNvbk5vdEFycmF5Iiwid2hlcmVKc29uTm90T2JqZWN0Iiwib3JXaGVyZUpzb25Ob3RPYmplY3QiLCJ3aGVyZUpzb25IYXNBbnkiLCJrZXlzIiwib3JXaGVyZUpzb25IYXNBbnkiLCJ3aGVyZUpzb25IYXNBbGwiLCJvcldoZXJlSnNvbkhhc0FsbCIsIndoZXJlSnNvbkZpZWxkIiwidmFsdWUiLCJvcldoZXJlSnNvbkZpZWxkIiwiRnJvbVNlbGVjdG9yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUVBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBRUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7Ozs7O0lBS3FCQSxnQixXQTBEbEIsK0QsVUFNQSw2RCxVQU1BLDZELFVBTUEsNkQsVUFNQSw4REFBcUMsUUFBckMsQyxVQU1BLDZELFVBTUEsNkQsVUFNQSw2RCxVQU1BLCtELFdBTUEsK0QsV0FNQSw2RCxXQU1BLDZELFdBTUEsNkQsV0FNQSw2RCxXQU1BLDZELFdBTUEsK0QsV0FNQSw2RCxXQU1BLDZELFdBTUEsNkQsV0FNQSw2RCxXQU1BLDZELFdBTUEsNkQsV0FNQSw2RCxXQU1BLDZELFdBTUEsNkQsV0FNQSw2RCxXQU1BLDZELFdBTUEsNkQsV0FNQSw2RCxXQU1BLDZELFdBTUEsNkQsV0FNQSw2RCxXQU1BLDZELFdBTUEsNkQsV0FNQSw2RCxXQU1BLDZELFdBTUEsNkQsV0FNQSw2RCxXQU1BLDZELFdBTUEsNkQsV0FNQSw2RCxXQU1BLDZELFdBS0EsNkQsV0FNQSw2RCxXQU1BLDZELFdBTUEsNkQsV0FNQSw2RCxXQU1BLDZELFdBTUEsNkQsV0FNQSw2RCxXQU1BLDZELFdBTUEsNkQsV0FNQSw2RCxXQU1BLDZELFdBTUEsNkQsV0FNQSw2RCxXQU1BLDZELFdBTUEsNkQsV0FNQSw2RCxXQU1BLDZELFdBTUEsNkQsV0FNQSw2RCxX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aEJ5SSxZLEdBQWUscUI7a0JBSkhuSixnQiIsImZpbGUiOiJRdWVyeUJ1aWxkZXJCYXNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHF1ZXJ5QnVpbGRlck9wZXJhdGlvbiBmcm9tICcuL2RlY29yYXRvcnMvcXVlcnlCdWlsZGVyT3BlcmF0aW9uJztcbmltcG9ydCBRdWVyeUJ1aWxkZXJPcGVyYXRpb25TdXBwb3J0IGZyb20gJy4vUXVlcnlCdWlsZGVyT3BlcmF0aW9uU3VwcG9ydCc7XG5cbmltcG9ydCBLbmV4T3BlcmF0aW9uIGZyb20gJy4vb3BlcmF0aW9ucy9LbmV4T3BlcmF0aW9uJztcbmltcG9ydCBTZWxlY3RPcGVyYXRpb24gZnJvbSAnLi9vcGVyYXRpb25zL1NlbGVjdE9wZXJhdGlvbic7XG5pbXBvcnQgV2hlcmVSZWZPcGVyYXRpb24gZnJvbSAnLi9vcGVyYXRpb25zL1doZXJlUmVmT3BlcmF0aW9uJztcbmltcG9ydCBSZXR1cm5pbmdPcGVyYXRpb24gZnJvbSAnLi9vcGVyYXRpb25zL1JldHVybmluZ09wZXJhdGlvbic7XG5pbXBvcnQgV2hlcmVDb21wb3NpdGVPcGVyYXRpb24gZnJvbSAnLi9vcGVyYXRpb25zL1doZXJlQ29tcG9zaXRlT3BlcmF0aW9uJztcbmltcG9ydCBXaGVyZUluQ29tcG9zaXRlT3BlcmF0aW9uIGZyb20gJy4vb3BlcmF0aW9ucy93aGVyZUluQ29tcG9zaXRlL1doZXJlSW5Db21wb3NpdGVPcGVyYXRpb24nO1xuaW1wb3J0IFdoZXJlSW5Db21wb3NpdGVTcWxpdGVPcGVyYXRpb24gZnJvbSAnLi9vcGVyYXRpb25zL3doZXJlSW5Db21wb3NpdGUvV2hlcmVJbkNvbXBvc2l0ZVNxbGl0ZU9wZXJhdGlvbic7XG5cbmltcG9ydCBXaGVyZUpzb25Qb3N0Z3Jlc09wZXJhdGlvbiBmcm9tICcuL29wZXJhdGlvbnMvanNvbkFwaS9XaGVyZUpzb25Qb3N0Z3Jlc09wZXJhdGlvbic7XG5pbXBvcnQgV2hlcmVKc29uSGFzUG9zdGdyZXNPcGVyYXRpb24gZnJvbSAnLi9vcGVyYXRpb25zL2pzb25BcGkvV2hlcmVKc29uSGFzUG9zdGdyZXNPcGVyYXRpb24nO1xuaW1wb3J0IFdoZXJlSnNvbkZpZWxkUG9zdGdyZXNPcGVyYXRpb24gZnJvbSAnLi9vcGVyYXRpb25zL2pzb25BcGkvV2hlcmVKc29uRmllbGRQb3N0Z3Jlc09wZXJhdGlvbic7XG5pbXBvcnQgV2hlcmVKc29uTm90T2JqZWN0UG9zdGdyZXNPcGVyYXRpb24gZnJvbSAnLi9vcGVyYXRpb25zL2pzb25BcGkvV2hlcmVKc29uTm90T2JqZWN0UG9zdGdyZXNPcGVyYXRpb24nO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgaXMgYSB0aGluIHdyYXBwZXIgYXJvdW5kIGtuZXggcXVlcnkgYnVpbGRlci4gVGhpcyBjbGFzcyBhbGxvd3MgdXMgdG8gYWRkIG91ciBvd25cbiAqIHF1ZXJ5IGJ1aWxkZXIgbWV0aG9kcyB3aXRob3V0IG1vbmtleSBwYXRjaGluZyBrbmV4IHF1ZXJ5IGJ1aWxkZXIuXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUXVlcnlCdWlsZGVyQmFzZSBleHRlbmRzIFF1ZXJ5QnVpbGRlck9wZXJhdGlvblN1cHBvcnQge1xuXG4gIHN0YXRpYyBTZWxlY3RTZWxlY3RvciA9IFNlbGVjdE9wZXJhdGlvbjtcbiAgc3RhdGljIFdoZXJlU2VsZWN0b3IgPSAvd2hlcmV8b3JXaGVyZXxhbmRXaGVyZS87XG4gIHN0YXRpYyBGcm9tU2VsZWN0b3IgPSAvXihmcm9tfGludG98dGFibGUpJC87XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBpc1NlbGVjdEFsbCgpIHtcbiAgICByZXR1cm4gIXRoaXMuaGFzKFF1ZXJ5QnVpbGRlckJhc2UuU2VsZWN0U2VsZWN0b3IpICYmICF0aGlzLmhhcyhRdWVyeUJ1aWxkZXJCYXNlLldoZXJlU2VsZWN0b3IpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZ1bmNcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBtb2RpZnkoZnVuYykge1xuICAgIGlmICghZnVuYykge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGZ1bmMuY2FsbCh0aGlzLCB0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG5cbiAgICAgIGFyZ3NbMF0gPSB0aGlzO1xuICAgICAgZm9yIChsZXQgaSA9IDEsIGwgPSBhcmdzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgICAgfVxuXG4gICAgICBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VHJhbnNhY3Rpb259IHRyeFxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIHRyYW5zYWN0aW5nKHRyeCkge1xuICAgIHRoaXMuX2NvbnRleHQua25leCA9IHRyeCB8fCBudWxsO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgY2xlYXJTZWxlY3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xlYXIoUXVlcnlCdWlsZGVyQmFzZS5TZWxlY3RTZWxlY3Rvcik7XG4gIH1cblxuICBjbGVhcldoZXJlKCkge1xuICAgIHJldHVybiB0aGlzLmNsZWFyKFF1ZXJ5QnVpbGRlckJhc2UuV2hlcmVTZWxlY3Rvcik7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKFNlbGVjdE9wZXJhdGlvbilcbiAgc2VsZWN0KC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICBpbnNlcnQoLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIHVwZGF0ZSguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgZGVsZXRlKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uLCAnZGVsZXRlJylcbiAgZGVsKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICBmb3JVcGRhdGUoLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIGZvclNoYXJlKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICBhcyguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oU2VsZWN0T3BlcmF0aW9uKVxuICBjb2x1bW5zKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihTZWxlY3RPcGVyYXRpb24pXG4gIGNvbHVtbiguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgZnJvbSguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgZnJvbUpTKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICBpbnRvKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICB3aXRoU2NoZW1hKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICB0YWJsZSguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oU2VsZWN0T3BlcmF0aW9uKVxuICBkaXN0aW5jdCguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgam9pbiguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgam9pblJhdyguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgaW5uZXJKb2luKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICBsZWZ0Sm9pbiguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgbGVmdE91dGVySm9pbiguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgcmlnaHRKb2luKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICByaWdodE91dGVySm9pbiguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgb3V0ZXJKb2luKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICBmdWxsT3V0ZXJKb2luKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICBjcm9zc0pvaW4oLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIHdoZXJlKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICBhbmRXaGVyZSguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgb3JXaGVyZSguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgd2hlcmVOb3QoLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIG9yV2hlcmVOb3QoLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIHdoZXJlUmF3KC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICB3aGVyZVdyYXBwZWQoLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIGhhdmluZ1dyYXBwZWQoLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIG9yV2hlcmVSYXcoLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIHdoZXJlRXhpc3RzKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICBvcldoZXJlRXhpc3RzKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICB3aGVyZU5vdEV4aXN0cyguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgb3JXaGVyZU5vdEV4aXN0cyguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgd2hlcmVJbiguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgb3JXaGVyZUluKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICB3aGVyZU5vdEluKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIG9yV2hlcmVOb3RJbiguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgd2hlcmVOdWxsKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICBvcldoZXJlTnVsbCguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgd2hlcmVOb3ROdWxsKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICBvcldoZXJlTm90TnVsbCguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgd2hlcmVCZXR3ZWVuKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICBhbmRXaGVyZUJldHdlZW4oLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIHdoZXJlTm90QmV0d2VlbiguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgYW5kV2hlcmVOb3RCZXR3ZWVuKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICBvcldoZXJlQmV0d2VlbiguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgb3JXaGVyZU5vdEJldHdlZW4oLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIGdyb3VwQnkoLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIGdyb3VwQnlSYXcoLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIG9yZGVyQnkoLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIG9yZGVyQnlSYXcoLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIHVuaW9uKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICB1bmlvbkFsbCguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgaGF2aW5nKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICBoYXZpbmdSYXcoLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIG9ySGF2aW5nKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICBvckhhdmluZ1JhdyguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgb2Zmc2V0KC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICBsaW1pdCguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oU2VsZWN0T3BlcmF0aW9uKVxuICBjb3VudCguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oU2VsZWN0T3BlcmF0aW9uKVxuICBjb3VudERpc3RpbmN0KC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihTZWxlY3RPcGVyYXRpb24pXG4gIG1pbiguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oU2VsZWN0T3BlcmF0aW9uKVxuICBtYXgoLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKFNlbGVjdE9wZXJhdGlvbilcbiAgc3VtKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihTZWxlY3RPcGVyYXRpb24pXG4gIHN1bURpc3RpbmN0KC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihTZWxlY3RPcGVyYXRpb24pXG4gIGF2ZyguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oU2VsZWN0T3BlcmF0aW9uKVxuICBhdmdEaXN0aW5jdCguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgZGVidWcoLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKFJldHVybmluZ09wZXJhdGlvbilcbiAgcmV0dXJuaW5nKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICB0cnVuY2F0ZSguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgY29ubmVjdGlvbiguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgb3B0aW9ucyguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgY29sdW1uSW5mbyguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgd2l0aCguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oW1doZXJlUmVmT3BlcmF0aW9uLCB7Ym9vbDogJ2FuZCd9XSlcbiAgd2hlcmVSZWYobGhzLCBvcCwgcmhzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oW1doZXJlUmVmT3BlcmF0aW9uLCB7Ym9vbDogJ29yJ31dKVxuICBvcldoZXJlUmVmKGxocywgb3AsIHJocykge31cblxuICAvKipcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKFdoZXJlQ29tcG9zaXRlT3BlcmF0aW9uKVxuICB3aGVyZUNvbXBvc2l0ZShjb2xzLCBvcCwgdmFsdWVzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oe1xuICAgIGRlZmF1bHQ6IFdoZXJlSW5Db21wb3NpdGVPcGVyYXRpb24sXG4gICAgc3FsaXRlMzogV2hlcmVJbkNvbXBvc2l0ZVNxbGl0ZU9wZXJhdGlvblxuICB9KVxuICB3aGVyZUluQ29tcG9zaXRlKGNvbHVtbnMsIHZhbHVlcykge31cblxuICAvKipcbiAgICogQHBhcmFtIHtGaWVsZEV4cHJlc3Npb259IGZpZWxkRXhwcmVzc2lvblxuICAgKiBAcGFyYW0ge09iamVjdHxBcnJheXxGaWVsZEV4cHJlc3Npb259IGpzb25PYmplY3RPckZpZWxkRXhwcmVzc2lvblxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oW1doZXJlSnNvblBvc3RncmVzT3BlcmF0aW9uLCB7b3BlcmF0b3I6ICc9JywgYm9vbDogJ2FuZCd9XSlcbiAgd2hlcmVKc29uRXF1YWxzKGZpZWxkRXhwcmVzc2lvbiwganNvbk9iamVjdE9yRmllbGRFeHByZXNzaW9uKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0ZpZWxkRXhwcmVzc2lvbn0gZmllbGRFeHByZXNzaW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fEZpZWxkRXhwcmVzc2lvbn0ganNvbk9iamVjdE9yRmllbGRFeHByZXNzaW9uXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihbV2hlcmVKc29uUG9zdGdyZXNPcGVyYXRpb24sIHtvcGVyYXRvcjogJz0nLCBib29sOiAnb3InfV0pXG4gIG9yV2hlcmVKc29uRXF1YWxzKGZpZWxkRXhwcmVzc2lvbiwganNvbk9iamVjdE9yRmllbGRFeHByZXNzaW9uKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0ZpZWxkRXhwcmVzc2lvbn0gZmllbGRFeHByZXNzaW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fEZpZWxkRXhwcmVzc2lvbn0ganNvbk9iamVjdE9yRmllbGRFeHByZXNzaW9uXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihbV2hlcmVKc29uUG9zdGdyZXNPcGVyYXRpb24sIHtvcGVyYXRvcjogJyE9JywgYm9vbDogJ2FuZCd9XSlcbiAgd2hlcmVKc29uTm90RXF1YWxzKGZpZWxkRXhwcmVzc2lvbiwganNvbk9iamVjdE9yRmllbGRFeHByZXNzaW9uKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0ZpZWxkRXhwcmVzc2lvbn0gZmllbGRFeHByZXNzaW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fEZpZWxkRXhwcmVzc2lvbn0ganNvbk9iamVjdE9yRmllbGRFeHByZXNzaW9uXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihbV2hlcmVKc29uUG9zdGdyZXNPcGVyYXRpb24sIHtvcGVyYXRvcjogJyE9JywgYm9vbDogJ29yJ31dKVxuICBvcldoZXJlSnNvbk5vdEVxdWFscyhmaWVsZEV4cHJlc3Npb24sIGpzb25PYmplY3RPckZpZWxkRXhwcmVzc2lvbikge31cblxuICAvKipcbiAgICogQHBhcmFtIHtGaWVsZEV4cHJlc3Npb259IGZpZWxkRXhwcmVzc2lvblxuICAgKiBAcGFyYW0ge09iamVjdHxBcnJheXxGaWVsZEV4cHJlc3Npb259IGpzb25PYmplY3RPckZpZWxkRXhwcmVzc2lvblxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oW1doZXJlSnNvblBvc3RncmVzT3BlcmF0aW9uLCB7b3BlcmF0b3I6ICdAPicsIGJvb2w6ICdhbmQnfV0pXG4gIHdoZXJlSnNvblN1cGVyc2V0T2YoZmllbGRFeHByZXNzaW9uLCBqc29uT2JqZWN0T3JGaWVsZEV4cHJlc3Npb24pIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RmllbGRFeHByZXNzaW9ufSBmaWVsZEV4cHJlc3Npb25cbiAgICogQHBhcmFtIHtPYmplY3R8QXJyYXl8RmllbGRFeHByZXNzaW9ufSBqc29uT2JqZWN0T3JGaWVsZEV4cHJlc3Npb25cbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKFtXaGVyZUpzb25Qb3N0Z3Jlc09wZXJhdGlvbiwge29wZXJhdG9yOiAnQD4nLCBib29sOiAnb3InfV0pXG4gIG9yV2hlcmVKc29uU3VwZXJzZXRPZihmaWVsZEV4cHJlc3Npb24sIGpzb25PYmplY3RPckZpZWxkRXhwcmVzc2lvbikge31cblxuICAvKipcbiAgICogQHBhcmFtIHtGaWVsZEV4cHJlc3Npb259IGZpZWxkRXhwcmVzc2lvblxuICAgKiBAcGFyYW0ge09iamVjdHxBcnJheXxGaWVsZEV4cHJlc3Npb259IGpzb25PYmplY3RPckZpZWxkRXhwcmVzc2lvblxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oW1doZXJlSnNvblBvc3RncmVzT3BlcmF0aW9uLCB7b3BlcmF0b3I6ICdAPicsIGJvb2w6ICdhbmQnLCBwcmVmaXg6ICdub3QnfV0pXG4gIHdoZXJlSnNvbk5vdFN1cGVyc2V0T2YoZmllbGRFeHByZXNzaW9uLCBqc29uT2JqZWN0T3JGaWVsZEV4cHJlc3Npb24pIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RmllbGRFeHByZXNzaW9ufSBmaWVsZEV4cHJlc3Npb25cbiAgICogQHBhcmFtIHtPYmplY3R8QXJyYXl8RmllbGRFeHByZXNzaW9ufSBqc29uT2JqZWN0T3JGaWVsZEV4cHJlc3Npb25cbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKFtXaGVyZUpzb25Qb3N0Z3Jlc09wZXJhdGlvbiwge29wZXJhdG9yOiAnQD4nLCBib29sOiAnb3InLCBwcmVmaXg6ICdub3QnfV0pXG4gIG9yV2hlcmVKc29uTm90U3VwZXJzZXRPZihmaWVsZEV4cHJlc3Npb24sIGpzb25PYmplY3RPckZpZWxkRXhwcmVzc2lvbikge31cblxuICAvKipcbiAgICogQHBhcmFtIHtGaWVsZEV4cHJlc3Npb259IGZpZWxkRXhwcmVzc2lvblxuICAgKiBAcGFyYW0ge09iamVjdHxBcnJheXxGaWVsZEV4cHJlc3Npb259IGpzb25PYmplY3RPckZpZWxkRXhwcmVzc2lvblxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oW1doZXJlSnNvblBvc3RncmVzT3BlcmF0aW9uLCB7b3BlcmF0b3I6ICc8QCcsIGJvb2w6ICdhbmQnfV0pXG4gIHdoZXJlSnNvblN1YnNldE9mKGZpZWxkRXhwcmVzc2lvbiwganNvbk9iamVjdE9yRmllbGRFeHByZXNzaW9uKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0ZpZWxkRXhwcmVzc2lvbn0gZmllbGRFeHByZXNzaW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fEZpZWxkRXhwcmVzc2lvbn0ganNvbk9iamVjdE9yRmllbGRFeHByZXNzaW9uXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihbV2hlcmVKc29uUG9zdGdyZXNPcGVyYXRpb24sIHtvcGVyYXRvcjogJzxAJywgYm9vbDogJ29yJ31dKVxuICBvcldoZXJlSnNvblN1YnNldE9mKGZpZWxkRXhwcmVzc2lvbiwganNvbk9iamVjdE9yRmllbGRFeHByZXNzaW9uKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0ZpZWxkRXhwcmVzc2lvbn0gZmllbGRFeHByZXNzaW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fEZpZWxkRXhwcmVzc2lvbn0ganNvbk9iamVjdE9yRmllbGRFeHByZXNzaW9uXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihbV2hlcmVKc29uUG9zdGdyZXNPcGVyYXRpb24sIHtvcGVyYXRvcjogJzxAJywgYm9vbDogJ2FuZCcsIHByZWZpeDogJ25vdCd9XSlcbiAgd2hlcmVKc29uTm90U3Vic2V0T2YoZmllbGRFeHByZXNzaW9uLCBqc29uT2JqZWN0T3JGaWVsZEV4cHJlc3Npb24pIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RmllbGRFeHByZXNzaW9ufSBmaWVsZEV4cHJlc3Npb25cbiAgICogQHBhcmFtIHtPYmplY3R8QXJyYXl8RmllbGRFeHByZXNzaW9ufSBqc29uT2JqZWN0T3JGaWVsZEV4cHJlc3Npb25cbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKFtXaGVyZUpzb25Qb3N0Z3Jlc09wZXJhdGlvbiwge29wZXJhdG9yOiAnPEAnLCBib29sOiAnb3InLCBwcmVmaXg6ICdub3QnfV0pXG4gIG9yV2hlcmVKc29uTm90U3Vic2V0T2YoZmllbGRFeHByZXNzaW9uLCBqc29uT2JqZWN0T3JGaWVsZEV4cHJlc3Npb24pIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RmllbGRFeHByZXNzaW9ufSBmaWVsZEV4cHJlc3Npb25cbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICB3aGVyZUpzb25Jc0FycmF5KGZpZWxkRXhwcmVzc2lvbikge1xuICAgIHJldHVybiB0aGlzLndoZXJlSnNvblN1cGVyc2V0T2YoZmllbGRFeHByZXNzaW9uLCBbXSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtGaWVsZEV4cHJlc3Npb259IGZpZWxkRXhwcmVzc2lvblxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIG9yV2hlcmVKc29uSXNBcnJheShmaWVsZEV4cHJlc3Npb24pIHtcbiAgICByZXR1cm4gdGhpcy5vcldoZXJlSnNvblN1cGVyc2V0T2YoZmllbGRFeHByZXNzaW9uLCBbXSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtGaWVsZEV4cHJlc3Npb259IGZpZWxkRXhwcmVzc2lvblxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIHdoZXJlSnNvbklzT2JqZWN0KGZpZWxkRXhwcmVzc2lvbikge1xuICAgIHJldHVybiB0aGlzLndoZXJlSnNvblN1cGVyc2V0T2YoZmllbGRFeHByZXNzaW9uLCB7fSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtGaWVsZEV4cHJlc3Npb259IGZpZWxkRXhwcmVzc2lvblxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIG9yV2hlcmVKc29uSXNPYmplY3QoZmllbGRFeHByZXNzaW9uKSB7XG4gICAgcmV0dXJuIHRoaXMub3JXaGVyZUpzb25TdXBlcnNldE9mKGZpZWxkRXhwcmVzc2lvbiwge30pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RmllbGRFeHByZXNzaW9ufSBmaWVsZEV4cHJlc3Npb25cbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKFtXaGVyZUpzb25Ob3RPYmplY3RQb3N0Z3Jlc09wZXJhdGlvbiwge2Jvb2w6ICdhbmQnLCBjb21wYXJlVmFsdWU6IFtdfV0pXG4gIHdoZXJlSnNvbk5vdEFycmF5KGZpZWxkRXhwcmVzc2lvbikge31cblxuICAvKipcbiAgICogQHBhcmFtIHtGaWVsZEV4cHJlc3Npb259IGZpZWxkRXhwcmVzc2lvblxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oW1doZXJlSnNvbk5vdE9iamVjdFBvc3RncmVzT3BlcmF0aW9uLCB7Ym9vbDogJ29yJywgY29tcGFyZVZhbHVlOiBbXX1dKVxuICBvcldoZXJlSnNvbk5vdEFycmF5KGZpZWxkRXhwcmVzc2lvbikge31cblxuICAvKipcbiAgICogQHBhcmFtIHtGaWVsZEV4cHJlc3Npb259IGZpZWxkRXhwcmVzc2lvblxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oW1doZXJlSnNvbk5vdE9iamVjdFBvc3RncmVzT3BlcmF0aW9uLCB7Ym9vbDogJ2FuZCcsIGNvbXBhcmVWYWx1ZToge319XSlcbiAgd2hlcmVKc29uTm90T2JqZWN0KGZpZWxkRXhwcmVzc2lvbikge31cblxuICAvKipcbiAgICogQHBhcmFtIHtGaWVsZEV4cHJlc3Npb259IGZpZWxkRXhwcmVzc2lvblxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oW1doZXJlSnNvbk5vdE9iamVjdFBvc3RncmVzT3BlcmF0aW9uLCB7Ym9vbDogJ29yJywgY29tcGFyZVZhbHVlOiB7fX1dKVxuICBvcldoZXJlSnNvbk5vdE9iamVjdChmaWVsZEV4cHJlc3Npb24pIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RmllbGRFeHByZXNzaW9ufSBmaWVsZEV4cHJlc3Npb25cbiAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXkuPHN0cmluZz59IGtleXNcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKFtXaGVyZUpzb25IYXNQb3N0Z3Jlc09wZXJhdGlvbiwge2Jvb2w6ICdhbmQnLCBvcGVyYXRvcjogJz98J31dKVxuICB3aGVyZUpzb25IYXNBbnkoZmllbGRFeHByZXNzaW9uLCBrZXlzKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0ZpZWxkRXhwcmVzc2lvbn0gZmllbGRFeHByZXNzaW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfEFycmF5LjxzdHJpbmc+fSBrZXlzXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihbV2hlcmVKc29uSGFzUG9zdGdyZXNPcGVyYXRpb24sIHtib29sOiAnb3InLCBvcGVyYXRvcjogJz98J31dKVxuICBvcldoZXJlSnNvbkhhc0FueShmaWVsZEV4cHJlc3Npb24sIGtleXMpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RmllbGRFeHByZXNzaW9ufSBmaWVsZEV4cHJlc3Npb25cbiAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXkuPHN0cmluZz59IGtleXNcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKFtXaGVyZUpzb25IYXNQb3N0Z3Jlc09wZXJhdGlvbiwge2Jvb2w6ICdhbmQnLCBvcGVyYXRvcjogJz8mJ31dKVxuICB3aGVyZUpzb25IYXNBbGwoZmllbGRFeHByZXNzaW9uLCBrZXlzKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0ZpZWxkRXhwcmVzc2lvbn0gZmllbGRFeHByZXNzaW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfEFycmF5LjxzdHJpbmc+fSBrZXlzXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihbV2hlcmVKc29uSGFzUG9zdGdyZXNPcGVyYXRpb24sIHtib29sOiAnb3InLCBvcGVyYXRvcjogJz8mJ31dKVxuICBvcldoZXJlSnNvbkhhc0FsbChmaWVsZEV4cHJlc3Npb24sIGtleXMpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RmllbGRFeHByZXNzaW9ufSBmaWVsZEV4cHJlc3Npb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wZXJhdG9yXG4gICAqIEBwYXJhbSB7Ym9vbGVhbnxOdW1iZXJ8c3RyaW5nfG51bGx9IHZhbHVlXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihbV2hlcmVKc29uRmllbGRQb3N0Z3Jlc09wZXJhdGlvbiwge2Jvb2w6ICdhbmQnfV0pXG4gIHdoZXJlSnNvbkZpZWxkKGZpZWxkRXhwcmVzc2lvbiwgb3BlcmF0b3IsIHZhbHVlKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0ZpZWxkRXhwcmVzc2lvbn0gZmllbGRFeHByZXNzaW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcGVyYXRvclxuICAgKiBAcGFyYW0ge2Jvb2xlYW58TnVtYmVyfHN0cmluZ3xudWxsfSB2YWx1ZVxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oW1doZXJlSnNvbkZpZWxkUG9zdGdyZXNPcGVyYXRpb24sIHtib29sOiAnb3InfV0pXG4gIG9yV2hlcmVKc29uRmllbGQoZmllbGRFeHByZXNzaW9uLCBvcGVyYXRvciwgdmFsdWUpIHt9XG59XG4iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/QueryBuilderOperationSupport.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _create = require('babel-runtime/core-js/object/create');\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _KnexOperation = require('./operations/KnexOperation');\n\nvar _KnexOperation2 = _interopRequireDefault(_KnexOperation);\n\nvar _QueryBuilderContextBase = require('./QueryBuilderContextBase');\n\nvar _QueryBuilderContextBase2 = _interopRequireDefault(_QueryBuilderContextBase);\n\nvar _classUtils = require('../utils/classUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Base functionality to be able to use query builder operation annotations.\n */\n\nvar QueryBuilderOperationSupport = function () {\n  function QueryBuilderOperationSupport(knex, QueryBuilderContext) {\n    (0, _classCallCheck3.default)(this, QueryBuilderOperationSupport);\n\n    /**\n     * @type {knex}\n     * @protected\n     */\n    this._knex = knex;\n    /**\n     * @type {Array.<QueryBuilderOperation>}\n     * @protected\n     */\n    this._operations = [];\n    /**\n     * @type {QueryBuilderContextBase}\n     * @protected\n     */\n    this._context = new (QueryBuilderContext || _QueryBuilderContextBase2.default)(this._createUserContextBase());\n  }\n\n  /**\n   * @param {function=} subclassConstructor\n   * @return {Constructor.<QueryBuilderOperationSupport>}\n   */\n\n\n  QueryBuilderOperationSupport.extend = function extend(subclassConstructor) {\n    (0, _classUtils.inherits)(subclassConstructor, this);\n    return subclassConstructor;\n  };\n\n  /**\n   * @param {Object=} ctx\n   * @returns {Object|QueryBuilderOperationSupport}\n   */\n\n\n  QueryBuilderOperationSupport.prototype.context = function context(ctx) {\n    if (arguments.length === 0) {\n      return this._context.userContext;\n    } else {\n      var ctxBase = this._createUserContextBase();\n      this._context.userContext = (0, _assign2.default)(ctxBase, ctx);\n      return this;\n    }\n  };\n\n  /**\n   * @param {Object=} ctx\n   * @returns {QueryBuilderOperationSupport}\n   */\n\n\n  QueryBuilderOperationSupport.prototype.mergeContext = function mergeContext(ctx) {\n    var oldCtx = this._context.userContext;\n    this._context.userContext = (0, _assign2.default)(oldCtx, ctx);\n    return this;\n  };\n\n  /**\n   * @param {QueryBuilderContextBase=} ctx\n   * @returns {QueryBuilderContextBase|QueryBuilderOperationSupport}\n   */\n\n\n  QueryBuilderOperationSupport.prototype.internalContext = function internalContext(ctx) {\n    if (arguments.length === 0) {\n      return this._context;\n    } else {\n      this._context = ctx;\n      return this;\n    }\n  };\n\n  /**\n   * @param {Object|InternalOptions} opt\n   * @returns {InternalOptions|QueryBuilderOperationSupport}\n   */\n\n\n  QueryBuilderOperationSupport.prototype.internalOptions = function internalOptions(opt) {\n    if (arguments.length === 0) {\n      return this._context.options;\n    } else {\n      (0, _assign2.default)(this._context.options, opt);\n      return this;\n    }\n  };\n\n  /**\n   * @param {knex=} knex\n   * @returns {Object|QueryBuilderOperationSupport}\n   */\n\n\n  QueryBuilderOperationSupport.prototype.knex = function knex(_knex) {\n    if (arguments.length === 0) {\n      var knex = this._context.knex || this._knex;\n\n      if (!knex) {\n        throw new Error('no database connection available for a query for table ' + this.modelClass().tableName + '. ' + 'You need to bind the model class or the query to a knex instance.');\n      }\n\n      return knex;\n    } else {\n      this._knex = _knex;\n      return this;\n    }\n  };\n\n  /**\n   * @param {RegExp|Constructor.<? extends QueryBuilderOperation>} operationSelector\n   * @return {QueryBuilderBase}\n   */\n\n\n  QueryBuilderOperationSupport.prototype.clear = function clear(operationSelector) {\n    var operations = [];\n\n    this.forEachOperation(operationSelector, function (op) {\n      operations.push(op);\n    }, false);\n\n    this._operations = operations;\n    return this;\n  };\n\n  /**\n   * @param {QueryBuilderBase} queryBuilder\n   * @param {RegExp|Constructor.<? extends QueryBuilderOperation>} operationSelector\n   * @return {QueryBuilderBase}\n   */\n\n\n  QueryBuilderOperationSupport.prototype.copyFrom = function copyFrom(queryBuilder, operationSelector) {\n    var _this = this;\n\n    queryBuilder.forEachOperation(operationSelector, function (op) {\n      _this._operations.push(op);\n    });\n\n    return this;\n  };\n\n  /**\n   * @param {RegExp|Constructor.<? extends QueryBuilderOperation>} operationSelector\n   * @returns {boolean}\n   */\n\n\n  QueryBuilderOperationSupport.prototype.has = function has(operationSelector) {\n    var found = false;\n\n    this.forEachOperation(operationSelector, function () {\n      found = true;\n      return false;\n    });\n\n    return found;\n  };\n\n  /**\n   * @param {RegExp|Constructor.<? extends QueryBuilderOperation>} operationSelector\n   * @returns {boolean}\n   */\n\n\n  QueryBuilderOperationSupport.prototype.indexOfOperation = function indexOfOperation(operationSelector) {\n    var idx = -1;\n\n    this.forEachOperation(operationSelector, function (op, i) {\n      idx = i;\n      return false;\n    });\n\n    return idx;\n  };\n\n  /**\n   * @param {RegExp|Constructor.<? extends QueryBuilderOperation>} operationSelector\n   * @param {function(QueryBuilderOperation)} callback\n   * @param {boolean} match\n   * @returns {QueryBuilderBase}\n   */\n\n\n  QueryBuilderOperationSupport.prototype.forEachOperation = function forEachOperation(operationSelector, callback) {\n    var match = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n    if (operationSelector instanceof RegExp) {\n      this._forEachOperationRegex(operationSelector, callback, match);\n    } else {\n      this._forEachOperationInstanceOf(operationSelector, callback, match);\n    }\n\n    return this;\n  };\n\n  /**\n   * @param {QueryBuilderOperation} operation\n   * @param {Array.<*>} args\n   * @param {Boolean=} pushFront\n   * @returns {QueryBuilderOperationSupport}\n   */\n\n\n  QueryBuilderOperationSupport.prototype.callQueryBuilderOperation = function callQueryBuilderOperation(operation, args, pushFront) {\n    if (operation.call(this, args || [])) {\n      if (pushFront) {\n        this._operations.unshift(operation);\n      } else {\n        this._operations.push(operation);\n      }\n    }\n\n    return this;\n  };\n\n  /**\n   * @param {string} methodName\n   * @param {Array.<*>} args\n   * @param {boolean=} pushFront\n   * @returns {QueryBuilderOperationSupport}\n   */\n\n\n  QueryBuilderOperationSupport.prototype.callKnexQueryBuilderOperation = function callKnexQueryBuilderOperation(methodName, args, pushFront) {\n    return this.callQueryBuilderOperation(new _KnexOperation2.default(methodName), args, pushFront);\n  };\n\n  /**\n   * @returns {QueryBuilderOperationSupport}\n   */\n\n\n  QueryBuilderOperationSupport.prototype.clone = function clone() {\n    return this.baseCloneInto(new this.constructor(this.knex()));\n  };\n\n  /**\n   * @protected\n   * @returns {QueryBuilderOperationSupport}\n   */\n\n\n  QueryBuilderOperationSupport.prototype.baseCloneInto = function baseCloneInto(builder) {\n    builder._knex = this._knex;\n    builder._operations = this._operations.slice();\n    builder._context = this._context.clone();\n\n    return builder;\n  };\n\n  /**\n   * @returns {knex.QueryBuilder}\n   */\n\n\n  QueryBuilderOperationSupport.prototype.build = function build() {\n    return this.buildInto(this.knex().queryBuilder());\n  };\n\n  /**\n   * @protected\n   */\n\n\n  QueryBuilderOperationSupport.prototype.buildInto = function buildInto(knexBuilder) {\n    var tmp = new Array(10);\n\n    var i = 0;\n    while (i < this._operations.length) {\n      var op = this._operations[i];\n      var ln = this._operations.length;\n\n      op.onBeforeBuild(this);\n\n      var numNew = this._operations.length - ln;\n\n      // onBeforeBuild may call methods that add more operations. If\n      // this was the case, move the operations to be executed next.\n      if (numNew > 0) {\n        while (tmp.length < numNew) {\n          tmp.push(null);\n        }\n\n        // Copy the new operations to tmp.\n        for (var j = 0; j < numNew; ++j) {\n          tmp[j] = this._operations[ln + j];\n        }\n\n        // Make room for the new operations after the current operation.\n        for (var _j = ln + numNew - 1; _j > i + numNew; --_j) {\n          this._operations[_j] = this._operations[_j - numNew];\n        }\n\n        // Move the new operations after the current operation.\n        for (var _j2 = 0; _j2 < numNew; ++_j2) {\n          this._operations[i + _j2 + 1] = tmp[_j2];\n        }\n      }\n\n      ++i;\n    }\n\n    // onBuild operations should never add new operations. They should only call\n    // methods on the knex query builder.\n    for (var _i = 0, l = this._operations.length; _i < l; ++_i) {\n      this._operations[_i].onBuild(knexBuilder, this);\n\n      if (this._operations.length !== l) {\n        throw new Error('onBuild should only call query building methods on the knex builder');\n      }\n    }\n\n    return knexBuilder;\n  };\n\n  /**\n   * @returns {string}\n   */\n\n\n  QueryBuilderOperationSupport.prototype.toString = function toString() {\n    return this.build().toString();\n  };\n\n  /**\n   * @returns {string}\n   */\n\n\n  QueryBuilderOperationSupport.prototype.toSql = function toSql() {\n    return this.toString();\n  };\n\n  /**\n   * @returns {QueryBuilderOperationSupport}\n   */\n\n\n  QueryBuilderOperationSupport.prototype.skipUndefined = function skipUndefined() {\n    this._context.options.skipUndefined = true;\n    return this;\n  };\n\n  /**\n   * @private\n   */\n\n\n  QueryBuilderOperationSupport.prototype._createUserContextBase = function _createUserContextBase() {\n    var _this2 = this;\n\n    var ctxProto = {};\n\n    Object.defineProperty(ctxProto, 'transaction', {\n      enumerable: false,\n      get: function get() {\n        return _this2.knex();\n      }\n    });\n\n    return (0, _create2.default)(ctxProto);\n  };\n\n  /**\n   * @private\n   */\n\n\n  QueryBuilderOperationSupport.prototype._forEachOperationRegex = function _forEachOperationRegex(operationSelector, callback, match) {\n    for (var i = 0, l = this._operations.length; i < l; ++i) {\n      var op = this._operations[i];\n\n      if (operationSelector.test(op.name) === match) {\n        if (callback(op, i) === false) {\n          break;\n        }\n      }\n    }\n  };\n\n  /**\n   * @private\n   */\n\n\n  QueryBuilderOperationSupport.prototype._forEachOperationInstanceOf = function _forEachOperationInstanceOf(operationSelector, callback, match) {\n    for (var i = 0, l = this._operations.length; i < l; ++i) {\n      var op = this._operations[i];\n\n      if (op instanceof operationSelector === match) {\n        if (callback(op, i) === false) {\n          break;\n        }\n      }\n    }\n  };\n\n  return QueryBuilderOperationSupport;\n}();\n\nexports.default = QueryBuilderOperationSupport;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlF1ZXJ5QnVpbGRlck9wZXJhdGlvblN1cHBvcnQuanMiXSwibmFtZXMiOlsiUXVlcnlCdWlsZGVyT3BlcmF0aW9uU3VwcG9ydCIsImtuZXgiLCJRdWVyeUJ1aWxkZXJDb250ZXh0IiwiX2tuZXgiLCJfb3BlcmF0aW9ucyIsIl9jb250ZXh0IiwiX2NyZWF0ZVVzZXJDb250ZXh0QmFzZSIsImV4dGVuZCIsInN1YmNsYXNzQ29uc3RydWN0b3IiLCJjb250ZXh0IiwiY3R4IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidXNlckNvbnRleHQiLCJjdHhCYXNlIiwibWVyZ2VDb250ZXh0Iiwib2xkQ3R4IiwiaW50ZXJuYWxDb250ZXh0IiwiaW50ZXJuYWxPcHRpb25zIiwib3B0Iiwib3B0aW9ucyIsIkVycm9yIiwibW9kZWxDbGFzcyIsInRhYmxlTmFtZSIsImNsZWFyIiwib3BlcmF0aW9uU2VsZWN0b3IiLCJvcGVyYXRpb25zIiwiZm9yRWFjaE9wZXJhdGlvbiIsIm9wIiwicHVzaCIsImNvcHlGcm9tIiwicXVlcnlCdWlsZGVyIiwiaGFzIiwiZm91bmQiLCJpbmRleE9mT3BlcmF0aW9uIiwiaWR4IiwiaSIsImNhbGxiYWNrIiwibWF0Y2giLCJSZWdFeHAiLCJfZm9yRWFjaE9wZXJhdGlvblJlZ2V4IiwiX2ZvckVhY2hPcGVyYXRpb25JbnN0YW5jZU9mIiwiY2FsbFF1ZXJ5QnVpbGRlck9wZXJhdGlvbiIsIm9wZXJhdGlvbiIsImFyZ3MiLCJwdXNoRnJvbnQiLCJjYWxsIiwidW5zaGlmdCIsImNhbGxLbmV4UXVlcnlCdWlsZGVyT3BlcmF0aW9uIiwibWV0aG9kTmFtZSIsImNsb25lIiwiYmFzZUNsb25lSW50byIsImNvbnN0cnVjdG9yIiwiYnVpbGRlciIsInNsaWNlIiwiYnVpbGQiLCJidWlsZEludG8iLCJrbmV4QnVpbGRlciIsInRtcCIsIkFycmF5IiwibG4iLCJvbkJlZm9yZUJ1aWxkIiwibnVtTmV3IiwiaiIsImwiLCJvbkJ1aWxkIiwidG9TdHJpbmciLCJ0b1NxbCIsInNraXBVbmRlZmluZWQiLCJjdHhQcm90byIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInRlc3QiLCJuYW1lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBRUE7Ozs7SUFJcUJBLDRCO0FBRW5CLHdDQUFZQyxJQUFaLEVBQWtCQyxtQkFBbEIsRUFBdUM7QUFBQTs7QUFDckM7Ozs7QUFJQSxTQUFLQyxLQUFMLEdBQWFGLElBQWI7QUFDQTs7OztBQUlBLFNBQUtHLFdBQUwsR0FBbUIsRUFBbkI7QUFDQTs7OztBQUlBLFNBQUtDLFFBQUwsR0FBZ0IsS0FBS0gsd0RBQUwsRUFBcUQsS0FBS0ksc0JBQUwsRUFBckQsQ0FBaEI7QUFDRDs7QUFFRDs7Ozs7OytCQUlPQyxNLG1CQUFPQyxtQixFQUFxQjtBQUNqQyw4QkFBU0EsbUJBQVQsRUFBOEIsSUFBOUI7QUFDQSxXQUFPQSxtQkFBUDtBQUNELEc7O0FBRUQ7Ozs7Ozt5Q0FJQUMsTyxvQkFBUUMsRyxFQUFLO0FBQ1gsUUFBSUMsVUFBVUMsTUFBVixLQUFxQixDQUF6QixFQUE0QjtBQUMxQixhQUFPLEtBQUtQLFFBQUwsQ0FBY1EsV0FBckI7QUFDRCxLQUZELE1BRU87QUFDTCxVQUFNQyxVQUFVLEtBQUtSLHNCQUFMLEVBQWhCO0FBQ0EsV0FBS0QsUUFBTCxDQUFjUSxXQUFkLEdBQTRCLHNCQUFjQyxPQUFkLEVBQXVCSixHQUF2QixDQUE1QjtBQUNBLGFBQU8sSUFBUDtBQUNEO0FBQ0YsRzs7QUFFRDs7Ozs7O3lDQUlBSyxZLHlCQUFhTCxHLEVBQUs7QUFDaEIsUUFBTU0sU0FBUyxLQUFLWCxRQUFMLENBQWNRLFdBQTdCO0FBQ0EsU0FBS1IsUUFBTCxDQUFjUSxXQUFkLEdBQTRCLHNCQUFjRyxNQUFkLEVBQXNCTixHQUF0QixDQUE1QjtBQUNBLFdBQU8sSUFBUDtBQUNELEc7O0FBRUQ7Ozs7Ozt5Q0FJQU8sZSw0QkFBZ0JQLEcsRUFBSztBQUNuQixRQUFJ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WUFBSUQsU0FBU1QsRUFBVCxFQUFhUSxDQUFiLE1BQW9CLEtBQXhCLEVBQStCO0FBQzdCO0FBQ0Q7QUFDRjtBQUNGO0FBQ0YsRzs7QUFFRDs7Ozs7eUNBR0FLLDJCLHdDQUE0QmhCLGlCLEVBQW1CWSxRLEVBQVVDLEssRUFBTztBQUM5RCxTQUFLLElBQUlGLElBQUksQ0FBUixFQUFXNEIsSUFBSSxLQUFLNUQsV0FBTCxDQUFpQlEsTUFBckMsRUFBNkN3QixJQUFJNEIsQ0FBakQsRUFBb0QsRUFBRTVCLENBQXRELEVBQXlEO0FBQ3ZELFVBQU1SLEtBQUssS0FBS3hCLFdBQUwsQ0FBaUJnQyxDQUFqQixDQUFYOztBQUVBLFVBQUtSLGNBQWNILGlCQUFmLEtBQXNDYSxLQUExQyxFQUFpRDtBQUMvQyxZQUFJRCxTQUFTVCxFQUFULEVBQWFRLENBQWIsTUFBb0IsS0FBeEIsRUFBK0I7QUFDN0I7QUFDRDtBQUNGO0FBQ0Y7QUFDRixHOzs7OztrQkExVmtCcEMsNEIiLCJmaWxlIjoiUXVlcnlCdWlsZGVyT3BlcmF0aW9uU3VwcG9ydC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBLbmV4T3BlcmF0aW9uIGZyb20gJy4vb3BlcmF0aW9ucy9LbmV4T3BlcmF0aW9uJztcbmltcG9ydCBRdWVyeUJ1aWxkZXJDb250ZXh0QmFzZSBmcm9tICcuL1F1ZXJ5QnVpbGRlckNvbnRleHRCYXNlJztcbmltcG9ydCB7aW5oZXJpdHN9IGZyb20gJy4uL3V0aWxzL2NsYXNzVXRpbHMnO1xuXG4vKipcbiAqIEJhc2UgZnVuY3Rpb25hbGl0eSB0byBiZSBhYmxlIHRvIHVzZSBxdWVyeSBidWlsZGVyIG9wZXJhdGlvbiBhbm5vdGF0aW9ucy5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBRdWVyeUJ1aWxkZXJPcGVyYXRpb25TdXBwb3J0IHtcblxuICBjb25zdHJ1Y3RvcihrbmV4LCBRdWVyeUJ1aWxkZXJDb250ZXh0KSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge2tuZXh9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHRoaXMuX2tuZXggPSBrbmV4O1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheS48UXVlcnlCdWlsZGVyT3BlcmF0aW9uPn1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgdGhpcy5fb3BlcmF0aW9ucyA9IFtdO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtRdWVyeUJ1aWxkZXJDb250ZXh0QmFzZX1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgdGhpcy5fY29udGV4dCA9IG5ldyAoUXVlcnlCdWlsZGVyQ29udGV4dCB8fCBRdWVyeUJ1aWxkZXJDb250ZXh0QmFzZSkodGhpcy5fY3JlYXRlVXNlckNvbnRleHRCYXNlKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb249fSBzdWJjbGFzc0NvbnN0cnVjdG9yXG4gICAqIEByZXR1cm4ge0NvbnN0cnVjdG9yLjxRdWVyeUJ1aWxkZXJPcGVyYXRpb25TdXBwb3J0Pn1cbiAgICovXG4gIHN0YXRpYyBleHRlbmQoc3ViY2xhc3NDb25zdHJ1Y3Rvcikge1xuICAgIGluaGVyaXRzKHN1YmNsYXNzQ29uc3RydWN0b3IsIHRoaXMpO1xuICAgIHJldHVybiBzdWJjbGFzc0NvbnN0cnVjdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gY3R4XG4gICAqIEByZXR1cm5zIHtPYmplY3R8UXVlcnlCdWlsZGVyT3BlcmF0aW9uU3VwcG9ydH1cbiAgICovXG4gIGNvbnRleHQoY3R4KSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0LnVzZXJDb250ZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjdHhCYXNlID0gdGhpcy5fY3JlYXRlVXNlckNvbnRleHRCYXNlKCk7XG4gICAgICB0aGlzLl9jb250ZXh0LnVzZXJDb250ZXh0ID0gT2JqZWN0LmFzc2lnbihjdHhCYXNlLCBjdHgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gY3R4XG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJPcGVyYXRpb25TdXBwb3J0fVxuICAgKi9cbiAgbWVyZ2VDb250ZXh0KGN0eCkge1xuICAgIGNvbnN0IG9sZEN0eCA9IHRoaXMuX2NvbnRleHQudXNlckNvbnRleHQ7XG4gICAgdGhpcy5fY29udGV4dC51c2VyQ29udGV4dCA9IE9iamVjdC5hc3NpZ24ob2xkQ3R4LCBjdHgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UXVlcnlCdWlsZGVyQ29udGV4dEJhc2U9fSBjdHhcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlckNvbnRleHRCYXNlfFF1ZXJ5QnVpbGRlck9wZXJhdGlvblN1cHBvcnR9XG4gICAqL1xuICBpbnRlcm5hbENvbnRleHQoY3R4KSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jb250ZXh0ID0gY3R4O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fEludGVybmFsT3B0aW9uc30gb3B0XG4gICAqIEByZXR1cm5zIHtJbnRlcm5hbE9wdGlvbnN8UXVlcnlCdWlsZGVyT3BlcmF0aW9uU3VwcG9ydH1cbiAgICovXG4gIGludGVybmFsT3B0aW9ucyhvcHQpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHQub3B0aW9ucztcbiAgICB9IGVsc2Uge1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9jb250ZXh0Lm9wdGlvbnMsIG9wdCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtrbmV4PX0ga25leFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fFF1ZXJ5QnVpbGRlck9wZXJhdGlvblN1cHBvcnR9XG4gICAqL1xuICBrbmV4KGtuZXgpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc3Qga25leCA9IHRoaXMuX2NvbnRleHQua25leCB8fCB0aGlzLl9rbmV4O1xuXG4gICAgICBpZiAoIWtuZXgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBubyBkYXRhYmFzZSBjb25uZWN0aW9uIGF2YWlsYWJsZSBmb3IgYSBxdWVyeSBmb3IgdGFibGUgJHt0aGlzLm1vZGVsQ2xhc3MoKS50YWJsZU5hbWV9LiBgICtcbiAgICAgICAgICBgWW91IG5lZWQgdG8gYmluZCB0aGUgbW9kZWwgY2xhc3Mgb3IgdGhlIHF1ZXJ5IHRvIGEga25leCBpbnN0YW5jZS5gKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGtuZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2tuZXggPSBrbmV4O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UmVnRXhwfENvbnN0cnVjdG9yLjw/IGV4dGVuZHMgUXVlcnlCdWlsZGVyT3BlcmF0aW9uPn0gb3BlcmF0aW9uU2VsZWN0b3JcbiAgICogQHJldHVybiB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIGNsZWFyKG9wZXJhdGlvblNlbGVjdG9yKSB7XG4gICAgY29uc3Qgb3BlcmF0aW9ucyA9IFtdO1xuXG4gICAgdGhpcy5mb3JFYWNoT3BlcmF0aW9uKG9wZXJhdGlvblNlbGVjdG9yLCAob3ApID0+IHtcbiAgICAgIG9wZXJhdGlvbnMucHVzaChvcCk7XG4gICAgfSwgZmFsc2UpO1xuXG4gICAgdGhpcy5fb3BlcmF0aW9ucyA9IG9wZXJhdGlvbnM7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtRdWVyeUJ1aWxkZXJCYXNlfSBxdWVyeUJ1aWxkZXJcbiAgICogQHBhcmFtIHtSZWdFeHB8Q29uc3RydWN0b3IuPD8gZXh0ZW5kcyBRdWVyeUJ1aWxkZXJPcGVyYXRpb24+fSBvcGVyYXRpb25TZWxlY3RvclxuICAgKiBAcmV0dXJuIHtRdWVyeUJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgY29weUZyb20ocXVlcnlCdWlsZGVyLCBvcGVyYXRpb25TZWxlY3Rvcikge1xuICAgIHF1ZXJ5QnVpbGRlci5mb3JFYWNoT3BlcmF0aW9uKG9wZXJhdGlvblNlbGVjdG9yLCAob3ApID0+IHtcbiAgICAgIHRoaXMuX29wZXJhdGlvbnMucHVzaChvcCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1JlZ0V4cHxDb25zdHJ1Y3Rvci48PyBleHRlbmRzIFF1ZXJ5QnVpbGRlck9wZXJhdGlvbj59IG9wZXJhdGlvblNlbGVjdG9yXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgaGFzKG9wZXJhdGlvblNlbGVjdG9yKSB7XG4gICAgbGV0IGZvdW5kID0gZmFsc2U7XG5cbiAgICB0aGlzLmZvckVhY2hPcGVyYXRpb24ob3BlcmF0aW9uU2VsZWN0b3IsICgpID0+IHtcbiAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgIHJldHVybiBmb3VuZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1JlZ0V4cHxDb25zdHJ1Y3Rvci48PyBleHRlbmRzIFF1ZXJ5QnVpbGRlck9wZXJhdGlvbj59IG9wZXJhdGlvblNlbGVjdG9yXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgaW5kZXhPZk9wZXJhdGlvbihvcGVyYXRpb25TZWxlY3Rvcikge1xuICAgIGxldCBpZHggPSAtMTtcblxuICAgIHRoaXMuZm9yRWFjaE9wZXJhdGlvbihvcGVyYXRpb25TZWxlY3RvciwgKG9wLCBpKSA9PiB7XG4gICAgICBpZHggPSBpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGlkeDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1JlZ0V4cHxDb25zdHJ1Y3Rvci48PyBleHRlbmRzIFF1ZXJ5QnVpbGRlck9wZXJhdGlvbj59IG9wZXJhdGlvblNlbGVjdG9yXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oUXVlcnlCdWlsZGVyT3BlcmF0aW9uKX0gY2FsbGJhY2tcbiAgICogQHBhcmFtIHtib29sZWFufSBtYXRjaFxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyQmFzZX1cbiAgICovXG4gIGZvckVhY2hPcGVyYXRpb24ob3BlcmF0aW9uU2VsZWN0b3IsIGNhbGxiYWNrLCBtYXRjaCA9IHRydWUpIHtcbiAgICBpZiAob3BlcmF0aW9uU2VsZWN0b3IgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgIHRoaXMuX2ZvckVhY2hPcGVyYXRpb25SZWdleChvcGVyYXRpb25TZWxlY3RvciwgY2FsbGJhY2ssIG1hdGNoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZm9yRWFjaE9wZXJhdGlvbkluc3RhbmNlT2Yob3BlcmF0aW9uU2VsZWN0b3IsIGNhbGxiYWNrLCBtYXRjaCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtRdWVyeUJ1aWxkZXJPcGVyYXRpb259IG9wZXJhdGlvblxuICAgKiBAcGFyYW0ge0FycmF5LjwqPn0gYXJnc1xuICAgKiBAcGFyYW0ge0Jvb2xlYW49fSBwdXNoRnJvbnRcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlck9wZXJhdGlvblN1cHBvcnR9XG4gICAqL1xuICAgY2FsbFF1ZXJ5QnVpbGRlck9wZXJhdGlvbihvcGVyYXRpb24sIGFyZ3MsIHB1c2hGcm9udCkge1xuICAgIGlmIChvcGVyYXRpb24uY2FsbCh0aGlzLCBhcmdzIHx8IFtdKSkge1xuICAgICAgaWYgKHB1c2hGcm9udCkge1xuICAgICAgICB0aGlzLl9vcGVyYXRpb25zLnVuc2hpZnQob3BlcmF0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX29wZXJhdGlvbnMucHVzaChvcGVyYXRpb24pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lXG4gICAqIEBwYXJhbSB7QXJyYXkuPCo+fSBhcmdzXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IHB1c2hGcm9udFxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyT3BlcmF0aW9uU3VwcG9ydH1cbiAgICovXG4gIGNhbGxLbmV4UXVlcnlCdWlsZGVyT3BlcmF0aW9uKG1ldGhvZE5hbWUsIGFyZ3MsIHB1c2hGcm9udCkge1xuICAgIHJldHVybiB0aGlzLmNhbGxRdWVyeUJ1aWxkZXJPcGVyYXRpb24obmV3IEtuZXhPcGVyYXRpb24obWV0aG9kTmFtZSksIGFyZ3MsIHB1c2hGcm9udCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlck9wZXJhdGlvblN1cHBvcnR9XG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gdGhpcy5iYXNlQ2xvbmVJbnRvKG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMua25leCgpKSk7XG4gIH1cblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyT3BlcmF0aW9uU3VwcG9ydH1cbiAgICovXG4gIGJhc2VDbG9uZUludG8oYnVpbGRlcikge1xuICAgIGJ1aWxkZXIuX2tuZXggPSB0aGlzLl9rbmV4O1xuICAgIGJ1aWxkZXIuX29wZXJhdGlvbnMgPSB0aGlzLl9vcGVyYXRpb25zLnNsaWNlKCk7XG4gICAgYnVpbGRlci5fY29udGV4dCA9IHRoaXMuX2NvbnRleHQuY2xvbmUoKTtcblxuICAgIHJldHVybiBidWlsZGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtrbmV4LlF1ZXJ5QnVpbGRlcn1cbiAgICovXG4gIGJ1aWxkKCkge1xuICAgIHJldHVybiB0aGlzLmJ1aWxkSW50byh0aGlzLmtuZXgoKS5xdWVyeUJ1aWxkZXIoKSk7XG4gIH1cblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgYnVpbGRJbnRvKGtuZXhCdWlsZGVyKSB7XG4gICAgY29uc3QgdG1wID0gbmV3IEFycmF5KDEwKTtcblxuICAgIGxldCBpID0gMDtcbiAgICB3aGlsZSAoaSA8IHRoaXMuX29wZXJhdGlvbnMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBvcCA9IHRoaXMuX29wZXJhdGlvbnNbaV07XG4gICAgICBjb25zdCBsbiA9IHRoaXMuX29wZXJhdGlvbnMubGVuZ3RoO1xuXG4gICAgICBvcC5vbkJlZm9yZUJ1aWxkKHRoaXMpO1xuXG4gICAgICBjb25zdCBudW1OZXcgPSB0aGlzLl9vcGVyYXRpb25zLmxlbmd0aCAtIGxuO1xuXG4gICAgICAvLyBvbkJlZm9yZUJ1aWxkIG1heSBjYWxsIG1ldGhvZHMgdGhhdCBhZGQgbW9yZSBvcGVyYXRpb25zLiBJZlxuICAgICAgLy8gdGhpcyB3YXMgdGhlIGNhc2UsIG1vdmUgdGhlIG9wZXJhdGlvbnMgdG8gYmUgZXhlY3V0ZWQgbmV4dC5cbiAgICAgIGlmIChudW1OZXcgPiAwKSB7XG4gICAgICAgIHdoaWxlICh0bXAubGVuZ3RoIDwgbnVtTmV3KSB7XG4gICAgICAgICAgdG1wLnB1c2gobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb3B5IHRoZSBuZXcgb3BlcmF0aW9ucyB0byB0bXAuXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbnVtTmV3OyArK2opIHtcbiAgICAgICAgICB0bXBbal0gPSB0aGlzLl9vcGVyYXRpb25zW2xuICsgal07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNYWtlIHJvb20gZm9yIHRoZSBuZXcgb3BlcmF0aW9ucyBhZnRlciB0aGUgY3VycmVudCBvcGVyYXRpb24uXG4gICAgICAgIGZvciAobGV0IGogPSBsbiArIG51bU5ldyAtIDE7IGogPiBpICsgbnVtTmV3OyAtLWopIHtcbiAgICAgICAgICB0aGlzLl9vcGVyYXRpb25zW2pdID0gdGhpcy5fb3BlcmF0aW9uc1tqIC0gbnVtTmV3XTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1vdmUgdGhlIG5ldyBvcGVyYXRpb25zIGFmdGVyIHRoZSBjdXJyZW50IG9wZXJhdGlvbi5cbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBudW1OZXc7ICsraikge1xuICAgICAgICAgIHRoaXMuX29wZXJhdGlvbnNbaSArIGogKyAxXSA9IHRtcFtqXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICArK2k7XG4gICAgfVxuXG4gICAgLy8gb25CdWlsZCBvcGVyYXRpb25zIHNob3VsZCBuZXZlciBhZGQgbmV3IG9wZXJhdGlvbnMuIFRoZXkgc2hvdWxkIG9ubHkgY2FsbFxuICAgIC8vIG1ldGhvZHMgb24gdGhlIGtuZXggcXVlcnkgYnVpbGRlci5cbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMuX29wZXJhdGlvbnMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICB0aGlzLl9vcGVyYXRpb25zW2ldLm9uQnVpbGQoa25leEJ1aWxkZXIsIHRoaXMpO1xuXG4gICAgICBpZiAodGhpcy5fb3BlcmF0aW9ucy5sZW5ndGggIT09IGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdvbkJ1aWxkIHNob3VsZCBvbmx5IGNhbGwgcXVlcnkgYnVpbGRpbmcgbWV0aG9kcyBvbiB0aGUga25leCBidWlsZGVyJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGtuZXhCdWlsZGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5idWlsZCgpLnRvU3RyaW5nKCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIHRvU3FsKCkge1xuICAgIHJldHVybiB0aGlzLnRvU3RyaW5nKCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlck9wZXJhdGlvblN1cHBvcnR9XG4gICAqL1xuICBza2lwVW5kZWZpbmVkKCkge1xuICAgIHRoaXMuX2NvbnRleHQub3B0aW9ucy5za2lwVW5kZWZpbmVkID0gdHJ1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NyZWF0ZVVzZXJDb250ZXh0QmFzZSgpIHtcbiAgICBjb25zdCBjdHhQcm90byA9IHt9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eFByb3RvLCAndHJhbnNhY3Rpb24nLCB7XG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGdldDogKCkgPT4gdGhpcy5rbmV4KClcbiAgICB9KTtcblxuICAgIHJldHVybiBPYmplY3QuY3JlYXRlKGN0eFByb3RvKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2ZvckVhY2hPcGVyYXRpb25SZWdleChvcGVyYXRpb25TZWxlY3RvciwgY2FsbGJhY2ssIG1hdGNoKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLl9vcGVyYXRpb25zLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgY29uc3Qgb3AgPSB0aGlzLl9vcGVyYXRpb25zW2ldO1xuXG4gICAgICBpZiAob3BlcmF0aW9uU2VsZWN0b3IudGVzdChvcC5uYW1lKSA9PT0gbWF0Y2gpIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKG9wLCBpKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2ZvckVhY2hPcGVyYXRpb25JbnN0YW5jZU9mKG9wZXJhdGlvblNlbGVjdG9yLCBjYWxsYmFjaywgbWF0Y2gpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMuX29wZXJhdGlvbnMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICBjb25zdCBvcCA9IHRoaXMuX29wZXJhdGlvbnNbaV07XG5cbiAgICAgIGlmICgob3AgaW5zdGFuY2VvZiBvcGVyYXRpb25TZWxlY3RvcikgPT09IG1hdGNoKSB7XG4gICAgICAgIGlmIChjYWxsYmFjayhvcCwgaSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/KnexOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _WrappingQueryBuilderOperation = require('./WrappingQueryBuilderOperation');\n\nvar _WrappingQueryBuilderOperation2 = _interopRequireDefault(_WrappingQueryBuilderOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar KnexOperation = function (_WrappingQueryBuilder) {\n  (0, _inherits3.default)(KnexOperation, _WrappingQueryBuilder);\n\n  function KnexOperation() {\n    (0, _classCallCheck3.default)(this, KnexOperation);\n    return (0, _possibleConstructorReturn3.default)(this, _WrappingQueryBuilder.apply(this, arguments));\n  }\n\n  KnexOperation.prototype.onBuild = function onBuild(builder) {\n    if (typeof builder[this.name] === 'function') {\n      builder[this.name].apply(builder, this.args);\n    } else {\n      throw new Error('knex doesn\\'t have the method \\'' + this.name + '\\'');\n    }\n  };\n\n  return KnexOperation;\n}(_WrappingQueryBuilderOperation2.default);\n\nexports.default = KnexOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIktuZXhPcGVyYXRpb24uanMiXSwibmFtZXMiOlsiS25leE9wZXJhdGlvbiIsIm9uQnVpbGQiLCJidWlsZGVyIiwibmFtZSIsImFwcGx5IiwiYXJncyIsIkVycm9yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7OztJQUVxQkEsYTs7Ozs7Ozs7MEJBRW5CQyxPLG9CQUFRQyxPLEVBQVM7QUFDZixRQUFJLE9BQU9BLFFBQVEsS0FBS0MsSUFBYixDQUFQLEtBQThCLFVBQWxDLEVBQThDO0FBQzVDRCxjQUFRLEtBQUtDLElBQWIsRUFBbUJDLEtBQW5CLENBQXlCRixPQUF6QixFQUFrQyxLQUFLRyxJQUF2QztBQUNELEtBRkQsTUFFTztBQUNMLFlBQU0sSUFBSUMsS0FBSixzQ0FBMkMsS0FBS0gsSUFBaEQsUUFBTjtBQUNEO0FBQ0YsRzs7Ozs7a0JBUmtCSCxhIiwiZmlsZSI6IktuZXhPcGVyYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgV3JhcHBpbmdRdWVyeUJ1aWxkZXJPcGVyYXRpb24gZnJvbSAnLi9XcmFwcGluZ1F1ZXJ5QnVpbGRlck9wZXJhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtuZXhPcGVyYXRpb24gZXh0ZW5kcyBXcmFwcGluZ1F1ZXJ5QnVpbGRlck9wZXJhdGlvbiB7XG5cbiAgb25CdWlsZChidWlsZGVyKSB7XG4gICAgaWYgKHR5cGVvZiBidWlsZGVyW3RoaXMubmFtZV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGJ1aWxkZXJbdGhpcy5uYW1lXS5hcHBseShidWlsZGVyLCB0aGlzLmFyZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYGtuZXggZG9lc24ndCBoYXZlIHRoZSBtZXRob2QgJyR7dGhpcy5uYW1lfSdgKTtcbiAgICB9XG4gIH1cbn0iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/WrappingQueryBuilderOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _QueryBuilderOperation = require('./QueryBuilderOperation');\n\nvar _QueryBuilderOperation2 = _interopRequireDefault(_QueryBuilderOperation);\n\nvar _knexUtils = require('../../utils/knexUtils');\n\nvar _ReferenceBuilder = require('../ReferenceBuilder');\n\nvar _ReferenceBuilder2 = _interopRequireDefault(_ReferenceBuilder);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar QueryBuilderBase = null;\nvar JoinBuilder = null;\n\nvar WrappingQueryBuilderOperation = function (_QueryBuilderOperatio) {\n  (0, _inherits3.default)(WrappingQueryBuilderOperation, _QueryBuilderOperatio);\n\n  function WrappingQueryBuilderOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, WrappingQueryBuilderOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _QueryBuilderOperatio.call(this, name, opt));\n\n    _this.args = null;\n    return _this;\n  }\n\n  WrappingQueryBuilderOperation.prototype.call = function call(builder, args) {\n    var ret = wrapArgs(this, builder, args);\n    this.args = args;\n    return ret;\n  };\n\n  return WrappingQueryBuilderOperation;\n}(_QueryBuilderOperation2.default);\n\nexports.default = WrappingQueryBuilderOperation;\n\n\nfunction wrapArgs(op, builder, args) {\n  // Preventing cyclic deps\n  QueryBuilderBase = QueryBuilderBase || requireQueryBuilderBase();\n\n  var skipUndefined = builder.internalOptions().skipUndefined;\n  var knex = builder.knex();\n\n  for (var i = 0, l = args.length; i < l; ++i) {\n    var arg = args[i];\n\n    if (arg === undefined) {\n      if (skipUndefined) {\n        return false;\n      } else {\n        throw new Error('undefined passed as argument #' + l + ' for \\'' + op.name + '\\' operation. Call skipUndefined() method to ignore the undefined values.');\n      }\n    } else if (arg instanceof _ReferenceBuilder2.default) {\n      args[i] = knex.raw.apply(knex, (0, _toConsumableArray3.default)(args[i].toRawArgs()));\n    } else if (arg instanceof QueryBuilderBase) {\n      // Convert QueryBuilderBase instances into knex query builders.\n      args[i] = arg.build();\n    } else if (Array.isArray(arg)) {\n      if (skipUndefined) {\n        args[i] = withoutUndefined(arg);\n      } else if (includesUndefined(arg)) {\n        throw new Error('undefined passed as an item in argument #' + l + ' for \\'' + op.name + '\\' operation. Call skipUndefined() method to ignore the undefined values.');\n      }\n      // convert reference builders to knex.raw\n      args[i] = args[i].map(function (arg) {\n        return arg instanceof _ReferenceBuilder2.default ? knex.raw.apply(knex, (0, _toConsumableArray3.default)(arg.toRawArgs())) : arg;\n      });\n    } else if (typeof arg === 'function') {\n      // If an argument is a function, knex calls it with a query builder as\n      // first argument (and as `this` context). We wrap the query builder into\n      // a QueryBuilderBase instance.\n      args[i] = wrapFunctionArg(arg, knex);\n    }\n  }\n\n  return true;\n}\n\nfunction wrapFunctionArg(func, knex) {\n  // Preventing cyclic deps\n  QueryBuilderBase = QueryBuilderBase || requireQueryBuilderBase();\n  JoinBuilder = JoinBuilder || requireJoinBuilder();\n\n  return function wrappedKnexFunctionArg() {\n    if ((0, _knexUtils.isKnexQueryBuilder)(this)) {\n      var knexQueryBuilder = this;\n      var wrappedQueryBuilder = new QueryBuilderBase(knex);\n\n      func.call(wrappedQueryBuilder, wrappedQueryBuilder);\n      wrappedQueryBuilder.buildInto(knexQueryBuilder);\n    } else if ((0, _knexUtils.isKnexJoinBuilder)(this)) {\n      var _knexQueryBuilder = this;\n      var joinClauseBuilder = new JoinBuilder(knex);\n\n      func.call(joinClauseBuilder, joinClauseBuilder);\n      joinClauseBuilder.buildInto(_knexQueryBuilder);\n    } else {\n      return func.apply(this, arguments);\n    }\n  };\n}\n\nfunction withoutUndefined(arr) {\n  var out = [];\n\n  for (var i = 0, l = arr.length; i < l; ++i) {\n    if (arr[i] !== undefined) {\n      out.push(arr[i]);\n    }\n  }\n\n  return out;\n}\n\nfunction includesUndefined(arr) {\n  for (var i = 0, l = arr.length; i < l; ++i) {\n    if (arr[i] === undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction requireQueryBuilderBase() {\n  return require('../QueryBuilderBase').default;\n}\n\nfunction requireJoinBuilder() {\n  return require('../JoinBuilder').default;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIldyYXBwaW5nUXVlcnlCdWlsZGVyT3BlcmF0aW9uLmpzIl0sIm5hbWVzIjpbIlF1ZXJ5QnVpbGRlckJhc2UiLCJKb2luQnVpbGRlciIsIldyYXBwaW5nUXVlcnlCdWlsZGVyT3BlcmF0aW9uIiwibmFtZSIsIm9wdCIsImFyZ3MiLCJjYWxsIiwiYnVpbGRlciIsInJldCIsIndyYXBBcmdzIiwib3AiLCJyZXF1aXJlUXVlcnlCdWlsZGVyQmFzZSIsInNraXBVbmRlZmluZWQiLCJpbnRlcm5hbE9wdGlvbnMiLCJrbmV4IiwiaSIsImwiLCJsZW5ndGgiLCJhcmciLCJ1bmRlZmluZWQiLCJFcnJvciIsInJhdyIsInRvUmF3QXJncyIsImJ1aWxkIiwiQXJyYXkiLCJpc0FycmF5Iiwid2l0aG91dFVuZGVmaW5lZCIsImluY2x1ZGVzVW5kZWZpbmVkIiwibWFwIiwid3JhcEZ1bmN0aW9uQXJnIiwiZnVuYyIsInJlcXVpcmVKb2luQnVpbGRlciIsIndyYXBwZWRLbmV4RnVuY3Rpb25BcmciLCJrbmV4UXVlcnlCdWlsZGVyIiwid3JhcHBlZFF1ZXJ5QnVpbGRlciIsImJ1aWxkSW50byIsImpvaW5DbGF1c2VCdWlsZGVyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJhcnIiLCJvdXQiLCJwdXNoIiwicmVxdWlyZSIsImRlZmF1bHQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7QUFDQTs7Ozs7O0FBRUEsSUFBSUEsbUJBQW1CLElBQXZCO0FBQ0EsSUFBSUMsY0FBYyxJQUFsQjs7SUFFcUJDLDZCOzs7QUFFbkIseUNBQVlDLElBQVosRUFBa0JDLEdBQWxCLEVBQXVCO0FBQUE7O0FBQUEsK0RBQ3JCLGlDQUFNRCxJQUFOLEVBQVlDLEdBQVosQ0FEcUI7O0FBRXJCLFVBQUtDLElBQUwsR0FBWSxJQUFaO0FBRnFCO0FBR3RCOzswQ0FFREMsSSxpQkFBS0MsTyxFQUFTRixJLEVBQU07QUFDbEIsUUFBTUcsTUFBTUMsU0FBUyxJQUFULEVB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QUNELEtBTk0sTUFNQTtBQUNMLGFBQU9ILEtBQUtPLEtBQUwsQ0FBVyxJQUFYLEVBQWlCQyxTQUFqQixDQUFQO0FBQ0Q7QUFDRixHQWhCRDtBQWlCRDs7QUFFRCxTQUFTWixnQkFBVCxDQUEwQmEsR0FBMUIsRUFBK0I7QUFDN0IsTUFBTUMsTUFBTSxFQUFaOztBQUVBLE9BQUssSUFBSXpCLElBQUksQ0FBUixFQUFXQyxJQUFJdUIsSUFBSXRCLE1BQXhCLEVBQWdDRixJQUFJQyxDQUFwQyxFQUF1QyxFQUFFRCxDQUF6QyxFQUE0QztBQUMxQyxRQUFJd0IsSUFBSXhCLENBQUosTUFBV0ksU0FBZixFQUEwQjtBQUN4QnFCLFVBQUlDLElBQUosQ0FBU0YsSUFBSXhCLENBQUosQ0FBVDtBQUNEO0FBQ0Y7O0FBRUQsU0FBT3lCLEdBQVA7QUFDRDs7QUFFRCxTQUFTYixpQkFBVCxDQUEyQlksR0FBM0IsRUFBZ0M7QUFDOUIsT0FBSyxJQUFJeEIsSUFBSSxDQUFSLEVBQVdDLElBQUl1QixJQUFJdEIsTUFBeEIsRUFBZ0NGLElBQUlDLENBQXBDLEVBQXVDLEVBQUVELENBQXpDLEVBQTRDO0FBQzFDLFFBQUl3QixJQUFJeEIsQ0FBSixNQUFXSSxTQUFmLEVBQTBCO0FBQ3hCLGFBQU8sSUFBUDtBQUNEO0FBQ0Y7O0FBRUQsU0FBTyxLQUFQO0FBQ0Q7O0FBRUQsU0FBU1IsdUJBQVQsR0FBbUM7QUFDakMsU0FBTytCLFFBQVEscUJBQVIsRUFBK0JDLE9BQXRDO0FBQ0Q7O0FBRUQsU0FBU1osa0JBQVQsR0FBOEI7QUFDNUIsU0FBT1csUUFBUSxnQkFBUixFQUEwQkMsT0FBakM7QUFDRCIsImZpbGUiOiJXcmFwcGluZ1F1ZXJ5QnVpbGRlck9wZXJhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBRdWVyeUJ1aWxkZXJPcGVyYXRpb24gZnJvbSAnLi9RdWVyeUJ1aWxkZXJPcGVyYXRpb24nO1xuaW1wb3J0IHtpc0tuZXhRdWVyeUJ1aWxkZXIsIGlzS25leEpvaW5CdWlsZGVyfSBmcm9tICcuLi8uLi91dGlscy9rbmV4VXRpbHMnO1xuaW1wb3J0IFJlZmVyZW5jZUJ1aWxkZXIgZnJvbSAnLi4vUmVmZXJlbmNlQnVpbGRlcic7XG5cbmxldCBRdWVyeUJ1aWxkZXJCYXNlID0gbnVsbDtcbmxldCBKb2luQnVpbGRlciA9IG51bGw7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdyYXBwaW5nUXVlcnlCdWlsZGVyT3BlcmF0aW9uIGV4dGVuZHMgUXVlcnlCdWlsZGVyT3BlcmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcihuYW1lLCBvcHQpIHtcbiAgICBzdXBlcihuYW1lLCBvcHQpO1xuICAgIHRoaXMuYXJncyA9IG51bGw7XG4gIH1cblxuICBjYWxsKGJ1aWxkZXIsIGFyZ3MpIHtcbiAgICBjb25zdCByZXQgPSB3cmFwQXJncyh0aGlzLCBidWlsZGVyLCBhcmdzKTtcbiAgICB0aGlzLmFyZ3MgPSBhcmdzO1xuICAgIHJldHVybiByZXQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gd3JhcEFyZ3Mob3AsIGJ1aWxkZXIsIGFyZ3MpIHtcbiAgLy8gUHJldmVudGluZyBjeWNsaWMgZGVwc1xuICBRdWVyeUJ1aWxkZXJCYXNlID0gUXVlcnlCdWlsZGVyQmFzZSB8fCByZXF1aXJlUXVlcnlCdWlsZGVyQmFzZSgpO1xuXG4gIGNvbnN0IHNraXBVbmRlZmluZWQgPSBidWlsZGVyLmludGVybmFsT3B0aW9ucygpLnNraXBVbmRlZmluZWQ7XG4gIGNvbnN0IGtuZXggPSBidWlsZGVyLmtuZXgoKTtcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IGFyZ3MubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgY29uc3QgYXJnID0gYXJnc1tpXTtcblxuICAgIGlmIChhcmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKHNraXBVbmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bmRlZmluZWQgcGFzc2VkIGFzIGFyZ3VtZW50ICMke2x9IGZvciAnJHtvcC5uYW1lfScgb3BlcmF0aW9uLiBDYWxsIHNraXBVbmRlZmluZWQoKSBtZXRob2QgdG8gaWdub3JlIHRoZSB1bmRlZmluZWQgdmFsdWVzLmApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYXJnIGluc3RhbmNlb2YgUmVmZXJlbmNlQnVpbGRlcikge1xuICAgICAgYXJnc1tpXSA9IGtuZXgucmF3KC4uLmFyZ3NbaV0udG9SYXdBcmdzKCkpO1xuICAgIH0gZWxzZSBpZiAoYXJnIGluc3RhbmNlb2YgUXVlcnlCdWlsZGVyQmFzZSkge1xuICAgICAgLy8gQ29udmVydCBRdWVyeUJ1aWxkZXJCYXNlIGluc3RhbmNlcyBpbnRvIGtuZXggcXVlcnkgYnVpbGRlcnMuXG4gICAgICBhcmdzW2ldID0gYXJnLmJ1aWxkKCk7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcbiAgICAgIGlmIChza2lwVW5kZWZpbmVkKSB7XG4gICAgICAgIGFyZ3NbaV0gPSB3aXRob3V0VW5kZWZpbmVkKGFyZyk7XG4gICAgICB9IGVsc2UgaWYgKGluY2x1ZGVzVW5kZWZpbmVkKGFyZykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bmRlZmluZWQgcGFzc2VkIGFzIGFuIGl0ZW0gaW4gYXJndW1lbnQgIyR7bH0gZm9yICcke29wLm5hbWV9JyBvcGVyYXRpb24uIENhbGwgc2tpcFVuZGVmaW5lZCgpIG1ldGhvZCB0byBpZ25vcmUgdGhlIHVuZGVmaW5lZCB2YWx1ZXMuYCk7XG4gICAgICB9XG4gICAgICAvLyBjb252ZXJ0IHJlZmVyZW5jZSBidWlsZGVycyB0byBrbmV4LnJhd1xuICAgICAgYXJnc1tpXSA9IGFyZ3NbaV0ubWFwKGFyZyA9PiB7XG4gICAgICAgIHJldHVybiBhcmcgaW5zdGFuY2VvZiBSZWZlcmVuY2VCdWlsZGVyID8ga25leC5yYXcoLi4uYXJnLnRvUmF3QXJncygpKSA6IGFyZztcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gSWYgYW4gYXJndW1lbnQgaXMgYSBmdW5jdGlvbiwga25leCBjYWxscyBpdCB3aXRoIGEgcXVlcnkgYnVpbGRlciBhc1xuICAgICAgLy8gZmlyc3QgYXJndW1lbnQgKGFuZCBhcyBgdGhpc2AgY29udGV4dCkuIFdlIHdyYXAgdGhlIHF1ZXJ5IGJ1aWxkZXIgaW50b1xuICAgICAgLy8gYSBRdWVyeUJ1aWxkZXJCYXNlIGluc3RhbmNlLlxuICAgICAgYXJnc1tpXSA9IHdyYXBGdW5jdGlvbkFyZyhhcmcsIGtuZXgpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiB3cmFwRnVuY3Rpb25BcmcoZnVuYywga25leCkge1xuICAvLyBQcmV2ZW50aW5nIGN5Y2xpYyBkZXBzXG4gIFF1ZXJ5QnVpbGRlckJhc2UgPSBRdWVyeUJ1aWxkZXJCYXNlIHx8IHJlcXVpcmVRdWVyeUJ1aWxkZXJCYXNlKCk7XG4gIEpvaW5CdWlsZGVyID0gSm9pbkJ1aWxkZXIgfHwgcmVxdWlyZUpvaW5CdWlsZGVyKCk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXBwZWRLbmV4RnVuY3Rpb25BcmcoKSB7XG4gICAgaWYgKGlzS25leFF1ZXJ5QnVpbGRlcih0aGlzKSkge1xuICAgICAgY29uc3Qga25leFF1ZXJ5QnVpbGRlciA9IHRoaXM7XG4gICAgICBjb25zdCB3cmFwcGVkUXVlcnlCdWlsZGVyID0gbmV3IFF1ZXJ5QnVpbGRlckJhc2Uoa25leCk7XG5cbiAgICAgIGZ1bmMuY2FsbCh3cmFwcGVkUXVlcnlCdWlsZGVyLCB3cmFwcGVkUXVlcnlCdWlsZGVyKTtcbiAgICAgIHdyYXBwZWRRdWVyeUJ1aWxkZXIuYnVpbGRJbnRvKGtuZXhRdWVyeUJ1aWxkZXIpO1xuICAgIH0gZWxzZSBpZiAoaXNLbmV4Sm9pbkJ1aWxkZXIodGhpcykpIHtcbiAgICAgIGNvbnN0IGtuZXhRdWVyeUJ1aWxkZXIgPSB0aGlzO1xuICAgICAgY29uc3Qgam9pbkNsYXVzZUJ1aWxkZXIgPSBuZXcgSm9pbkJ1aWxkZXIoa25leCk7XG5cbiAgICAgIGZ1bmMuY2FsbChqb2luQ2xhdXNlQnVpbGRlciwgam9pbkNsYXVzZUJ1aWxkZXIpO1xuICAgICAgam9pbkNsYXVzZUJ1aWxkZXIuYnVpbGRJbnRvKGtuZXhRdWVyeUJ1aWxkZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gd2l0aG91dFVuZGVmaW5lZChhcnIpIHtcbiAgY29uc3Qgb3V0ID0gW107XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBhcnIubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGFycltpXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBvdXQucHVzaChhcnJbaV0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG5cbmZ1bmN0aW9uIGluY2x1ZGVzVW5kZWZpbmVkKGFycikge1xuICBmb3IgKGxldCBpID0gMCwgbCA9IGFyci5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBpZiAoYXJyW2ldID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gcmVxdWlyZVF1ZXJ5QnVpbGRlckJhc2UoKSB7XG4gIHJldHVybiByZXF1aXJlKCcuLi9RdWVyeUJ1aWxkZXJCYXNlJykuZGVmYXVsdDtcbn1cblxuZnVuY3Rpb24gcmVxdWlyZUpvaW5CdWlsZGVyKCkge1xuICByZXR1cm4gcmVxdWlyZSgnLi4vSm9pbkJ1aWxkZXInKS5kZWZhdWx0O1xufVxuIl19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/QueryBuilderOperation.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar QueryBuilderOperation = function () {\n\n  /**\n   * @param {knex} knex\n   * @param {string} name\n   * @param {Object} opt\n   */\n  function QueryBuilderOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, QueryBuilderOperation);\n\n    this.name = name;\n    this.opt = opt || {};\n    this.isWriteOperation = false;\n  }\n\n  /**\n   * @param {Constructor.<QueryBuilderOperation>} OperationClass\n   * @return {boolean}\n   */\n\n\n  QueryBuilderOperation.prototype.is = function is(OperationClass) {\n    return this instanceof OperationClass;\n  };\n\n  /**\n   * @param {QueryBuilder} builder\n   * @param {Array.<*>} args\n   * @returns {boolean}\n   */\n\n\n  QueryBuilderOperation.prototype.call = function call(builder, args) {\n    return true;\n  };\n\n  /**\n   * @param {QueryBuilder} builder\n   * @param {*} result\n   * @returns {Promise|*}\n   */\n\n\n  QueryBuilderOperation.prototype.onBefore = function onBefore(builder, result) {};\n\n  /**\n   * @returns {boolean}\n   */\n\n\n  QueryBuilderOperation.prototype.hasOnBefore = function hasOnBefore() {\n    return this.onBefore !== QueryBuilderOperation.prototype.onBefore;\n  };\n\n  /**\n   * @param {QueryBuilder} builder\n   * @param {*} result\n   * @returns {Promise|*}\n   */\n\n\n  QueryBuilderOperation.prototype.onBeforeInternal = function onBeforeInternal(builder, result) {};\n\n  /**\n   * @returns {boolean}\n   */\n\n\n  QueryBuilderOperation.prototype.hasOnBeforeInternal = function hasOnBeforeInternal() {\n    return this.onBeforeInternal !== QueryBuilderOperation.prototype.onBeforeInternal;\n  };\n\n  /**\n   * @param {QueryBuilder} builder\n   */\n\n\n  QueryBuilderOperation.prototype.onBeforeBuild = function onBeforeBuild(builder) {};\n\n  /**\n   * @returns {boolean}\n   */\n\n\n  QueryBuilderOperation.prototype.hasOnBeforeBuild = function hasOnBeforeBuild() {\n    return this.onBeforeBuild !== QueryBuilderOperation.prototype.onBeforeBuild;\n  };\n\n  /**\n   * @param {QueryBuilder} knexBuilder\n   * @param {QueryBuilder} builder\n   */\n\n\n  QueryBuilderOperation.prototype.onBuild = function onBuild(knexBuilder, builder) {};\n\n  /**\n   * @returns {boolean}\n   */\n\n\n  QueryBuilderOperation.prototype.hasOnBuild = function hasOnBuild() {\n    return this.onBuild !== QueryBuilderOperation.prototype.onBuild;\n  };\n\n  /**\n   * @param {QueryBuilder} builder\n   * @param {*} rows\n   * @returns {*}\n   */\n\n\n  QueryBuilderOperation.prototype.onRawResult = function onRawResult(builder, rows) {\n    return rows;\n  };\n\n  /**\n   * @returns {boolean}\n   */\n\n\n  QueryBuilderOperation.prototype.hasOnRawResult = function hasOnRawResult() {\n    return this.onRawResult !== QueryBuilderOperation.prototype.onRawResult;\n  };\n\n  /**\n   * @param {QueryBuilder} builder\n   * @param {*} result\n   * @returns {Promise|*}\n   */\n\n\n  QueryBuilderOperation.prototype.onAfterQuery = function onAfterQuery(builder, result) {};\n\n  /**\n   * @returns {boolean}\n   */\n\n\n  QueryBuilderOperation.prototype.hasOnAfterQuery = function hasOnAfterQuery() {\n    return this.onAfterQuery !== QueryBuilderOperation.prototype.onAfterQuery;\n  };\n\n  /**\n   * @param {QueryBuilder} builder\n   * @param {*} result\n   * @returns {Promise|*}\n   */\n\n\n  QueryBuilderOperation.prototype.onAfterInternal = function onAfterInternal(builder, result) {};\n\n  /**\n   * @returns {boolean}\n   */\n\n\n  QueryBuilderOperation.prototype.hasOnAfterInternal = function hasOnAfterInternal() {\n    return this.onAfterInternal !== QueryBuilderOperation.prototype.onAfterInternal;\n  };\n\n  /**\n   * @param {QueryBuilder} builder\n   * @param {*} result\n   * @returns {Promise|*}\n   */\n\n\n  QueryBuilderOperation.prototype.onAfter = function onAfter(builder, result) {};\n\n  /**\n   * @returns {boolean}\n   */\n\n\n  QueryBuilderOperation.prototype.hasOnAfter = function hasOnAfter() {\n    return this.onAfter !== QueryBuilderOperation.prototype.onAfter;\n  };\n\n  /**\n   * @param {QueryBuilder} builder\n   * @returns {QueryBuilder}\n   */\n\n\n  QueryBuilderOperation.prototype.queryExecutor = function queryExecutor(builder) {};\n\n  /**\n   * @returns {boolean}\n   */\n\n\n  QueryBuilderOperation.prototype.hasQueryExecutor = function hasQueryExecutor() {\n    return this.queryExecutor !== QueryBuilderOperation.prototype.queryExecutor;\n  };\n\n  return QueryBuilderOperation;\n}();\n\nexports.default = QueryBuilderOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlF1ZXJ5QnVpbGRlck9wZXJhdGlvbi5qcyJdLCJuYW1lcyI6WyJRdWVyeUJ1aWxkZXJPcGVyYXRpb24iLCJuYW1lIiwib3B0IiwiaXNXcml0ZU9wZXJhdGlvbiIsImlzIiwiT3BlcmF0aW9uQ2xhc3MiLCJjYWxsIiwiYnVpbGRlciIsImFyZ3MiLCJvbkJlZm9yZSIsInJlc3VsdCIsImhhc09uQmVmb3JlIiwicHJvdG90eXBlIiwib25CZWZvcmVJbnRlcm5hbCIsImhhc09uQmVmb3JlSW50ZXJuYWwiLCJvbkJlZm9yZUJ1aWxkIiwiaGFzT25CZWZvcmVCdWlsZCIsIm9uQnVpbGQiLCJrbmV4QnVpbGRlciIsImhhc09uQnVpbGQiLCJvblJhd1Jlc3VsdCIsInJvd3MiLCJoYXNPblJhd1Jlc3VsdCIsIm9uQWZ0ZXJRdWVyeSIsImhhc09uQWZ0ZXJRdWVyeSIsIm9uQWZ0ZXJJbnRlcm5hbCIsImhhc09uQWZ0ZXJJbnRlcm5hbCIsIm9uQWZ0ZXIiLCJoYXNPbkFmdGVyIiwicXVlcnlFeGVjdXRvciIsImhhc1F1ZXJ5RXhlY3V0b3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7SUFBcUJBLHFCOztBQUVuQjs7Ozs7QUFLQSxpQ0FBWUMsSUFBWixFQUFrQkMsR0FBbEIsRUFBdUI7QUFBQTs7QUFDckIsU0FBS0QsSUFBTCxHQUFZQSxJQUFaO0FBQ0EsU0FBS0MsR0FBTCxHQUFXQSxPQUFPLEVBQWxCO0FBQ0EsU0FBS0MsZ0JBQUwsR0FBd0IsS0FBeEI7QUFDRDs7QUFFRDs7Ozs7O2tDQUlBQyxFLGVBQUdDLGMsRUFBZ0I7QUFDakIsV0FBTyxnQkFBZ0JBLGNBQXZCO0FBQ0QsRzs7QUFFRDs7Ozs7OztrQ0FLQUMsSSxpQkFBS0MsTyxFQUFTQyxJLEVBQU07QUFDbEIsV0FBTyxJQUFQO0FBQ0QsRzs7QUFFRDs7Ozs7OztrQ0FLQUMsUSxxQkFBU0YsTyxFQUFTRyxNLEVBQVEsQ0FBRSxDOztBQUU1Qjs7Ozs7a0NBR0FDLFcsMEJBQWM7QUFDWixXQUFPLEtBQUtGLFFBQUwsS0FBa0JULHNCQUFzQlksU0FBdEIsQ0FBZ0NILFFBQXpEO0FBQ0QsRzs7QUFFRDs7Ozs7OztrQ0FLQUksZ0IsNkJBQWlCTixPLEVBQVNHLE0sRUFBUSxDQUFFLEM7O0FBRXBDOzs7OztrQ0FHQUksbUIsa0NBQXNCO0FBQ3BCLFdBQU8sS0FBS0QsZ0JBQUwsS0FBMEJiLHNCQUFzQlksU0FBdEIsQ0FBZ0NDLGdCQUFqRTtBQUNELEc7O0FBRUQ7Ozs7O2tDQUdBRSxhLDBCQUFjUixPLEVBQVMsQ0FBRSxDOztBQUV6Qjs7Ozs7a0NBR0FTLGdCLCtCQUFtQjtBQUNqQixXQUFPLEtBQUtELGFBQUwsS0FBdUJmLHNCQUFzQlksU0FBdEIsQ0FBZ0NHLGFBQTlEO0FBQ0QsRzs7QUFFRDs7Ozs7O2tDQUlBRSxPLG9CQUFRQyxXLEVBQWFYLE8sRUFBUyxDQUFFLEM7O0FBRWhDOzs7OztrQ0FHQVksVSx5QkFBYTtBQUNYLFdBQU8sS0FBS0YsT0FBTCxLQUFpQmpCLHNCQUFzQlksU0FBdEIsQ0FBZ0NLLE9BQXhEO0FBQ0QsRzs7QUFFRDs7Ozs7OztrQ0FLQUcsVyx3QkFBWWIsTyxFQUFTYyxJLEVBQU07QUFDekIsV0FBT0EsSUFBUDtBQUNELEc7O0FBRUQ7Ozs7O2tDQUdBQyxjLDZCQUFpQjtBQUNmLFdBQU8sS0FBS0YsV0FBTCxLQUFxQnBCLHNCQUFzQlksU0FBdEIsQ0FBZ0NRLFdBQTVEO0FBQ0QsRzs7QUFFRDs7Ozs7OztrQ0FLQUcsWSx5QkFBYWhCLE8sRUFBU0csTSxFQUFRLENBQUUsQzs7QUFFaEM7Ozs7O2tDQUdBYyxlLDhCQUFrQjtBQUNoQixXQUFPLEtBQUtELFlBQUwsS0FBc0J2QixzQkFBc0JZLFNBQXRCLENBQWdDVyxZQUE3RDtBQUNELEc7O0FBRUQ7Ozs7Ozs7a0NBS0FFLGUsNEJBQWdCbEIsTyxFQUFTRyxNLEVBQVEsQ0FBRSxDOztBQUVuQzs7Ozs7a0NBR0FnQixrQixpQ0FBcUI7QUFDbkIsV0FBTyxLQUFLRCxlQUFMLEtBQXlCekIsc0JBQXNCWSxTQUF0QixDQUFnQ2EsZUFBaEU7QUFDRCxHOztBQUVEOzs7Ozs7O2tDQUtBRSxPLG9CQUFRcEIsTyxFQUFTRyxNLEVBQVEsQ0FBRSxDOztBQUUzQjs7Ozs7a0NBR0FrQixVLHlCQUFhO0FBQ1gsV0FBTyxLQUFLRCxPQUFMLEtBQWlCM0Isc0JBQXNCWSxTQUF0QixDQUFnQ2UsT0FBeEQ7QUFDRCxHOztBQUVEOzs7Ozs7a0NBSUFFLGEsMEJBQWN0QixPLEVBQVMsQ0FBRSxDOztBQUV6Qjs7Ozs7a0NBR0F1QixnQiwrQkFBbUI7QUFDakIsV0FBTyxLQUFLRCxhQUFMLEtBQXVCN0Isc0JBQXNCWSxTQUF0QixDQUFnQ2lCLGFBQTlEO0FBQ0QsRzs7Ozs7a0JBeEprQjdCLHFCIiwiZmlsZSI6IlF1ZXJ5QnVpbGRlck9wZXJhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFF1ZXJ5QnVpbGRlck9wZXJhdGlvbiB7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7a25leH0ga25leFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0XG4gICAqL1xuICBjb25zdHJ1Y3RvcihuYW1lLCBvcHQpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMub3B0ID0gb3B0IHx8IHt9O1xuICAgIHRoaXMuaXNXcml0ZU9wZXJhdGlvbiA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q29uc3RydWN0b3IuPFF1ZXJ5QnVpbGRlck9wZXJhdGlvbj59IE9wZXJhdGlvbkNsYXNzXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBpcyhPcGVyYXRpb25DbGFzcykge1xuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgT3BlcmF0aW9uQ2xhc3M7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtRdWVyeUJ1aWxkZXJ9IGJ1aWxkZXJcbiAgICogQHBhcmFtIHtBcnJheS48Kj59IGFyZ3NcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBjYWxsKGJ1aWxkZXIsIGFyZ3MpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1F1ZXJ5QnVpbGRlcn0gYnVpbGRlclxuICAgKiBAcGFyYW0geyp9IHJlc3VsdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZXwqfVxuICAgKi9cbiAgb25CZWZvcmUoYnVpbGRlciwgcmVzdWx0KSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGhhc09uQmVmb3JlKCkge1xuICAgIHJldHVybiB0aGlzLm9uQmVmb3JlICE9PSBRdWVyeUJ1aWxkZXJPcGVyYXRpb24ucHJvdG90eXBlLm9uQmVmb3JlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UXVlcnlCdWlsZGVyfSBidWlsZGVyXG4gICAqIEBwYXJhbSB7Kn0gcmVzdWx0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlfCp9XG4gICAqL1xuICBvbkJlZm9yZUludGVybmFsKGJ1aWxkZXIsIHJlc3VsdCkge31cblxuICAvKipcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBoYXNPbkJlZm9yZUludGVybmFsKCkge1xuICAgIHJldHVybiB0aGlzLm9uQmVmb3JlSW50ZXJuYWwgIT09IFF1ZXJ5QnVpbGRlck9wZXJhdGlvbi5wcm90b3R5cGUub25CZWZvcmVJbnRlcm5hbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1F1ZXJ5QnVpbGRlcn0gYnVpbGRlclxuICAgKi9cbiAgb25CZWZvcmVCdWlsZChidWlsZGVyKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGhhc09uQmVmb3JlQnVpbGQoKSB7XG4gICAgcmV0dXJuIHRoaXMub25CZWZvcmVCdWlsZCAhPT0gUXVlcnlCdWlsZGVyT3BlcmF0aW9uLnByb3RvdHlwZS5vbkJlZm9yZUJ1aWxkO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UXVlcnlCdWlsZGVyfSBrbmV4QnVpbGRlclxuICAgKiBAcGFyYW0ge1F1ZXJ5QnVpbGRlcn0gYnVpbGRlclxuICAgKi9cbiAgb25CdWlsZChrbmV4QnVpbGRlciwgYnVpbGRlcikge31cblxuICAvKipcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBoYXNPbkJ1aWxkKCkge1xuICAgIHJldHVybiB0aGlzLm9uQnVpbGQgIT09IFF1ZXJ5QnVpbGRlck9wZXJhdGlvbi5wcm90b3R5cGUub25CdWlsZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1F1ZXJ5QnVpbGRlcn0gYnVpbGRlclxuICAgKiBAcGFyYW0geyp9IHJvd3NcbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBvblJhd1Jlc3VsdChidWlsZGVyLCByb3dzKSB7XG4gICAgcmV0dXJuIHJvd3M7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBoYXNPblJhd1Jlc3VsdCgpIHtcbiAgICByZXR1cm4gdGhpcy5vblJhd1Jlc3VsdCAhPT0gUXVlcnlCdWlsZGVyT3BlcmF0aW9uLnByb3RvdHlwZS5vblJhd1Jlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1F1ZXJ5QnVpbGRlcn0gYnVpbGRlclxuICAgKiBAcGFyYW0geyp9IHJlc3VsdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZXwqfVxuICAgKi9cbiAgb25BZnRlclF1ZXJ5KGJ1aWxkZXIsIHJlc3VsdCkge31cblxuICAvKipcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBoYXNPbkFmdGVyUXVlcnkoKSB7XG4gICAgcmV0dXJuIHRoaXMub25BZnRlclF1ZXJ5ICE9PSBRdWVyeUJ1aWxkZXJPcGVyYXRpb24ucHJvdG90eXBlLm9uQWZ0ZXJRdWVyeTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1F1ZXJ5QnVpbGRlcn0gYnVpbGRlclxuICAgKiBAcGFyYW0geyp9IHJlc3VsdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZXwqfVxuICAgKi9cbiAgb25BZnRlckludGVybmFsKGJ1aWxkZXIsIHJlc3VsdCkge31cblxuICAvKipcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBoYXNPbkFmdGVySW50ZXJuYWwoKSB7XG4gICAgcmV0dXJuIHRoaXMub25BZnRlckludGVybmFsICE9PSBRdWVyeUJ1aWxkZXJPcGVyYXRpb24ucHJvdG90eXBlLm9uQWZ0ZXJJbnRlcm5hbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1F1ZXJ5QnVpbGRlcn0gYnVpbGRlclxuICAgKiBAcGFyYW0geyp9IHJlc3VsdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZXwqfVxuICAgKi9cbiAgb25BZnRlcihidWlsZGVyLCByZXN1bHQpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgaGFzT25BZnRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5vbkFmdGVyICE9PSBRdWVyeUJ1aWxkZXJPcGVyYXRpb24ucHJvdG90eXBlLm9uQWZ0ZXI7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtRdWVyeUJ1aWxkZXJ9IGJ1aWxkZXJcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlcn1cbiAgICovXG4gIHF1ZXJ5RXhlY3V0b3IoYnVpbGRlcikge31cblxuICAvKipcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBoYXNRdWVyeUV4ZWN1dG9yKCkge1xuICAgIHJldHVybiB0aGlzLnF1ZXJ5RXhlY3V0b3IgIT09IFF1ZXJ5QnVpbGRlck9wZXJhdGlvbi5wcm90b3R5cGUucXVlcnlFeGVjdXRvcjtcbiAgfVxufSJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/ReferenceBuilder.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ref = exports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _jsonFieldExpressionParser = require('./parsers/jsonFieldExpressionParser');\n\nvar _jsonFieldExpressionParser2 = _interopRequireDefault(_jsonFieldExpressionParser);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ReferenceBuilder = function () {\n  function ReferenceBuilder(fieldExpression) {\n    (0, _classCallCheck3.default)(this, ReferenceBuilder);\n\n    // for premature optimization _reference could be lazy memoized getter... \n    this._reference = _jsonFieldExpressionParser2.default.parse(fieldExpression);\n    this._cast = null;\n    this._toJson = false;\n    this._as = null; // TODO: UNIT TEST\n  }\n\n  ReferenceBuilder.prototype.castText = function castText() {\n    return this.castType('text');\n  };\n\n  ReferenceBuilder.prototype.castInt = function castInt() {\n    return this.castType('integer');\n  };\n\n  ReferenceBuilder.prototype.castBigInt = function castBigInt() {\n    return this.castType('bigint');\n  };\n\n  ReferenceBuilder.prototype.castFloat = function castFloat() {\n    return this.castType('float');\n  };\n\n  ReferenceBuilder.prototype.castDecimal = function castDecimal() {\n    return this.castType('decimal');\n  };\n\n  ReferenceBuilder.prototype.castReal = function castReal() {\n    return this.castType('real');\n  };\n\n  ReferenceBuilder.prototype.castBool = function castBool() {\n    return this.castType('boolean');\n  };\n\n  ReferenceBuilder.prototype.castJson = function castJson() {\n    // maybe different for mysql, no need to support postgres plain json\n    this._toJson = true;\n    return this;\n  };\n\n  ReferenceBuilder.prototype.castType = function castType(sqlType) {\n    // we could maybe check some valid values here... at least fail on invalid chars \n    this._cast = sqlType;\n    return this;\n  };\n\n  ReferenceBuilder.prototype.as = function as(_as) {\n    this._as = _as;\n    return this;\n  };\n\n  ReferenceBuilder.prototype.toRawArgs = function toRawArgs() {\n    var referenceSql = '??';\n\n    // if json field ref\n    if (this._reference.access.length > 0) {\n      // TODO: for mysql this needs separate implementation... maybe something like SELECT JSON_EXTRACT('{\"id\": 14, \"name\": \"Aztalan\"}', '$.name');\n      var extractor = this._cast ? '#>>' : '#>';\n      var jsonFieldRef = this._reference.access.map(function (field) {\n        return field.ref;\n      }).join(',');\n      referenceSql = '??' + extractor + '\\'{' + jsonFieldRef + '}\\'';\n    }\n\n    var castedRefQuery = this._cast ? 'CAST(' + referenceSql + ' AS ' + this._cast + ')' : referenceSql;\n    var toJsonQuery = this._toJson ? 'to_jsonb(' + castedRefQuery + ')' : castedRefQuery;\n\n    if (this._as) {\n      return [toJsonQuery + ' AS ??', [this._reference.columnName, this._as]];\n    } else {\n      return [toJsonQuery, [this._reference.columnName]];\n    }\n  };\n\n  return ReferenceBuilder;\n}();\n\nexports.default = ReferenceBuilder;\n\n\nvar ref = function ref(fieldExpression) {\n  return new ReferenceBuilder(fieldExpression);\n};\n\nexports.ref = ref;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlZmVyZW5jZUJ1aWxkZXIuanMiXSwibmFtZXMiOlsiUmVmZXJlbmNlQnVpbGRlciIsImZpZWxkRXhwcmVzc2lvbiIsIl9yZWZlcmVuY2UiLCJwYXJzZSIsIl9jYXN0IiwiX3RvSnNvbiIsIl9hcyIsImNhc3RUZXh0IiwiY2FzdFR5cGUiLCJjYXN0SW50IiwiY2FzdEJpZ0ludCIsImNhc3RGbG9hdCIsImNhc3REZWNpbWFsIiwiY2FzdFJlYWwiLCJjYXN0Qm9vbCIsImNhc3RKc29uIiwic3FsVHlwZSIsImFzIiwidG9SYXdBcmdzIiwicmVmZXJlbmNlU3FsIiwiYWNjZXNzIiwibGVuZ3RoIiwiZXh0cmFjdG9yIiwianNvbkZpZWxkUmVmIiwibWFwIiwiZmllbGQiLCJyZWYiLCJqb2luIiwiY2FzdGVkUmVmUXVlcnkiLCJ0b0pzb25RdWVyeSIsImNvbHVtbk5hbWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7Ozs7OztJQUVxQkEsZ0I7QUFFbkIsNEJBQVlDLGVBQVosRUFBNkI7QUFBQTs7QUFDM0I7QUFDQSxTQUFLQyxVQUFMLEdBQWtCLG9DQUEwQkMsS0FBMUIsQ0FBZ0NGLGVBQWhDLENBQWxCO0FBQ0EsU0FBS0csS0FBTCxHQUFhLElBQWI7QUFDQSxTQUFLQyxPQUFMLEdBQWUsS0FBZjtBQUNBLFNBQUtDLEdBQUwsR0FBVyxJQUFYLENBTDJCLENBS1Y7QUFDbEI7OzZCQUVEQyxRLHVCQUFXO0FBQ1QsV0FBTyxLQUFLQyxRQUFMLENBQWMsTUFBZCxDQUFQO0FBQ0QsRzs7NkJBRURDLE8sc0JBQVU7QUFDUixXQUFPLEtBQUtELFFBQUwsQ0FBYyxTQUFkLENBQVA7QUFDRCxHOzs2QkFFREUsVSx5QkFBYTtBQUNYLFdBQU8sS0FBS0YsUUFBTCxDQUFjLFFBQWQsQ0FBUDtBQUNELEc7OzZCQUVERyxTLHdCQUFZO0FBQ1YsV0FBTyxLQUFLSCxRQUFMLENBQWMsT0FBZCxDQUFQO0FBQ0QsRzs7NkJBRURJLFcsMEJBQWM7QUFDWixXQUFPLEtBQUtKLFFBQUwsQ0FBYyxTQUFkLENBQVA7QUFDRCxHOzs2QkFFREssUSx1QkFBVztBQUNULFdBQU8sS0FBS0wsUUFBTCxDQUFjLE1BQWQsQ0FBUDtBQUNELEc7OzZCQUVETSxRLHVCQUFXO0FBQ1QsV0FBTyxLQUFLTixRQUFMLENBQWMsU0FBZCxDQUFQO0FBQ0QsRzs7NkJBRURPLFEsdUJBQVc7QUFDVDtBQUNBLFNBQUtWLE9BQUwsR0FBZSxJQUFmO0FBQ0EsV0FBTyxJQUFQO0FBQ0QsRzs7NkJBRURHLFEscUJBQVNRLE8sRUFBUztBQUNoQjtBQUNBLFNBQUtaLEtBQUwsR0FBYVksT0FBYjtBQUNBLFdBQU8sSUFBUDtBQUNELEc7OzZCQUVEQyxFLGVBQUdBLEcsRUFBSTtBQUNMLFNBQUtYLEdBQUwsR0FBV1csR0FBWDtBQUNBLFdBQU8sSUFBUDtBQUNELEc7OzZCQUVEQyxTLHdCQUFZO0FBQ1YsUUFBSUMsbUJBQUo7O0FBRUE7QUFDQSxRQUFJLEtBQUtqQixVQUFMLENBQWdCa0IsTUFBaEIsQ0FBdUJDLE1BQXZCLEdBQWdDLENBQXBDLEVBQXVDO0FBQ3JDO0FBQ0EsVUFBSUMsWUFBWSxLQUFLbEIsS0FBTCxHQUFhLEtBQWIsR0FBcUIsSUFBckM7QUFDQSxVQUFJbUIsZUFBZSxLQUFLckIsVUFBTCxDQUFnQmtCLE1BQWhCLENBQXVCSSxHQUF2QixDQUEyQjtBQUFBLGVBQVNDLE1BQU1DLEdBQWY7QUFBQSxPQUEzQixFQUErQ0MsSUFBL0MsQ0FBb0QsR0FBcEQsQ0FBbkI7QUFDQVIsNEJBQW9CRyxTQUFwQixXQUFrQ0MsWUFBbEM7QUFDRDs7QUFFRCxRQUFJSyxpQkFBaUIsS0FBS3hCLEtBQUwsYUFBcUJlLFlBQXJCLFlBQXdDLEtBQUtmLEtBQTdDLFNBQXdEZSxZQUE3RTtBQUNBLFFBQUlVLGNBQWMsS0FBS3hCLE9BQUwsaUJBQTJCdUIsY0FBM0IsU0FBK0NBLGNBQWpFOztBQUVBLFFBQUksS0FBS3RCLEdBQVQsRUFBYztBQUNaLGFBQU8sQ0FBSXVCLFdBQUosYUFBeUIsQ0FBQyxLQUFLM0IsVUFBTCxDQUFnQjRCLFVBQWpCLEVBQTZCLEtBQUt4QixHQUFsQyxDQUF6QixDQUFQO0FBQ0QsS0FGRCxNQUVPO0FBQ0wsYUFBTyxDQUFDdUIsV0FBRCxFQUFjLENBQUMsS0FBSzNCLFVBQUwsQ0FBZ0I0QixVQUFqQixDQUFkLENBQVA7QUFDRDtBQUNGLEc7Ozs7O2tCQTFFa0I5QixnQjs7O0FBOEVyQixJQUFJMEIsTUFBTSxTQUFOQSxHQUFNO0FBQUEsU0FBbUIsSUFBSTFCLGdCQUFKLENBQXFCQyxlQUFyQixDQUFuQjtBQUFBLENBQVY7O1FBRVN5QixHLEdBQUFBLEciLCJmaWxlIjoiUmVmZXJlbmNlQnVpbGRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqc29uRmllbGRFeHByZXNzaW9uUGFyc2VyIGZyb20gJy4vcGFyc2Vycy9qc29uRmllbGRFeHByZXNzaW9uUGFyc2VyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVmZXJlbmNlQnVpbGRlciB7XG5cbiAgY29uc3RydWN0b3IoZmllbGRFeHByZXNzaW9uKSB7XG4gICAgLy8gZm9yIHByZW1hdHVyZSBvcHRpbWl6YXRpb24gX3JlZmVyZW5jZSBjb3VsZCBiZSBsYXp5IG1lbW9pemVkIGdldHRlci4uLiBcbiAgICB0aGlzLl9yZWZlcmVuY2UgPSBqc29uRmllbGRFeHByZXNzaW9uUGFyc2VyLnBhcnNlKGZpZWxkRXhwcmVzc2lvbik7XG4gICAgdGhpcy5fY2FzdCA9IG51bGw7XG4gICAgdGhpcy5fdG9Kc29uID0gZmFsc2U7XG4gICAgdGhpcy5fYXMgPSBudWxsOyAvLyBUT0RPOiBVTklUIFRFU1RcbiAgfVxuXG4gIGNhc3RUZXh0KCkge1xuICAgIHJldHVybiB0aGlzLmNhc3RUeXBlKCd0ZXh0Jyk7XG4gIH1cblxuICBjYXN0SW50KCkge1xuICAgIHJldHVybiB0aGlzLmNhc3RUeXBlKCdpbnRlZ2VyJyk7XG4gIH1cblxuICBjYXN0QmlnSW50KCkge1xuICAgIHJldHVybiB0aGlzLmNhc3RUeXBlKCdiaWdpbnQnKTtcbiAgfVxuXG4gIGNhc3RGbG9hdCgpIHtcbiAgICByZXR1cm4gdGhpcy5jYXN0VHlwZSgnZmxvYXQnKTtcbiAgfVxuXG4gIGNhc3REZWNpbWFsKCkge1xuICAgIHJldHVybiB0aGlzLmNhc3RUeXBlKCdkZWNpbWFsJyk7XG4gIH1cblxuICBjYXN0UmVhbCgpIHtcbiAgICByZXR1cm4gdGhpcy5jYXN0VHlwZSgncmVhbCcpO1xuICB9XG5cbiAgY2FzdEJvb2woKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FzdFR5cGUoJ2Jvb2xlYW4nKTtcbiAgfVxuXG4gIGNhc3RKc29uKCkge1xuICAgIC8vIG1heWJlIGRpZmZlcmVudCBmb3IgbXlzcWwsIG5vIG5lZWQgdG8gc3VwcG9ydCBwb3N0Z3JlcyBwbGFpbiBqc29uXG4gICAgdGhpcy5fdG9Kc29uID0gdHJ1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGNhc3RUeXBlKHNxbFR5cGUpIHtcbiAgICAvLyB3ZSBjb3VsZCBtYXliZSBjaGVjayBzb21lIHZhbGlkIHZhbHVlcyBoZXJlLi4uIGF0IGxlYXN0IGZhaWwgb24gaW52YWxpZCBjaGFycyBcbiAgICB0aGlzLl9jYXN0ID0gc3FsVHlwZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGFzKGFzKSB7XG4gICAgdGhpcy5fYXMgPSBhcztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHRvUmF3QXJncygpIHtcbiAgICBsZXQgcmVmZXJlbmNlU3FsID0gYD8/YDtcbiBcbiAgICAvLyBpZiBqc29uIGZpZWxkIHJlZlxuICAgIGlmICh0aGlzLl9yZWZlcmVuY2UuYWNjZXNzLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIFRPRE86IGZvciBteXNxbCB0aGlzIG5lZWRzIHNlcGFyYXRlIGltcGxlbWVudGF0aW9uLi4uIG1heWJlIHNvbWV0aGluZyBsaWtlIFNFTEVDVCBKU09OX0VYVFJBQ1QoJ3tcImlkXCI6IDE0LCBcIm5hbWVcIjogXCJBenRhbGFuXCJ9JywgJyQubmFtZScpO1xuICAgICAgbGV0IGV4dHJhY3RvciA9IHRoaXMuX2Nhc3QgPyAnIz4+JyA6ICcjPic7XG4gICAgICBsZXQganNvbkZpZWxkUmVmID0gdGhpcy5fcmVmZXJlbmNlLmFjY2Vzcy5tYXAoZmllbGQgPT4gZmllbGQucmVmKS5qb2luKCcsJyk7ICBcbiAgICAgIHJlZmVyZW5jZVNxbCA9IGA/PyR7ZXh0cmFjdG9yfSd7JHtqc29uRmllbGRSZWZ9fSdgO1xuICAgIH1cblxuICAgIGxldCBjYXN0ZWRSZWZRdWVyeSA9IHRoaXMuX2Nhc3QgPyBgQ0FTVCgke3JlZmVyZW5jZVNxbH0gQVMgJHt0aGlzLl9jYXN0fSlgIDogcmVmZXJlbmNlU3FsO1xuICAgIGxldCB0b0pzb25RdWVyeSA9IHRoaXMuX3RvSnNvbiA/IGB0b19qc29uYigke2Nhc3RlZFJlZlF1ZXJ5fSlgIDogY2FzdGVkUmVmUXVlcnk7XG5cbiAgICBpZiAodGhpcy5fYXMpIHtcbiAgICAgIHJldHVybiBbYCR7dG9Kc29uUXVlcnl9IEFTID8/YCwgW3RoaXMuX3JlZmVyZW5jZS5jb2x1bW5OYW1lLCB0aGlzLl9hc11dO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW3RvSnNvblF1ZXJ5LCBbdGhpcy5fcmVmZXJlbmNlLmNvbHVtbk5hbWVdXTtcbiAgICB9XG4gIH1cblxufVxuXG5sZXQgcmVmID0gZmllbGRFeHByZXNzaW9uID0+IG5ldyBSZWZlcmVuY2VCdWlsZGVyKGZpZWxkRXhwcmVzc2lvbik7XG5cbmV4cG9ydCB7IHJlZiB9O1xuIl19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/parsers/jsonFieldExpressionParser.js":"\"use strict\";\n\nmodule.exports = function () {\n  /*\n   * Generated by PEG.js 0.8.0.\n   *\n   * http://pegjs.majda.cz/\n   */\n\n  function peg$subclass(child, parent) {\n    function ctor() {\n      this.constructor = child;\n    }\n    ctor.prototype = parent.prototype;\n    child.prototype = new ctor();\n  }\n\n  function SyntaxError(message, expected, found, offset, line, column) {\n    this.message = message;\n    this.expected = expected;\n    this.found = found;\n    this.offset = offset;\n    this.line = line;\n    this.column = column;\n\n    this.name = \"SyntaxError\";\n  }\n\n  peg$subclass(SyntaxError, Error);\n\n  function parse(input) {\n    var options = arguments.length > 1 ? arguments[1] : {},\n        peg$FAILED = {},\n        peg$startRuleFunctions = { start: peg$parsestart },\n        peg$startRuleFunction = peg$parsestart,\n        peg$c0 = peg$FAILED,\n        peg$c1 = null,\n        peg$c2 = \":\",\n        peg$c3 = { type: \"literal\", value: \":\", description: \"\\\":\\\"\" },\n        peg$c4 = [],\n        peg$c5 = function peg$c5(column, refs) {\n      var access = [];\n      if (refs) {\n        var firstAccess = refs[1];\n        access = refs[2];\n        access.unshift(firstAccess);\n      }\n      return { columnName: column, access: access };\n    },\n        peg$c6 = \"[\",\n        peg$c7 = { type: \"literal\", value: \"[\", description: \"\\\"[\\\"\" },\n        peg$c8 = \"\\\"\",\n        peg$c9 = { type: \"literal\", value: \"\\\"\", description: \"\\\"\\\\\\\"\\\"\" },\n        peg$c10 = \"'\",\n        peg$c11 = { type: \"literal\", value: \"'\", description: \"\\\"'\\\"\" },\n        peg$c12 = \"]\",\n        peg$c13 = { type: \"literal\", value: \"]\", description: \"\\\"]\\\"\" },\n        peg$c14 = function peg$c14(key) {\n      return { type: 'object', ref: Array.isArray(key) ? key[1] : key };\n    },\n        peg$c15 = function peg$c15(index) {\n      return { type: 'array', ref: parseInt(index, 10) };\n    },\n        peg$c16 = function peg$c16(key) {\n      return { type: 'object', ref: key };\n    },\n        peg$c17 = \".\",\n        peg$c18 = { type: \"literal\", value: \".\", description: \"\\\".\\\"\" },\n        peg$c19 = /^[^\\][]/,\n        peg$c20 = { type: \"class\", value: \"[^\\\\][]\", description: \"[^\\\\][]\" },\n        peg$c21 = function peg$c21(chars) {\n      return chars.join(\"\");\n    },\n        peg$c22 = /^[^:]/,\n        peg$c23 = { type: \"class\", value: \"[^:]\", description: \"[^:]\" },\n        peg$c24 = /^[^\"]/,\n        peg$c25 = { type: \"class\", value: \"[^\\\"]\", description: \"[^\\\"]\" },\n        peg$c26 = /^[^']/,\n        peg$c27 = { type: \"class\", value: \"[^']\", description: \"[^']\" },\n        peg$c28 = /^[^.\\][]/,\n        peg$c29 = { type: \"class\", value: \"[^.\\\\][]\", description: \"[^.\\\\][]\" },\n        peg$c30 = /^[0-9]/,\n        peg$c31 = { type: \"class\", value: \"[0-9]\", description: \"[0-9]\" },\n        peg$c32 = function peg$c32(digits) {\n      return digits.join(\"\");\n    },\n        peg$currPos = 0,\n        peg$reportedPos = 0,\n        peg$cachedPos = 0,\n        peg$cachedPosDetails = { line: 1, column: 1, seenCR: false },\n        peg$maxFailPos = 0,\n        peg$maxFailExpected = [],\n        peg$silentFails = 0,\n        peg$result;\n\n    if (\"startRule\" in options) {\n      if (!(options.startRule in peg$startRuleFunctions)) {\n        throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n      }\n\n      peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n    }\n\n    function text() {\n      return input.substring(peg$reportedPos, peg$currPos);\n    }\n\n    function offset() {\n      return peg$reportedPos;\n    }\n\n    function line() {\n      return peg$computePosDetails(peg$reportedPos).line;\n    }\n\n    function column() {\n      return peg$computePosDetails(peg$reportedPos).column;\n    }\n\n    function expected(description) {\n      throw peg$buildException(null, [{ type: \"other\", description: description }], peg$reportedPos);\n    }\n\n    function error(message) {\n      throw peg$buildException(message, null, peg$reportedPos);\n    }\n\n    function peg$computePosDetails(pos) {\n      function advance(details, startPos, endPos) {\n        var p, ch;\n\n        for (p = startPos; p < endPos; p++) {\n          ch = input.charAt(p);\n          if (ch === \"\\n\") {\n            if (!details.seenCR) {\n              details.line++;\n            }\n            details.column = 1;\n            details.seenCR = false;\n          } else if (ch === \"\\r\" || ch === \"\\u2028\" || ch === \"\\u2029\") {\n            details.line++;\n            details.column = 1;\n            details.seenCR = true;\n          } else {\n            details.column++;\n            details.seenCR = false;\n          }\n        }\n      }\n\n      if (peg$cachedPos !== pos) {\n        if (peg$cachedPos > pos) {\n          peg$cachedPos = 0;\n          peg$cachedPosDetails = { line: 1, column: 1, seenCR: false };\n        }\n        advance(peg$cachedPosDetails, peg$cachedPos, pos);\n        peg$cachedPos = pos;\n      }\n\n      return peg$cachedPosDetails;\n    }\n\n    function peg$fail(expected) {\n      if (peg$currPos < peg$maxFailPos) {\n        return;\n      }\n\n      if (peg$currPos > peg$maxFailPos) {\n        peg$maxFailPos = peg$currPos;\n        peg$maxFailExpected = [];\n      }\n\n      peg$maxFailExpected.push(expected);\n    }\n\n    function peg$buildException(message, expected, pos) {\n      function cleanupExpected(expected) {\n        var i = 1;\n\n        expected.sort(function (a, b) {\n          if (a.description < b.description) {\n            return -1;\n          } else if (a.description > b.description) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n\n        while (i < expected.length) {\n          if (expected[i - 1] === expected[i]) {\n            expected.splice(i, 1);\n          } else {\n            i++;\n          }\n        }\n      }\n\n      function buildMessage(expected, found) {\n        function stringEscape(s) {\n          function hex(ch) {\n            return ch.charCodeAt(0).toString(16).toUpperCase();\n          }\n\n          return s.replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"').replace(/\\x08/g, '\\\\b').replace(/\\t/g, '\\\\t').replace(/\\n/g, '\\\\n').replace(/\\f/g, '\\\\f').replace(/\\r/g, '\\\\r').replace(/[\\x00-\\x07\\x0B\\x0E\\x0F]/g, function (ch) {\n            return '\\\\x0' + hex(ch);\n          }).replace(/[\\x10-\\x1F\\x80-\\xFF]/g, function (ch) {\n            return '\\\\x' + hex(ch);\n          }).replace(/[\\u0180-\\u0FFF]/g, function (ch) {\n            return \"\\\\u0\" + hex(ch);\n          }).replace(/[\\u1080-\\uFFFF]/g, function (ch) {\n            return \"\\\\u\" + hex(ch);\n          });\n        }\n\n        var expectedDescs = new Array(expected.length),\n            expectedDesc,\n            foundDesc,\n            i;\n\n        for (i = 0; i < expected.length; i++) {\n          expectedDescs[i] = expected[i].description;\n        }\n\n        expectedDesc = expected.length > 1 ? expectedDescs.slice(0, -1).join(\", \") + \" or \" + expectedDescs[expected.length - 1] : expectedDescs[0];\n\n        foundDesc = found ? \"\\\"\" + stringEscape(found) + \"\\\"\" : \"end of input\";\n\n        return \"Expected \" + expectedDesc + \" but \" + foundDesc + \" found.\";\n      }\n\n      var posDetails = peg$computePosDetails(pos),\n          found = pos < input.length ? input.charAt(pos) : null;\n\n      if (expected !== null) {\n        cleanupExpected(expected);\n      }\n\n      return new SyntaxError(message !== null ? message : buildMessage(expected, found), expected, found, pos, posDetails.line, posDetails.column);\n    }\n\n    function peg$parsestart() {\n      var s0, s1, s2, s3, s4, s5, s6;\n\n      s0 = peg$currPos;\n      s1 = peg$parsestringWithoutColon();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$currPos;\n        if (input.charCodeAt(peg$currPos) === 58) {\n          s3 = peg$c2;\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c3);\n          }\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsebracketIndexRef();\n          if (s4 === peg$FAILED) {\n            s4 = peg$parsebracketStringRef();\n            if (s4 === peg$FAILED) {\n              s4 = peg$parsecolonReference();\n            }\n          }\n          if (s4 !== peg$FAILED) {\n            s5 = [];\n            s6 = peg$parsebracketIndexRef();\n            if (s6 === peg$FAILED) {\n              s6 = peg$parsebracketStringRef();\n              if (s6 === peg$FAILED) {\n                s6 = peg$parsedotReference();\n              }\n            }\n            while (s6 !== peg$FAILED) {\n              s5.push(s6);\n              s6 = peg$parsebracketIndexRef();\n              if (s6 === peg$FAILED) {\n                s6 = peg$parsebracketStringRef();\n                if (s6 === peg$FAILED) {\n                  s6 = peg$parsedotReference();\n                }\n              }\n            }\n            if (s5 !== peg$FAILED) {\n              s3 = [s3, s4, s5];\n              s2 = s3;\n            } else {\n              peg$currPos = s2;\n              s2 = peg$c0;\n            }\n          } else {\n            peg$currPos = s2;\n            s2 = peg$c0;\n          }\n        } else {\n          peg$currPos = s2;\n          s2 = peg$c0;\n        }\n        if (s2 === peg$FAILED) {\n          s2 = peg$c1;\n        }\n        if (s2 !== peg$FAILED) {\n          peg$reportedPos = s0;\n          s1 = peg$c5(s1, s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c0;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c0;\n      }\n\n      return s0;\n    }\n\n    function peg$parsebracketStringRef() {\n      var s0, s1, s2, s3, s4, s5;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 91) {\n        s1 = peg$c6;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c7);\n        }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$currPos;\n        if (input.charCodeAt(peg$currPos) === 34) {\n          s3 = peg$c8;\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) {\n            peg$fail(peg$c9);\n          }\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsestringWithoutDoubleQuotes();\n          if (s4 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 34) {\n              s5 = peg$c8;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) {\n                peg$fail(peg$c9);\n              }\n            }\n            if (s5 !== peg$FAILED) {\n              s3 = [s3, s4, s5];\n              s2 = s3;\n            } else {\n              peg$currPos = s2;\n              s2 = peg$c0;\n            }\n          } else {\n            peg$currPos = s2;\n            s2 = peg$c0;\n          }\n        } else {\n          peg$currPos = s2;\n          s2 = peg$c0;\n        }\n        if (s2 === peg$FAILED) {\n          s2 = peg$currPos;\n          if (input.charCodeAt(peg$currPos) === 39) {\n            s3 = peg$c10;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c11);\n            }\n          }\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parsestringWithoutSingleQuotes();\n            if (s4 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 39) {\n                s5 = peg$c10;\n                peg$currPos++;\n              } else {\n                s5 = peg$FAILED;\n                if (peg$silentFails === 0) {\n                  peg$fail(peg$c11);\n                }\n              }\n              if (s5 !== peg$FAILED) {\n                s3 = [s3, s4, s5];\n                s2 = s3;\n              } else {\n                peg$currPos = s2;\n                s2 = peg$c0;\n              }\n            } else {\n              peg$currPos = s2;\n              s2 = peg$c0;\n            }\n          } else {\n            peg$currPos = s2;\n            s2 = peg$c0;\n          }\n          if (s2 === peg$FAILED) {\n            s2 = peg$parsestringWithoutSquareBrackets();\n          }\n        }\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 93) {\n            s3 = peg$c12;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c13);\n            }\n          }\n          if (s3 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c14(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c0;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c0;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c0;\n      }\n\n      return s0;\n    }\n\n    function peg$parsebracketIndexRef() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 91) {\n        s1 = peg$c6;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c7);\n        }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseinteger();\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 93) {\n            s3 = peg$c12;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c13);\n            }\n          }\n          if (s3 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c15(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c0;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c0;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c0;\n      }\n\n      return s0;\n    }\n\n    function peg$parsecolonReference() {\n      var s0, s1;\n\n      s0 = peg$currPos;\n      s1 = peg$parsestringWithoutSquareBracketsOrDots();\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c16(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsedotReference() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 46) {\n        s1 = peg$c17;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c18);\n        }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsestringWithoutSquareBracketsOrDots();\n        if (s2 !== peg$FAILED) {\n          peg$reportedPos = s0;\n          s1 = peg$c16(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c0;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c0;\n      }\n\n      return s0;\n    }\n\n    function peg$parsestringWithoutSquareBrackets() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = [];\n      if (peg$c19.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c20);\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        while (s2 !== peg$FAILED) {\n          s1.push(s2);\n          if (peg$c19.test(input.charAt(peg$currPos))) {\n            s2 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c20);\n            }\n          }\n        }\n      } else {\n        s1 = peg$c0;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c21(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsestringWithoutColon() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = [];\n      if (peg$c22.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c23);\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        while (s2 !== peg$FAILED) {\n          s1.push(s2);\n          if (peg$c22.test(input.charAt(peg$currPos))) {\n            s2 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c23);\n            }\n          }\n        }\n      } else {\n        s1 = peg$c0;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c21(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsestringWithoutDoubleQuotes() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = [];\n      if (peg$c24.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c25);\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        while (s2 !== peg$FAILED) {\n          s1.push(s2);\n          if (peg$c24.test(input.charAt(peg$currPos))) {\n            s2 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c25);\n            }\n          }\n        }\n      } else {\n        s1 = peg$c0;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c21(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsestringWithoutSingleQuotes() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = [];\n      if (peg$c26.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c27);\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        while (s2 !== peg$FAILED) {\n          s1.push(s2);\n          if (peg$c26.test(input.charAt(peg$currPos))) {\n            s2 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c27);\n            }\n          }\n        }\n      } else {\n        s1 = peg$c0;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c21(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsestringWithoutSquareBracketsOrDots() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = [];\n      if (peg$c28.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c29);\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        while (s2 !== peg$FAILED) {\n          s1.push(s2);\n          if (peg$c28.test(input.charAt(peg$currPos))) {\n            s2 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c29);\n            }\n          }\n        }\n      } else {\n        s1 = peg$c0;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c21(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parseinteger() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = [];\n      if (peg$c30.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) {\n          peg$fail(peg$c31);\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        while (s2 !== peg$FAILED) {\n          s1.push(s2);\n          if (peg$c30.test(input.charAt(peg$currPos))) {\n            s2 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) {\n              peg$fail(peg$c31);\n            }\n          }\n        }\n      } else {\n        s1 = peg$c0;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c32(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    peg$result = peg$startRuleFunction();\n\n    if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n      return peg$result;\n    } else {\n      if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n        peg$fail({ type: \"end\", description: \"end of input\" });\n      }\n\n      throw peg$buildException(null, peg$maxFailExpected, peg$maxFailPos);\n    }\n  }\n\n  return {\n    SyntaxError: SyntaxError,\n    parse: parse\n  };\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzb25GaWVsZEV4cHJlc3Npb25QYXJzZXIuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInBlZyRzdWJjbGFzcyIsImNoaWxkIiwicGFyZW50IiwiY3RvciIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiU3ludGF4RXJyb3IiLCJtZXNzYWdlIiwiZXhwZWN0ZWQiLCJmb3VuZCIsIm9mZnNldCIsImxpbmUiLCJjb2x1bW4iLCJuYW1lIiwiRXJyb3IiLCJwYXJzZSIsImlucHV0Iiwib3B0aW9ucyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInBlZyRGQUlMRUQiLCJwZWckc3RhcnRSdWxlRnVuY3Rpb25zIiwic3RhcnQiLCJwZWckcGFyc2VzdGFydCIsInBlZyRzdGFydFJ1bGVGdW5jdGlvbiIsInBlZyRjMCIsInBlZyRjMSIsInBlZyRjMiIsInBlZyRjMyIsInR5cGUiLCJ2YWx1ZSIsImRlc2NyaXB0aW9uIiwicGVnJGM0IiwicGVnJGM1IiwicmVmcyIsImFjY2VzcyIsImZpcnN0QWNjZXNzIiwidW5zaGlmdCIsImNvbHVtbk5hbWUiLCJwZWckYzYiLCJwZWckYzciLCJwZWckYzgiLCJwZWckYzkiLCJwZWckYzEwIiwicGVnJGMxMSIsInBlZyRjMTIiLCJwZWckYzEzIiwicGVnJGMxNCIsImtleSIsInJlZiIsIkFycmF5IiwiaXNBcnJheSIsInBlZyRjMTUiLCJpbmRleCIsInBhcnNlSW50IiwicGVnJGMxNiIsInBlZyRjMTciLCJwZWckYzE4IiwicGVnJGMxOSIsInBlZyRjMjAiLCJwZWckYzIxIiwiY2hhcnMiLCJqb2luIiwicGVnJGMyMiIsInBlZyRjMjMiLCJwZWckYzI0IiwicGVnJGMyNSIsInBlZyRjMjYiLCJwZWckYzI3IiwicGVnJGMyOCIsInBlZyRjMjkiLCJwZWckYzMwIiwicGVnJGMzMSIsInBlZyRjMzIiLCJkaWdpdHMiLCJwZWckY3VyclBvcyIsInBlZyRyZXBvcnRlZFBvcyIsInBlZyRjYWNoZWRQb3MiLCJwZWckY2FjaGVkUG9zRGV0YWlscyIsInNlZW5DUiIsInBlZyRtYXhGYWlsUG9zIiwicGVnJG1heEZhaWxFeHBlY3RlZCIsInBlZyRzaWxlbnRGYWlscyIsInBlZyRyZXN1bHQiLCJzdGFydFJ1bGUiLCJ0ZXh0Iiwic3Vic3RyaW5nIiwicGVnJGNvbXB1dGVQb3NEZXRhaWxzIiwicGVnJGJ1aWxkRXhjZXB0aW9uIiwiZXJyb3IiLCJwb3MiLCJhZHZhbmNlIiwiZGV0YWlscyIsInN0YXJ0UG9zIiwiZW5kUG9zIiwicCIsImNoIiwiY2hhckF0IiwicGVnJGZhaWwiLCJwdXNoIiwiY2xlYW51cEV4cGVjdGVkIiwiaSIsInNvcnQiLCJhIiwiYiIsInNwbGljZSIsImJ1aWxkTWVzc2FnZSIsInN0cmluZ0VzY2FwZSIsInMiLCJoZXgiLCJjaGFyQ29kZUF0IiwidG9TdHJpbmciLCJ0b1VwcGVyQ2FzZSIsInJlcGxhY2UiLCJleHBlY3RlZERlc2NzIiwiZXhwZWN0ZWREZXNjIiwiZm91bmREZXNjIiwic2xpY2UiLCJwb3NEZXRhaWxzIiwiczAiLCJzMSIsInMyIiwiczMiLCJzNCIsInM1IiwiczYiLCJwZWckcGFyc2VzdHJpbmdXaXRob3V0Q29sb24iLCJwZWckcGFyc2VicmFja2V0SW5kZXhSZWYiLCJwZWckcGFyc2VicmFja2V0U3RyaW5nUmVmIiwicGVnJHBhcnNlY29sb25SZWZlcmVuY2UiLCJwZWckcGFyc2Vkb3RSZWZlcmVuY2UiLCJwZWckcGFyc2VzdHJpbmdXaXRob3V0RG91YmxlUXVvdGVzIiwicGVnJHBhcnNlc3RyaW5nV2l0aG91dFNpbmdsZVF1b3RlcyIsInBlZyRwYXJzZXN0cmluZ1dpdGhvdXRTcXVhcmVCcmFja2V0cyIsInBlZyRwYXJzZWludGVnZXIiLCJwZWckcGFyc2VzdHJpbmdXaXRob3V0U3F1YXJlQnJhY2tldHNPckRvdHMiLCJ0ZXN0Il0sIm1hcHBpbmdzIjoiOztBQUFBQSxPQUFPQyxPQUFQLEdBQWtCLFlBQVc7QUFDM0I7Ozs7OztBQU1BLFdBQVNDLFlBQVQsQ0FBc0JDLEtBQXRCLEVBQTZCQyxN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aUYsTUFBTixDQUFhdEIsV0FBYixDQUFiLENBQUosRUFBNkM7QUFDM0M4QyxpQkFBS3pHLE1BQU1pRixNQUFOLENBQWF0QixXQUFiLENBQUw7QUFDQUE7QUFDRCxXQUhELE1BR087QUFDTDhDLGlCQUFLckcsVUFBTDtBQUNBLGdCQUFJOEQsb0JBQW9CLENBQXhCLEVBQTJCO0FBQUVnQix1QkFBUzFCLE9BQVQ7QUFBb0I7QUFDbEQ7QUFDRjtBQUNGLE9BWEQsTUFXTztBQUNMZ0QsYUFBSy9GLE1BQUw7QUFDRDtBQUNELFVBQUkrRixPQUFPcEcsVUFBWCxFQUF1QjtBQUNyQndELDBCQUFrQjJDLEVBQWxCO0FBQ0FDLGFBQUsvQyxRQUFRK0MsRUFBUixDQUFMO0FBQ0Q7QUFDREQsV0FBS0MsRUFBTDs7QUFFQSxhQUFPRCxFQUFQO0FBQ0Q7O0FBRURwQyxpQkFBYTNELHVCQUFiOztBQUVBLFFBQUkyRCxlQUFlL0QsVUFBZixJQUE2QnVELGdCQUFnQjNELE1BQU1HLE1BQXZELEVBQStEO0FBQzdELGFBQU9nRSxVQUFQO0FBQ0QsS0FGRCxNQUVPO0FBQ0wsVUFBSUEsZUFBZS9ELFVBQWYsSUFBNkJ1RCxjQUFjM0QsTUFBTUcsTUFBckQsRUFBNkQ7QUFDM0QrRSxpQkFBUyxFQUFFckUsTUFBTSxLQUFSLEVBQWVFLGFBQWEsY0FBNUIsRUFBVDtBQUNEOztBQUVELFlBQU15RCxtQkFBbUIsSUFBbkIsRUFBeUJQLG1CQUF6QixFQUE4Q0QsY0FBOUMsQ0FBTjtBQUNEO0FBQ0Y7O0FBRUQsU0FBTztBQUNMMUUsaUJBQWFBLFdBRFI7QUFFTFMsV0FBYUE7QUFGUixHQUFQO0FBSUQsQ0FudUJnQixFQUFqQiIsImZpbGUiOiJqc29uRmllbGRFeHByZXNzaW9uUGFyc2VyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKSB7XG4gIC8qXG4gICAqIEdlbmVyYXRlZCBieSBQRUcuanMgMC44LjAuXG4gICAqXG4gICAqIGh0dHA6Ly9wZWdqcy5tYWpkYS5jei9cbiAgICovXG5cbiAgZnVuY3Rpb24gcGVnJHN1YmNsYXNzKGNoaWxkLCBwYXJlbnQpIHtcbiAgICBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH1cbiAgICBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7XG4gICAgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFN5bnRheEVycm9yKG1lc3NhZ2UsIGV4cGVjdGVkLCBmb3VuZCwgb2Zmc2V0LCBsaW5lLCBjb2x1bW4pIHtcbiAgICB0aGlzLm1lc3NhZ2UgID0gbWVzc2FnZTtcbiAgICB0aGlzLmV4cGVjdGVkID0gZXhwZWN0ZWQ7XG4gICAgdGhpcy5mb3VuZCAgICA9IGZvdW5kO1xuICAgIHRoaXMub2Zmc2V0ICAgPSBvZmZzZXQ7XG4gICAgdGhpcy5saW5lICAgICA9IGxpbmU7XG4gICAgdGhpcy5jb2x1bW4gICA9IGNvbHVtbjtcblxuICAgIHRoaXMubmFtZSAgICAgPSBcIlN5bnRheEVycm9yXCI7XG4gIH1cblxuICBwZWckc3ViY2xhc3MoU3ludGF4RXJyb3IsIEVycm9yKTtcblxuICBmdW5jdGlvbiBwYXJzZShpbnB1dCkge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB7fSxcblxuICAgICAgICBwZWckRkFJTEVEID0ge30sXG5cbiAgICAgICAgcGVnJHN0YXJ0UnVsZUZ1bmN0aW9ucyA9IHsgc3RhcnQ6IHBlZyRwYXJzZXN0YXJ0IH0sXG4gICAgICAgIHBlZyRzdGFydFJ1bGVGdW5jdGlvbiAgPSBwZWckcGFyc2VzdGFydCxcblxuICAgICAgICBwZWckYzAgPSBwZWckRkFJTEVELFxuICAgICAgICBwZWckYzEgPSBudWxsLFxuICAgICAgICBwZWckYzIgPSBcIjpcIixcbiAgICAgICAgcGVnJGMzID0geyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwiOlwiLCBkZXNjcmlwdGlvbjogXCJcXFwiOlxcXCJcIiB9LFxuICAgICAgICBwZWckYzQgPSBbXSxcbiAgICAgICAgcGVnJGM1ID0gZnVuY3Rpb24oY29sdW1uLCByZWZzKSB7IFxuICAgICAgICAgICAgdmFyIGFjY2VzcyA9IFtdO1xuICAgICAgICAgICAgaWYgKHJlZnMpIHtcbiAgICAgICAgICAgICAgdmFyIGZpcnN0QWNjZXNzID0gcmVmc1sxXTtcbiAgICAgICAgICAgICAgYWNjZXNzID0gcmVmc1syXTtcbiAgICAgICAgICAgICAgYWNjZXNzLnVuc2hpZnQoZmlyc3RBY2Nlc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgY29sdW1uTmFtZTogY29sdW1uLCBhY2Nlc3M6IGFjY2VzcyB9O1xuICAgICAgICAgIH0sXG4gICAgICAgIHBlZyRjNiA9IFwiW1wiLFxuICAgICAgICBwZWckYzcgPSB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJbXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJbXFxcIlwiIH0sXG4gICAgICAgIHBlZyRjOCA9IFwiXFxcIlwiLFxuICAgICAgICBwZWckYzkgPSB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJcXFwiXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJcXFxcXFxcIlxcXCJcIiB9LFxuICAgICAgICBwZWckYzEwID0gXCInXCIsXG4gICAgICAgIHBlZyRjMTEgPSB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCInXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCInXFxcIlwiIH0sXG4gICAgICAgIHBlZyRjMTIgPSBcIl1cIixcbiAgICAgICAgcGVnJGMxMyA9IHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcIl1cIiwgZGVzY3JpcHRpb246IFwiXFxcIl1cXFwiXCIgfSxcbiAgICAgICAgcGVnJGMxNCA9IGZ1bmN0aW9uKGtleSkgeyByZXR1cm4geyB0eXBlOiAnb2JqZWN0JywgcmVmOiBBcnJheS5pc0FycmF5KGtleSkgPyBrZXlbMV0gOiBrZXkgfTsgfSxcbiAgICAgICAgcGVnJGMxNSA9IGZ1bmN0aW9uKGluZGV4KSB7IHJldHVybiB7IHR5cGU6ICdhcnJheScsIHJlZjogcGFyc2VJbnQoaW5kZXgsIDEwKSB9OyB9LFxuICAgICAgICBwZWckYzE2ID0gZnVuY3Rpb24oa2V5KSB7IHJldHVybiB7IHR5cGU6ICdvYmplY3QnLCByZWY6IGtleSB9OyB9LFxuICAgICAgICBwZWckYzE3ID0gXCIuXCIsXG4gICAgICAgIHBlZyRjMTggPSB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCIuXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCIuXFxcIlwiIH0sXG4gICAgICAgIHBlZyRjMTkgPSAvXlteXFxdW10vLFxuICAgICAgICBwZWckYzIwID0geyB0eXBlOiBcImNsYXNzXCIsIHZhbHVlOiBcIlteXFxcXF1bXVwiLCBkZXNjcmlwdGlvbjogXCJbXlxcXFxdW11cIiB9LFxuICAgICAgICBwZWckYzIxID0gZnVuY3Rpb24oY2hhcnMpIHsgcmV0dXJuIGNoYXJzLmpvaW4oXCJcIik7IH0sXG4gICAgICAgIHBlZyRjMjIgPSAvXlteOl0vLFxuICAgICAgICBwZWckYzIzID0geyB0eXBlOiBcImNsYXNzXCIsIHZhbHVlOiBcIlteOl1cIiwgZGVzY3JpcHRpb246IFwiW146XVwiIH0sXG4gICAgICAgIHBlZyRjMjQgPSAvXlteXCJdLyxcbiAgICAgICAgcGVnJGMyNSA9IHsgdHlwZTogXCJjbGFzc1wiLCB2YWx1ZTogXCJbXlxcXCJdXCIsIGRlc2NyaXB0aW9uOiBcIlteXFxcIl1cIiB9LFxuICAgICAgICBwZWckYzI2ID0gL15bXiddLyxcbiAgICAgICAgcGVnJGMyNyA9IHsgdHlwZTogXCJjbGFzc1wiLCB2YWx1ZTogXCJbXiddXCIsIGRlc2NyaXB0aW9uOiBcIlteJ11cIiB9LFxuICAgICAgICBwZWckYzI4ID0gL15bXi5cXF1bXS8sXG4gICAgICAgIHBlZyRjMjkgPSB7IHR5cGU6IFwiY2xhc3NcIiwgdmFsdWU6IFwiW14uXFxcXF1bXVwiLCBkZXNjcmlwdGlvbjogXCJbXi5cXFxcXVtdXCIgfSxcbiAgICAgICAgcGVnJGMzMCA9IC9eWzAtOV0vLFxuICAgICAgICBwZWckYzMxID0geyB0eXBlOiBcImNsYXNzXCIsIHZhbHVlOiBcIlswLTldXCIsIGRlc2NyaXB0aW9uOiBcIlswLTldXCIgfSxcbiAgICAgICAgcGVnJGMzMiA9IGZ1bmN0aW9uKGRpZ2l0cykgeyByZXR1cm4gZGlnaXRzLmpvaW4oXCJcIik7IH0sXG5cbiAgICAgICAgcGVnJGN1cnJQb3MgICAgICAgICAgPSAwLFxuICAgICAgICBwZWckcmVwb3J0ZWRQb3MgICAgICA9IDAsXG4gICAgICAgIHBlZyRjYWNoZWRQb3MgICAgICAgID0gMCxcbiAgICAgICAgcGVnJGNhY2hlZFBvc0RldGFpbHMgPSB7IGxpbmU6IDEsIGNvbHVtbjogMSwgc2VlbkNSOiBmYWxzZSB9LFxuICAgICAgICBwZWckbWF4RmFpbFBvcyAgICAgICA9IDAsXG4gICAgICAgIHBlZyRtYXhGYWlsRXhwZWN0ZWQgID0gW10sXG4gICAgICAgIHBlZyRzaWxlbnRGYWlscyAgICAgID0gMCxcblxuICAgICAgICBwZWckcmVzdWx0O1xuXG4gICAgaWYgKFwic3RhcnRSdWxlXCIgaW4gb3B0aW9ucykge1xuICAgICAgaWYgKCEob3B0aW9ucy5zdGFydFJ1bGUgaW4gcGVnJHN0YXJ0UnVsZUZ1bmN0aW9ucykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3Qgc3RhcnQgcGFyc2luZyBmcm9tIHJ1bGUgXFxcIlwiICsgb3B0aW9ucy5zdGFydFJ1bGUgKyBcIlxcXCIuXCIpO1xuICAgICAgfVxuXG4gICAgICBwZWckc3RhcnRSdWxlRnVuY3Rpb24gPSBwZWckc3RhcnRSdWxlRnVuY3Rpb25zW29wdGlvbnMuc3RhcnRSdWxlXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXh0KCkge1xuICAgICAgcmV0dXJuIGlucHV0LnN1YnN0cmluZyhwZWckcmVwb3J0ZWRQb3MsIHBlZyRjdXJyUG9zKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvZmZzZXQoKSB7XG4gICAgICByZXR1cm4gcGVnJHJlcG9ydGVkUG9zO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpbmUoKSB7XG4gICAgICByZXR1cm4gcGVnJGNvbXB1dGVQb3NEZXRhaWxzKHBlZyRyZXBvcnRlZFBvcykubGluZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb2x1bW4oKSB7XG4gICAgICByZXR1cm4gcGVnJGNvbXB1dGVQb3NEZXRhaWxzKHBlZyRyZXBvcnRlZFBvcykuY29sdW1uO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGV4cGVjdGVkKGRlc2NyaXB0aW9uKSB7XG4gICAgICB0aHJvdyBwZWckYnVpbGRFeGNlcHRpb24oXG4gICAgICAgIG51bGwsXG4gICAgICAgIFt7IHR5cGU6IFwib3RoZXJcIiwgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uIH1dLFxuICAgICAgICBwZWckcmVwb3J0ZWRQb3NcbiAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXJyb3IobWVzc2FnZSkge1xuICAgICAgdGhyb3cgcGVnJGJ1aWxkRXhjZXB0aW9uKG1lc3NhZ2UsIG51bGwsIHBlZyRyZXBvcnRlZFBvcyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGVnJGNvbXB1dGVQb3NEZXRhaWxzKHBvcykge1xuICAgICAgZnVuY3Rpb24gYWR2YW5jZShkZXRhaWxzLCBzdGFydFBvcywgZW5kUG9zKSB7XG4gICAgICAgIHZhciBwLCBjaDtcblxuICAgICAgICBmb3IgKHAgPSBzdGFydFBvczsgcCA8IGVuZFBvczsgcCsrKSB7XG4gICAgICAgICAgY2ggPSBpbnB1dC5jaGFyQXQocCk7XG4gICAgICAgICAgaWYgKGNoID09PSBcIlxcblwiKSB7XG4gICAgICAgICAgICBpZiAoIWRldGFpbHMuc2VlbkNSKSB7IGRldGFpbHMubGluZSsrOyB9XG4gICAgICAgICAgICBkZXRhaWxzLmNvbHVtbiA9IDE7XG4gICAgICAgICAgICBkZXRhaWxzLnNlZW5DUiA9IGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT09IFwiXFxyXCIgfHwgY2ggPT09IFwiXFx1MjAyOFwiIHx8IGNoID09PSBcIlxcdTIwMjlcIikge1xuICAgICAgICAgICAgZGV0YWlscy5saW5lKys7XG4gICAgICAgICAgICBkZXRhaWxzLmNvbHVtbiA9IDE7XG4gICAgICAgICAgICBkZXRhaWxzLnNlZW5DUiA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRldGFpbHMuY29sdW1uKys7XG4gICAgICAgICAgICBkZXRhaWxzLnNlZW5DUiA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocGVnJGNhY2hlZFBvcyAhPT0gcG9zKSB7XG4gICAgICAgIGlmIChwZWckY2FjaGVkUG9zID4gcG9zKSB7XG4gICAgICAgICAgcGVnJGNhY2hlZFBvcyA9IDA7XG4gICAgICAgICAgcGVnJGNhY2hlZFBvc0RldGFpbHMgPSB7IGxpbmU6IDEsIGNvbHVtbjogMSwgc2VlbkNSOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIGFkdmFuY2UocGVnJGNhY2hlZFBvc0RldGFpbHMsIHBlZyRjYWNoZWRQb3MsIHBvcyk7XG4gICAgICAgIHBlZyRjYWNoZWRQb3MgPSBwb3M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwZWckY2FjaGVkUG9zRGV0YWlscztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwZWckZmFpbChleHBlY3RlZCkge1xuICAgICAgaWYgKHBlZyRjdXJyUG9zIDwgcGVnJG1heEZhaWxQb3MpIHsgcmV0dXJuOyB9XG5cbiAgICAgIGlmIChwZWckY3VyclBvcyA+IHBlZyRtYXhGYWlsUG9zKSB7XG4gICAgICAgIHBlZyRtYXhGYWlsUG9zID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHBlZyRtYXhGYWlsRXhwZWN0ZWQgPSBbXTtcbiAgICAgIH1cblxuICAgICAgcGVnJG1heEZhaWxFeHBlY3RlZC5wdXNoKGV4cGVjdGVkKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwZWckYnVpbGRFeGNlcHRpb24obWVzc2FnZSwgZXhwZWN0ZWQsIHBvcykge1xuICAgICAgZnVuY3Rpb24gY2xlYW51cEV4cGVjdGVkKGV4cGVjdGVkKSB7XG4gICAgICAgIHZhciBpID0gMTtcblxuICAgICAgICBleHBlY3RlZC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICBpZiAoYS5kZXNjcmlwdGlvbiA8IGIuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGEuZGVzY3JpcHRpb24gPiBiLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB3aGlsZSAoaSA8IGV4cGVjdGVkLmxlbmd0aCkge1xuICAgICAgICAgIGlmIChleHBlY3RlZFtpIC0gMV0gPT09IGV4cGVjdGVkW2ldKSB7XG4gICAgICAgICAgICBleHBlY3RlZC5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYnVpbGRNZXNzYWdlKGV4cGVjdGVkLCBmb3VuZCkge1xuICAgICAgICBmdW5jdGlvbiBzdHJpbmdFc2NhcGUocykge1xuICAgICAgICAgIGZ1bmN0aW9uIGhleChjaCkgeyByZXR1cm4gY2guY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTsgfVxuXG4gICAgICAgICAgcmV0dXJuIHNcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcL2csICAgJ1xcXFxcXFxcJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cIi9nLCAgICAnXFxcXFwiJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHgwOC9nLCAnXFxcXGInKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcdC9nLCAgICdcXFxcdCcpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxuL2csICAgJ1xcXFxuJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXGYvZywgICAnXFxcXGYnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcci9nLCAgICdcXFxccicpXG4gICAgICAgICAgICAucmVwbGFjZSgvW1xceDAwLVxceDA3XFx4MEJcXHgwRVxceDBGXS9nLCBmdW5jdGlvbihjaCkgeyByZXR1cm4gJ1xcXFx4MCcgKyBoZXgoY2gpOyB9KVxuICAgICAgICAgICAgLnJlcGxhY2UoL1tcXHgxMC1cXHgxRlxceDgwLVxceEZGXS9nLCAgICBmdW5jdGlvbihjaCkgeyByZXR1cm4gJ1xcXFx4JyAgKyBoZXgoY2gpOyB9KVxuICAgICAgICAgICAgLnJlcGxhY2UoL1tcXHUwMTgwLVxcdTBGRkZdL2csICAgICAgICAgZnVuY3Rpb24oY2gpIHsgcmV0dXJuICdcXFxcdTAnICsgaGV4KGNoKTsgfSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC9bXFx1MTA4MC1cXHVGRkZGXS9nLCAgICAgICAgIGZ1bmN0aW9uKGNoKSB7IHJldHVybiAnXFxcXHUnICArIGhleChjaCk7IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGV4cGVjdGVkRGVzY3MgPSBuZXcgQXJyYXkoZXhwZWN0ZWQubGVuZ3RoKSxcbiAgICAgICAgICAgIGV4cGVjdGVkRGVzYywgZm91bmREZXNjLCBpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBleHBlY3RlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGV4cGVjdGVkRGVzY3NbaV0gPSBleHBlY3RlZFtpXS5kZXNjcmlwdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGV4cGVjdGVkRGVzYyA9IGV4cGVjdGVkLmxlbmd0aCA+IDFcbiAgICAgICAgICA/IGV4cGVjdGVkRGVzY3Muc2xpY2UoMCwgLTEpLmpvaW4oXCIsIFwiKVxuICAgICAgICAgICAgICArIFwiIG9yIFwiXG4gICAgICAgICAgICAgICsgZXhwZWN0ZWREZXNjc1tleHBlY3RlZC5sZW5ndGggLSAxXVxuICAgICAgICAgIDogZXhwZWN0ZWREZXNjc1swXTtcblxuICAgICAgICBmb3VuZERlc2MgPSBmb3VuZCA/IFwiXFxcIlwiICsgc3RyaW5nRXNjYXBlKGZvdW5kKSArIFwiXFxcIlwiIDogXCJlbmQgb2YgaW5wdXRcIjtcblxuICAgICAgICByZXR1cm4gXCJFeHBlY3RlZCBcIiArIGV4cGVjdGVkRGVzYyArIFwiIGJ1dCBcIiArIGZvdW5kRGVzYyArIFwiIGZvdW5kLlwiO1xuICAgICAgfVxuXG4gICAgICB2YXIgcG9zRGV0YWlscyA9IHBlZyRjb21wdXRlUG9zRGV0YWlscyhwb3MpLFxuICAgICAgICAgIGZvdW5kICAgICAgPSBwb3MgPCBpbnB1dC5sZW5ndGggPyBpbnB1dC5jaGFyQXQocG9zKSA6IG51bGw7XG5cbiAgICAgIGlmIChleHBlY3RlZCAhPT0gbnVsbCkge1xuICAgICAgICBjbGVhbnVwRXhwZWN0ZWQoZXhwZWN0ZWQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IFN5bnRheEVycm9yKFxuICAgICAgICBtZXNzYWdlICE9PSBudWxsID8gbWVzc2FnZSA6IGJ1aWxkTWVzc2FnZShleHBlY3RlZCwgZm91bmQpLFxuICAgICAgICBleHBlY3RlZCxcbiAgICAgICAgZm91bmQsXG4gICAgICAgIHBvcyxcbiAgICAgICAgcG9zRGV0YWlscy5saW5lLFxuICAgICAgICBwb3NEZXRhaWxzLmNvbHVtblxuICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwZWckcGFyc2VzdGFydCgpIHtcbiAgICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNjtcblxuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIHMxID0gcGVnJHBhcnNlc3RyaW5nV2l0aG91dENvbG9uKCk7XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckY3VyclBvcztcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA1OCkge1xuICAgICAgICAgIHMzID0gcGVnJGMyO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzKTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNlYnJhY2tldEluZGV4UmVmKCk7XG4gICAgICAgICAgaWYgKHM0ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRwYXJzZWJyYWNrZXRTdHJpbmdSZWYoKTtcbiAgICAgICAgICAgIGlmIChzNCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNCA9IHBlZyRwYXJzZWNvbG9uUmVmZXJlbmNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBbXTtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlYnJhY2tldEluZGV4UmVmKCk7XG4gICAgICAgICAgICBpZiAoczYgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczYgPSBwZWckcGFyc2VicmFja2V0U3RyaW5nUmVmKCk7XG4gICAgICAgICAgICAgIGlmIChzNiA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlZG90UmVmZXJlbmNlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNS5wdXNoKHM2KTtcbiAgICAgICAgICAgICAgczYgPSBwZWckcGFyc2VicmFja2V0SW5kZXhSZWYoKTtcbiAgICAgICAgICAgICAgaWYgKHM2ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczYgPSBwZWckcGFyc2VicmFja2V0U3RyaW5nUmVmKCk7XG4gICAgICAgICAgICAgICAgaWYgKHM2ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZWRvdFJlZmVyZW5jZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHMzID0gW3MzLCBzNCwgczVdO1xuICAgICAgICAgICAgICBzMiA9IHMzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgICAgICAgICAgczIgPSBwZWckYzA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgICAgICBzMiA9IHBlZyRjMDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgICAgICBzMiA9IHBlZyRjMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczIgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMiA9IHBlZyRjMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckcmVwb3J0ZWRQb3MgPSBzMDtcbiAgICAgICAgICBzMSA9IHBlZyRjNShzMSwgczIpO1xuICAgICAgICAgIHMwID0gczE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRjMDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckYzA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwZWckcGFyc2VicmFja2V0U3RyaW5nUmVmKCkge1xuICAgICAgdmFyIHMwLCBzMSwgczIsIHMzLCBzNCwgczU7XG5cbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDkxKSB7XG4gICAgICAgIHMxID0gcGVnJGM2O1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNyk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM0KSB7XG4gICAgICAgICAgczMgPSBwZWckYzg7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzkpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2VzdHJpbmdXaXRob3V0RG91YmxlUXVvdGVzKCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM0KSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJGM4O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOSk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzMyA9IFtzMywgczQsIHM1XTtcbiAgICAgICAgICAgICAgczIgPSBzMztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgICAgICAgIHMyID0gcGVnJGMwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICAgICAgczIgPSBwZWckYzA7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgICAgczIgPSBwZWckYzA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMyID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIgPSBwZWckY3VyclBvcztcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM5KSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRjMTA7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTEpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczQgPSBwZWckcGFyc2VzdHJpbmdXaXRob3V0U2luZ2xlUXVvdGVzKCk7XG4gICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzOSkge1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJGMxMDtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTEpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczMgPSBbczMsIHM0LCBzNV07XG4gICAgICAgICAgICAgICAgczIgPSBzMztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICAgICAgICAgIHMyID0gcGVnJGMwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICAgICAgICBzMiA9IHBlZyRjMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgICAgICAgIHMyID0gcGVnJGMwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczIgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMyID0gcGVnJHBhcnNlc3RyaW5nV2l0aG91dFNxdWFyZUJyYWNrZXRzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gOTMpIHtcbiAgICAgICAgICAgIHMzID0gcGVnJGMxMjtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMyk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckcmVwb3J0ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGMxNChzMik7XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckYzA7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckYzA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJGMwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gczA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGVnJHBhcnNlYnJhY2tldEluZGV4UmVmKCkge1xuICAgICAgdmFyIHMwLCBzMSwgczIsIHMzO1xuXG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA5MSkge1xuICAgICAgICBzMSA9IHBlZyRjNjtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzcpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckcGFyc2VpbnRlZ2VyKCk7XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gOTMpIHtcbiAgICAgICAgICAgIHMzID0gcGVnJGMxMjtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMyk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckcmVwb3J0ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGMxNShzMik7XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckYzA7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckYzA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJGMwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gczA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGVnJHBhcnNlY29sb25SZWZlcmVuY2UoKSB7XG4gICAgICB2YXIgczAsIHMxO1xuXG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBwZWckcGFyc2VzdHJpbmdXaXRob3V0U3F1YXJlQnJhY2tldHNPckRvdHMoKTtcbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckcmVwb3J0ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzE2KHMxKTtcbiAgICAgIH1cbiAgICAgIHMwID0gczE7XG5cbiAgICAgIHJldHVybiBzMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwZWckcGFyc2Vkb3RSZWZlcmVuY2UoKSB7XG4gICAgICB2YXIgczAsIHMxLCBzMjtcblxuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDYpIHtcbiAgICAgICAgczEgPSBwZWckYzE3O1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTgpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckcGFyc2VzdHJpbmdXaXRob3V0U3F1YXJlQnJhY2tldHNPckRvdHMoKTtcbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHJlcG9ydGVkUG9zID0gczA7XG4gICAgICAgICAgczEgPSBwZWckYzE2KHMyKTtcbiAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckYzA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJGMwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gczA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGVnJHBhcnNlc3RyaW5nV2l0aG91dFNxdWFyZUJyYWNrZXRzKCkge1xuICAgICAgdmFyIHMwLCBzMSwgczI7XG5cbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBzMSA9IFtdO1xuICAgICAgaWYgKHBlZyRjMTkudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICBzMiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMCk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICB3aGlsZSAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMS5wdXNoKHMyKTtcbiAgICAgICAgICBpZiAocGVnJGMxOS50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgICBzMiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjApOyB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMSA9IHBlZyRjMDtcbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckcmVwb3J0ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzIxKHMxKTtcbiAgICAgIH1cbiAgICAgIHMwID0gczE7XG5cbiAgICAgIHJldHVybiBzMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwZWckcGFyc2VzdHJpbmdXaXRob3V0Q29sb24oKSB7XG4gICAgICB2YXIgczAsIHMxLCBzMjtcblxuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIHMxID0gW107XG4gICAgICBpZiAocGVnJGMyMi50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIzKTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHdoaWxlIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMxLnB1c2goczIpO1xuICAgICAgICAgIGlmIChwZWckYzIyLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMyk7IH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJGMwO1xuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRyZXBvcnRlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMjEoczEpO1xuICAgICAgfVxuICAgICAgczAgPSBzMTtcblxuICAgICAgcmV0dXJuIHMwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlZyRwYXJzZXN0cmluZ1dpdGhvdXREb3VibGVRdW90ZXMoKSB7XG4gICAgICB2YXIgczAsIHMxLCBzMjtcblxuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIHMxID0gW107XG4gICAgICBpZiAocGVnJGMyNC50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI1KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHdoaWxlIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMxLnB1c2goczIpO1xuICAgICAgICAgIGlmIChwZWckYzI0LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNSk7IH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJGMwO1xuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRyZXBvcnRlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMjEoczEpO1xuICAgICAgfVxuICAgICAgczAgPSBzMTtcblxuICAgICAgcmV0dXJuIHMwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlZyRwYXJzZXN0cmluZ1dpdGhvdXRTaW5nbGVRdW90ZXMoKSB7XG4gICAgICB2YXIgczAsIHMxLCBzMjtcblxuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIHMxID0gW107XG4gICAgICBpZiAocGVnJGMyNi50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI3KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHdoaWxlIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMxLnB1c2goczIpO1xuICAgICAgICAgIGlmIChwZWckYzI2LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNyk7IH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJGMwO1xuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRyZXBvcnRlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMjEoczEpO1xuICAgICAgfVxuICAgICAgczAgPSBzMTtcblxuICAgICAgcmV0dXJuIHMwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlZyRwYXJzZXN0cmluZ1dpdGhvdXRTcXVhcmVCcmFja2V0c09yRG90cygpIHtcbiAgICAgIHZhciBzMCwgczEsIHMyO1xuXG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBbXTtcbiAgICAgIGlmIChwZWckYzI4LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgczIgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjkpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgd2hpbGUgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczEucHVzaChzMik7XG4gICAgICAgICAgaWYgKHBlZyRjMjgudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgICAgczIgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI5KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckYzA7XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHJlcG9ydGVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMyMShzMSk7XG4gICAgICB9XG4gICAgICBzMCA9IHMxO1xuXG4gICAgICByZXR1cm4gczA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGVnJHBhcnNlaW50ZWdlcigpIHtcbiAgICAgIHZhciBzMCwgczEsIHMyO1xuXG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBbXTtcbiAgICAgIGlmIChwZWckYzMwLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgczIgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzEpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgd2hpbGUgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczEucHVzaChzMik7XG4gICAgICAgICAgaWYgKHBlZyRjMzAudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgICAgczIgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMxKTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckYzA7XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHJlcG9ydGVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMzMihzMSk7XG4gICAgICB9XG4gICAgICBzMCA9IHMxO1xuXG4gICAgICByZXR1cm4gczA7XG4gICAgfVxuXG4gICAgcGVnJHJlc3VsdCA9IHBlZyRzdGFydFJ1bGVGdW5jdGlvbigpO1xuXG4gICAgaWYgKHBlZyRyZXN1bHQgIT09IHBlZyRGQUlMRUQgJiYgcGVnJGN1cnJQb3MgPT09IGlucHV0Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHBlZyRyZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwZWckcmVzdWx0ICE9PSBwZWckRkFJTEVEICYmIHBlZyRjdXJyUG9zIDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgIHBlZyRmYWlsKHsgdHlwZTogXCJlbmRcIiwgZGVzY3JpcHRpb246IFwiZW5kIG9mIGlucHV0XCIgfSk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IHBlZyRidWlsZEV4Y2VwdGlvbihudWxsLCBwZWckbWF4RmFpbEV4cGVjdGVkLCBwZWckbWF4RmFpbFBvcyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBTeW50YXhFcnJvcjogU3ludGF4RXJyb3IsXG4gICAgcGFyc2U6ICAgICAgIHBhcnNlXG4gIH07XG59KSgpO1xuIl19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/utils/classUtils.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _create = require(\"babel-runtime/core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"babel-runtime/helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.inherits = inherits;\nexports.isSubclassOf = isSubclassOf;\n\nvar _lodash = require(\"lodash\");\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Makes the `Constructor` inherit `SuperConstructor`.\n *\n * Calls node.js `util.inherits` but also copies the \"static\" properties from\n * `SuperConstructor` to `Constructor`.\n *\n * This function is taken from Babel transpiler.\n *\n * @param {Object} subClass\n * @param {Object} superClass\n */\nfunction inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (superClass) {\n    subClass.__proto__ = superClass;\n  }\n\n  return subClass;\n}\n\n/**\n * Tests if a constructor function inherits another constructor function.\n *\n * @param {Object} Constructor\n * @param {Object} SuperConstructor\n * @returns {boolean}\n */\nfunction isSubclassOf(Constructor, SuperConstructor) {\n  if (!_lodash2.default.isFunction(SuperConstructor)) {\n    return false;\n  }\n\n  while (_lodash2.default.isFunction(Constructor)) {\n    if (Constructor === SuperConstructor) return true;\n    var proto = Constructor.prototype.__proto__;\n    Constructor = proto && proto.constructor;\n  }\n\n  return false;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsYXNzVXRpbHMuanMiXSwibmFtZXMiOlsiaW5oZXJpdHMiLCJpc1N1YmNsYXNzT2YiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJUeXBlRXJyb3IiLCJwcm90b3R5cGUiLCJjb25zdHJ1Y3RvciIsInZhbHVlIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwiX19wcm90b19fIiwiQ29uc3RydWN0b3IiLCJTdXBlckNvbnN0cnVjdG9yIiwiaXNGdW5jdGlvbiIsInByb3RvIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztRQWFnQkEsUSxHQUFBQSxRO1FBNEJBQyxZLEdBQUFBLFk7O0FBekNoQjs7Ozs7O0FBRUE7Ozs7Ozs7Ozs7O0FBV08sU0FBU0QsUUFBVCxDQUFrQkUsUUFBbEIsRUFBNEJDLFVBQTVCLEVBQXdDO0FBQzdDLE1BQUksT0FBT0EsVUFBUCxLQUFzQixVQUF0QixJQUFvQ0EsZUFBZSxJQUF2RCxFQUE2RDtBQUMzRCxVQUFNLElBQUlDLFNBQUosQ0FBYyxxRUFBb0VELFVBQXBFLHVEQUFvRUEsVUFBcEUsRUFBZCxDQUFOO0FBQ0Q7O0FBRURELFdBQVNHLFNBQVQsR0FBcUIsc0JBQWNGLGNBQWNBLFdBQVdFLFNBQXZDLEVBQWtEO0FBQ3JFQyxpQkFBYTtBQUNYQyxhQUFPTCxRQURJO0FBRVhNLGtCQUFZLEtBRkQ7QUFHWEMsZ0JBQVUsSUFIQztBQUlYQyxvQkFBYztBQUpIO0FBRHdELEdBQWxELENBQXJCOztBQVNBLE1BQUlQLFVBQUosRUFBZ0I7QUFDZEQsYUFBU1MsU0FBVCxHQUFxQlIsVUFBckI7QUFDRDs7QUFFRCxTQUFPRCxRQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7QUFPTyxTQUFTRCxZQUFULENBQXNCVyxXQUF0QixFQUFtQ0MsZ0JBQW5DLEVBQXFEO0FBQzFELE1BQUksQ0FBQyxpQkFBRUMsVUFBRixDQUFhRCxnQkFBYixDQUFMLEVBQXFDO0FBQ25DLFdBQU8sS0FBUDtBQUNEOztBQUVELFNBQU8saUJBQUVDLFVBQUYsQ0FBYUYsV0FBYixDQUFQLEVBQWtDO0FBQ2hDLFFBQUlBLGdCQUFnQkMsZ0JBQXBCLEVBQXNDLE9BQU8sSUFBUDtBQUN0QyxRQUFJRSxRQUFRSCxZQUFZUCxTQUFaLENBQXNCTSxTQUFsQztBQUNBQyxrQkFBY0csU0FBU0EsTUFBTVQsV0FBN0I7QUFDRDs7QUFFRCxTQUFPLEtBQVA7QUFDRCIsImZpbGUiOiJjbGFzc1V0aWxzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxuLyoqXG4gKiBNYWtlcyB0aGUgYENvbnN0cnVjdG9yYCBpbmhlcml0IGBTdXBlckNvbnN0cnVjdG9yYC5cbiAqXG4gKiBDYWxscyBub2RlLmpzIGB1dGlsLmluaGVyaXRzYCBidXQgYWxzbyBjb3BpZXMgdGhlIFwic3RhdGljXCIgcHJvcGVydGllcyBmcm9tXG4gKiBgU3VwZXJDb25zdHJ1Y3RvcmAgdG8gYENvbnN0cnVjdG9yYC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHRha2VuIGZyb20gQmFiZWwgdHJhbnNwaWxlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gc3ViQ2xhc3NcbiAqIEBwYXJhbSB7T2JqZWN0fSBzdXBlckNsYXNzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7XG4gIH1cblxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG5cbiAgaWYgKHN1cGVyQ2xhc3MpIHtcbiAgICBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xuICB9XG5cbiAgcmV0dXJuIHN1YkNsYXNzO1xufVxuXG4vKipcbiAqIFRlc3RzIGlmIGEgY29uc3RydWN0b3IgZnVuY3Rpb24gaW5oZXJpdHMgYW5vdGhlciBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gQ29uc3RydWN0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBTdXBlckNvbnN0cnVjdG9yXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU3ViY2xhc3NPZihDb25zdHJ1Y3RvciwgU3VwZXJDb25zdHJ1Y3Rvcikge1xuICBpZiAoIV8uaXNGdW5jdGlvbihTdXBlckNvbnN0cnVjdG9yKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHdoaWxlIChfLmlzRnVuY3Rpb24oQ29uc3RydWN0b3IpKSB7XG4gICAgaWYgKENvbnN0cnVjdG9yID09PSBTdXBlckNvbnN0cnVjdG9yKSByZXR1cm4gdHJ1ZTtcbiAgICBsZXQgcHJvdG8gPSBDb25zdHJ1Y3Rvci5wcm90b3R5cGUuX19wcm90b19fO1xuICAgIENvbnN0cnVjdG9yID0gcHJvdG8gJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG4iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/SelectOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _WrappingQueryBuilderOperation = require('./WrappingQueryBuilderOperation');\n\nvar _WrappingQueryBuilderOperation2 = _interopRequireDefault(_WrappingQueryBuilderOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SelectOperation = function (_WrappingQueryBuilder) {\n  (0, _inherits3.default)(SelectOperation, _WrappingQueryBuilder);\n\n  function SelectOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, SelectOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _WrappingQueryBuilder.call(this, name, opt));\n\n    _this.selections = [];\n    return _this;\n  }\n\n  SelectOperation.parseSelection = function parseSelection(selection) {\n    if (!_lodash2.default.isString(selection)) {\n      return null;\n    }\n\n    // Discard the possible alias.\n    selection = selection.split(/\\s+as\\s+/i)[0].trim();\n    var dotIdx = selection.lastIndexOf('.');\n\n    if (dotIdx !== -1) {\n      return {\n        table: selection.substr(0, dotIdx),\n        column: selection.substr(dotIdx + 1)\n      };\n    } else {\n      return {\n        table: null,\n        column: selection\n      };\n    }\n  };\n\n  SelectOperation.prototype.call = function call(builder, args) {\n    var selections = _lodash2.default.flatten(args);\n\n    // Don't add an empty selection.\n    if (selections.length === 0) {\n      return false;\n    }\n\n    var ret = _WrappingQueryBuilder.prototype.call.call(this, builder, selections);\n\n    for (var i = 0, l = selections.length; i < l; ++i) {\n      var selection = SelectOperation.parseSelection(selections[i]);\n\n      if (selection) {\n        this.selections.push(selection);\n      }\n    }\n\n    return ret;\n  };\n\n  SelectOperation.prototype.onBuild = function onBuild(builder) {\n    builder[this.name].apply(builder, this.args);\n  };\n\n  SelectOperation.prototype.hasSelection = function hasSelection(fromTable, selection) {\n    var testSelect = SelectOperation.parseSelection(selection);\n\n    if (!testSelect) {\n      return false;\n    }\n\n    var testTable = testSelect.table || fromTable;\n    var testColumn = testSelect.column;\n\n    for (var i = 0, l = this.selections.length; i < l; ++i) {\n      var table = this.selections[i].table || fromTable;\n      var column = this.selections[i].column;\n\n      if (testTable === table && (column === testColumn || column === '*')) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  return SelectOperation;\n}(_WrappingQueryBuilderOperation2.default);\n\nexports.default = SelectOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNlbGVjdE9wZXJhdGlvbi5qcyJdLCJuYW1lcyI6WyJTZWxlY3RPcGVyYXRpb24iLCJuYW1lIiwib3B0Iiwic2VsZWN0aW9ucyIsInBhcnNlU2VsZWN0aW9uIiwic2VsZWN0aW9uIiwiaXNTdHJpbmciLCJzcGxpdCIsInRyaW0iLCJkb3RJZHgiLCJsYXN0SW5kZXhPZiIsInRhYmxlIiwic3Vic3RyIiwiY29sdW1uIiwiY2FsbCIsImJ1aWxkZXIiLCJhcmdzIiwiZmxhdHRlbiIsImxlbmd0aCIsInJldCIsImkiLCJsIiwicHVzaCIsIm9uQnVpbGQiLCJhcHBseSIsImhhc1NlbGVjdGlvbiIsImZyb21UYWJsZSIsInRlc3RTZWxlY3QiLCJ0ZXN0VGFibGUiLCJ0ZXN0Q29sdW1uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0lBRXFCQSxlOzs7QUFFbkIsMkJBQVlDLElBQVosRUFBa0JDLEdBQWxCLEVBQXVCO0FBQUE7O0FBQUEsK0RBQ3JCLGlDQUFNRCxJQUFOLEVBQVlDLEdBQVosQ0FEcUI7O0FBRXJCLFVBQUtDLFVBQUwsR0FBa0IsRUFBbEI7QUFGcUI7QUFHdEI7O2tCQUVNQyxjLDJCQUFlQyxTLEVBQVc7QUFDL0IsUUFBSSxDQUFDLGlCQUFFQyxRQUFGLENBQVdELFNBQVgsQ0FBTCxFQUE0QjtBQUMxQixhQUFPLElBQVA7QUFDRDs7QUFFRDtBQUNBQSxnQkFBWUEsVUFBVUUsS0FBVixDQUFnQixXQUFoQixFQUE2QixDQUE3QixFQUFnQ0MsSUFBaEMsRUFBWjtBQUNBLFFBQU1DLFNBQVNKLFVBQVVLLFdBQVYsQ0FBc0IsR0FBdEIsQ0FBZjs7QUFFQSxRQUFJRCxXQUFXLENBQUMsQ0FBaEIsRUFBbUI7QUFDakIsYUFBTztBQUNMRSxlQUFPTixVQUFVTyxNQUFWLENBQWlCLENBQWpCLEVBQW9CSCxNQUFwQixDQURGO0FBRUxJLGdCQUFRUixVQUFVTyxNQUFWLENBQWlCSCxTQUFTLENBQTFCO0FBRkgsT0FBUDtBQUlELEtBTEQsTUFLTztBQUNMLGFBQU87QUFDTEUsZUFBTyxJQURGO0FBRUxFLGdCQUFRUjtBQUZILE9BQVA7QUFJRDtBQUNGLEc7OzRCQUVEUyxJLGlCQUFLQyxPLEVBQVNDLEksRUFBTTtBQUNsQixRQUFNYixhQUFhLGlCQUFFYyxPQUFGLENBQVVELElBQVYsQ0FBbkI7O0FBRUE7QUFDQSxRQUFJYixXQUFXZSxNQUFYLEtBQXNCLENBQTFCLEVBQTZCO0FBQzNCLGFBQU8sS0FBUDtBQUNEOztBQUVELFFBQU1DLE1BQU0sZ0NBQU1MLElBQU4sWUFBV0MsT0FBWCxFQUFvQlosVUFBcEIsQ0FBWjs7QUFFQSxTQUFLLElBQUlpQixJQUFJLENBQVIsRUFBV0MsSUFBSWxCLFdBQVdlLE1BQS9CLEVBQXVDRSxJQUFJQyxDQUEzQyxFQUE4QyxFQUFFRCxDQUFoRCxFQUFtRDtBQUNqRCxVQUFNZixZQUFZTCxnQkFBZ0JJLGNBQWhCLENBQStCRCxXQUFXaUIsQ0FBWCxDQUEvQixDQUFsQjs7QUFFQSxVQUFJZixTQUFKLEVBQWU7QUFDYixhQUFLRixVQUFMLENBQWdCbUIsSUFBaEIsQ0FBcUJqQixTQUFyQjtBQUNEO0FBQ0Y7O0FBRUQsV0FBT2MsR0FBUDtBQUNELEc7OzRCQUVESSxPLG9CQUFRUixPLEVBQVM7QUFDZkEsWUFBUSxLQUFLZCxJQUFiLEVBQW1CdUIsS0FBbkIsQ0FBeUJULE9BQXpCLEVBQWtDLEtBQUtDLElBQXZDO0FBQ0QsRzs7NEJBRURTLFkseUJBQWFDLFMsRUFBV3JCLFMsRUFBVztBQUNqQyxRQUFNc0IsYUFBYTNCLGdCQUFnQkksY0FBaEIsQ0FBK0JDLFNBQS9CLENBQW5COztBQUVBLFFBQUksQ0FBQ3NCLFVBQUwsRUFBaUI7QUFDZixhQUFPLEtBQVA7QUFDRDs7QUFFRCxRQUFNQyxZQUFZRCxXQUFXaEIsS0FBWCxJQUFvQmUsU0FBdEM7QUFDQSxRQUFNRyxhQUFhRixXQUFXZCxNQUE5Qjs7QUFFQSxTQUFLLElBQUlPLElBQUksQ0FBUixFQUFXQyxJQUFJLEtBQUtsQixVQUFMLENBQWdCZSxNQUFwQyxFQUE0Q0UsSUFBSUMsQ0FBaEQsRUFBbUQsRUFBRUQsQ0FBckQsRUFBd0Q7QUFDdEQsVUFBTVQsUUFBUSxLQUFLUixVQUFMLENBQWdCaUIsQ0FBaEIsRUFBbUJULEtBQW5CLElBQTRCZSxTQUExQztBQUNBLFVBQU1iLFNBQVMsS0FBS1YsVUFBTCxDQUFnQmlCLENBQWhCLEVBQW1CUCxNQUFsQzs7QUFFQSxVQUFJZSxjQUFjakIsS0FBZCxLQUF3QkUsV0FBV2dCLFVBQVgsSUFBeUJoQixXQUFXLEdBQTVELENBQUosRUFBc0U7QUFDcEUsZUFBTyxJQUFQO0FBQ0Q7QUFDRjs7QUFFRCxXQUFPLEtBQVA7QUFDRCxHOzs7OztrQkExRWtCYixlIiwiZmlsZSI6IlNlbGVjdE9wZXJhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgV3JhcHBpbmdRdWVyeUJ1aWxkZXJPcGVyYXRpb24gZnJvbSAnLi9XcmFwcGluZ1F1ZXJ5QnVpbGRlck9wZXJhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlbGVjdE9wZXJhdGlvbiBleHRlbmRzIFdyYXBwaW5nUXVlcnlCdWlsZGVyT3BlcmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcihuYW1lLCBvcHQpIHtcbiAgICBzdXBlcihuYW1lLCBvcHQpO1xuICAgIHRoaXMuc2VsZWN0aW9ucyA9IFtdO1xuICB9XG5cbiAgc3RhdGljIHBhcnNlU2VsZWN0aW9uKHNlbGVjdGlvbikge1xuICAgIGlmICghXy5pc1N0cmluZyhzZWxlY3Rpb24pKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBEaXNjYXJkIHRoZSBwb3NzaWJsZSBhbGlhcy5cbiAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24uc3BsaXQoL1xccythc1xccysvaSlbMF0udHJpbSgpO1xuICAgIGNvbnN0IGRvdElkeCA9IHNlbGVjdGlvbi5sYXN0SW5kZXhPZignLicpO1xuXG4gICAgaWYgKGRvdElkeCAhPT0gLTEpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRhYmxlOiBzZWxlY3Rpb24uc3Vic3RyKDAsIGRvdElkeCksXG4gICAgICAgIGNvbHVtbjogc2VsZWN0aW9uLnN1YnN0cihkb3RJZHggKyAxKVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGFibGU6IG51bGwsXG4gICAgICAgIGNvbHVtbjogc2VsZWN0aW9uXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGNhbGwoYnVpbGRlciwgYXJncykge1xuICAgIGNvbnN0IHNlbGVjdGlvbnMgPSBfLmZsYXR0ZW4oYXJncyk7XG5cbiAgICAvLyBEb24ndCBhZGQgYW4gZW1wdHkgc2VsZWN0aW9uLlxuICAgIGlmIChzZWxlY3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IHJldCA9IHN1cGVyLmNhbGwoYnVpbGRlciwgc2VsZWN0aW9ucyk7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHNlbGVjdGlvbnMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICBjb25zdCBzZWxlY3Rpb24gPSBTZWxlY3RPcGVyYXRpb24ucGFyc2VTZWxlY3Rpb24oc2VsZWN0aW9uc1tpXSk7XG5cbiAgICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25zLnB1c2goc2VsZWN0aW9uKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9XG5cbiAgb25CdWlsZChidWlsZGVyKSB7XG4gICAgYnVpbGRlclt0aGlzLm5hbWVdLmFwcGx5KGJ1aWxkZXIsIHRoaXMuYXJncyk7XG4gIH1cblxuICBoYXNTZWxlY3Rpb24oZnJvbVRhYmxlLCBzZWxlY3Rpb24pIHtcbiAgICBjb25zdCB0ZXN0U2VsZWN0ID0gU2VsZWN0T3BlcmF0aW9uLnBhcnNlU2VsZWN0aW9uKHNlbGVjdGlvbik7XG5cbiAgICBpZiAoIXRlc3RTZWxlY3QpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCB0ZXN0VGFibGUgPSB0ZXN0U2VsZWN0LnRhYmxlIHx8IGZyb21UYWJsZTtcbiAgICBjb25zdCB0ZXN0Q29sdW1uID0gdGVzdFNlbGVjdC5jb2x1bW47XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMuc2VsZWN0aW9ucy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgIGNvbnN0IHRhYmxlID0gdGhpcy5zZWxlY3Rpb25zW2ldLnRhYmxlIHx8IGZyb21UYWJsZTtcbiAgICAgIGNvbnN0IGNvbHVtbiA9IHRoaXMuc2VsZWN0aW9uc1tpXS5jb2x1bW47XG5cbiAgICAgIGlmICh0ZXN0VGFibGUgPT09IHRhYmxlICYmIChjb2x1bW4gPT09IHRlc3RDb2x1bW4gfHwgY29sdW1uID09PSAnKicpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/WhereRefOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _WrappingQueryBuilderOperation = require('./WrappingQueryBuilderOperation');\n\nvar _WrappingQueryBuilderOperation2 = _interopRequireDefault(_WrappingQueryBuilderOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar WhereRefOperation = function (_WrappingQueryBuilder) {\n  (0, _inherits3.default)(WhereRefOperation, _WrappingQueryBuilder);\n\n  function WhereRefOperation() {\n    (0, _classCallCheck3.default)(this, WhereRefOperation);\n    return (0, _possibleConstructorReturn3.default)(this, _WrappingQueryBuilder.apply(this, arguments));\n  }\n\n  WhereRefOperation.prototype.onBuild = function onBuild(knexBuilder) {\n    if (this.args.length === 2) {\n      this.whereRef(knexBuilder, this.args[0], '=', this.args[1]);\n    } else if (this.args.length === 3) {\n      this.whereRef(knexBuilder, this.args[0], this.args[1], this.args[2]);\n    } else {\n      throw new Error('expected 2 or 3 arguments');\n    }\n  };\n\n  WhereRefOperation.prototype.whereRef = function whereRef(knexBuilder, lhs, op, rhs) {\n    var formatter = knexBuilder.client.formatter();\n    op = formatter.operator(op);\n\n    if (typeof lhs !== 'string' || typeof rhs !== 'string' || typeof op !== 'string') {\n      throw new Error('whereRef: invalid operands or operator');\n    }\n\n    var sql = formatter.wrap(lhs) + ' ' + op + ' ' + formatter.wrap(rhs);\n\n    if (this.opt.bool === 'or') {\n      knexBuilder.orWhereRaw(sql);\n    } else {\n      knexBuilder.whereRaw(sql);\n    }\n  };\n\n  return WhereRefOperation;\n}(_WrappingQueryBuilderOperation2.default);\n\nexports.default = WhereRefOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIldoZXJlUmVmT3BlcmF0aW9uLmpzIl0sIm5hbWVzIjpbIldoZXJlUmVmT3BlcmF0aW9uIiwib25CdWlsZCIsImtuZXhCdWlsZGVyIiwiYXJncyIsImxlbmd0aCIsIndoZXJlUmVmIiwiRXJyb3IiLCJsaHMiLCJvcCIsInJocyIsImZvcm1hdHRlciIsImNsaWVudCIsIm9wZXJhdG9yIiwic3FsIiwid3JhcCIsIm9wdCIsImJvb2wiLCJvcldoZXJlUmF3Iiwid2hlcmVSYXciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7O0lBRXFCQSxpQjs7Ozs7Ozs7OEJBRW5CQyxPLG9CQUFRQyxXLEVBQWE7QUFDbkIsUUFBSSxLQUFLQyxJQUFMLENBQVVDLE1BQVYsS0FBcUIsQ0FBekIsRUFBNEI7QUFDMUIsV0FBS0MsUUFBTCxDQUFjSCxXQUFkLEVBQTJCLEtBQUtDLElBQUwsQ0FBVSxDQUFWLENBQTNCLEVBQXlDLEdBQXpDLEVBQThDLEtBQUtBLElBQUwsQ0FBVSxDQUFWLENBQTlDO0FBQ0QsS0FGRCxNQUVPLElBQUksS0FBS0EsSUFBTCxDQUFVQyxNQUFWLEtBQXFCLENBQXpCLEVBQTRCO0FBQ2pDLFdBQUtDLFFBQUwsQ0FBY0gsV0FBZCxFQUEyQixLQUFLQyxJQUFMLENBQVUsQ0FBVixDQUEzQixFQUF5QyxLQUFLQSxJQUFMLENBQVUsQ0FBVixDQUF6QyxFQUF1RCxLQUFLQSxJQUFMLENBQVUsQ0FBVixDQUF2RDtBQUNELEtBRk0sTUFFQTtBQUNMLFlBQU0sSUFBSUcsS0FBSixDQUFVLDJCQUFWLENBQU47QUFDRDtBQUNGLEc7OzhCQUVERCxRLHFCQUFTSCxXLEVBQWFLLEcsRUFBS0MsRSxFQUFJQyxHLEVBQUs7QUFDbEMsUUFBTUMsWUFBWVIsWUFBWVMsTUFBWixDQUFtQkQsU0FBbkIsRUFBbEI7QUFDQUYsU0FBS0UsVUFBVUUsUUFBVixDQUFtQkosRUFBbkIsQ0FBTDs7QUFFQSxRQUFJLE9BQU9ELEdBQVAsS0FBZSxRQUFmLElBQTJCLE9BQU9FLEdBQVAsS0FBZSxRQUExQyxJQUFzRCxPQUFPRCxFQUFQLEtBQWMsUUFBeEUsRUFBa0Y7QUFDaEYsWUFBTSxJQUFJRixLQUFKLENBQVUsd0NBQVYsQ0FBTjtBQUNEOztBQUVELFFBQUlPLE1BQU1ILFVBQVVJLElBQVYsQ0FBZVAsR0FBZixJQUFzQixHQUF0QixHQUE0QkMsRUFBNUIsR0FBaUMsR0FBakMsR0FBdUNFLFVBQVVJLElBQVYsQ0FBZUwsR0FBZixDQUFqRDs7QUFFQSxRQUFJLEtBQUtNLEdBQUwsQ0FBU0MsSUFBVCxLQUFrQixJQUF0QixFQUE0QjtBQUMxQmQsa0JBQVllLFVBQVosQ0FBdUJKLEdBQXZCO0FBQ0QsS0FGRCxNQUVPO0FBQ0xYLGtCQUFZZ0IsUUFBWixDQUFxQkwsR0FBckI7QUFDRDtBQUNGLEc7Ozs7O2tCQTNCa0JiLGlCIiwiZmlsZSI6IldoZXJlUmVmT3BlcmF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFdyYXBwaW5nUXVlcnlCdWlsZGVyT3BlcmF0aW9uIGZyb20gJy4vV3JhcHBpbmdRdWVyeUJ1aWxkZXJPcGVyYXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXaGVyZVJlZk9wZXJhdGlvbiBleHRlbmRzIFdyYXBwaW5nUXVlcnlCdWlsZGVyT3BlcmF0aW9uIHtcblxuICBvbkJ1aWxkKGtuZXhCdWlsZGVyKSB7XG4gICAgaWYgKHRoaXMuYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgIHRoaXMud2hlcmVSZWYoa25leEJ1aWxkZXIsIHRoaXMuYXJnc1swXSwgJz0nLCB0aGlzLmFyZ3NbMV0pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5hcmdzLmxlbmd0aCA9PT0gMykge1xuICAgICAgdGhpcy53aGVyZVJlZihrbmV4QnVpbGRlciwgdGhpcy5hcmdzWzBdLCB0aGlzLmFyZ3NbMV0sIHRoaXMuYXJnc1syXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZXhwZWN0ZWQgMiBvciAzIGFyZ3VtZW50cycpO1xuICAgIH1cbiAgfVxuXG4gIHdoZXJlUmVmKGtuZXhCdWlsZGVyLCBsaHMsIG9wLCByaHMpIHtcbiAgICBjb25zdCBmb3JtYXR0ZXIgPSBrbmV4QnVpbGRlci5jbGllbnQuZm9ybWF0dGVyKCk7XG4gICAgb3AgPSBmb3JtYXR0ZXIub3BlcmF0b3Iob3ApO1xuXG4gICAgaWYgKHR5cGVvZiBsaHMgIT09ICdzdHJpbmcnIHx8IHR5cGVvZiByaHMgIT09ICdzdHJpbmcnIHx8IHR5cGVvZiBvcCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignd2hlcmVSZWY6IGludmFsaWQgb3BlcmFuZHMgb3Igb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICBsZXQgc3FsID0gZm9ybWF0dGVyLndyYXAobGhzKSArICcgJyArIG9wICsgJyAnICsgZm9ybWF0dGVyLndyYXAocmhzKTtcblxuICAgIGlmICh0aGlzLm9wdC5ib29sID09PSAnb3InKSB7XG4gICAgICBrbmV4QnVpbGRlci5vcldoZXJlUmF3KHNxbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtuZXhCdWlsZGVyLndoZXJlUmF3KHNxbCk7XG4gICAgfVxuICB9XG59XG5cbiJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/ReturningOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _flatten = require('lodash/flatten');\n\nvar _flatten2 = _interopRequireDefault(_flatten);\n\nvar _WrappingQueryBuilderOperation = require('./WrappingQueryBuilderOperation');\n\nvar _WrappingQueryBuilderOperation2 = _interopRequireDefault(_WrappingQueryBuilderOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * This class's only purpose is to normalize the arguments as an array.\n *\n * In knex, if a single column is given to `returning` it returns an array with the that column's value\n * in it. If an array is given with a one item inside, the return value is an object.\n */\nvar ReturningOperation = function (_WrappingQueryBuilder) {\n  (0, _inherits3.default)(ReturningOperation, _WrappingQueryBuilder);\n\n  function ReturningOperation() {\n    (0, _classCallCheck3.default)(this, ReturningOperation);\n    return (0, _possibleConstructorReturn3.default)(this, _WrappingQueryBuilder.apply(this, arguments));\n  }\n\n  ReturningOperation.prototype.call = function call(builder, args) {\n    args = (0, _flatten2.default)(args);\n\n    // Don't add an empty returning list.\n    if (args.length === 0) {\n      return false;\n    }\n\n    return _WrappingQueryBuilder.prototype.call.call(this, builder, args);\n  };\n\n  ReturningOperation.prototype.onBuild = function onBuild(knexBuilder) {\n    // Always pass an array of columns to knex.returning.\n    knexBuilder.returning(this.args);\n  };\n\n  return ReturningOperation;\n}(_WrappingQueryBuilderOperation2.default);\n\nexports.default = ReturningOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJldHVybmluZ09wZXJhdGlvbi5qcyJdLCJuYW1lcyI6WyJSZXR1cm5pbmdPcGVyYXRpb24iLCJjYWxsIiwiYnVpbGRlciIsImFyZ3MiLCJsZW5ndGgiLCJvbkJ1aWxkIiwia25leEJ1aWxkZXIiLCJyZXR1cm5pbmciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7QUFFQTs7Ozs7O0lBTXFCQSxrQjs7Ozs7Ozs7K0JBRW5CQyxJLGlCQUFLQyxPLEVBQVNDLEksRUFBTTtBQUNsQkEsV0FBTyx1QkFBUUEsSUFBUixDQUFQOztBQUVBO0FBQ0EsUUFBSUEsS0FBS0MsTUFBTCxLQUFnQixDQUFwQixFQUF1QjtBQUNyQixhQUFPLEtBQVA7QUFDRDs7QUFFRCxXQUFPLGdDQUFNSCxJQUFOLFlBQVdDLE9BQVgsRUFBb0JDLElBQXBCLENBQVA7QUFDRCxHOzsrQkFFREUsTyxvQkFBUUMsVyxFQUFhO0FBQ25CO0FBQ0FBLGdCQUFZQyxTQUFaLENBQXNCLEtBQUtKLElBQTNCO0FBQ0QsRzs7Ozs7a0JBaEJrQkgsa0IiLCJmaWxlIjoiUmV0dXJuaW5nT3BlcmF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZsYXR0ZW4gZnJvbSAnbG9kYXNoL2ZsYXR0ZW4nO1xuaW1wb3J0IFdyYXBwaW5nUXVlcnlCdWlsZGVyT3BlcmF0aW9uIGZyb20gJy4vV3JhcHBpbmdRdWVyeUJ1aWxkZXJPcGVyYXRpb24nO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MncyBvbmx5IHB1cnBvc2UgaXMgdG8gbm9ybWFsaXplIHRoZSBhcmd1bWVudHMgYXMgYW4gYXJyYXkuXG4gKlxuICogSW4ga25leCwgaWYgYSBzaW5nbGUgY29sdW1uIGlzIGdpdmVuIHRvIGByZXR1cm5pbmdgIGl0IHJldHVybnMgYW4gYXJyYXkgd2l0aCB0aGUgdGhhdCBjb2x1bW4ncyB2YWx1ZVxuICogaW4gaXQuIElmIGFuIGFycmF5IGlzIGdpdmVuIHdpdGggYSBvbmUgaXRlbSBpbnNpZGUsIHRoZSByZXR1cm4gdmFsdWUgaXMgYW4gb2JqZWN0LlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXR1cm5pbmdPcGVyYXRpb24gZXh0ZW5kcyBXcmFwcGluZ1F1ZXJ5QnVpbGRlck9wZXJhdGlvbiB7XG5cbiAgY2FsbChidWlsZGVyLCBhcmdzKSB7XG4gICAgYXJncyA9IGZsYXR0ZW4oYXJncyk7XG5cbiAgICAvLyBEb24ndCBhZGQgYW4gZW1wdHkgcmV0dXJuaW5nIGxpc3QuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN1cGVyLmNhbGwoYnVpbGRlciwgYXJncyk7XG4gIH1cblxuICBvbkJ1aWxkKGtuZXhCdWlsZGVyKSB7XG4gICAgLy8gQWx3YXlzIHBhc3MgYW4gYXJyYXkgb2YgY29sdW1ucyB0byBrbmV4LnJldHVybmluZy5cbiAgICBrbmV4QnVpbGRlci5yZXR1cm5pbmcodGhpcy5hcmdzKTtcbiAgfVxufSJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/WhereCompositeOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _WrappingQueryBuilderOperation = require('./WrappingQueryBuilderOperation');\n\nvar _WrappingQueryBuilderOperation2 = _interopRequireDefault(_WrappingQueryBuilderOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar WhereCompositeOperation = function (_WrappingQueryBuilder) {\n  (0, _inherits3.default)(WhereCompositeOperation, _WrappingQueryBuilder);\n\n  function WhereCompositeOperation() {\n    (0, _classCallCheck3.default)(this, WhereCompositeOperation);\n    return (0, _possibleConstructorReturn3.default)(this, _WrappingQueryBuilder.apply(this, arguments));\n  }\n\n  WhereCompositeOperation.prototype.onBuild = function onBuild(knexBuilder) {\n    if (this.args.length === 2) {\n      this.build(knexBuilder, this.args[0], '=', this.args[1]);\n    } else if (this.args.length === 3) {\n      this.build(knexBuilder, this.args[0], this.args[1], this.args[2]);\n    } else {\n      throw new Error('invalid number of arguments ' + this.args.length);\n    }\n  };\n\n  WhereCompositeOperation.prototype.build = function build(knexBuilder, cols, op, values) {\n    var colsIsArray = Array.isArray(cols);\n    var valuesIsArray = Array.isArray(values);\n\n    if (!colsIsArray && !valuesIsArray) {\n      knexBuilder.where(cols, op, values);\n    } else if (colsIsArray && cols.length === 1 && !valuesIsArray) {\n      knexBuilder.where(cols[0], op, values);\n    } else if (colsIsArray && valuesIsArray && cols.length === values.length) {\n      for (var i = 0, l = cols.length; i < l; ++i) {\n        knexBuilder.where(cols[i], op, values[i]);\n      }\n    } else {\n      throw new Error('both cols and values must have same dimensions');\n    }\n  };\n\n  return WhereCompositeOperation;\n}(_WrappingQueryBuilderOperation2.default);\n\nexports.default = WhereCompositeOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIldoZXJlQ29tcG9zaXRlT3BlcmF0aW9uLmpzIl0sIm5hbWVzIjpbIldoZXJlQ29tcG9zaXRlT3BlcmF0aW9uIiwib25CdWlsZCIsImtuZXhCdWlsZGVyIiwiYXJncyIsImxlbmd0aCIsImJ1aWxkIiwiRXJyb3IiLCJjb2xzIiwib3AiLCJ2YWx1ZXMiLCJjb2xzSXNBcnJheSIsIkFycmF5IiwiaXNBcnJheSIsInZhbHVlc0lzQXJyYXkiLCJ3aGVyZSIsImkiLCJsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7OztJQUVxQkEsdUI7Ozs7Ozs7O29DQUVuQkMsTyxvQkFBUUMsVyxFQUFhO0FBQ25CLFFBQUksS0FBS0MsSUFBTCxDQUFVQyxNQUFWLEtBQXFCLENBQXpCLEVBQTRCO0FBQzFCLFdBQUtDLEtBQUwsQ0FBV0gsV0FBWCxFQUF3QixLQUFLQyxJQUFMLENBQVUsQ0FBVixDQUF4QixFQUFzQyxHQUF0QyxFQUEyQyxLQUFLQSxJQUFMLENBQVUsQ0FBVixDQUEzQztBQUNELEtBRkQsTUFFTyxJQUFJLEtBQUtBLElBQUwsQ0FBVUMsTUFBVixLQUFxQixDQUF6QixFQUE0QjtBQUNqQyxXQUFLQyxLQUFMLENBQVdILFdBQVgsRUFBd0IsS0FBS0MsSUFBTCxDQUFVLENBQVYsQ0FBeEIsRUFBc0MsS0FBS0EsSUFBTCxDQUFVLENBQVYsQ0FBdEMsRUFBb0QsS0FBS0EsSUFBTCxDQUFVLENBQVYsQ0FBcEQ7QUFDRCxLQUZNLE1BRUE7QUFDTCxZQUFNLElBQUlHLEtBQUosa0NBQXlDLEtBQUtILElBQUwsQ0FBVUMsTUFBbkQsQ0FBTjtBQUNEO0FBQ0YsRzs7b0NBRURDLEssa0JBQU1ILFcsRUFBYUssSSxFQUFNQyxFLEVBQUlDLE0sRUFBUTtBQUNuQyxRQUFNQyxjQUFjQyxNQUFNQyxPQUFOLENBQWNMLElBQWQsQ0FBcEI7QUFDQSxRQUFNTSxnQkFBZ0JGLE1BQU1DLE9BQU4sQ0FBY0gsTUFBZCxDQUF0Qjs7QUFFQSxRQUFJLENBQUNDLFdBQUQsSUFBZ0IsQ0FBQ0csYUFBckIsRUFBb0M7QUFDbENYLGtCQUFZWSxLQUFaLENBQWtCUCxJQUFsQixFQUF3QkMsRUFBeEIsRUFBNEJDLE1BQTVCO0FBQ0QsS0FGRCxNQUVPLElBQUlDLGVBQWVILEtBQUtILE1BQUwsS0FBZ0IsQ0FBL0IsSUFBb0MsQ0FBQ1MsYUFBekMsRUFBd0Q7QUFDN0RYLGtCQUFZWSxLQUFaLENBQWtCUCxLQUFLLENBQUwsQ0FBbEIsRUFBMkJDLEVBQTNCLEVBQStCQyxNQUEvQjtBQUNELEtBRk0sTUFFQSxJQUFJQyxlQUFlRyxhQUFmLElBQWdDTixLQUFLSCxNQUFMLEtBQWdCSyxPQUFPTCxNQUEzRCxFQUFtRTtBQUN4RSxXQUFLLElBQUlXLElBQUksQ0FBUixFQUFXQyxJQUFJVCxLQUFLSCxNQUF6QixFQUFpQ1csSUFBSUMsQ0FBckMsRUFBd0MsRUFBRUQsQ0FBMUMsRUFBNkM7QUFDM0NiLG9CQUFZWSxLQUFaLENBQWtCUCxLQUFLUSxDQUFMLENBQWxCLEVBQTJCUCxFQUEzQixFQUErQkMsT0FBT00sQ0FBUCxDQUEvQjtBQUNEO0FBQ0YsS0FKTSxNQUlBO0FBQ0wsWUFBTSxJQUFJVCxLQUFKLGtEQUFOO0FBQ0Q7QUFDRixHOzs7OztrQkEzQmtCTix1QiIsImZpbGUiOiJXaGVyZUNvbXBvc2l0ZU9wZXJhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBXcmFwcGluZ1F1ZXJ5QnVpbGRlck9wZXJhdGlvbiBmcm9tICcuL1dyYXBwaW5nUXVlcnlCdWlsZGVyT3BlcmF0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2hlcmVDb21wb3NpdGVPcGVyYXRpb24gZXh0ZW5kcyBXcmFwcGluZ1F1ZXJ5QnVpbGRlck9wZXJhdGlvbiB7XG5cbiAgb25CdWlsZChrbmV4QnVpbGRlcikge1xuICAgIGlmICh0aGlzLmFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICB0aGlzLmJ1aWxkKGtuZXhCdWlsZGVyLCB0aGlzLmFyZ3NbMF0sICc9JywgdGhpcy5hcmdzWzFdKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuYXJncy5sZW5ndGggPT09IDMpIHtcbiAgICAgIHRoaXMuYnVpbGQoa25leEJ1aWxkZXIsIHRoaXMuYXJnc1swXSwgdGhpcy5hcmdzWzFdLCB0aGlzLmFyZ3NbMl0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgbnVtYmVyIG9mIGFyZ3VtZW50cyAke3RoaXMuYXJncy5sZW5ndGh9YCk7XG4gICAgfVxuICB9XG5cbiAgYnVpbGQoa25leEJ1aWxkZXIsIGNvbHMsIG9wLCB2YWx1ZXMpIHtcbiAgICBjb25zdCBjb2xzSXNBcnJheSA9IEFycmF5LmlzQXJyYXkoY29scyk7XG4gICAgY29uc3QgdmFsdWVzSXNBcnJheSA9IEFycmF5LmlzQXJyYXkodmFsdWVzKTtcblxuICAgIGlmICghY29sc0lzQXJyYXkgJiYgIXZhbHVlc0lzQXJyYXkpIHtcbiAgICAgIGtuZXhCdWlsZGVyLndoZXJlKGNvbHMsIG9wLCB2YWx1ZXMpO1xuICAgIH0gZWxzZSBpZiAoY29sc0lzQXJyYXkgJiYgY29scy5sZW5ndGggPT09IDEgJiYgIXZhbHVlc0lzQXJyYXkpIHtcbiAgICAgIGtuZXhCdWlsZGVyLndoZXJlKGNvbHNbMF0sIG9wLCB2YWx1ZXMpO1xuICAgIH0gZWxzZSBpZiAoY29sc0lzQXJyYXkgJiYgdmFsdWVzSXNBcnJheSAmJiBjb2xzLmxlbmd0aCA9PT0gdmFsdWVzLmxlbmd0aCkge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBjb2xzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICBrbmV4QnVpbGRlci53aGVyZShjb2xzW2ldLCBvcCwgdmFsdWVzW2ldKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYGJvdGggY29scyBhbmQgdmFsdWVzIG11c3QgaGF2ZSBzYW1lIGRpbWVuc2lvbnNgKTtcbiAgICB9XG4gIH1cbn1cblxuIl19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/whereInComposite/WhereInCompositeOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _WrappingQueryBuilderOperation = require('../WrappingQueryBuilderOperation');\n\nvar _WrappingQueryBuilderOperation2 = _interopRequireDefault(_WrappingQueryBuilderOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar WhereInCompositeOperation = function (_WrappingQueryBuilder) {\n  (0, _inherits3.default)(WhereInCompositeOperation, _WrappingQueryBuilder);\n\n  function WhereInCompositeOperation() {\n    (0, _classCallCheck3.default)(this, WhereInCompositeOperation);\n    return (0, _possibleConstructorReturn3.default)(this, _WrappingQueryBuilder.apply(this, arguments));\n  }\n\n  WhereInCompositeOperation.prototype.onBuild = function onBuild(knexBuilder) {\n    this.build(knexBuilder, this.args[0], this.args[1]);\n  };\n\n  WhereInCompositeOperation.prototype.build = function build(knexBuilder, columns, values) {\n    var isCompositeKey = Array.isArray(columns) && columns.length > 1;\n\n    if (isCompositeKey) {\n      this.buildComposite(knexBuilder, columns, values);\n    } else {\n      this.buildNonComposite(knexBuilder, columns, values);\n    }\n  };\n\n  WhereInCompositeOperation.prototype.buildComposite = function buildComposite(knexBuilder, columns, values) {\n    if (Array.isArray(values)) {\n      this.buildCompositeValue(knexBuilder, columns, values);\n    } else {\n      this.buildCompositeSubquery(knexBuilder, columns, values);\n    }\n  };\n\n  WhereInCompositeOperation.prototype.buildCompositeValue = function buildCompositeValue(knexBuilder, columns, values) {\n    knexBuilder.whereIn(columns, values);\n  };\n\n  WhereInCompositeOperation.prototype.buildCompositeSubquery = function buildCompositeSubquery(knexBuilder, columns, subquery) {\n    var formatter = knexBuilder.client.formatter();\n\n    var sql = '(';\n    for (var i = 0, l = columns.length; i < l; ++i) {\n      sql += formatter.wrap(columns[i]);\n\n      if (i !== columns.length - 1) {\n        sql += ',';\n      }\n    }\n    sql += ')';\n\n    knexBuilder.whereIn(knexBuilder.client.raw(sql), subquery);\n  };\n\n  WhereInCompositeOperation.prototype.buildNonComposite = function buildNonComposite(knexBuilder, columns, values) {\n    var col = typeof columns === 'string' ? columns : columns[0];\n\n    if (Array.isArray(values)) {\n      values = pickNonNull(values, []);\n    } else {\n      values = [values];\n    }\n\n    knexBuilder.whereIn(col, values);\n  };\n\n  return WhereInCompositeOperation;\n}(_WrappingQueryBuilderOperation2.default);\n\nexports.default = WhereInCompositeOperation;\n\n\nfunction pickNonNull(values, output) {\n  for (var i = 0, l = values.length; i < l; ++i) {\n    var val = values[i];\n\n    if (Array.isArray(val)) {\n      pickNonNull(val, output);\n    } else if (val !== null && val !== undefined) {\n      output.push(val);\n    }\n  }\n\n  return output;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIldoZXJlSW5Db21wb3NpdGVPcGVyYXRpb24uanMiXSwibmFtZXMiOlsiV2hlcmVJbkNvbXBvc2l0ZU9wZXJhdGlvbiIsIm9uQnVpbGQiLCJrbmV4QnVpbGRlciIsImJ1aWxkIiwiYXJncyIsImNvbHVtbnMiLCJ2YWx1ZXMiLCJpc0NvbXBvc2l0ZUtleSIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsImJ1aWxkQ29tcG9zaXRlIiwiYnVpbGROb25Db21wb3NpdGUiLCJidWlsZENvbXBvc2l0ZVZhbHVlIiwiYnVpbGRDb21wb3NpdGVTdWJxdWVyeSIsIndoZXJlSW4iLCJzdWJxdWVyeSIsImZvcm1hdHRlciIsImNsaWVudCIsInNxbCIsImkiLCJsIiwid3JhcCIsInJhdyIsImNvbCIsInBpY2tOb25OdWxsIiwib3V0cHV0IiwidmFsIiwidW5kZWZpbmVkIiwicHVzaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7SUFFcUJBLHlCOzs7Ozs7OztzQ0FFbkJDLE8sb0JBQVFDLFcsRUFBYTtBQUNuQixTQUFLQyxLQUFMLENBQVdELFdBQVgsRUFBd0IsS0FBS0UsSUFBTCxDQUFVLENBQVYsQ0FBeEIsRUFBc0MsS0FBS0EsSUFBTCxDQUFVLENBQVYsQ0FBdEM7QUFDRCxHOztzQ0FFREQsSyxrQkFBTUQsVyxFQUFhRyxPLEVBQVNDLE0sRUFBUTtBQUNsQyxRQUFJQyxpQkFBaUJDLE1BQU1DLE9BQU4sQ0FBY0osT0FBZCxLQUEwQkEsUUFBUUssTUFBUixHQUFpQixDQUFoRTs7QUFFQSxRQUFJSCxjQUFKLEVBQW9CO0FBQ2xCLFdBQUtJLGNBQUwsQ0FBb0JULFdBQXBCLEVBQWlDRyxPQUFqQyxFQUEwQ0MsTUFBMUM7QUFDRCxLQUZELE1BRU87QUFDTCxXQUFLTSxpQkFBTCxDQUF1QlYsV0FBdkIsRUFBb0NHLE9BQXBDLEVBQTZDQyxNQUE3QztBQUNEO0FBQ0YsRzs7c0NBRURLLGMsMkJBQWVULFcsRUFBYUcsTyxFQUFTQyxNLEVBQVE7QUFDM0MsUUFBSUUsTUFBTUMsT0FBTixDQUFjSCxNQUFkLENBQUosRUFBMkI7QUFDekIsV0FBS08sbUJBQUwsQ0FBeUJYLFdBQXpCLEVBQXNDRyxPQUF0QyxFQUErQ0MsTUFBL0M7QUFDRCxLQUZELE1BRU87QUFDTCxXQUFLUSxzQkFBTCxDQUE0QlosV0FBNUIsRUFBeUNHLE9BQXpDLEVBQWtEQyxNQUFsRDtBQUNEO0FBQ0YsRzs7c0NBRURPLG1CLGdDQUFvQlgsVyxFQUFhRyxPLEVBQVNDLE0sRUFBUTtBQUNoREosZ0JBQVlhLE9BQVosQ0FBb0JWLE9BQXBCLEVBQTZCQyxNQUE3QjtBQUNELEc7O3NDQUVEUSxzQixtQ0FBdUJaLFcsRUFBYUcsTyxFQUFTVyxRLEVBQVU7QUFDckQsUUFBTUMsWUFBWWYsWUFBWWdCLE1BQVosQ0FBbUJELFNBQW5CLEVBQWxCOztBQUVBLFFBQUlFLE1BQU0sR0FBVjtBQUNBLFNBQUssSUFBSUMsSUFBSSxDQUFSLEVBQVdDLElBQUloQixRQUFRSyxNQUE1QixFQUFvQ1UsSUFBSUMsQ0FBeEMsRUFBMkMsRUFBRUQsQ0FBN0MsRUFBZ0Q7QUFDOUNELGFBQU9GLFVBQVVLLElBQVYsQ0FBZWpCLFFBQVFlLENBQVIsQ0FBZixDQUFQOztBQUVBLFVBQUlBLE1BQU1mLFFBQVFLLE1BQVIsR0FBaUIsQ0FBM0IsRUFBOEI7QUFDNUJTLGVBQU8sR0FBUDtBQUNEO0FBQ0Y7QUFDREEsV0FBTyxHQUFQOztBQUVBakIsZ0JBQVlhLE9BQVosQ0FBb0JiLFlBQVlnQixNQUFaLENBQW1CSyxHQUFuQixDQUF1QkosR0FBdkIsQ0FBcEIsRUFBaURILFFBQWpEO0FBQ0QsRzs7c0NBRURKLGlCLDhCQUFrQlYsVyxFQUFhRyxPLEVBQVNDLE0sRUFBUTtBQUM5QyxRQUFJa0IsTUFBTyxPQUFPbkIsT0FBUCxLQUFtQixRQUFwQixHQUFnQ0EsT0FBaEMsR0FBMENBLFFBQVEsQ0FBUixDQUFwRDs7QUFFQSxRQUFJRyxNQUFNQyxPQUFOLENBQWNILE1BQWQsQ0FBSixFQUEyQjtBQUN6QkEsZUFBU21CLFlBQVluQixNQUFaLEVBQW9CLEVBQXBCLENBQVQ7QUFDRCxLQUZELE1BRU87QUFDTEEsZUFBUyxDQUFDQSxNQUFELENBQVQ7QUFDRDs7QUFFREosZ0JBQVlhLE9BQVosQ0FBb0JTLEdBQXBCLEVBQXlCbEIsTUFBekI7QUFDRCxHOzs7OztrQkF0RGtCTix5Qjs7O0FBeURyQixTQUFTeUIsV0FBVCxDQUFxQm5CLE1BQXJCLEVBQTZCb0IsTUFBN0IsRUFBcUM7QUFDbkMsT0FBSyxJQUFJTixJQUFJLENBQVIsRUFBV0MsSUFBSWYsT0FBT0ksTUFBM0IsRUFBbUNVLElBQUlDLENBQXZDLEVBQTBDLEVBQUVELENBQTVDLEVBQStDO0FBQzdDLFFBQU1PLE1BQU1yQixPQUFPYyxDQUFQLENBQVo7O0FBRUEsUUFBSVosTUFBTUMsT0FBTixDQUFja0IsR0FBZCxDQUFKLEVBQXdCO0FBQ3RCRixrQkFBWUUsR0FBWixFQUFpQkQsTUFBakI7QUFDRCxLQUZELE1BRU8sSUFBSUMsUUFBUSxJQUFSLElBQWdCQSxRQUFRQyxTQUE1QixFQUF1QztBQUM1Q0YsYUFBT0csSUFBUCxDQUFZRixHQUFaO0FBQ0Q7QUFDRjs7QUFFRCxTQUFPRCxNQUFQO0FBQ0QiLCJmaWxlIjoiV2hlcmVJbkNvbXBvc2l0ZU9wZXJhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBXcmFwcGluZ1F1ZXJ5QnVpbGRlck9wZXJhdGlvbiBmcm9tICcuLi9XcmFwcGluZ1F1ZXJ5QnVpbGRlck9wZXJhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdoZXJlSW5Db21wb3NpdGVPcGVyYXRpb24gZXh0ZW5kcyBXcmFwcGluZ1F1ZXJ5QnVpbGRlck9wZXJhdGlvbiB7XG5cbiAgb25CdWlsZChrbmV4QnVpbGRlcikge1xuICAgIHRoaXMuYnVpbGQoa25leEJ1aWxkZXIsIHRoaXMuYXJnc1swXSwgdGhpcy5hcmdzWzFdKTtcbiAgfVxuXG4gIGJ1aWxkKGtuZXhCdWlsZGVyLCBjb2x1bW5zLCB2YWx1ZXMpIHtcbiAgICBsZXQgaXNDb21wb3NpdGVLZXkgPSBBcnJheS5pc0FycmF5KGNvbHVtbnMpICYmIGNvbHVtbnMubGVuZ3RoID4gMTtcblxuICAgIGlmIChpc0NvbXBvc2l0ZUtleSkge1xuICAgICAgdGhpcy5idWlsZENvbXBvc2l0ZShrbmV4QnVpbGRlciwgY29sdW1ucywgdmFsdWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5idWlsZE5vbkNvbXBvc2l0ZShrbmV4QnVpbGRlciwgY29sdW1ucywgdmFsdWVzKTtcbiAgICB9XG4gIH1cblxuICBidWlsZENvbXBvc2l0ZShrbmV4QnVpbGRlciwgY29sdW1ucywgdmFsdWVzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWVzKSkge1xuICAgICAgdGhpcy5idWlsZENvbXBvc2l0ZVZhbHVlKGtuZXhCdWlsZGVyLCBjb2x1bW5zLCB2YWx1ZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmJ1aWxkQ29tcG9zaXRlU3VicXVlcnkoa25leEJ1aWxkZXIsIGNvbHVtbnMsIHZhbHVlcyk7XG4gICAgfVxuICB9XG5cbiAgYnVpbGRDb21wb3NpdGVWYWx1ZShrbmV4QnVpbGRlciwgY29sdW1ucywgdmFsdWVzKSB7XG4gICAga25leEJ1aWxkZXIud2hlcmVJbihjb2x1bW5zLCB2YWx1ZXMpO1xuICB9XG5cbiAgYnVpbGRDb21wb3NpdGVTdWJxdWVyeShrbmV4QnVpbGRlciwgY29sdW1ucywgc3VicXVlcnkpIHtcbiAgICBjb25zdCBmb3JtYXR0ZXIgPSBrbmV4QnVpbGRlci5jbGllbnQuZm9ybWF0dGVyKCk7XG5cbiAgICBsZXQgc3FsID0gJygnO1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gY29sdW1ucy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgIHNxbCArPSBmb3JtYXR0ZXIud3JhcChjb2x1bW5zW2ldKTtcblxuICAgICAgaWYgKGkgIT09IGNvbHVtbnMubGVuZ3RoIC0gMSkge1xuICAgICAgICBzcWwgKz0gJywnO1xuICAgICAgfVxuICAgIH1cbiAgICBzcWwgKz0gJyknO1xuXG4gICAga25leEJ1aWxkZXIud2hlcmVJbihrbmV4QnVpbGRlci5jbGllbnQucmF3KHNxbCksIHN1YnF1ZXJ5KTtcbiAgfVxuXG4gIGJ1aWxkTm9uQ29tcG9zaXRlKGtuZXhCdWlsZGVyLCBjb2x1bW5zLCB2YWx1ZXMpIHtcbiAgICBsZXQgY29sID0gKHR5cGVvZiBjb2x1bW5zID09PSAnc3RyaW5nJykgPyBjb2x1bW5zIDogY29sdW1uc1swXTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlcykpIHtcbiAgICAgIHZhbHVlcyA9IHBpY2tOb25OdWxsKHZhbHVlcywgW10pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZXMgPSBbdmFsdWVzXTtcbiAgICB9XG5cbiAgICBrbmV4QnVpbGRlci53aGVyZUluKGNvbCwgdmFsdWVzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwaWNrTm9uTnVsbCh2YWx1ZXMsIG91dHB1dCkge1xuICBmb3IgKGxldCBpID0gMCwgbCA9IHZhbHVlcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBjb25zdCB2YWwgPSB2YWx1ZXNbaV07XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICBwaWNrTm9uTnVsbCh2YWwsIG91dHB1dCk7XG4gICAgfSBlbHNlIGlmICh2YWwgIT09IG51bGwgJiYgdmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG91dHB1dC5wdXNoKHZhbCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuIl19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/whereInComposite/WhereInCompositeSqliteOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _WrappingQueryBuilderOperation = require('../WrappingQueryBuilderOperation');\n\nvar _WrappingQueryBuilderOperation2 = _interopRequireDefault(_WrappingQueryBuilderOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar WhereInCompositeSqliteOperation = function (_WrappingQueryBuilder) {\n  (0, _inherits3.default)(WhereInCompositeSqliteOperation, _WrappingQueryBuilder);\n\n  function WhereInCompositeSqliteOperation() {\n    (0, _classCallCheck3.default)(this, WhereInCompositeSqliteOperation);\n    return (0, _possibleConstructorReturn3.default)(this, _WrappingQueryBuilder.apply(this, arguments));\n  }\n\n  WhereInCompositeSqliteOperation.prototype.onBuild = function onBuild(knexBuilder) {\n    this.build(knexBuilder, this.args[0], this.args[1]);\n  };\n\n  WhereInCompositeSqliteOperation.prototype.build = function build(knexBuilder, columns, values) {\n    var isCompositeKey = Array.isArray(columns) && columns.length > 1;\n\n    if (isCompositeKey) {\n      this.buildComposite(knexBuilder, columns, values);\n    } else {\n      this.buildNonComposite(knexBuilder, columns, values);\n    }\n  };\n\n  WhereInCompositeSqliteOperation.prototype.buildComposite = function buildComposite(knexBuilder, columns, values) {\n    if (!Array.isArray(values)) {\n      // If the `values` is not an array of values but a function or a subquery\n      // we have no way to implement this method.\n      throw new Error('sqlite doesn\\'t support multi-column where in clauses');\n    }\n\n    // Sqlite doesn't support the `where in` syntax for multiple columns but\n    // we can emulate it using grouped `or` clauses.\n    knexBuilder.where(function (builder) {\n      values.forEach(function (val) {\n        builder.orWhere(function (builder) {\n          columns.forEach(function (col, idx) {\n            builder.andWhere(col, val[idx]);\n          });\n        });\n      });\n    });\n  };\n\n  WhereInCompositeSqliteOperation.prototype.buildNonComposite = function buildNonComposite(knexBuilder, columns, values) {\n    var col = typeof columns === 'string' ? columns : columns[0];\n\n    if (Array.isArray(values)) {\n      values = pickNonNull(values, []);\n    } else {\n      values = [values];\n    }\n\n    // For non-composite keys we can use the normal whereIn.\n    knexBuilder.whereIn(col, values);\n  };\n\n  return WhereInCompositeSqliteOperation;\n}(_WrappingQueryBuilderOperation2.default);\n\nexports.default = WhereInCompositeSqliteOperation;\n\n\nfunction pickNonNull(values, output) {\n  for (var i = 0, l = values.length; i < l; ++i) {\n    var val = values[i];\n\n    if (Array.isArray(val)) {\n      pickNonNull(val, output);\n    } else if (val !== null && val !== undefined) {\n      output.push(val);\n    }\n  }\n\n  return output;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIldoZXJlSW5Db21wb3NpdGVTcWxpdGVPcGVyYXRpb24uanMiXSwibmFtZXMiOlsiV2hlcmVJbkNvbXBvc2l0ZVNxbGl0ZU9wZXJhdGlvbiIsIm9uQnVpbGQiLCJrbmV4QnVpbGRlciIsImJ1aWxkIiwiYXJncyIsImNvbHVtbnMiLCJ2YWx1ZXMiLCJpc0NvbXBvc2l0ZUtleSIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsImJ1aWxkQ29tcG9zaXRlIiwiYnVpbGROb25Db21wb3NpdGUiLCJFcnJvciIsIndoZXJlIiwiZm9yRWFjaCIsImJ1aWxkZXIiLCJvcldoZXJlIiwiY29sIiwiaWR4IiwiYW5kV2hlcmUiLCJ2YWwiLCJwaWNrTm9uTnVsbCIsIndoZXJlSW4iLCJvdXRwdXQiLCJpIiwibCIsInVuZGVmaW5lZCIsInB1c2giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7O0lBRXFCQSwrQjs7Ozs7Ozs7NENBRW5CQyxPLG9CQUFRQyxXLEVBQWE7QUFDbkIsU0FBS0MsS0FBTCxDQUFXRCxXQUFYLEVBQXdCLEtBQUtFLElBQUwsQ0FBVSxDQUFWLENBQXhCLEVBQXNDLEtBQUtBLElBQUwsQ0FBVSxDQUFWLENBQXRDO0FBQ0QsRzs7NENBRURELEssa0JBQU1ELFcsRUFBYUcsTyxFQUFTQyxNLEVBQVE7QUFDbEMsUUFBSUMsaUJBQWlCQyxNQUFNQyxPQUFOLENBQWNKLE9BQWQsS0FBMEJBLFFBQVFLLE1BQVIsR0FBaUIsQ0FBaEU7O0FBRUEsUUFBSUgsY0FBSixFQUFvQjtBQUNsQixXQUFLSSxjQUFMLENBQW9CVCxXQUFwQixFQUFpQ0csT0FBakMsRUFBMENDLE1BQTFDO0FBQ0QsS0FGRCxNQUVPO0FBQ0wsV0FBS00saUJBQUwsQ0FBdUJWLFdBQXZCLEVBQW9DRyxPQUFwQyxFQUE2Q0MsTUFBN0M7QUFDRDtBQUNGLEc7OzRDQUVESyxjLDJCQUFlVCxXLEVBQWFHLE8sRUFBU0MsTSxFQUFRO0FBQzNDLFFBQUksQ0FBQ0UsTUFBTUMsT0FBTixDQUFjSCxNQUFkLENBQUwsRUFBNEI7QUFDMUI7QUFDQTtBQUNBLFlBQU0sSUFBSU8sS0FBSix5REFBTjtBQUNEOztBQUVEO0FBQ0E7QUFDQVgsZ0JBQVlZLEtBQVosQ0FBa0IsbUJBQVc7QUFDM0JSLGFBQU9TLE9BQVAsQ0FBZSxlQUFPO0FBQ3BCQyxnQkFBUUMsT0FBUixDQUFnQixtQkFBVztBQUN6Qlosa0JBQVFVLE9BQVIsQ0FBZ0IsVUFBQ0csR0FBRCxFQUFNQyxHQUFOLEVBQWM7QUFDNUJILG9CQUFRSSxRQUFSLENBQWlCRixHQUFqQixFQUFzQkcsSUFBSUYsR0FBSixDQUF0QjtBQUNELFdBRkQ7QUFHRCxTQUpEO0FBS0QsT0FORDtBQU9ELEtBUkQ7QUFTRCxHOzs0Q0FFRFAsaUIsOEJBQWtCVixXLEVBQWFHLE8sRUFBU0MsTSxFQUFRO0FBQzlDLFFBQUlZLE1BQU8sT0FBT2IsT0FBUCxLQUFtQixRQUFwQixHQUFnQ0EsT0FBaEMsR0FBMENBLFFBQVEsQ0FBUixDQUFwRDs7QUFFQSxRQUFJRyxNQUFNQyxPQUFOLENBQWNILE1BQWQsQ0FBSixFQUEyQjtBQUN6QkEsZUFBU2dCLFlBQVloQixNQUFaLEVBQW9CLEVBQXBCLENBQVQ7QUFDRCxLQUZELE1BRU87QUFDTEEsZUFBUyxDQUFDQSxNQUFELENBQVQ7QUFDRDs7QUFFRDtBQUNBSixnQkFBWXFCLE9BQVosQ0FBb0JMLEdBQXBCLEVBQXlCWixNQUF6QjtBQUNELEc7Ozs7O2tCQS9Da0JOLCtCOzs7QUFrRHJCLFNBQVNzQixXQUFULENBQXFCaEIsTUFBckIsRUFBNkJrQixNQUE3QixFQUFxQztBQUNuQyxPQUFLLElBQUlDLElBQUksQ0FBUixFQUFXQyxJQUFJcEIsT0FBT0ksTUFBM0IsRUFBbUNlLElBQUlDLENBQXZDLEVBQTBDLEVBQUVELENBQTVDLEVBQStDO0FBQzdDLFFBQU1KLE1BQU1mLE9BQU9tQixDQUFQLENBQVo7O0FBRUEsUUFBSWpCLE1BQU1DLE9BQU4sQ0FBY1ksR0FBZCxDQUFKLEVBQXdCO0FBQ3RCQyxrQkFBWUQsR0FBWixFQUFpQkcsTUFBakI7QUFDRCxLQUZELE1BRU8sSUFBSUgsUUFBUSxJQUFSLElBQWdCQSxRQUFRTSxTQUE1QixFQUF1QztBQUM1Q0gsYUFBT0ksSUFBUCxDQUFZUCxHQUFaO0FBQ0Q7QUFDRjs7QUFFRCxTQUFPRyxNQUFQO0FBQ0QiLCJmaWxlIjoiV2hlcmVJbkNvbXBvc2l0ZVNxbGl0ZU9wZXJhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBXcmFwcGluZ1F1ZXJ5QnVpbGRlck9wZXJhdGlvbiBmcm9tICcuLi9XcmFwcGluZ1F1ZXJ5QnVpbGRlck9wZXJhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdoZXJlSW5Db21wb3NpdGVTcWxpdGVPcGVyYXRpb24gZXh0ZW5kcyBXcmFwcGluZ1F1ZXJ5QnVpbGRlck9wZXJhdGlvbiB7XG5cbiAgb25CdWlsZChrbmV4QnVpbGRlcikge1xuICAgIHRoaXMuYnVpbGQoa25leEJ1aWxkZXIsIHRoaXMuYXJnc1swXSwgdGhpcy5hcmdzWzFdKTtcbiAgfVxuXG4gIGJ1aWxkKGtuZXhCdWlsZGVyLCBjb2x1bW5zLCB2YWx1ZXMpIHtcbiAgICBsZXQgaXNDb21wb3NpdGVLZXkgPSBBcnJheS5pc0FycmF5KGNvbHVtbnMpICYmIGNvbHVtbnMubGVuZ3RoID4gMTtcblxuICAgIGlmIChpc0NvbXBvc2l0ZUtleSkge1xuICAgICAgdGhpcy5idWlsZENvbXBvc2l0ZShrbmV4QnVpbGRlciwgY29sdW1ucywgdmFsdWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5idWlsZE5vbkNvbXBvc2l0ZShrbmV4QnVpbGRlciwgY29sdW1ucywgdmFsdWVzKTtcbiAgICB9XG4gIH1cblxuICBidWlsZENvbXBvc2l0ZShrbmV4QnVpbGRlciwgY29sdW1ucywgdmFsdWVzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlcykpIHtcbiAgICAgIC8vIElmIHRoZSBgdmFsdWVzYCBpcyBub3QgYW4gYXJyYXkgb2YgdmFsdWVzIGJ1dCBhIGZ1bmN0aW9uIG9yIGEgc3VicXVlcnlcbiAgICAgIC8vIHdlIGhhdmUgbm8gd2F5IHRvIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICAgIHRocm93IG5ldyBFcnJvcihgc3FsaXRlIGRvZXNuJ3Qgc3VwcG9ydCBtdWx0aS1jb2x1bW4gd2hlcmUgaW4gY2xhdXNlc2ApO1xuICAgIH1cblxuICAgIC8vIFNxbGl0ZSBkb2Vzbid0IHN1cHBvcnQgdGhlIGB3aGVyZSBpbmAgc3ludGF4IGZvciBtdWx0aXBsZSBjb2x1bW5zIGJ1dFxuICAgIC8vIHdlIGNhbiBlbXVsYXRlIGl0IHVzaW5nIGdyb3VwZWQgYG9yYCBjbGF1c2VzLlxuICAgIGtuZXhCdWlsZGVyLndoZXJlKGJ1aWxkZXIgPT4ge1xuICAgICAgdmFsdWVzLmZvckVhY2godmFsID0+IHtcbiAgICAgICAgYnVpbGRlci5vcldoZXJlKGJ1aWxkZXIgPT4ge1xuICAgICAgICAgIGNvbHVtbnMuZm9yRWFjaCgoY29sLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGJ1aWxkZXIuYW5kV2hlcmUoY29sLCB2YWxbaWR4XSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBidWlsZE5vbkNvbXBvc2l0ZShrbmV4QnVpbGRlciwgY29sdW1ucywgdmFsdWVzKSB7XG4gICAgbGV0IGNvbCA9ICh0eXBlb2YgY29sdW1ucyA9PT0gJ3N0cmluZycpID8gY29sdW1ucyA6IGNvbHVtbnNbMF07XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7XG4gICAgICB2YWx1ZXMgPSBwaWNrTm9uTnVsbCh2YWx1ZXMsIFtdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWVzID0gW3ZhbHVlc107XG4gICAgfVxuXG4gICAgLy8gRm9yIG5vbi1jb21wb3NpdGUga2V5cyB3ZSBjYW4gdXNlIHRoZSBub3JtYWwgd2hlcmVJbi5cbiAgICBrbmV4QnVpbGRlci53aGVyZUluKGNvbCwgdmFsdWVzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwaWNrTm9uTnVsbCh2YWx1ZXMsIG91dHB1dCkge1xuICBmb3IgKGxldCBpID0gMCwgbCA9IHZhbHVlcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBjb25zdCB2YWwgPSB2YWx1ZXNbaV07XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICBwaWNrTm9uTnVsbCh2YWwsIG91dHB1dCk7XG4gICAgfSBlbHNlIGlmICh2YWwgIT09IG51bGwgJiYgdmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG91dHB1dC5wdXNoKHZhbCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuIl19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/jsonApi/WhereJsonPostgresOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _postgresJsonApi = require('./postgresJsonApi');\n\nvar _postgresJsonApi2 = _interopRequireDefault(_postgresJsonApi);\n\nvar _WrappingQueryBuilderOperation = require('../WrappingQueryBuilderOperation');\n\nvar _WrappingQueryBuilderOperation2 = _interopRequireDefault(_WrappingQueryBuilderOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar WhereJsonPostgresOperation = function (_WrappingQueryBuilder) {\n  (0, _inherits3.default)(WhereJsonPostgresOperation, _WrappingQueryBuilder);\n\n  function WhereJsonPostgresOperation(builder, name, opt) {\n    (0, _classCallCheck3.default)(this, WhereJsonPostgresOperation);\n\n    /**\n     * @type {Array.<string>}\n     */\n    var _this = (0, _possibleConstructorReturn3.default)(this, _WrappingQueryBuilder.call(this, builder, name, opt));\n\n    _this.rawArgs = null;\n    return _this;\n  }\n\n  WhereJsonPostgresOperation.prototype.call = function call(builder, args) {\n    _WrappingQueryBuilder.prototype.call.call(this, builder, args);\n\n    this.rawArgs = _postgresJsonApi2.default.whereJsonbRefOnLeftJsonbValOrRefOnRightRawQueryParams(this.args[0], this.opt.operator, this.args[1], this.opt.prefix);\n\n    return true;\n  };\n\n  WhereJsonPostgresOperation.prototype.onBuild = function onBuild(knexBuilder) {\n    if (this.opt.bool === 'or') {\n      knexBuilder.orWhereRaw.apply(knexBuilder, this.rawArgs);\n    } else {\n      knexBuilder.whereRaw.apply(knexBuilder, this.rawArgs);\n    }\n  };\n\n  return WhereJsonPostgresOperation;\n}(_WrappingQueryBuilderOperation2.default);\n\nexports.default = WhereJsonPostgresOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIldoZXJlSnNvblBvc3RncmVzT3BlcmF0aW9uLmpzIl0sIm5hbWVzIjpbIldoZXJlSnNvblBvc3RncmVzT3BlcmF0aW9uIiwiYnVpbGRlciIsIm5hbWUiLCJvcHQiLCJyYXdBcmdzIiwiY2FsbCIsImFyZ3MiLCJ3aGVyZUpzb25iUmVmT25MZWZ0SnNvbmJWYWxPclJlZk9uUmlnaHRSYXdRdWVyeVBhcmFtcyIsIm9wZXJhdG9yIiwicHJlZml4Iiwib25CdWlsZCIsImtuZXhCdWlsZGVyIiwiYm9vbCIsIm9yV2hlcmVSYXciLCJhcHBseSIsIndoZXJlUmF3Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0lBRXFCQSwwQjs7O0FBRW5CLHNDQUFZQyxPQUFaLEVBQXFCQyxJQUFyQixFQUEyQkMsR0FBM0IsRUFBZ0M7QUFBQTs7QUFFOUI7OztBQUY4QiwrREFDOUIsaUNBQU1GLE9BQU4sRUFBZUMsSUFBZixFQUFxQkMsR0FBckIsQ0FEOEI7O0FBSzlCLFVBQUtDLE9BQUwsR0FBZSxJQUFmO0FBTDhCO0FBTS9COzt1Q0FFREMsSSxpQkFBS0osTyxFQUFTSyxJLEVBQU07QUFDbEIsb0NBQU1ELElBQU4sWUFBV0osT0FBWCxFQUFvQkssSUFBcEI7O0FBRUEsU0FBS0YsT0FBTCxHQUFlLDBCQUFRRyxxREFBUixDQUNiLEtBQUtELElBQUwsQ0FBVSxDQUFWLENBRGEsRUFFYixLQUFLSCxHQUFMLENBQVNLLFFBRkksRUFHYixLQUFLRixJQUFMLENBQVUsQ0FBVixDQUhhLEVBSWIsS0FBS0gsR0FBTCxDQUFTTSxNQUpJLENBQWY7O0FBTUEsV0FBTyxJQUFQO0FBQ0QsRzs7dUNBRURDLE8sb0JBQVFDLFcsRUFBYTtBQUNuQixRQUFJLEtBQUtSLEdBQUwsQ0FBU1MsSUFBVCxLQUFrQixJQUF0QixFQUE0QjtBQUMxQkQsa0JBQVlFLFVBQVosQ0FBdUJDLEtBQXZCLENBQTZCSCxXQUE3QixFQUEwQyxLQUFLUCxPQUEvQztBQUNELEtBRkQsTUFFTztBQUNMTyxrQkFBWUksUUFBWixDQUFxQkQsS0FBckIsQ0FBMkJILFdBQTNCLEVBQXdDLEtBQUtQLE9BQTdDO0FBQ0Q7QUFDRixHOzs7OztrQkE1QmtCSiwwQiIsImZpbGUiOiJXaGVyZUpzb25Qb3N0Z3Jlc09wZXJhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqc29uQXBpIGZyb20gJy4vcG9zdGdyZXNKc29uQXBpJztcbmltcG9ydCBXcmFwcGluZ1F1ZXJ5QnVpbGRlck9wZXJhdGlvbiBmcm9tICcuLi9XcmFwcGluZ1F1ZXJ5QnVpbGRlck9wZXJhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdoZXJlSnNvblBvc3RncmVzT3BlcmF0aW9uIGV4dGVuZHMgV3JhcHBpbmdRdWVyeUJ1aWxkZXJPcGVyYXRpb24ge1xuXG4gIGNvbnN0cnVjdG9yKGJ1aWxkZXIsIG5hbWUsIG9wdCkge1xuICAgIHN1cGVyKGJ1aWxkZXIsIG5hbWUsIG9wdCk7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5LjxzdHJpbmc+fVxuICAgICAqL1xuICAgIHRoaXMucmF3QXJncyA9IG51bGw7XG4gIH1cblxuICBjYWxsKGJ1aWxkZXIsIGFyZ3MpIHtcbiAgICBzdXBlci5jYWxsKGJ1aWxkZXIsIGFyZ3MpO1xuXG4gICAgdGhpcy5yYXdBcmdzID0ganNvbkFwaS53aGVyZUpzb25iUmVmT25MZWZ0SnNvbmJWYWxPclJlZk9uUmlnaHRSYXdRdWVyeVBhcmFtcyhcbiAgICAgIHRoaXMuYXJnc1swXSxcbiAgICAgIHRoaXMub3B0Lm9wZXJhdG9yLFxuICAgICAgdGhpcy5hcmdzWzFdLFxuICAgICAgdGhpcy5vcHQucHJlZml4KTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgb25CdWlsZChrbmV4QnVpbGRlcikge1xuICAgIGlmICh0aGlzLm9wdC5ib29sID09PSAnb3InKSB7XG4gICAgICBrbmV4QnVpbGRlci5vcldoZXJlUmF3LmFwcGx5KGtuZXhCdWlsZGVyLCB0aGlzLnJhd0FyZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrbmV4QnVpbGRlci53aGVyZVJhdy5hcHBseShrbmV4QnVpbGRlciwgdGhpcy5yYXdBcmdzKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/jsonApi/postgresJsonApi.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _stringify = require('babel-runtime/core-js/json/stringify');\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _jsonFieldExpressionParser = require('../../parsers/jsonFieldExpressionParser');\n\nvar _jsonFieldExpressionParser2 = _interopRequireDefault(_jsonFieldExpressionParser);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @typedef {String} FieldExpression\n *\n * Field expressions allow one to refer to separate JSONB fields inside columns.\n *\n * Syntax: <column reference>[:<json field reference>]\n *\n * e.g. `Person.jsonColumnName:details.names[1]` would refer to value `'Second'`\n * in column `Person.jsonColumnName` which has\n * `{ details: { names: ['First', 'Second', 'Last'] } }` object stored in it.\n *\n * First part `<column reference>` is compatible with column references used in\n * knex e.g. `MyFancyTable.tributeToThBestColumnNameEver`.\n *\n * Second part describes a path to an attribute inside the referred column.\n * It is optional and it always starts with colon which follows directly with\n * first path element. e.g. `Table.jsonObjectColumnName:jsonFieldName` or\n * `Table.jsonArrayColumn:[321]`.\n *\n * Syntax supports `[<key or index>]` and `.<key or index>` flavors of reference\n * to json keys / array indexes:\n *\n * e.g. both `Table.myColumn:[1][3]` and `Table.myColumn:1.3` would access correctly\n * both of the following objects `[null, [null,null,null, \"I was accessed\"]]` and\n * `{ \"1\": { \"3\" : \"I was accessed\" } }`\n *\n * Caveats when using special characters in keys:\n *\n * 1. `objectColumn.key` This is the most common syntax, good if you are\n *    not using dots or square brackets `[]` in your json object key name.\n * 2. Keys containing dots `objectColumn:[keywith.dots]` Column `{ \"keywith.dots\" : \"I was referred\" }`\n * 3. Keys containing square brackets `column['[]']` `{ \"[]\" : \"This is getting ridiculous...\" }`\n * 4. Keys containing square brackets and quotes\n *    `objectColumn:['Double.\"Quote\".[]']` and `objectColumn:[\"Sinlge.'Quote'.[]\"]`\n *    Column `{ \"Double.\\\"Quote\\\".[]\" : \"I was referred\",  \"Single.'Quote'.[]\" : \"Mee too!\" }`\n * 99. Keys containing dots, square brackets, single quotes and double quotes in one json key is\n *     not currently supported\n */\n\nexports.default = {\n  parseFieldExpression: parseFieldExpression,\n  whereJsonbRefOnLeftJsonbValOrRefOnRight: whereJsonbRefOnLeftJsonbValOrRefOnRight,\n  whereJsonbRefOnLeftJsonbValOrRefOnRightRawQueryParams: whereJsonbRefOnLeftJsonbValOrRefOnRightRawQueryParams,\n  whereJsonFieldRightStringArrayOnLeftQuery: whereJsonFieldRightStringArrayOnLeftQuery,\n  whereJsonFieldQuery: whereJsonFieldQuery\n};\n\n\nfunction parseFieldExpression(expression, extractAsText) {\n  var parsed = _jsonFieldExpressionParser2.default.parse(expression);\n  var jsonRefs = (0, _lodash2.default)(parsed.access).map('ref').value().join(\",\");\n  var extractor = extractAsText ? '#>>' : '#>';\n  var middleQuotedColumnName = parsed.columnName.split('.').join('\".\"');\n  return '\"' + middleQuotedColumnName + '\"' + extractor + '\\'{' + jsonRefs + '}\\'';\n}\n\nfunction whereJsonbRefOnLeftJsonbValOrRefOnRight(builder, fieldExpression, operator, jsonObjectOrFieldExpression, queryPrefix) {\n  var queryParams = whereJsonbRefOnLeftJsonbValOrRefOnRightRawQueryParams(fieldExpression, operator, jsonObjectOrFieldExpression, queryPrefix);\n  return builder.whereRaw.apply(builder, queryParams);\n}\n\nfunction whereJsonbRefOnLeftJsonbValOrRefOnRightRawQueryParams(fieldExpression, operator, jsonObjectOrFieldExpression, queryPrefix) {\n  var fieldReference = parseFieldExpression(fieldExpression);\n\n  if (_lodash2.default.isString(jsonObjectOrFieldExpression)) {\n    var rightHandReference = parseFieldExpression(jsonObjectOrFieldExpression);\n    var refRefQuery = [\"(\", fieldReference, \")::jsonb\", operator, \"(\", rightHandReference, \")::jsonb\"];\n    if (queryPrefix) {\n      refRefQuery.unshift(queryPrefix);\n    }\n    return [refRefQuery.join(\" \")];\n  } else if (_lodash2.default.isObject(jsonObjectOrFieldExpression)) {\n    var refValQuery = [\"(\", fieldReference, \")::jsonb\", operator, \"?::jsonb\"];\n    if (queryPrefix) {\n      refValQuery.unshift(queryPrefix);\n    }\n    return [refValQuery.join(\" \"), (0, _stringify2.default)(jsonObjectOrFieldExpression)];\n  }\n\n  throw new Error(\"Invalid right hand expression.\");\n}\n\nfunction whereJsonFieldRightStringArrayOnLeftQuery(builder, fieldExpression, operator, keys) {\n  var knex = builder._knex;\n  var fieldReference = parseFieldExpression(fieldExpression);\n  keys = _lodash2.default.isArray(keys) ? keys : [keys];\n\n  var questionMarksArray = _lodash2.default.map(keys, function (key) {\n    if (!_lodash2.default.isString(key)) {\n      throw new Error(\"All keys to find must be strings.\");\n    }\n    return \"?\";\n  });\n\n  var rawSqlTemplateString = \"array[\" + questionMarksArray.join(\",\") + \"]\";\n  var rightHandExpression = knex.raw(rawSqlTemplateString, keys);\n\n  return fieldReference + ' ' + operator.replace('?', '\\\\?') + ' ' + rightHandExpression;\n}\n\nfunction whereJsonFieldQuery(knex, fieldExpression, operator, value) {\n  var fieldReference = parseFieldExpression(fieldExpression, true);\n  var normalizedOperator = normalizeOperator(knex, operator);\n\n  // json type comparison takes json type in string format\n  var cast = void 0;\n  var escapedValue = knex.raw(\" ?\", [value]);\n  if (_lodash2.default.isNumber(value)) {\n    cast = \"::NUMERIC\";\n  } else if (_lodash2.default.isBoolean(value)) {\n    cast = \"::BOOLEAN\";\n  } else if (_lodash2.default.isString(value)) {\n    cast = \"::TEXT\";\n  } else if (_lodash2.default.isNull(value)) {\n    cast = \"::TEXT\";\n    escapedValue = 'NULL';\n  } else {\n    throw new Error(\"Value must be string, number, boolean or null.\");\n  }\n\n  return '(' + fieldReference + ')' + cast + ' ' + normalizedOperator + ' ' + escapedValue;\n}\n\nfunction normalizeOperator(knex, operator) {\n  var trimmedLowerCase = operator.trim().toLowerCase();\n\n  switch (trimmedLowerCase) {\n    case \"is\":\n    case \"is not\":\n      return trimmedLowerCase;\n    default:\n      return knex.client.formatter().operator(operator);\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3RncmVzSnNvbkFwaS5qcyJdLCJuYW1lcyI6WyJwYXJzZUZpZWxkRXhwcmVzc2lvbiIsIndoZXJlSnNvbmJSZWZPbkxlZnRKc29uYlZhbE9yUmVmT25SaWdodCIsIndoZXJlSnNvbmJSZWZPbkxlZnRKc29uYlZhbE9yUmVmT25SaWdodFJhd1F1ZXJ5UGFyYW1zIiwid2hlcmVKc29uRmllbGRSaWdodFN0cmluZ0FycmF5T25MZWZ0UXVlcnkiLCJ3aGVyZUpzb25GaWVsZFF1ZXJ5IiwiZXhwcmVzc2lvbiIsImV4dHJhY3RBc1RleHQiLCJwYXJzZWQiLCJwYXJzZSIsImpzb25SZWZzIiwiYWNjZXNzIiwibWFwIiwidmFsdWUiLCJqb2luIiwiZXh0cmFjdG9yIiwibWlkZGxlUXVvdGVkQ29sdW1uTmFtZSIsImNvbHVtbk5hbWUiLCJzcGxpdCIsImJ1aWxkZXIiLCJmaWVsZEV4cHJlc3Npb24iLCJvcGVyYXRvciIsImpzb25PYmplY3RPckZpZWxkRXhwcmVzc2lvbiIsInF1ZXJ5UHJlZml4IiwicXVlcnlQYXJhbXMiLCJ3aGVyZVJhdyIsImFwcGx5IiwiZmllbGRSZWZlcmVuY2UiLCJpc1N0cmluZyIsInJpZ2h0SGFuZFJlZmVyZW5jZSIsInJlZlJlZlF1ZXJ5IiwidW5zaGlmdCIsImlzT2JqZWN0IiwicmVmVmFsUXVlcnkiLCJFcnJvciIsImtleXMiLCJrbmV4IiwiX2tuZXgiLCJpc0FycmF5IiwicXVlc3Rpb25NYXJrc0FycmF5Iiwia2V5IiwicmF3U3FsVGVtcGxhdGVTdHJpbmciLCJyaWdodEhhbmRFeHByZXNzaW9uIiwicmF3IiwicmVwbGFjZSIsIm5vcm1hbGl6ZWRPcGVyYXRvciIsIm5vcm1hbGl6ZU9wZXJhdG9yIiwiY2FzdCIsImVzY2FwZWRWYWx1ZSIsImlzTnVtYmVyIiwiaXNCb29sZWFuIiwiaXNOdWxsIiwidHJpbW1lZExvd2VyQ2FzZSIsInRyaW0iLCJ0b0xvd2VyQ2FzZSIsImNsaWVudCIsImZvcm1hdHRlciJdLCJtYXBwaW5ncyI6Ijs7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QUFDRCxHQUhNLE1BR0E7QUFDTCxVQUFNLElBQUlkLEtBQUosQ0FBVSxnREFBVixDQUFOO0FBQ0Q7O0FBRUQsZUFBV1AsY0FBWCxTQUE2Qm9CLElBQTdCLFNBQXFDRixrQkFBckMsU0FBMkRHLFlBQTNEO0FBQ0Q7O0FBRUQsU0FBU0YsaUJBQVQsQ0FBMkJWLElBQTNCLEVBQWlDZixRQUFqQyxFQUEyQztBQUN6QyxNQUFJK0IsbUJBQW1CL0IsU0FBU2dDLElBQVQsR0FBZ0JDLFdBQWhCLEVBQXZCOztBQUVBLFVBQVFGLGdCQUFSO0FBQ0UsU0FBSyxJQUFMO0FBQ0EsU0FBSyxRQUFMO0FBQ0UsYUFBT0EsZ0JBQVA7QUFDRjtBQUNFLGFBQU9oQixLQUFLbUIsTUFBTCxDQUFZQyxTQUFaLEdBQXdCbkMsUUFBeEIsQ0FBaUNBLFFBQWpDLENBQVA7QUFMSjtBQU9EIiwiZmlsZSI6InBvc3RncmVzSnNvbkFwaS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQganNvbkZpZWxkRXhwcmVzc2lvblBhcnNlciBmcm9tICcuLi8uLi9wYXJzZXJzL2pzb25GaWVsZEV4cHJlc3Npb25QYXJzZXInO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtTdHJpbmd9IEZpZWxkRXhwcmVzc2lvblxuICpcbiAqIEZpZWxkIGV4cHJlc3Npb25zIGFsbG93IG9uZSB0byByZWZlciB0byBzZXBhcmF0ZSBKU09OQiBmaWVsZHMgaW5zaWRlIGNvbHVtbnMuXG4gKlxuICogU3ludGF4OiA8Y29sdW1uIHJlZmVyZW5jZT5bOjxqc29uIGZpZWxkIHJlZmVyZW5jZT5dXG4gKlxuICogZS5nLiBgUGVyc29uLmpzb25Db2x1bW5OYW1lOmRldGFpbHMubmFtZXNbMV1gIHdvdWxkIHJlZmVyIHRvIHZhbHVlIGAnU2Vjb25kJ2BcbiAqIGluIGNvbHVtbiBgUGVyc29uLmpzb25Db2x1bW5OYW1lYCB3aGljaCBoYXNcbiAqIGB7IGRldGFpbHM6IHsgbmFtZXM6IFsnRmlyc3QnLCAnU2Vjb25kJywgJ0xhc3QnXSB9IH1gIG9iamVjdCBzdG9yZWQgaW4gaXQuXG4gKlxuICogRmlyc3QgcGFydCBgPGNvbHVtbiByZWZlcmVuY2U+YCBpcyBjb21wYXRpYmxlIHdpdGggY29sdW1uIHJlZmVyZW5jZXMgdXNlZCBpblxuICoga25leCBlLmcuIGBNeUZhbmN5VGFibGUudHJpYnV0ZVRvVGhCZXN0Q29sdW1uTmFtZUV2ZXJgLlxuICpcbiAqIFNlY29uZCBwYXJ0IGRlc2NyaWJlcyBhIHBhdGggdG8gYW4gYXR0cmlidXRlIGluc2lkZSB0aGUgcmVmZXJyZWQgY29sdW1uLlxuICogSXQgaXMgb3B0aW9uYWwgYW5kIGl0IGFsd2F5cyBzdGFydHMgd2l0aCBjb2xvbiB3aGljaCBmb2xsb3dzIGRpcmVjdGx5IHdpdGhcbiAqIGZpcnN0IHBhdGggZWxlbWVudC4gZS5nLiBgVGFibGUuanNvbk9iamVjdENvbHVtbk5hbWU6anNvbkZpZWxkTmFtZWAgb3JcbiAqIGBUYWJsZS5qc29uQXJyYXlDb2x1bW46WzMyMV1gLlxuICpcbiAqIFN5bnRheCBzdXBwb3J0cyBgWzxrZXkgb3IgaW5kZXg+XWAgYW5kIGAuPGtleSBvciBpbmRleD5gIGZsYXZvcnMgb2YgcmVmZXJlbmNlXG4gKiB0byBqc29uIGtleXMgLyBhcnJheSBpbmRleGVzOlxuICpcbiAqIGUuZy4gYm90aCBgVGFibGUubXlDb2x1bW46WzFdWzNdYCBhbmQgYFRhYmxlLm15Q29sdW1uOjEuM2Agd291bGQgYWNjZXNzIGNvcnJlY3RseVxuICogYm90aCBvZiB0aGUgZm9sbG93aW5nIG9iamVjdHMgYFtudWxsLCBbbnVsbCxudWxsLG51bGwsIFwiSSB3YXMgYWNjZXNzZWRcIl1dYCBhbmRcbiAqIGB7IFwiMVwiOiB7IFwiM1wiIDogXCJJIHdhcyBhY2Nlc3NlZFwiIH0gfWBcbiAqXG4gKiBDYXZlYXRzIHdoZW4gdXNpbmcgc3BlY2lhbCBjaGFyYWN0ZXJzIGluIGtleXM6XG4gKlxuICogMS4gYG9iamVjdENvbHVtbi5rZXlgIFRoaXMgaXMgdGhlIG1vc3QgY29tbW9uIHN5bnRheCwgZ29vZCBpZiB5b3UgYXJlXG4gKiAgICBub3QgdXNpbmcgZG90cyBvciBzcXVhcmUgYnJhY2tldHMgYFtdYCBpbiB5b3VyIGpzb24gb2JqZWN0IGtleSBuYW1lLlxuICogMi4gS2V5cyBjb250YWluaW5nIGRvdHMgYG9iamVjdENvbHVtbjpba2V5d2l0aC5kb3RzXWAgQ29sdW1uIGB7IFwia2V5d2l0aC5kb3RzXCIgOiBcIkkgd2FzIHJlZmVycmVkXCIgfWBcbiAqIDMuIEtleXMgY29udGFpbmluZyBzcXVhcmUgYnJhY2tldHMgYGNvbHVtblsnW10nXWAgYHsgXCJbXVwiIDogXCJUaGlzIGlzIGdldHRpbmcgcmlkaWN1bG91cy4uLlwiIH1gXG4gKiA0LiBLZXlzIGNvbnRhaW5pbmcgc3F1YXJlIGJyYWNrZXRzIGFuZCBxdW90ZXNcbiAqICAgIGBvYmplY3RDb2x1bW46WydEb3VibGUuXCJRdW90ZVwiLltdJ11gIGFuZCBgb2JqZWN0Q29sdW1uOltcIlNpbmxnZS4nUXVvdGUnLltdXCJdYFxuICogICAgQ29sdW1uIGB7IFwiRG91YmxlLlxcXCJRdW90ZVxcXCIuW11cIiA6IFwiSSB3YXMgcmVmZXJyZWRcIiwgIFwiU2luZ2xlLidRdW90ZScuW11cIiA6IFwiTWVlIHRvbyFcIiB9YFxuICogOTkuIEtleXMgY29udGFpbmluZyBkb3RzLCBzcXVhcmUgYnJhY2tldHMsIHNpbmdsZSBxdW90ZXMgYW5kIGRvdWJsZSBxdW90ZXMgaW4gb25lIGpzb24ga2V5IGlzXG4gKiAgICAgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWRcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHBhcnNlRmllbGRFeHByZXNzaW9uLFxuICB3aGVyZUpzb25iUmVmT25MZWZ0SnNvbmJWYWxPclJlZk9uUmlnaHQsXG4gIHdoZXJlSnNvbmJSZWZPbkxlZnRKc29uYlZhbE9yUmVmT25SaWdodFJhd1F1ZXJ5UGFyYW1zLFxuICB3aGVyZUpzb25GaWVsZFJpZ2h0U3RyaW5nQXJyYXlPbkxlZnRRdWVyeSxcbiAgd2hlcmVKc29uRmllbGRRdWVyeVxufVxuXG5mdW5jdGlvbiBwYXJzZUZpZWxkRXhwcmVzc2lvbihleHByZXNzaW9uLCBleHRyYWN0QXNUZXh0KSB7XG4gIGxldCBwYXJzZWQgPSBqc29uRmllbGRFeHByZXNzaW9uUGFyc2VyLnBhcnNlKGV4cHJlc3Npb24pO1xuICBsZXQganNvblJlZnMgPSBfKHBhcnNlZC5hY2Nlc3MpLm1hcCgncmVmJykudmFsdWUoKS5qb2luKFwiLFwiKTtcbiAgbGV0IGV4dHJhY3RvciA9IGV4dHJhY3RBc1RleHQgPyAnIz4+JyA6ICcjPic7XG4gIGxldCBtaWRkbGVRdW90ZWRDb2x1bW5OYW1lID0gcGFyc2VkLmNvbHVtbk5hbWUuc3BsaXQoJy4nKS5qb2luKCdcIi5cIicpO1xuICByZXR1cm4gYFwiJHttaWRkbGVRdW90ZWRDb2x1bW5OYW1lfVwiJHtleHRyYWN0b3J9J3ske2pzb25SZWZzfX0nYDtcbn1cblxuZnVuY3Rpb24gd2hlcmVKc29uYlJlZk9uTGVmdEpzb25iVmFsT3JSZWZPblJpZ2h0KGJ1aWxkZXIsIGZpZWxkRXhwcmVzc2lvbiwgb3BlcmF0b3IsIGpzb25PYmplY3RPckZpZWxkRXhwcmVzc2lvbiwgcXVlcnlQcmVmaXgpIHtcbiAgbGV0IHF1ZXJ5UGFyYW1zID0gd2hlcmVKc29uYlJlZk9uTGVmdEpzb25iVmFsT3JSZWZPblJpZ2h0UmF3UXVlcnlQYXJhbXMoZmllbGRFeHByZXNzaW9uLCBvcGVyYXRvciwganNvbk9iamVjdE9yRmllbGRFeHByZXNzaW9uLCBxdWVyeVByZWZpeCk7XG4gIHJldHVybiBidWlsZGVyLndoZXJlUmF3LmFwcGx5KGJ1aWxkZXIsIHF1ZXJ5UGFyYW1zKTtcbn1cblxuZnVuY3Rpb24gd2hlcmVKc29uYlJlZk9uTGVmdEpzb25iVmFsT3JSZWZPblJpZ2h0UmF3UXVlcnlQYXJhbXMoZmllbGRFeHByZXNzaW9uLCBvcGVyYXRvciwganNvbk9iamVjdE9yRmllbGRFeHByZXNzaW9uLCBxdWVyeVByZWZpeCkge1xuICBsZXQgZmllbGRSZWZlcmVuY2UgPSBwYXJzZUZpZWxkRXhwcmVzc2lvbihmaWVsZEV4cHJlc3Npb24pO1xuXG4gIGlmIChfLmlzU3RyaW5nKGpzb25PYmplY3RPckZpZWxkRXhwcmVzc2lvbikpIHtcbiAgICBsZXQgcmlnaHRIYW5kUmVmZXJlbmNlID0gcGFyc2VGaWVsZEV4cHJlc3Npb24oanNvbk9iamVjdE9yRmllbGRFeHByZXNzaW9uKTtcbiAgICBsZXQgcmVmUmVmUXVlcnkgPSBbXCIoXCIsIGZpZWxkUmVmZXJlbmNlLCBcIik6Ompzb25iXCIsIG9wZXJhdG9yLCBcIihcIiwgcmlnaHRIYW5kUmVmZXJlbmNlLCBcIik6Ompzb25iXCJdO1xuICAgIGlmIChxdWVyeVByZWZpeCkge1xuICAgICAgcmVmUmVmUXVlcnkudW5zaGlmdChxdWVyeVByZWZpeCk7XG4gICAgfVxuICAgIHJldHVybiBbcmVmUmVmUXVlcnkuam9pbihcIiBcIildO1xuICB9IGVsc2UgaWYgKF8uaXNPYmplY3QoanNvbk9iamVjdE9yRmllbGRFeHByZXNzaW9uKSkge1xuICAgIGxldCByZWZWYWxRdWVyeSA9IFtcIihcIiwgZmllbGRSZWZlcmVuY2UsIFwiKTo6anNvbmJcIiwgb3BlcmF0b3IsIFwiPzo6anNvbmJcIl07XG4gICAgaWYgKHF1ZXJ5UHJlZml4KSB7XG4gICAgICByZWZWYWxRdWVyeS51bnNoaWZ0KHF1ZXJ5UHJlZml4KTtcbiAgICB9XG4gICAgcmV0dXJuIFtyZWZWYWxRdWVyeS5qb2luKFwiIFwiKSwgSlNPTi5zdHJpbmdpZnkoanNvbk9iamVjdE9yRmllbGRFeHByZXNzaW9uKV07XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHJpZ2h0IGhhbmQgZXhwcmVzc2lvbi5cIik7XG59XG5cbmZ1bmN0aW9uIHdoZXJlSnNvbkZpZWxkUmlnaHRTdHJpbmdBcnJheU9uTGVmdFF1ZXJ5KGJ1aWxkZXIsIGZpZWxkRXhwcmVzc2lvbiwgb3BlcmF0b3IsIGtleXMpIHtcbiAgbGV0IGtuZXggPSBidWlsZGVyLl9rbmV4O1xuICBsZXQgZmllbGRSZWZlcmVuY2UgPSBwYXJzZUZpZWxkRXhwcmVzc2lvbihmaWVsZEV4cHJlc3Npb24pO1xuICBrZXlzID0gXy5pc0FycmF5KGtleXMpID8ga2V5cyA6IFtrZXlzXTtcblxuICBsZXQgcXVlc3Rpb25NYXJrc0FycmF5ID0gXy5tYXAoa2V5cywgZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICghXy5pc1N0cmluZyhrZXkpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBbGwga2V5cyB0byBmaW5kIG11c3QgYmUgc3RyaW5ncy5cIik7XG4gICAgfVxuICAgIHJldHVybiBcIj9cIjtcbiAgfSk7XG5cbiAgbGV0IHJhd1NxbFRlbXBsYXRlU3RyaW5nID0gXCJhcnJheVtcIiArIHF1ZXN0aW9uTWFya3NBcnJheS5qb2luKFwiLFwiKSArIFwiXVwiO1xuICBsZXQgcmlnaHRIYW5kRXhwcmVzc2lvbiA9IGtuZXgucmF3KHJhd1NxbFRlbXBsYXRlU3RyaW5nLCBrZXlzKTtcblxuICByZXR1cm4gYCR7ZmllbGRSZWZlcmVuY2V9ICR7b3BlcmF0b3IucmVwbGFjZSgnPycsICdcXFxcPycpfSAke3JpZ2h0SGFuZEV4cHJlc3Npb259YDtcbn1cblxuZnVuY3Rpb24gd2hlcmVKc29uRmllbGRRdWVyeShrbmV4LCBmaWVsZEV4cHJlc3Npb24sIG9wZXJhdG9yLCB2YWx1ZSkge1xuICBsZXQgZmllbGRSZWZlcmVuY2UgPSBwYXJzZUZpZWxkRXhwcmVzc2lvbihmaWVsZEV4cHJlc3Npb24sIHRydWUpO1xuICBsZXQgbm9ybWFsaXplZE9wZXJhdG9yID0gbm9ybWFsaXplT3BlcmF0b3Ioa25leCwgb3BlcmF0b3IpO1xuXG4gIC8vIGpzb24gdHlwZSBjb21wYXJpc29uIHRha2VzIGpzb24gdHlwZSBpbiBzdHJpbmcgZm9ybWF0XG4gIGxldCBjYXN0O1xuICBsZXQgZXNjYXBlZFZhbHVlID0ga25leC5yYXcoXCIgP1wiLCBbdmFsdWVdKTtcbiAgaWYgKF8uaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgY2FzdCA9IFwiOjpOVU1FUklDXCI7XG4gIH0gZWxzZSBpZiAoXy5pc0Jvb2xlYW4odmFsdWUpKSB7XG4gICAgY2FzdCA9IFwiOjpCT09MRUFOXCI7XG4gIH0gZWxzZSBpZiAoXy5pc1N0cmluZyh2YWx1ZSkpIHtcbiAgICBjYXN0ID0gXCI6OlRFWFRcIjtcbiAgfSBlbHNlIGlmIChfLmlzTnVsbCh2YWx1ZSkpIHtcbiAgICBjYXN0ID0gXCI6OlRFWFRcIjtcbiAgICBlc2NhcGVkVmFsdWUgPSAnTlVMTCc7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVmFsdWUgbXVzdCBiZSBzdHJpbmcsIG51bWJlciwgYm9vbGVhbiBvciBudWxsLlwiKTtcbiAgfVxuXG4gIHJldHVybiBgKCR7ZmllbGRSZWZlcmVuY2V9KSR7Y2FzdH0gJHtub3JtYWxpemVkT3BlcmF0b3J9ICR7ZXNjYXBlZFZhbHVlfWA7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZU9wZXJhdG9yKGtuZXgsIG9wZXJhdG9yKSB7XG4gIGxldCB0cmltbWVkTG93ZXJDYXNlID0gb3BlcmF0b3IudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG5cbiAgc3dpdGNoICh0cmltbWVkTG93ZXJDYXNlKSB7XG4gICAgY2FzZSBcImlzXCI6XG4gICAgY2FzZSBcImlzIG5vdFwiOlxuICAgICAgcmV0dXJuIHRyaW1tZWRMb3dlckNhc2U7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBrbmV4LmNsaWVudC5mb3JtYXR0ZXIoKS5vcGVyYXRvcihvcGVyYXRvcik7XG4gIH1cbn1cbiJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/jsonApi/WhereJsonHasPostgresOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _postgresJsonApi = require('./postgresJsonApi');\n\nvar _postgresJsonApi2 = _interopRequireDefault(_postgresJsonApi);\n\nvar _WrappingQueryBuilderOperation = require('../WrappingQueryBuilderOperation');\n\nvar _WrappingQueryBuilderOperation2 = _interopRequireDefault(_WrappingQueryBuilderOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar WhereJsonHasPostgresOperation = function (_WrappingQueryBuilder) {\n  (0, _inherits3.default)(WhereJsonHasPostgresOperation, _WrappingQueryBuilder);\n\n  function WhereJsonHasPostgresOperation(builder, name, opt) {\n    (0, _classCallCheck3.default)(this, WhereJsonHasPostgresOperation);\n\n    /**\n     * @type {string}\n     */\n    var _this = (0, _possibleConstructorReturn3.default)(this, _WrappingQueryBuilder.call(this, builder, name, opt));\n\n    _this.sql = null;\n    return _this;\n  }\n\n  WhereJsonHasPostgresOperation.prototype.call = function call(builder, args) {\n    _WrappingQueryBuilder.prototype.call.call(this, builder, args);\n\n    this.sql = _postgresJsonApi2.default.whereJsonFieldRightStringArrayOnLeftQuery(builder, this.args[0], this.opt.operator, this.args[1]);\n\n    return true;\n  };\n\n  WhereJsonHasPostgresOperation.prototype.onBuild = function onBuild(knexBuilder) {\n    if (this.opt.bool === 'or') {\n      knexBuilder.orWhereRaw(this.sql);\n    } else {\n      knexBuilder.whereRaw(this.sql);\n    }\n  };\n\n  return WhereJsonHasPostgresOperation;\n}(_WrappingQueryBuilderOperation2.default);\n\nexports.default = WhereJsonHasPostgresOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIldoZXJlSnNvbkhhc1Bvc3RncmVzT3BlcmF0aW9uLmpzIl0sIm5hbWVzIjpbIldoZXJlSnNvbkhhc1Bvc3RncmVzT3BlcmF0aW9uIiwiYnVpbGRlciIsIm5hbWUiLCJvcHQiLCJzcWwiLCJjYWxsIiwiYXJncyIsIndoZXJlSnNvbkZpZWxkUmlnaHRTdHJpbmdBcnJheU9uTGVmdFF1ZXJ5Iiwib3BlcmF0b3IiLCJvbkJ1aWxkIiwia25leEJ1aWxkZXIiLCJib29sIiwib3JXaGVyZVJhdyIsIndoZXJlUmF3Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0lBRXFCQSw2Qjs7O0FBRW5CLHlDQUFZQyxPQUFaLEVBQXFCQyxJQUFyQixFQUEyQkMsR0FBM0IsRUFBZ0M7QUFBQTs7QUFFOUI7OztBQUY4QiwrREFDOUIsaUNBQU1GLE9BQU4sRUFBZUMsSUFBZixFQUFxQkMsR0FBckIsQ0FEOEI7O0FBSzlCLFVBQUtDLEdBQUwsR0FBVyxJQUFYO0FBTDhCO0FBTS9COzswQ0FFREMsSSxpQkFBS0osTyxFQUFTSyxJLEVBQU07QUFDbEIsb0NBQU1ELElBQU4sWUFBV0osT0FBWCxFQUFvQkssSUFBcEI7O0FBRUEsU0FBS0YsR0FBTCxHQUFXLDBCQUFRRyx5Q0FBUixDQUFrRE4sT0FBbEQsRUFBMkQsS0FBS0ssSUFBTCxDQUFVLENBQVYsQ0FBM0QsRUFBeUUsS0FBS0gsR0FBTCxDQUFTSyxRQUFsRixFQUE0RixLQUFLRixJQUFMLENBQVUsQ0FBVixDQUE1RixDQUFYOztBQUVBLFdBQU8sSUFBUDtBQUNELEc7OzBDQUVERyxPLG9CQUFRQyxXLEVBQWE7QUFDbkIsUUFBSSxLQUFLUCxHQUFMLENBQVNRLElBQVQsS0FBa0IsSUFBdEIsRUFBNEI7QUFDMUJELGtCQUFZRSxVQUFaLENBQXVCLEtBQUtSLEdBQTVCO0FBQ0QsS0FGRCxNQUVPO0FBQ0xNLGtCQUFZRyxRQUFaLENBQXFCLEtBQUtULEdBQTFCO0FBQ0Q7QUFDRixHOzs7OztrQkF4QmtCSiw2QiIsImZpbGUiOiJXaGVyZUpzb25IYXNQb3N0Z3Jlc09wZXJhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqc29uQXBpIGZyb20gJy4vcG9zdGdyZXNKc29uQXBpJztcbmltcG9ydCBXcmFwcGluZ1F1ZXJ5QnVpbGRlck9wZXJhdGlvbiBmcm9tICcuLi9XcmFwcGluZ1F1ZXJ5QnVpbGRlck9wZXJhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdoZXJlSnNvbkhhc1Bvc3RncmVzT3BlcmF0aW9uIGV4dGVuZHMgV3JhcHBpbmdRdWVyeUJ1aWxkZXJPcGVyYXRpb24ge1xuXG4gIGNvbnN0cnVjdG9yKGJ1aWxkZXIsIG5hbWUsIG9wdCkge1xuICAgIHN1cGVyKGJ1aWxkZXIsIG5hbWUsIG9wdCk7XG4gICAgLyoqXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnNxbCA9IG51bGw7XG4gIH1cblxuICBjYWxsKGJ1aWxkZXIsIGFyZ3MpIHtcbiAgICBzdXBlci5jYWxsKGJ1aWxkZXIsIGFyZ3MpO1xuXG4gICAgdGhpcy5zcWwgPSBqc29uQXBpLndoZXJlSnNvbkZpZWxkUmlnaHRTdHJpbmdBcnJheU9uTGVmdFF1ZXJ5KGJ1aWxkZXIsIHRoaXMuYXJnc1swXSwgdGhpcy5vcHQub3BlcmF0b3IsIHRoaXMuYXJnc1sxXSk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIG9uQnVpbGQoa25leEJ1aWxkZXIpIHtcbiAgICBpZiAodGhpcy5vcHQuYm9vbCA9PT0gJ29yJykge1xuICAgICAga25leEJ1aWxkZXIub3JXaGVyZVJhdyh0aGlzLnNxbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtuZXhCdWlsZGVyLndoZXJlUmF3KHRoaXMuc3FsKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/jsonApi/WhereJsonFieldPostgresOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _postgresJsonApi = require('./postgresJsonApi');\n\nvar _postgresJsonApi2 = _interopRequireDefault(_postgresJsonApi);\n\nvar _WrappingQueryBuilderOperation = require('../WrappingQueryBuilderOperation');\n\nvar _WrappingQueryBuilderOperation2 = _interopRequireDefault(_WrappingQueryBuilderOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar WhereJsonFieldPostgresOperation = function (_WrappingQueryBuilder) {\n  (0, _inherits3.default)(WhereJsonFieldPostgresOperation, _WrappingQueryBuilder);\n\n  function WhereJsonFieldPostgresOperation(builder, name, opt) {\n    (0, _classCallCheck3.default)(this, WhereJsonFieldPostgresOperation);\n\n    /**\n     * @type {string}\n     */\n    var _this = (0, _possibleConstructorReturn3.default)(this, _WrappingQueryBuilder.call(this, builder, name, opt));\n\n    _this.sql = null;\n    return _this;\n  }\n\n  WhereJsonFieldPostgresOperation.prototype.call = function call(builder, args) {\n    _WrappingQueryBuilder.prototype.call.call(this, builder, args);\n\n    this.sql = _postgresJsonApi2.default.whereJsonFieldQuery(builder.knex(), this.args[0], this.args[1], this.args[2]);\n\n    return true;\n  };\n\n  WhereJsonFieldPostgresOperation.prototype.onBuild = function onBuild(knexBuilder) {\n    if (this.opt.bool === 'or') {\n      knexBuilder.orWhereRaw(this.sql);\n    } else {\n      knexBuilder.whereRaw(this.sql);\n    }\n  };\n\n  return WhereJsonFieldPostgresOperation;\n}(_WrappingQueryBuilderOperation2.default);\n\nexports.default = WhereJsonFieldPostgresOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIldoZXJlSnNvbkZpZWxkUG9zdGdyZXNPcGVyYXRpb24uanMiXSwibmFtZXMiOlsiV2hlcmVKc29uRmllbGRQb3N0Z3Jlc09wZXJhdGlvbiIsImJ1aWxkZXIiLCJuYW1lIiwib3B0Iiwic3FsIiwiY2FsbCIsImFyZ3MiLCJ3aGVyZUpzb25GaWVsZFF1ZXJ5Iiwia25leCIsIm9uQnVpbGQiLCJrbmV4QnVpbGRlciIsImJvb2wiLCJvcldoZXJlUmF3Iiwid2hlcmVSYXciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7SUFFcUJBLCtCOzs7QUFFbkIsMkNBQVlDLE9BQVosRUFBcUJDLElBQXJCLEVBQTJCQyxHQUEzQixFQUFnQztBQUFBOztBQUU5Qjs7O0FBRjhCLCtEQUM5QixpQ0FBTUYsT0FBTixFQUFlQyxJQUFmLEVBQXFCQyxHQUFyQixDQUQ4Qjs7QUFLOUIsVUFBS0MsR0FBTCxHQUFXLElBQVg7QUFMOEI7QUFNL0I7OzRDQUVEQyxJLGlCQUFLSixPLEVBQVNLLEksRUFBTTtBQUNsQixvQ0FBTUQsSUFBTixZQUFXSixPQUFYLEVBQW9CSyxJQUFwQjs7QUFFQSxTQUFLRixHQUFMLEdBQVcsMEJBQVFHLG1CQUFSLENBQTRCTixRQUFRTyxJQUFSLEVBQTVCLEVBQTRDLEtBQUtGLElBQUwsQ0FBVSxDQUFWLENBQTVDLEVBQTBELEtBQUtBLElBQUwsQ0FBVSxDQUFWLENBQTFELEVBQXdFLEtBQUtBLElBQUwsQ0FBVSxDQUFWLENBQXhFLENBQVg7O0FBRUEsV0FBTyxJQUFQO0FBQ0QsRzs7NENBRURHLE8sb0JBQVFDLFcsRUFBYTtBQUNuQixRQUFJLEtBQUtQLEdBQUwsQ0FBU1EsSUFBVCxLQUFrQixJQUF0QixFQUE0QjtBQUMxQkQsa0JBQVlFLFVBQVosQ0FBdUIsS0FBS1IsR0FBNUI7QUFDRCxLQUZELE1BRU87QUFDTE0sa0JBQVlHLFFBQVosQ0FBcUIsS0FBS1QsR0FBMUI7QUFDRDtBQUNGLEc7Ozs7O2tCQXhCa0JKLCtCIiwiZmlsZSI6IldoZXJlSnNvbkZpZWxkUG9zdGdyZXNPcGVyYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQganNvbkFwaSBmcm9tICcuL3Bvc3RncmVzSnNvbkFwaSc7XG5pbXBvcnQgV3JhcHBpbmdRdWVyeUJ1aWxkZXJPcGVyYXRpb24gZnJvbSAnLi4vV3JhcHBpbmdRdWVyeUJ1aWxkZXJPcGVyYXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXaGVyZUpzb25GaWVsZFBvc3RncmVzT3BlcmF0aW9uIGV4dGVuZHMgV3JhcHBpbmdRdWVyeUJ1aWxkZXJPcGVyYXRpb24ge1xuXG4gIGNvbnN0cnVjdG9yKGJ1aWxkZXIsIG5hbWUsIG9wdCkge1xuICAgIHN1cGVyKGJ1aWxkZXIsIG5hbWUsIG9wdCk7XG4gICAgLyoqXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnNxbCA9IG51bGw7XG4gIH1cblxuICBjYWxsKGJ1aWxkZXIsIGFyZ3MpIHtcbiAgICBzdXBlci5jYWxsKGJ1aWxkZXIsIGFyZ3MpO1xuXG4gICAgdGhpcy5zcWwgPSBqc29uQXBpLndoZXJlSnNvbkZpZWxkUXVlcnkoYnVpbGRlci5rbmV4KCksIHRoaXMuYXJnc1swXSwgdGhpcy5hcmdzWzFdLCB0aGlzLmFyZ3NbMl0pO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBvbkJ1aWxkKGtuZXhCdWlsZGVyKSB7XG4gICAgaWYgKHRoaXMub3B0LmJvb2wgPT09ICdvcicpIHtcbiAgICAgIGtuZXhCdWlsZGVyLm9yV2hlcmVSYXcodGhpcy5zcWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrbmV4QnVpbGRlci53aGVyZVJhdyh0aGlzLnNxbCk7XG4gICAgfVxuICB9XG59XG4iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/jsonApi/WhereJsonNotObjectPostgresOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _postgresJsonApi = require('./postgresJsonApi');\n\nvar _postgresJsonApi2 = _interopRequireDefault(_postgresJsonApi);\n\nvar _WrappingQueryBuilderOperation = require('../WrappingQueryBuilderOperation');\n\nvar _WrappingQueryBuilderOperation2 = _interopRequireDefault(_WrappingQueryBuilderOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar WhereJsonNotObjectPostgresOperation = function (_WrappingQueryBuilder) {\n  (0, _inherits3.default)(WhereJsonNotObjectPostgresOperation, _WrappingQueryBuilder);\n\n  function WhereJsonNotObjectPostgresOperation() {\n    (0, _classCallCheck3.default)(this, WhereJsonNotObjectPostgresOperation);\n    return (0, _possibleConstructorReturn3.default)(this, _WrappingQueryBuilder.apply(this, arguments));\n  }\n\n  WhereJsonNotObjectPostgresOperation.prototype.onBuild = function onBuild(knexBuilder, builder) {\n    this.whereJsonNotObject(knexBuilder, builder.knex(), this.args[0]);\n  };\n\n  WhereJsonNotObjectPostgresOperation.prototype.whereJsonNotObject = function whereJsonNotObject(knexBuilder, knex, fieldExpression) {\n    var self = this;\n\n    function innerQuery() {\n      var builder = _postgresJsonApi2.default.whereJsonbRefOnLeftJsonbValOrRefOnRight(this, fieldExpression, \"@>\", self.opt.compareValue, 'not');\n      var ifRefNotExistQuery = _postgresJsonApi2.default.whereJsonFieldQuery(knex, fieldExpression, \"IS\", null);\n      builder.orWhereRaw(ifRefNotExistQuery);\n    }\n\n    if (this.opt.bool === 'or') {\n      knexBuilder.orWhere(innerQuery);\n    } else {\n      knexBuilder.where(innerQuery);\n    }\n  };\n\n  return WhereJsonNotObjectPostgresOperation;\n}(_WrappingQueryBuilderOperation2.default);\n\nexports.default = WhereJsonNotObjectPostgresOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIldoZXJlSnNvbk5vdE9iamVjdFBvc3RncmVzT3BlcmF0aW9uLmpzIl0sIm5hbWVzIjpbIldoZXJlSnNvbk5vdE9iamVjdFBvc3RncmVzT3BlcmF0aW9uIiwib25CdWlsZCIsImtuZXhCdWlsZGVyIiwiYnVpbGRlciIsIndoZXJlSnNvbk5vdE9iamVjdCIsImtuZXgiLCJhcmdzIiwiZmllbGRFeHByZXNzaW9uIiwic2VsZiIsImlubmVyUXVlcnkiLCJ3aGVyZUpzb25iUmVmT25MZWZ0SnNvbmJWYWxPclJlZk9uUmlnaHQiLCJvcHQiLCJjb21wYXJlVmFsdWUiLCJpZlJlZk5vdEV4aXN0UXVlcnkiLCJ3aGVyZUpzb25GaWVsZFF1ZXJ5Iiwib3JXaGVyZVJhdyIsImJvb2wiLCJvcldoZXJlIiwid2hlcmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7SUFFcUJBLG1DOzs7Ozs7OztnREFFbkJDLE8sb0JBQVFDLFcsRUFBYUMsTyxFQUFTO0FBQzVCLFNBQUtDLGtCQUFMLENBQXdCRixXQUF4QixFQUFxQ0MsUUFBUUUsSUFBUixFQUFyQyxFQUFxRCxLQUFLQyxJQUFMLENBQVUsQ0FBVixDQUFyRDtBQUNELEc7O2dEQUVERixrQiwrQkFBbUJGLFcsRUFBYUcsSSxFQUFNRSxlLEVBQWlCO0FBQ3JELFFBQU1DLE9BQU8sSUFBYjs7QUFFQSxhQUFTQyxVQUFULEdBQXNCO0FBQ3BCLFVBQUlOLFVBQVUsMEJBQVFPLHVDQUFSLENBQWdELElBQWhELEVBQXNESCxlQUF0RCxFQUF1RSxJQUF2RSxFQUE2RUMsS0FBS0csR0FBTCxDQUFTQyxZQUF0RixFQUFvRyxLQUFwRyxDQUFkO0FBQ0EsVUFBSUMscUJBQXFCLDBCQUFRQyxtQkFBUixDQUE0QlQsSUFBNUIsRUFBa0NFLGVBQWxDLEVBQW1ELElBQW5ELEVBQXlELElBQXpELENBQXpCO0FBQ0FKLGNBQVFZLFVBQVIsQ0FBbUJGLGtCQUFuQjtBQUNEOztBQUVELFFBQUksS0FBS0YsR0FBTCxDQUFTSyxJQUFULEtBQWtCLElBQXRCLEVBQTRCO0FBQzFCZCxrQkFBWWUsT0FBWixDQUFvQlIsVUFBcEI7QUFDRCxLQUZELE1BRU87QUFDTFAsa0JBQVlnQixLQUFaLENBQWtCVCxVQUFsQjtBQUNEO0FBQ0YsRzs7Ozs7a0JBcEJrQlQsbUMiLCJmaWxlIjoiV2hlcmVKc29uTm90T2JqZWN0UG9zdGdyZXNPcGVyYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQganNvbkFwaSBmcm9tICcuL3Bvc3RncmVzSnNvbkFwaSc7XG5pbXBvcnQgV3JhcHBpbmdRdWVyeUJ1aWxkZXJPcGVyYXRpb24gZnJvbSAnLi4vV3JhcHBpbmdRdWVyeUJ1aWxkZXJPcGVyYXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXaGVyZUpzb25Ob3RPYmplY3RQb3N0Z3Jlc09wZXJhdGlvbiBleHRlbmRzIFdyYXBwaW5nUXVlcnlCdWlsZGVyT3BlcmF0aW9uIHtcblxuICBvbkJ1aWxkKGtuZXhCdWlsZGVyLCBidWlsZGVyKSB7XG4gICAgdGhpcy53aGVyZUpzb25Ob3RPYmplY3Qoa25leEJ1aWxkZXIsIGJ1aWxkZXIua25leCgpLCB0aGlzLmFyZ3NbMF0pO1xuICB9XG5cbiAgd2hlcmVKc29uTm90T2JqZWN0KGtuZXhCdWlsZGVyLCBrbmV4LCBmaWVsZEV4cHJlc3Npb24pIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgIGZ1bmN0aW9uIGlubmVyUXVlcnkoKSB7XG4gICAgICBsZXQgYnVpbGRlciA9IGpzb25BcGkud2hlcmVKc29uYlJlZk9uTGVmdEpzb25iVmFsT3JSZWZPblJpZ2h0KHRoaXMsIGZpZWxkRXhwcmVzc2lvbiwgXCJAPlwiLCBzZWxmLm9wdC5jb21wYXJlVmFsdWUsICdub3QnKTtcbiAgICAgIGxldCBpZlJlZk5vdEV4aXN0UXVlcnkgPSBqc29uQXBpLndoZXJlSnNvbkZpZWxkUXVlcnkoa25leCwgZmllbGRFeHByZXNzaW9uLCBcIklTXCIsIG51bGwpO1xuICAgICAgYnVpbGRlci5vcldoZXJlUmF3KGlmUmVmTm90RXhpc3RRdWVyeSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3B0LmJvb2wgPT09ICdvcicpIHtcbiAgICAgIGtuZXhCdWlsZGVyLm9yV2hlcmUoaW5uZXJRdWVyeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtuZXhCdWlsZGVyLndoZXJlKGlubmVyUXVlcnkpO1xuICAgIH1cbiAgfVxufVxuIl19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/FindOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _clone = require('lodash/clone');\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _Model = require('../../model/Model');\n\nvar _Model2 = _interopRequireDefault(_Model);\n\nvar _QueryBuilderOperation = require('./QueryBuilderOperation');\n\nvar _QueryBuilderOperation2 = _interopRequireDefault(_QueryBuilderOperation);\n\nvar _promiseUtils = require('../../utils/promiseUtils');\n\nvar _bluebird = require('bluebird');\n\nvar _bluebird2 = _interopRequireDefault(_bluebird);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar FindOperation = function (_QueryBuilderOperatio) {\n  (0, _inherits3.default)(FindOperation, _QueryBuilderOperatio);\n\n  function FindOperation() {\n    (0, _classCallCheck3.default)(this, FindOperation);\n    return (0, _possibleConstructorReturn3.default)(this, _QueryBuilderOperatio.apply(this, arguments));\n  }\n\n  FindOperation.prototype.clone = function clone(props) {\n    props = props || {};\n    var opt = (0, _assign2.default)({}, this.opt, props.opt);\n    return new this.constructor(this.name, opt);\n  };\n\n  FindOperation.prototype.onAfter = function onAfter(builder, results) {\n    if (this.opt.dontCallAfterGet) {\n      return results;\n    } else {\n      return callAfterGet(builder.context(), results, !!this.opt.callAfterGetDeeply);\n    }\n  };\n\n  return FindOperation;\n}(_QueryBuilderOperation2.default);\n\nexports.default = FindOperation;\n\n\nfunction callAfterGet(ctx, results, deep) {\n  if (Array.isArray(results)) {\n    if (results.length === 1) {\n      return callAfterGetForOne(ctx, results[0], results, deep);\n    } else {\n      return callAfterGetArray(ctx, results, deep);\n    }\n  } else {\n    return callAfterGetForOne(ctx, results, results, deep);\n  }\n}\n\nfunction callAfterGetArray(ctx, results, deep) {\n  if (results.length === 0 || (0, _typeof3.default)(results[0]) !== 'object') {\n    return results;\n  }\n\n  var mapped = new Array(results.length);\n  var containsPromise = false;\n\n  for (var i = 0, l = results.length; i < l; ++i) {\n    mapped[i] = callAfterGetForOne(ctx, results[i], results[i], deep);\n\n    if ((0, _promiseUtils.isPromise)(mapped[i])) {\n      containsPromise = true;\n    }\n  }\n\n  if (containsPromise) {\n    return _bluebird2.default.all(mapped);\n  } else {\n    return mapped;\n  }\n}\n\nfunction callAfterGetForOne(ctx, model, result, deep) {\n  if (!(model instanceof _Model2.default)) {\n    return result;\n  }\n\n  if (deep) {\n    var results = [];\n    var containsPromise = callAfterGetForRelations(ctx, model, results);\n\n    if (containsPromise) {\n      return _bluebird2.default.all(results).then(function () {\n        return doCallAfterGet(ctx, model, result);\n      });\n    } else {\n      return doCallAfterGet(ctx, model, result);\n    }\n  } else {\n    return doCallAfterGet(ctx, model, result);\n  }\n}\n\nfunction callAfterGetForRelations(ctx, model, results) {\n  var relations = model.constructor.getRelationArray();\n  var containsPromise = false;\n\n  for (var i = 0, l = relations.length; i < l; ++i) {\n    var relName = relations[i].name;\n\n    if (model[relName]) {\n      var maybePromise = callAfterGet(ctx, model[relName], true);\n\n      if ((0, _promiseUtils.isPromise)(maybePromise)) {\n        containsPromise = true;\n      }\n\n      results.push(maybePromise);\n    }\n  }\n\n  return containsPromise;\n}\n\nfunction doCallAfterGet(ctx, model, result) {\n  if (model.$afterGet !== _Model2.default.prototype.$afterGet) {\n    var maybePromise = model.$afterGet(ctx);\n\n    if (maybePromise instanceof _bluebird2.default) {\n      return maybePromise.return(result);\n    } else if ((0, _promiseUtils.isPromise)(maybePromise)) {\n      return maybePromise.then(function () {\n        return result;\n      });\n    } else {\n      return result;\n    }\n  } else {\n    return result;\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkZpbmRPcGVyYXRpb24uanMiXSwibmFtZXMiOlsiRmluZE9wZXJhdGlvbiIsImNsb25lIiwicHJvcHMiLCJvcHQiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJvbkFmdGVyIiwiYnVpbGRlciIsInJlc3VsdHMiLCJkb250Q2FsbEFmdGVyR2V0IiwiY2FsbEFmdGVyR2V0IiwiY29udGV4dCIsImNhbGxBZnRlckdldERlZXBseSIsImN0eCIsImRlZXAiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJjYWxsQWZ0ZXJHZXRGb3JPbmUiLCJjYWxsQWZ0ZXJHZXRBcnJheSIsIm1hcHBlZCIsImNvbnRhaW5zUHJvbWlzZSIsImkiLCJsIiwiYWxsIiwibW9kZWwiLCJyZXN1bHQiLCJjYWxsQWZ0ZXJHZXRGb3JSZWxhdGlvbnMiLCJ0aGVuIiwiZG9DYWxsQWZ0ZXJHZXQiLCJyZWxhdGlvbnMiLCJnZXRSZWxhdGlvbkFycmF5IiwicmVsTmFtZSIsIm1heWJlUHJvbWlzZSIsInB1c2giLCIkYWZ0ZXJHZXQiLCJwcm90b3R5cGUiLCJyZXR1cm4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOztBQUNBOzs7Ozs7SUFFcUJBLGE7Ozs7Ozs7OzBCQUVuQkMsSyxrQkFBTUMsSyxFQUFPO0FBQ1hBLFlBQVFBLFNBQVMsRUFBakI7QUFDQSxRQUFNQyxNQUFNLHNCQUFjLEVBQWQsRUFBa0IsS0FBS0EsR0FBdkIsRUFBNEJELE1BQU1DLEdBQWxDLENBQVo7QUFDQSxXQUFPLElBQUksS0FBS0MsV0FBVCxDQUFxQixLQUFLQyxJQUExQixFQUFnQ0YsR0FBaEMsQ0FBUDtBQUNELEc7OzBCQUVERyxPLG9CQUFRQyxPLEVBQVNDLE8sRUFBUztBQUN4QixRQUFJLEtBQUtMLEdBQUwsQ0FBU00sZ0JBQWIsRUFBK0I7QUFDN0IsYUFBT0QsT0FBUDtBQUNELEtBRkQsTUFFTztBQUNMLGFBQU9FLGFBQWFILFFBQVFJ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OztBQUVBLE9BQUssSUFBSUMsSUFBSSxDQUFSLEVBQVdDLElBQUlPLFVBQVViLE1BQTlCLEVBQXNDSyxJQUFJQyxDQUExQyxFQUE2QyxFQUFFRCxDQUEvQyxFQUFrRDtBQUNoRCxRQUFNVSxVQUFVRixVQUFVUixDQUFWLEVBQWFqQixJQUE3Qjs7QUFFQSxRQUFJb0IsTUFBTU8sT0FBTixDQUFKLEVBQW9CO0FBQ2xCLFVBQU1DLGVBQWV2QixhQUFhRyxHQUFiLEVBQWtCWSxNQUFNTyxPQUFOLENBQWxCLEVBQWtDLElBQWxDLENBQXJCOztBQUVBLFVBQUksNkJBQVVDLFlBQVYsQ0FBSixFQUE2QjtBQUMzQlosMEJBQWtCLElBQWxCO0FBQ0Q7O0FBRURiLGNBQVEwQixJQUFSLENBQWFELFlBQWI7QUFDRDtBQUNGOztBQUVELFNBQU9aLGVBQVA7QUFDRDs7QUFFRCxTQUFTUSxjQUFULENBQXdCaEIsR0FBeEIsRUFBNkJZLEtBQTdCLEVBQW9DQyxNQUFwQyxFQUE0QztBQUMxQyxNQUFJRCxNQUFNVSxTQUFOLEtBQW9CLGdCQUFNQyxTQUFOLENBQWdCRCxTQUF4QyxFQUFtRDtBQUNqRCxRQUFNRixlQUFlUixNQUFNVSxTQUFOLENBQWdCdEIsR0FBaEIsQ0FBckI7O0FBRUEsUUFBSW9CLDBDQUFKLEVBQXFDO0FBQ25DLGFBQU9BLGFBQWFJLE1BQWIsQ0FBb0JYLE1BQXBCLENBQVA7QUFDRCxLQUZELE1BRU8sSUFBSSw2QkFBVU8sWUFBVixDQUFKLEVBQTZCO0FBQ2xDLGFBQU9BLGFBQWFMLElBQWIsQ0FBa0I7QUFBQSxlQUFNRixNQUFOO0FBQUEsT0FBbEIsQ0FBUDtBQUNELEtBRk0sTUFFQTtBQUNMLGFBQU9BLE1BQVA7QUFDRDtBQUNGLEdBVkQsTUFVTztBQUNMLFdBQU9BLE1BQVA7QUFDRDtBQUNGIiwiZmlsZSI6IkZpbmRPcGVyYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2xvbmUgZnJvbSAnbG9kYXNoL2Nsb25lJztcbmltcG9ydCBNb2RlbCBmcm9tICcuLi8uLi9tb2RlbC9Nb2RlbCc7XG5pbXBvcnQgUXVlcnlCdWlsZGVyT3BlcmF0aW9uIGZyb20gJy4vUXVlcnlCdWlsZGVyT3BlcmF0aW9uJztcbmltcG9ydCB7aXNQcm9taXNlfSBmcm9tICcuLi8uLi91dGlscy9wcm9taXNlVXRpbHMnO1xuaW1wb3J0IFByb21pc2UgZnJvbSAnYmx1ZWJpcmQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGaW5kT3BlcmF0aW9uIGV4dGVuZHMgUXVlcnlCdWlsZGVyT3BlcmF0aW9uIHtcblxuICBjbG9uZShwcm9wcykge1xuICAgIHByb3BzID0gcHJvcHMgfHwge307XG4gICAgY29uc3Qgb3B0ID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHQsIHByb3BzLm9wdCk7XG4gICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMubmFtZSwgb3B0KTtcbiAgfVxuXG4gIG9uQWZ0ZXIoYnVpbGRlciwgcmVzdWx0cykge1xuICAgIGlmICh0aGlzLm9wdC5kb250Q2FsbEFmdGVyR2V0KSB7XG4gICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNhbGxBZnRlckdldChidWlsZGVyLmNvbnRleHQoKSwgcmVzdWx0cywgISF0aGlzLm9wdC5jYWxsQWZ0ZXJHZXREZWVwbHkpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjYWxsQWZ0ZXJHZXQoY3R4LCByZXN1bHRzLCBkZWVwKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHJlc3VsdHMpKSB7XG4gICAgaWYgKHJlc3VsdHMubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXR1cm4gY2FsbEFmdGVyR2V0Rm9yT25lKGN0eCwgcmVzdWx0c1swXSwgcmVzdWx0cywgZGVlcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjYWxsQWZ0ZXJHZXRBcnJheShjdHgsIHJlc3VsdHMsIGRlZXApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY2FsbEFmdGVyR2V0Rm9yT25lKGN0eCwgcmVzdWx0cywgcmVzdWx0cywgZGVlcCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2FsbEFmdGVyR2V0QXJyYXkoY3R4LCByZXN1bHRzLCBkZWVwKSB7XG4gIGlmIChyZXN1bHRzLmxlbmd0aCA9PT0gMCB8fCB0eXBlb2YgcmVzdWx0c1swXSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuXG4gIGNvbnN0IG1hcHBlZCA9IG5ldyBBcnJheShyZXN1bHRzLmxlbmd0aCk7XG4gIGxldCBjb250YWluc1Byb21pc2UgPSBmYWxzZTtcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IHJlc3VsdHMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgbWFwcGVkW2ldID0gY2FsbEFmdGVyR2V0Rm9yT25lKGN0eCwgcmVzdWx0c1tpXSwgcmVzdWx0c1tpXSwgZGVlcCk7XG5cbiAgICBpZiAoaXNQcm9taXNlKG1hcHBlZFtpXSkpIHtcbiAgICAgIGNvbnRhaW5zUHJvbWlzZSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKGNvbnRhaW5zUHJvbWlzZSkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChtYXBwZWQpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBtYXBwZWQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2FsbEFmdGVyR2V0Rm9yT25lKGN0eCwgbW9kZWwsIHJlc3VsdCwgZGVlcCkge1xuICBpZiAoIShtb2RlbCBpbnN0YW5jZW9mIE1vZGVsKSkge1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAoZGVlcCkge1xuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgICBjb25zdCBjb250YWluc1Byb21pc2UgPSBjYWxsQWZ0ZXJHZXRGb3JSZWxhdGlvbnMoY3R4LCBtb2RlbCwgcmVzdWx0cyk7XG5cbiAgICBpZiAoY29udGFpbnNQcm9taXNlKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwocmVzdWx0cykudGhlbigoKSA9PiB7XG4gICAgICAgIHJldHVybiBkb0NhbGxBZnRlckdldChjdHgsIG1vZGVsLCByZXN1bHQpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBkb0NhbGxBZnRlckdldChjdHgsIG1vZGVsLCByZXN1bHQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZG9DYWxsQWZ0ZXJHZXQoY3R4LCBtb2RlbCwgcmVzdWx0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjYWxsQWZ0ZXJHZXRGb3JSZWxhdGlvbnMoY3R4LCBtb2RlbCwgcmVzdWx0cykge1xuICBjb25zdCByZWxhdGlvbnMgPSBtb2RlbC5jb25zdHJ1Y3Rvci5nZXRSZWxhdGlvbkFycmF5KCk7XG4gIGxldCBjb250YWluc1Byb21pc2UgPSBmYWxzZTtcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IHJlbGF0aW9ucy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBjb25zdCByZWxOYW1lID0gcmVsYXRpb25zW2ldLm5hbWU7XG5cbiAgICBpZiAobW9kZWxbcmVsTmFtZV0pIHtcbiAgICAgIGNvbnN0IG1heWJlUHJvbWlzZSA9IGNhbGxBZnRlckdldChjdHgsIG1vZGVsW3JlbE5hbWVdLCB0cnVlKTtcblxuICAgICAgaWYgKGlzUHJvbWlzZShtYXliZVByb21pc2UpKSB7XG4gICAgICAgIGNvbnRhaW5zUHJvbWlzZSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdHMucHVzaChtYXliZVByb21pc2UpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb250YWluc1Byb21pc2U7XG59XG5cbmZ1bmN0aW9uIGRvQ2FsbEFmdGVyR2V0KGN0eCwgbW9kZWwsIHJlc3VsdCkge1xuICBpZiAobW9kZWwuJGFmdGVyR2V0ICE9PSBNb2RlbC5wcm90b3R5cGUuJGFmdGVyR2V0KSB7XG4gICAgY29uc3QgbWF5YmVQcm9taXNlID0gbW9kZWwuJGFmdGVyR2V0KGN0eCk7XG5cbiAgICBpZiAobWF5YmVQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgcmV0dXJuIG1heWJlUHJvbWlzZS5yZXR1cm4ocmVzdWx0KTtcbiAgICB9IGVsc2UgaWYgKGlzUHJvbWlzZShtYXliZVByb21pc2UpKSB7XG4gICAgICByZXR1cm4gbWF5YmVQcm9taXNlLnRoZW4oKCkgPT4gcmVzdWx0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxuIl19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/utils/promiseUtils.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.isPromise = isPromise;\nexports.after = after;\nexports.afterReturn = afterReturn;\nexports.mapAfterAllReturn = mapAfterAllReturn;\n\nvar _bluebird = require('bluebird');\n\nvar _bluebird2 = _interopRequireDefault(_bluebird);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isPromise(obj) {\n  return obj && (typeof obj === 'undefined' ? 'undefined' : (0, _typeof3.default)(obj)) === 'object' && typeof obj.then === 'function';\n}\n\nfunction after(obj, func) {\n  if (isPromise(obj)) {\n    return obj.then(func);\n  } else {\n    return func(obj);\n  }\n}\n\nfunction afterReturn(obj, returnValue) {\n  if (obj instanceof _bluebird2.default) {\n    return obj.return(returnValue);\n  } else if (isPromise(obj)) {\n    return obj.then(function () {\n      return returnValue;\n    });\n  } else {\n    return returnValue;\n  }\n}\n\nfunction mapAfterAllReturn(arr, mapper, returnValue) {\n  var results = new Array(arr.length);\n  var containsPromise = false;\n\n  for (var i = 0, l = arr.length; i < l; ++i) {\n    results[i] = mapper(arr[i]);\n\n    if (isPromise(results[i])) {\n      containsPromise = true;\n    }\n  }\n\n  if (containsPromise) {\n    return _bluebird2.default.all(results).return(returnValue);\n  } else {\n    return returnValue;\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb21pc2VVdGlscy5qcyJdLCJuYW1lcyI6WyJpc1Byb21pc2UiLCJhZnRlciIsImFmdGVyUmV0dXJuIiwibWFwQWZ0ZXJBbGxSZXR1cm4iLCJvYmoiLCJ0aGVuIiwiZnVuYyIsInJldHVyblZhbHVlIiwicmV0dXJuIiwiYXJyIiwibWFwcGVyIiwicmVzdWx0cyIsIkFycmF5IiwibGVuZ3RoIiwiY29udGFpbnNQcm9taXNlIiwiaSIsImwiLCJhbGwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7UUFFZ0JBLFMsR0FBQUEsUztRQUlBQyxLLEdBQUFBLEs7UUFRQUMsVyxHQUFBQSxXO1FBVUFDLGlCLEdBQUFBLGlCOztBQXhCaEI7Ozs7OztBQUVPLFNBQVNILFNBQVQsQ0FBbUJJLEdBQW5CLEVBQXdCO0FBQzdCLFNBQU9BLE9BQVEsUUFBT0EsR0FBUCx1REFBT0EsR0FBUCxPQUFlLFFBQXZCLElBQXFDLE9BQU9BLElBQUlDLElBQVgsS0FBb0IsVUFBaEU7QUFDRDs7QUFFTSxTQUFTSixLQUFULENBQWVHLEdBQWYsRUFBb0JFLElBQXBCLEVBQTBCO0FBQy9CLE1BQUlOLFVBQVVJLEdBQVYsQ0FBSixFQUFvQjtBQUNsQixXQUFPQSxJQUFJQyxJQUFKLENBQVNDLElBQVQsQ0FBUDtBQUNELEdBRkQsTUFFTztBQUNMLFdBQU9BLEtBQUtGLEdBQUwsQ0FBUDtBQUNEO0FBQ0Y7O0FBRU0sU0FBU0YsV0FBVCxDQUFxQkUsR0FBckIsRUFBMEJHLFdBQTFCLEVBQXVDO0FBQzVDLE1BQUlILGlDQUFKLEVBQTRCO0FBQzFCLFdBQU9BLElBQUlJLE1BQUosQ0FBV0QsV0FBWCxDQUFQO0FBQ0QsR0FGRCxNQUVPLElBQUlQLFVBQVVJLEdBQVYsQ0FBSixFQUFvQjtBQUN6QixXQUFPQSxJQUFJQyxJQUFKLENBQVM7QUFBQSxhQUFNRSxXQUFOO0FBQUEsS0FBVCxDQUFQO0FBQ0QsR0FGTSxNQUVBO0FBQ0wsV0FBT0EsV0FBUDtBQUNEO0FBQ0Y7O0FBRU0sU0FBU0osaUJBQVQsQ0FBMkJNLEdBQTNCLEVBQWdDQyxNQUFoQyxFQUF3Q0gsV0FBeEMsRUFBcUQ7QUFDMUQsTUFBTUksVUFBVSxJQUFJQyxLQUFKLENBQVVILElBQUlJLE1BQWQsQ0FBaEI7QUFDQSxNQUFJQyxrQkFBa0IsS0FBdEI7O0FBRUEsT0FBSyxJQUFJQyxJQUFJLENBQVIsRUFBV0MsSUFBSVAsSUFBSUksTUFBeEIsRUFBZ0NFLElBQUlDLENBQXBDLEVBQXVDLEVBQUVELENBQXpDLEVBQTRDO0FBQzFDSixZQUFRSSxDQUFSLElBQWFMLE9BQU9ELElBQUlNLENBQUosQ0FBUCxDQUFiOztBQUVBLFFBQUlmLFVBQVVXLFFBQVFJLENBQVIsQ0FBVixDQUFKLEVBQTJCO0FBQ3pCRCx3QkFBa0IsSUFBbEI7QUFDRDtBQUNGOztBQUVELE1BQUlBLGVBQUosRUFBcUI7QUFDbkIsV0FBTyxtQkFBUUcsR0FBUixDQUFZTixPQUFaLEVBQXFCSCxNQUFyQixDQUE0QkQsV0FBNUIsQ0FBUDtBQUNELEdBRkQsTUFFTztBQUNMLFdBQU9BLFdBQVA7QUFDRDtBQUNGIiwiZmlsZSI6InByb21pc2VVdGlscy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcm9taXNlIGZyb20gJ2JsdWViaXJkJztcblxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvbWlzZShvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpICYmICh0eXBlb2Ygb2JqLnRoZW4gPT09ICdmdW5jdGlvbicpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWZ0ZXIob2JqLCBmdW5jKSB7XG4gIGlmIChpc1Byb21pc2Uob2JqKSkge1xuICAgIHJldHVybiBvYmoudGhlbihmdW5jKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZnVuYyhvYmopO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZnRlclJldHVybihvYmosIHJldHVyblZhbHVlKSB7XG4gIGlmIChvYmogaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgcmV0dXJuIG9iai5yZXR1cm4ocmV0dXJuVmFsdWUpO1xuICB9IGVsc2UgaWYgKGlzUHJvbWlzZShvYmopKSB7XG4gICAgcmV0dXJuIG9iai50aGVuKCgpID0+IHJldHVyblZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcEFmdGVyQWxsUmV0dXJuKGFyciwgbWFwcGVyLCByZXR1cm5WYWx1ZSkge1xuICBjb25zdCByZXN1bHRzID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBsZXQgY29udGFpbnNQcm9taXNlID0gZmFsc2U7XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBhcnIubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgcmVzdWx0c1tpXSA9IG1hcHBlcihhcnJbaV0pO1xuXG4gICAgaWYgKGlzUHJvbWlzZShyZXN1bHRzW2ldKSkge1xuICAgICAgY29udGFpbnNQcm9taXNlID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoY29udGFpbnNQcm9taXNlKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHJlc3VsdHMpLnJldHVybihyZXR1cm5WYWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICB9XG59Il19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/DeleteOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _QueryBuilderOperation = require('./QueryBuilderOperation');\n\nvar _QueryBuilderOperation2 = _interopRequireDefault(_QueryBuilderOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DeleteOperation = function (_QueryBuilderOperatio) {\n  (0, _inherits3.default)(DeleteOperation, _QueryBuilderOperatio);\n\n  function DeleteOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, DeleteOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _QueryBuilderOperatio.call(this, name, opt));\n\n    _this.isWriteOperation = true;\n    return _this;\n  }\n\n  DeleteOperation.prototype.onBuild = function onBuild(knexBuilder, builder) {\n    knexBuilder.delete();\n  };\n\n  return DeleteOperation;\n}(_QueryBuilderOperation2.default);\n\nexports.default = DeleteOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkRlbGV0ZU9wZXJhdGlvbi5qcyJdLCJuYW1lcyI6WyJEZWxldGVPcGVyYXRpb24iLCJuYW1lIiwib3B0IiwiaXNXcml0ZU9wZXJhdGlvbiIsIm9uQnVpbGQiLCJrbmV4QnVpbGRlciIsImJ1aWxkZXIiLCJkZWxldGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7O0lBRXFCQSxlOzs7QUFFbkIsMkJBQVlDLElBQVosRUFBa0JDLEdBQWxCLEVBQXVCO0FBQUE7O0FBQUEsK0RBQ3JCLGlDQUFNRCxJQUFOLEVBQVlDLEdBQVosQ0FEcUI7O0FBRXJCLFVBQUtDLGdCQUFMLEdBQXdCLElBQXhCO0FBRnFCO0FBR3RCOzs0QkFFREMsTyxvQkFBUUMsVyxFQUFhQyxPLEVBQVM7QUFDNUJELGdCQUFZRSxNQUFaO0FBQ0QsRzs7Ozs7a0JBVGtCUCxlIiwiZmlsZSI6IkRlbGV0ZU9wZXJhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBRdWVyeUJ1aWxkZXJPcGVyYXRpb24gZnJvbSAnLi9RdWVyeUJ1aWxkZXJPcGVyYXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZWxldGVPcGVyYXRpb24gZXh0ZW5kcyBRdWVyeUJ1aWxkZXJPcGVyYXRpb24ge1xuXG4gIGNvbnN0cnVjdG9yKG5hbWUsIG9wdCkge1xuICAgIHN1cGVyKG5hbWUsIG9wdCk7XG4gICAgdGhpcy5pc1dyaXRlT3BlcmF0aW9uID0gdHJ1ZTtcbiAgfVxuXG4gIG9uQnVpbGQoa25leEJ1aWxkZXIsIGJ1aWxkZXIpIHtcbiAgICBrbmV4QnVpbGRlci5kZWxldGUoKTtcbiAgfVxufVxuIl19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/UpdateOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _QueryBuilderOperation = require('./QueryBuilderOperation');\n\nvar _QueryBuilderOperation2 = _interopRequireDefault(_QueryBuilderOperation);\n\nvar _ReferenceBuilder = require('../ReferenceBuilder');\n\nvar _ReferenceBuilder2 = _interopRequireDefault(_ReferenceBuilder);\n\nvar _jsonFieldExpressionParser = require('../parsers/jsonFieldExpressionParser');\n\nvar _jsonFieldExpressionParser2 = _interopRequireDefault(_jsonFieldExpressionParser);\n\nvar _modelFactory = require('../../model/modelFactory');\n\nvar _promiseUtils = require('../../utils/promiseUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar UpdateOperation = function (_QueryBuilderOperatio) {\n  (0, _inherits3.default)(UpdateOperation, _QueryBuilderOperatio);\n\n  function UpdateOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, UpdateOperation);\n\n    /**\n     * The update model.\n     *\n     * @type {Model}\n     */\n    var _this = (0, _possibleConstructorReturn3.default)(this, _QueryBuilderOperatio.call(this, name, opt));\n\n    _this.model = null;\n\n    /**\n     * Options for the Model.fromJson call.\n     *\n     * @type {ModelOptions}\n     */\n    _this.modelOptions = (0, _assign2.default)({}, _this.opt.modelOptions || {});\n\n    /**\n     * Query properties separated from this.model.\n     *\n     * @type {Map}\n     */\n    _this.queryProps = null;\n\n    /**\n     * @type {boolean}\n     */\n    _this.isWriteOperation = true;\n    return _this;\n  }\n\n  UpdateOperation.prototype.call = function call(builder, args) {\n    var modelClass = builder.modelClass();\n    var json = args[0];\n\n    if (json instanceof modelClass) {\n      this.model = json;\n    } else if (json) {\n      // Convert into model instance and separate query properties like\n      // query builders, knex raw calls etc.\n      var split = (0, _modelFactory.fromJson)({\n        modelOptions: this.modelOptions,\n        modelClass: modelClass,\n        deep: false,\n        json: json\n      });\n\n      this.model = split.model;\n      this.queryProps = split.queryProps;\n    }\n\n    return true;\n  };\n\n  UpdateOperation.prototype.onBeforeInternal = function onBeforeInternal(builder, result) {\n    var maybePromise = this.model.$beforeUpdate(this.modelOptions, builder.context());\n    return (0, _promiseUtils.afterReturn)(maybePromise, result);\n  };\n\n  UpdateOperation.prototype.onBuild = function onBuild(knexBuilder, builder) {\n    // Builder options can contain a queryProps map. Use it\n    // if there isn't a local one.\n    var queryProps = this.queryProps || builder.internalOptions().queryProps;\n\n    var json = (0, _modelFactory.toDatabaseJson)({\n      model: this.model,\n      queryProps: queryProps\n    });\n\n    // convert ref syntax to knex.raw\n    // TODO: jsonb attr update implementation for mysql and sqlite..\n    var knex = builder.knex();\n    var loweredJson = {};\n\n    _lodash2.default.forOwn(json, function (val, key) {\n      // convert ref values to raw\n      var loweredValue = val instanceof _ReferenceBuilder2.default ? knex.raw.apply(knex, (0, _toConsumableArray3.default)(val.toRawArgs())) : val;\n\n      // convert update to jsonb_set format if attr inside jsonb column is set\n      if (key.indexOf(':') > -1) {\n        // e.g. 'col:attr' : ref('other:lol') is transformed to\n        // \"col\" : raw(`jsonb_set(\"col\", '{attr}', to_jsonb(\"other\"#>'{lol}'), true)`)\n\n        var parsed = _jsonFieldExpressionParser2.default.parse(key);\n        var jsonRefs = '{' + (0, _lodash2.default)(parsed.access).map('ref').value().join(',') + '}';\n\n        loweredJson[parsed.columnName] = knex.raw('jsonb_set(??, \\'' + jsonRefs + '\\', to_jsonb(?), true)', [parsed.columnName, loweredValue]);\n      } else {\n        loweredJson[key] = loweredValue;\n      }\n    });\n\n    knexBuilder.update(loweredJson);\n  };\n\n  UpdateOperation.prototype.onAfterInternal = function onAfterInternal(builder, numUpdated) {\n    var maybePromise = this.model.$afterUpdate(this.modelOptions, builder.context());\n    return (0, _promiseUtils.afterReturn)(maybePromise, numUpdated);\n  };\n\n  return UpdateOperation;\n}(_QueryBuilderOperation2.default);\n\nexports.default = UpdateOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVwZGF0ZU9wZXJhdGlvbi5qcyJdLCJuYW1lcyI6WyJVcGRhdGVPcGVyYXRpb24iLCJuYW1lIiwib3B0IiwibW9kZWwiLCJtb2RlbE9wdGlvbnMiLCJxdWVyeVByb3BzIiwiaXNXcml0ZU9wZXJhdGlvbiIsImNhbGwiLCJidWlsZGVyIiwiYXJncyIsIm1vZGVsQ2xhc3MiLCJqc29uIiwic3BsaXQiLCJkZWVwIiwib25CZWZvcmVJbnRlcm5hbCIsInJlc3VsdCIsIm1heWJlUHJvbWlzZSIsIiRiZWZvcmVVcGRhdGUiLCJjb250ZXh0Iiwib25CdWlsZCIsImtuZXhCdWlsZGVyIiwiaW50ZXJuYWxPcHRpb25zIiwia25leCIsImxvd2VyZWRKc29uIiwiZm9yT3duIiwidmFsIiwia2V5IiwibG93ZXJlZFZhbHVlIiwicmF3IiwidG9SYXdBcmdzIiwiaW5kZXhPZiIsInBhcnNlZCIsInBhcnNlIiwianNvblJlZnMiLCJhY2Nlc3MiLCJtYXAiLCJ2YWx1ZSIsImpvaW4iLCJjb2x1bW5OYW1lIiwidXBkYXRlIiwib25BZnRlckludGVybmFsIiwibnVtVXBkYXRlZCIsIiRhZnRlclVwZGF0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7OztJQUVxQkEsZTs7O0FBRW5CLDJCQUFZQyxJQUFaLEVBQWtCQyxHQUFsQixFQUF1QjtBQUFBOztBQUdyQjs7Ozs7QUFIcUIsK0RBQ3JCLGlDQUFNRCxJQUFOLEVBQVlDLEdBQVosQ0FEcUI7O0FBUXJCLFVBQUtDLEtBQUwsR0FBYSxJQUFiOztBQUVBOzs7OztBQUtBLFVBQUtDLFlBQUwsR0FBb0Isc0JBQWMsRUFBZCxFQUFrQixNQUFLRixHQUFMLENBQVNFLFlBQVQsSUFBeUIsRUFBM0MsQ0FBcEI7O0FBRUE7Ozs7O0FBS0EsVUFBS0MsVUFBTCxHQUFrQixJQUFsQjs7QUFFQTs7O0FBR0EsVUFBS0MsZ0JBQUwsR0FBd0IsSUFBeEI7QUEzQnFCO0FBNEJ0Qjs7NEJBRURDLEksaUJBQUtDLE8sRUFBU0MsSSxFQUFNO0FBQ2xCLFFBQU1DLGFBQWFGLFFBQVFFLFVBQVIsRUFBbkI7QUFDQSxRQUFJQyxPQUFPRixLQUFLLENBQUwsQ0FBWDs7QUFFQSxRQUFJRSxnQkFBZ0JELFVBQXBCLEVBQWdDO0FBQzlCLFdBQUtQLEtBQUwsR0FBYVEsSUFBYjtBQUNELEtBRkQsTUFFTyxJQUFJQSxJQUFKLEVBQVU7QUFDZjtBQUNBO0FBQ0EsVUFBTUMsUUFBUSw0QkFBUztBQUNyQlIsc0JBQWMsS0FBS0EsWUFERTtBQUVyQk0sb0JBQVlBLFVBRlM7QUFHckJHLGNBQU0sS0FIZTtBQUlyQkY7QUFKcUIsT0FBVCxDQUFkOztBQU9BLFdBQUtSLEtBQUwsR0FBYVMsTUFBTVQsS0FBbkI7QUFDQSxXQUFLRSxVQUFMLEdBQWtCTyxNQUFNUCxVQUF4QjtBQUNEOztBQUVELFdBQU8sSUFBUDtBQUNELEc7OzRCQUVEUyxnQiw2QkFBaUJOLE8sRUFBU08sTSxFQUFRO0FBQ2hDLFFBQU1DLGVBQWUsS0FBS2IsS0FBTCxDQUFXYyxhQUFYLENBQXlCLEtBQUtiLFlBQTlCLEVBQTRDSSxRQUFRVSxPQUFSLEVBQTVDLENBQXJCO0FBQ0EsV0FBTywrQkFBWUYsWUFBWixFQUEwQkQsTUFBMUIsQ0FBUDtBQUNELEc7OzRCQUVESSxPLG9CQUFRQyxXLEVBQWFaLE8sRUFBUztBQUM1QjtBQUNBO0FBQ0EsUUFBTUgsYUFBYSxLQUFLQSxVQUFMLElBQW1CRyxRQUFRYSxlQUFSLEdBQTBCaEIsVUFBaEU7O0FBRUEsUUFBTU0sT0FBTyxrQ0FBZTtBQUMxQlIsYUFBTyxLQUFLQSxLQURjO0FBRTFCRTtBQUYwQixLQUFmLENBQWI7O0FBS0E7QUFDQTtBQUNBLFFBQU1pQixPQUFPZCxRQUFRYyxJQUFSLEVBQWI7QUFDQSxRQUFNQyxjQUFjLEVBQXBCOztBQUVBLHFCQUFFQyxNQUFGLENBQVNiLElBQVQsRUFBZSxVQUFDYyxHQUFELEVBQU1DLEdBQU4sRUFBYztBQUMzQjtBQUNBLFVBQUlDLGVBQWdCRix5Q0FBRCxHQUNqQkgsS0FBS00sR0FBTCw4Q0FBYUgsSUFBSUksU0FBSixFQUFiLEVBRGlCLEdBQ2dCSixHQURuQzs7QUFHQTtBQUNBLFVBQUlDLElBQUlJLE9BQUosQ0FBWSxHQUFaLElBQW1CLENBQUMsQ0FBeEIsRUFBMkI7QUFDekI7QUFDQTs7QUFFQSxZQUFJQyxTQUFTLG9DQUEwQkMsS0FBMUIsQ0FBZ0NOLEdBQWhDLENBQWI7QUFDQSxZQUFJTyxXQUFXLE1BQU0sc0JBQUVGLE9BQU9HLE1BQVQsRUFBaUJDLEdBQWpCLENBQXFCLEtBQXJCLEVBQTRCQyxLQUE1QixHQUFvQ0MsSUFBcEMsQ0FBeUMsR0FBekMsQ0FBTixHQUFzRCxHQUFyRTs7QUFFQWQsb0JBQVlRLE9BQU9PLFVBQW5CLElBQWlDaEIsS0FBS00sR0FBTCxzQkFDYkssUUFEYSw2QkFFL0IsQ0FBQ0YsT0FBT08sVUFBUixFQUFvQlgsWUFBcEIsQ0FGK0IsQ0FBakM7QUFJRCxPQVhELE1BV087QUFDTEosb0JBQVlHLEdBQVosSUFBbUJDLFlBQW5CO0FBQ0Q7QUFDRixLQXBCRDs7QUFzQkFQLGdCQUFZbUIsTUFBWixDQUFtQmhCLFdBQW5CO0FBQ0QsRzs7NEJBRURpQixlLDRCQUFnQmhDLE8sRUFBU2lDLFUsRUFBWTtBQUNuQyxRQUFNekIsZUFBZSxLQUFLYixLQUFMLENBQVd1QyxZQUFYLENBQXdCLEtBQUt0QyxZQUE3QixFQUEyQ0ksUUFBUVUsT0FBUixFQUEzQyxDQUFyQjtBQUNBLFdBQU8sK0JBQVlGLFlBQVosRUFBMEJ5QixVQUExQixDQUFQO0FBQ0QsRzs7Ozs7a0JBdkdrQnpDLGUiLCJmaWxlIjoiVXBkYXRlT3BlcmF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBRdWVyeUJ1aWxkZXJPcGVyYXRpb24gZnJvbSAnLi9RdWVyeUJ1aWxkZXJPcGVyYXRpb24nO1xuaW1wb3J0IFJlZmVyZW5jZUJ1aWxkZXIgZnJvbSAnLi4vUmVmZXJlbmNlQnVpbGRlcic7XG5pbXBvcnQganNvbkZpZWxkRXhwcmVzc2lvblBhcnNlciBmcm9tICcuLi9wYXJzZXJzL2pzb25GaWVsZEV4cHJlc3Npb25QYXJzZXInO1xuaW1wb3J0IHtmcm9tSnNvbiwgdG9EYXRhYmFzZUpzb259IGZyb20gJy4uLy4uL21vZGVsL21vZGVsRmFjdG9yeSc7XG5pbXBvcnQge2FmdGVyUmV0dXJufSBmcm9tICcuLi8uLi91dGlscy9wcm9taXNlVXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVcGRhdGVPcGVyYXRpb24gZXh0ZW5kcyBRdWVyeUJ1aWxkZXJPcGVyYXRpb24ge1xuXG4gIGNvbnN0cnVjdG9yKG5hbWUsIG9wdCkge1xuICAgIHN1cGVyKG5hbWUsIG9wdCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdXBkYXRlIG1vZGVsLlxuICAgICAqXG4gICAgICogQHR5cGUge01vZGVsfVxuICAgICAqL1xuICAgIHRoaXMubW9kZWwgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogT3B0aW9ucyBmb3IgdGhlIE1vZGVsLmZyb21Kc29uIGNhbGwuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7TW9kZWxPcHRpb25zfVxuICAgICAqL1xuICAgIHRoaXMubW9kZWxPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHQubW9kZWxPcHRpb25zIHx8IHt9KTtcblxuICAgIC8qKlxuICAgICAqIFF1ZXJ5IHByb3BlcnRpZXMgc2VwYXJhdGVkIGZyb20gdGhpcy5tb2RlbC5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtNYXB9XG4gICAgICovXG4gICAgdGhpcy5xdWVyeVByb3BzID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuaXNXcml0ZU9wZXJhdGlvbiA9IHRydWU7XG4gIH1cblxuICBjYWxsKGJ1aWxkZXIsIGFyZ3MpIHtcbiAgICBjb25zdCBtb2RlbENsYXNzID0gYnVpbGRlci5tb2RlbENsYXNzKCk7XG4gICAgbGV0IGpzb24gPSBhcmdzWzBdO1xuXG4gICAgaWYgKGpzb24gaW5zdGFuY2VvZiBtb2RlbENsYXNzKSB7XG4gICAgICB0aGlzLm1vZGVsID0ganNvbjtcbiAgICB9IGVsc2UgaWYgKGpzb24pIHtcbiAgICAgIC8vIENvbnZlcnQgaW50byBtb2RlbCBpbnN0YW5jZSBhbmQgc2VwYXJhdGUgcXVlcnkgcHJvcGVydGllcyBsaWtlXG4gICAgICAvLyBxdWVyeSBidWlsZGVycywga25leCByYXcgY2FsbHMgZXRjLlxuICAgICAgY29uc3Qgc3BsaXQgPSBmcm9tSnNvbih7XG4gICAgICAgIG1vZGVsT3B0aW9uczogdGhpcy5tb2RlbE9wdGlvbnMsXG4gICAgICAgIG1vZGVsQ2xhc3M6IG1vZGVsQ2xhc3MsXG4gICAgICAgIGRlZXA6IGZhbHNlLFxuICAgICAgICBqc29uXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5tb2RlbCA9IHNwbGl0Lm1vZGVsO1xuICAgICAgdGhpcy5xdWVyeVByb3BzID0gc3BsaXQucXVlcnlQcm9wcztcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIG9uQmVmb3JlSW50ZXJuYWwoYnVpbGRlciwgcmVzdWx0KSB7XG4gICAgY29uc3QgbWF5YmVQcm9taXNlID0gdGhpcy5tb2RlbC4kYmVmb3JlVXBkYXRlKHRoaXMubW9kZWxPcHRpb25zLCBidWlsZGVyLmNvbnRleHQoKSk7XG4gICAgcmV0dXJuIGFmdGVyUmV0dXJuKG1heWJlUHJvbWlzZSwgcmVzdWx0KTtcbiAgfVxuXG4gIG9uQnVpbGQoa25leEJ1aWxkZXIsIGJ1aWxkZXIpIHtcbiAgICAvLyBCdWlsZGVyIG9wdGlvbnMgY2FuIGNvbnRhaW4gYSBxdWVyeVByb3BzIG1hcC4gVXNlIGl0XG4gICAgLy8gaWYgdGhlcmUgaXNuJ3QgYSBsb2NhbCBvbmUuXG4gICAgY29uc3QgcXVlcnlQcm9wcyA9IHRoaXMucXVlcnlQcm9wcyB8fCBidWlsZGVyLmludGVybmFsT3B0aW9ucygpLnF1ZXJ5UHJvcHM7XG5cbiAgICBjb25zdCBqc29uID0gdG9EYXRhYmFzZUpzb24oe1xuICAgICAgbW9kZWw6IHRoaXMubW9kZWwsXG4gICAgICBxdWVyeVByb3BzXG4gICAgfSk7XG5cbiAgICAvLyBjb252ZXJ0IHJlZiBzeW50YXggdG8ga25leC5yYXdcbiAgICAvLyBUT0RPOiBqc29uYiBhdHRyIHVwZGF0ZSBpbXBsZW1lbnRhdGlvbiBmb3IgbXlzcWwgYW5kIHNxbGl0ZS4uXG4gICAgY29uc3Qga25leCA9IGJ1aWxkZXIua25leCgpO1xuICAgIGNvbnN0IGxvd2VyZWRKc29uID0ge307XG5cbiAgICBfLmZvck93bihqc29uLCAodmFsLCBrZXkpID0+IHtcbiAgICAgIC8vIGNvbnZlcnQgcmVmIHZhbHVlcyB0byByYXdcbiAgICAgIGxldCBsb3dlcmVkVmFsdWUgPSAodmFsIGluc3RhbmNlb2YgUmVmZXJlbmNlQnVpbGRlcikgP1xuICAgICAgICBrbmV4LnJhdyguLi4odmFsLnRvUmF3QXJncygpKSkgOiB2YWw7XG5cbiAgICAgIC8vIGNvbnZlcnQgdXBkYXRlIHRvIGpzb25iX3NldCBmb3JtYXQgaWYgYXR0ciBpbnNpZGUganNvbmIgY29sdW1uIGlzIHNldFxuICAgICAgaWYgKGtleS5pbmRleE9mKCc6JykgPiAtMSkge1xuICAgICAgICAvLyBlLmcuICdjb2w6YXR0cicgOiByZWYoJ290aGVyOmxvbCcpIGlzIHRyYW5zZm9ybWVkIHRvXG4gICAgICAgIC8vIFwiY29sXCIgOiByYXcoYGpzb25iX3NldChcImNvbFwiLCAne2F0dHJ9JywgdG9fanNvbmIoXCJvdGhlclwiIz4ne2xvbH0nKSwgdHJ1ZSlgKVxuXG4gICAgICAgIGxldCBwYXJzZWQgPSBqc29uRmllbGRFeHByZXNzaW9uUGFyc2VyLnBhcnNlKGtleSk7XG4gICAgICAgIGxldCBqc29uUmVmcyA9ICd7JyArIF8ocGFyc2VkLmFjY2VzcykubWFwKCdyZWYnKS52YWx1ZSgpLmpvaW4oJywnKSArICd9JztcblxuICAgICAgICBsb3dlcmVkSnNvbltwYXJzZWQuY29sdW1uTmFtZV0gPSBrbmV4LnJhdyhcbiAgICAgICAgICBganNvbmJfc2V0KD8/LCAnJHtqc29uUmVmc30nLCB0b19qc29uYig/KSwgdHJ1ZSlgLFxuICAgICAgICAgIFtwYXJzZWQuY29sdW1uTmFtZSwgbG93ZXJlZFZhbHVlXVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG93ZXJlZEpzb25ba2V5XSA9IGxvd2VyZWRWYWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGtuZXhCdWlsZGVyLnVwZGF0ZShsb3dlcmVkSnNvbik7XG4gIH1cblxuICBvbkFmdGVySW50ZXJuYWwoYnVpbGRlciwgbnVtVXBkYXRlZCkge1xuICAgIGNvbnN0IG1heWJlUHJvbWlzZSA9IHRoaXMubW9kZWwuJGFmdGVyVXBkYXRlKHRoaXMubW9kZWxPcHRpb25zLCBidWlsZGVyLmNvbnRleHQoKSk7XG4gICAgcmV0dXJuIGFmdGVyUmV0dXJuKG1heWJlUHJvbWlzZSwgbnVtVXBkYXRlZCk7XG4gIH1cbn1cbiJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/model/modelFactory.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _map = require('babel-runtime/core-js/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nexports.fromJson = fromJson;\nexports.toDatabaseJson = toDatabaseJson;\n\nvar _knexUtils = require('../utils/knexUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar QueryBuilderBase = null;\nvar ReferenceBuilder = null;\n\nfunction fromJson(_ref) {\n  var modelClass = _ref.modelClass,\n      json = _ref.json,\n      deep = _ref.deep,\n      modelOptions = _ref.modelOptions;\n\n  lazyLoadDeps();\n\n  if (deep) {\n    return fromJsonDeep(json, modelClass, modelOptions);\n  } else {\n    return fromJsonShallow(json, modelClass, modelOptions);\n  }\n}\n\nfunction toDatabaseJson(_ref2) {\n  var model = _ref2.model,\n      queryProps = _ref2.queryProps;\n\n  var json = model.$toDatabaseJson();\n  var modelClass = model.constructor;\n\n  if (queryProps) {\n    var query = queryProps.get(model);\n\n    if (query) {\n      var keys = (0, _keys2.default)(query);\n\n      for (var i = 0, l = keys.length; i < l; ++i) {\n        var key = keys[i];\n        var queryProp = query[key];\n\n        if (queryProp instanceof QueryBuilderBase) {\n          queryProp = queryProp.build();\n        }\n\n        json[modelClass.propertyNameToColumnName(key)] = queryProp;\n      }\n    }\n  }\n\n  return json;\n}\n\nfunction fromJsonDeep(obj, modelClass, modelOptions) {\n  var queryProps = new _map2.default();\n\n  var ctx = {\n    modelOptions: modelOptions,\n    queryProps: queryProps\n  };\n\n  var model = splitDeep(obj, modelClass, ctx);\n\n  return {\n    model: model,\n    queryProps: queryProps\n  };\n}\n\nfunction fromJsonShallow(obj, modelClass, modelOptions) {\n  var queryProps = new _map2.default();\n\n  var model = void 0;\n\n  if (Array.isArray(obj)) {\n    model = obj.map(function (obj) {\n      return doSplit(obj, modelClass, queryProps, modelOptions);\n    });\n  } else {\n    model = doSplit(obj, modelClass, queryProps, modelOptions);\n  }\n\n  return {\n    model: model,\n    queryProps: queryProps\n  };\n}\n\nfunction splitDeep(objs, modelClass, ctx) {\n  if (Array.isArray(objs)) {\n    return splitDeepMany(objs, modelClass, ctx);\n  } else if (objs) {\n    return splitDeepOne(objs, modelClass, ctx);\n  }\n}\n\nfunction splitDeepMany(objs, modelClass, ctx) {\n  var models = new Array(objs.length);\n\n  for (var i = 0, l = objs.length; i < l; ++i) {\n    models[i] = splitDeepOne(objs[i], modelClass, ctx);\n  }\n\n  return models;\n}\n\nfunction splitDeepOne(obj, modelClass, ctx) {\n  var relations = modelClass.getRelationArray();\n  var model = doSplit(obj, modelClass, ctx.queryProps, ctx.modelOptions);\n\n  for (var i = 0, l = relations.length; i < l; ++i) {\n    var relation = relations[i];\n    var relatedObjs = obj[relation.name];\n    var relatedModelClass = relation.relatedModelClass;\n\n    if (relatedObjs) {\n      model[relation.name] = splitDeep(relatedObjs, relatedModelClass, ctx);\n    } else if (relatedObjs !== undefined) {\n      model[relation.name] = relatedObjs;\n    }\n  }\n\n  return model;\n}\n\nfunction doSplit(obj, modelClass, queryProps, modelOpt) {\n  var query = {};\n  var model = {};\n\n  var keys = (0, _keys2.default)(obj);\n  var relations = modelClass.getRelations();\n  var hasQueries = false;\n\n  for (var i = 0, l = keys.length; i < l; ++i) {\n    var key = keys[i];\n    var value = obj[key];\n\n    if (relations[key]) {\n      continue;\n    }\n\n    if (isQueryProp(value)) {\n      hasQueries = true;\n      query[key] = value;\n    } else {\n      model[key] = value;\n    }\n  }\n\n  model = modelClass.fromJson(model, modelOpt);\n\n  if (hasQueries) {\n    queryProps.set(model, query);\n  }\n\n  return model;\n}\n\nfunction isQueryProp(value) {\n  return (0, _knexUtils.isKnexQueryBuilder)(value) || (0, _knexUtils.isKnexRaw)(value) || value instanceof QueryBuilderBase || value instanceof ReferenceBuilder;\n}\n\nfunction lazyLoadDeps() {\n  QueryBuilderBase = QueryBuilderBase || requireQueryBuilderBase();\n  ReferenceBuilder = ReferenceBuilder || requireReferenceBuilder();\n}\n\nfunction requireQueryBuilderBase() {\n  return require('../queryBuilder/QueryBuilderBase').default;\n}\n\nfunction requireReferenceBuilder() {\n  return require('../queryBuilder/ReferenceBuilder').default;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGVsRmFjdG9yeS5qcyJdLCJuYW1lcyI6WyJmcm9tSnNvbiIsInRvRGF0YWJhc2VKc29uIiwiUXVlcnlCdWlsZGVyQmFzZSIsIlJlZmVyZW5jZUJ1aWxkZXIiLCJtb2RlbENsYXNzIiwianNvbiIsImRlZXAiLCJtb2RlbE9wdGlvbnMiLCJsYXp5TG9hZERlcHMiLCJmcm9tSnNvbkRlZXAiLCJmcm9tSnNvblNoYWxsb3ciLCJtb2RlbCIsInF1ZXJ5UHJvcHMiLCIkdG9EYXRhYmFzZUpzb24iLCJjb25zdHJ1Y3RvciIsInF1ZXJ5IiwiZ2V0Iiwia2V5cyIsImkiLCJsIiwibGVuZ3RoIiwia2V5IiwicXVlcnlQcm9wIiwiYnVpbGQiLCJwcm9wZXJ0eU5hbWVUb0NvbHVtbk5hbWUiLCJvYmoiLCJjdHgiLCJzcGxpdERlZXAiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJkb1NwbGl0Iiwib2JqcyIsInNwbGl0RGVlcE1hbnkiLCJzcGxpdERlZXBPbmUiLCJtb2RlbHMiLCJyZWxhdGlvbnMiLCJnZXRSZWxhdGlvbkFycmF5IiwicmVsYXRpb24iLCJyZWxhdGVkT2JqcyIsIm5hbWUiLCJyZWxhdGVkTW9kZWxDbGFzcyIsInVuZGVmaW5lZCIsIm1vZGVsT3B0IiwiZ2V0UmVsYXRpb25zIiwiaGFzUXVlcmllcyIsInZhbHVlIiwiaXNRdWVyeVByb3AiLCJzZXQiLCJyZXF1aXJlUXVlcnlCdWlsZGVyQmFzZSIsInJlcXVpcmVSZWZlcmVuY2VCdWlsZGVyIiwicmVxdWlyZSIsImRlZmF1bHQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O1FBS2dCQSxRLEdBQUFBLFE7UUFVQUMsYyxHQUFBQSxjOztBQWZoQjs7OztBQUVBLElBQUlDLG1CQUFtQixJQUF2QjtBQUNBLElBQUlDLG1CQUFtQixJQUF2Qjs7QUFFTyxTQUFTSCxRQUFULE9BQTBEO0FBQUEsTUFBdkNJLFVBQXVDLFFBQXZDQSxVQUF1QztBQUFBLE1BQTNCQyxJQUEyQixRQUEzQkEsSUFBMkI7QUFBQSxNQUFyQkMsSUFBcUIsUUFBckJBLElBQXFCO0FBQUEsTUFBZkMsWUFBZSxRQUFmQSxZQUFlOztBQUMvREM7O0FBRUEsTUFBSUYsSUFBSixFQUFVO0FBQ1IsV0FBT0csYUFBYUosSUFBYixFQUFtQkQsVUFBbkIsRUFBK0JHLFlBQS9CLENBQVA7QUFDRCxHQUZELE1BRU87QUFDTCxXQUFPRyxnQkFBZ0JMLElBQWhCLEVBQXNCRCxVQUF0QixFQUFrQ0csWUFBbEMsQ0FBUDtBQUNEO0FBQ0Y7O0FBRU0sU0FBU04sY0FBVCxRQUE2QztBQUFBLE1BQXBCVSxLQUFvQixTQUFwQkEsS0FBb0I7QUFBQSxNQUFiQyxVQUFhLFNBQWJBLFVBQWE7O0FBQ2xELE1BQU1QLE9BQU9NLE1BQU1FLGVBQU4sRUFBYjtBQUNBLE1BQU1ULGFBQWFPLE1BQU1HLFdBQXpCOztBQUVBLE1BQUlGLFVBQUosRUFBZ0I7QUFDZCxRQUFNRyxRQUFRSCxXQUFXSSxHQUFYLENBQWVMLEtBQWYsQ0FBZDs7QUFFQSxRQUFJSSxLQUFKLEVBQVc7QUFDVCxVQUFNRSxPQUFPLG9CQUFZRixLQUFaLENBQWI7O0FBRUEsV0FBSyxJQUFJRyxJQUFJLENBQVIsRUFBV0MsSUFBSUYsS0FBS0csTUFBekIsRUFBaUNGLElBQUlDLENBQXJDLEVBQXdDLEVBQUVELENBQTFDLEVBQTZDO0FBQzNDLFlBQU1HLE1BQU1KLEtBQUtDLENBQUwsQ0FBWjtBQUNBLFlBQUlJLFlBQVlQLE1BQU1NLEdBQU4sQ0FBaEI7O0FBRUEsWUFBSUMscUJBQXFCcEIsZ0JBQXpCLEVBQTJDO0FBQ3pDb0Isc0JBQVlBLFVBQVVDLEtBQVYsRUFBWjtBQUNEOztBQUVEbEIsYUFBS0QsV0FBV29CLHdCQUFYLENBQW9DSCxHQUFwQyxDQUFMLElBQWlEQyxTQUFqRDtBQUNEO0FBQ0Y7QUFDRjs7QUFFRCxTQUFPakIsSUFBUDtBQUNEOztBQUVELFNBQVNJLFlBQVQsQ0FBc0JnQixHQUF0QixFQUEyQnJCLFVBQTNCLEVBQXVDRyxZQUF2QyxFQUFxRDtBQUNuRCxNQUFNSyxhQUFhLG1CQUFuQjs7QUFFQSxNQUFNYyxNQUFNO0FBQ1ZuQiw4QkFEVTtBQUVWSztBQUZVLEdBQVo7O0FBS0EsTUFBTUQsUUFBUWdCLFVBQVVGLEdBQVYsRUFBZXJCLFVBQWYsRUFBMkJzQixHQUEzQixDQUFkOztBQUVBLFNBQU87QUFDTGYsZ0JBREs7QUFFTEM7QUFGSyxHQUFQO0FBSUQ7O0FBRUQsU0FBU0YsZUFBVCxDQUF5QmUsR0FBekIsRUFBOEJyQixVQUE5QixFQUEwQ0csWUFBMUMsRUFBd0Q7QUFDdEQsTUFBTUssYUFBYSxtQkFBbkI7O0FBRUEsTUFBSUQsY0FBSjs7QUFFQSxNQUFJaUIsTUFBTUMsT0FBTixDQUFjSixHQUFkLENBQUosRUFBd0I7QUFDdEJkLFlBQVFjLElBQUlLLEdBQUosQ0FBUTtBQUFBLGFBQU9DLFFBQVFOLEdBQVIsRUFBYXJCLFVBQWIsRUFBeUJRLFVBQXpCLEVBQXFDTCxZQUFyQyxDQUFQO0FBQUEsS0FBUixDQUFSO0FBQ0QsR0FGRCxNQUVPO0FBQ0xJLFlBQVFvQixRQUFRTixHQUFSLEVBQWFyQixVQUFiLEVBQXlCUSxVQUF6QixFQUFxQ0wsWUFBckMsQ0FBUjtBQUNEOztBQUVELFNBQU87QUFDTEksZ0JBREs7QUFFTEM7QUFGSyxHQUFQO0FBSUQ7O0FBRUQsU0FBU2UsU0FBVCxDQUFtQkssSUFBbkIsRUFBeUI1QixVQUF6QixFQUFxQ3NCLEdBQXJDLEVBQTBDO0FBQ3hDLE1BQUlFLE1BQU1DLE9BQU4sQ0FBY0csSUFBZCxDQUFKLEVBQXlCO0FBQ3ZCLFdBQU9DLGNBQWNELElBQWQsRUFBb0I1QixVQUFwQixFQUFnQ3NCLEdBQWhDLENBQVA7QUFDRCxHQUZELE1BRU8sSUFBSU0sSUFBSixFQUFVO0FBQ2YsV0FBT0UsYUFBYUYsSUFBYixFQUFtQjVCLFVBQW5CLEVBQStCc0IsR0FBL0IsQ0FBUDtBQUNEO0FBQ0Y7O0FBRUQsU0FBU08sYUFBVCxDQUF1QkQsSUFBdkIsRUFBNkI1QixVQUE3QixFQUF5Q3NCLEdBQXpDLEVBQThDO0FBQzVDLE1BQU1TLFNBQVMsSUFBSVAsS0FBSixDQUFVSSxLQUFLWixNQUFmLENBQWY7O0FBRUEsT0FBSyxJQUFJRixJQUFJLENBQVIsRUFBV0MsSUFBSWEsS0FBS1osTUFBekIsRUFBaUNGLElBQUlDLENBQXJDLEVBQXdDLEVBQUVELENBQTFDLEVBQTZDO0FBQzNDaUIsV0FBT2pCLENBQVAsSUFBWWdCLGFBQWFGLEtBQUtkLENBQUwsQ0FBYixFQUFzQmQsVUFBdEIsRUFBa0NzQixHQUFsQyxDQUFaO0FBQ0Q7O0FBRUQsU0FBT1MsTUFBUDtBQUNEOztBQUVELFNBQVNELFlBQVQsQ0FBc0JULEdBQXRCLEVBQTJCckIsVUFBM0IsRUFBdUNzQixHQUF2QyxFQUE0QztBQUMxQyxNQUFNVSxZQUFZaEMsV0FBV2lDLGdCQUFYLEVBQWxCO0FBQ0EsTUFBTTFCLFFBQVFvQixRQUFRTixHQUFSLEVBQWFyQixVQUFiLEVBQXlCc0IsSUFBSWQsVUFBN0IsRUFBeUNjLElBQUluQixZQUE3QyxDQUFkOztBQUVBLE9BQUssSUFBSVcsSUFBSSxDQUFSLEVBQVdDLElBQUlpQixVQUFVaEIsTUFBOUIsRUFBc0NGLElBQUlDLENBQTFDLEVBQTZDLEVBQUVELENBQS9DLEVBQWtEO0FBQ2hELFFBQU1vQixXQUFXRixVQUFVbEIsQ0FBVixDQUFqQjtBQUNBLFFBQU1xQixjQUFjZCxJQUFJYSxTQUFTRSxJQUFiLENBQXBCO0FBQ0EsUUFBTUMsb0JBQW9CSCxTQUFTRyxpQkFBbkM7O0FBRUEsUUFBSUYsV0FBSixFQUFpQjtBQUNmNUIsWUFBTTJCLFNBQVNFLElBQWYsSUFBdUJiLFVBQVVZLFdBQVYsRUFBdUJFLGlCQUF2QixFQUEwQ2YsR0FBMUMsQ0FBdkI7QUFDRCxLQUZELE1BRU8sSUFBSWEsZ0JBQWdCRyxTQUFwQixFQUErQjtBQUNwQy9CLFlBQU0yQixTQUFTRSxJQUFmLElBQXVCRCxXQUF2QjtBQUNEO0FBQ0Y7O0FBRUQsU0FBTzVCLEtBQVA7QUFDRDs7QUFFRCxTQUFTb0IsT0FBVCxDQUFpQk4sR0FBakIsRUFBc0JyQixVQUF0QixFQUFrQ1EsVUFBbEMsRUFBOEMrQixRQUE5QyxFQUF3RDtBQUN0RCxNQUFJNUIsUUFBUSxFQUFaO0FBQ0EsTUFBSUosUUFBUSxFQUFaOztBQUVBLE1BQU1NLE9BQU8sb0JBQVlRLEdBQVosQ0FBYjtBQUNBLE1BQU1XLFlBQVloQyxXQUFXd0MsWUFBWCxFQUFsQjtBQUNBLE1BQUlDLGFBQWEsS0FBakI7O0FBRUEsT0FBSyxJQUFJM0IsSUFBSSxDQUFSLEVBQVdDLElBQUlGLEtBQUtHLE1BQXpCLEVBQWlDRixJQUFJQyxDQUFyQyxFQUF3QyxFQUFFRCxDQUExQyxFQUE2QztBQUMzQyxRQUFNRyxNQUFNSixLQUFLQyxDQUFMLENBQVo7QUFDQSxRQUFNNEIsUUFBUXJCLElBQUlKLEdBQUosQ0FBZDs7QUFFQSxRQUFJZSxVQUFVZixHQUFWLENBQUosRUFBb0I7QUFDbEI7QUFDRDs7QUFFRCxRQUFJMEIsWUFBWUQsS0FBWixDQUFKLEVBQXdCO0FBQ3RCRCxtQkFBYSxJQUFiO0FBQ0E5QixZQUFNTSxHQUFOLElBQWF5QixLQUFiO0FBQ0QsS0FIRCxNQUdPO0FBQ0xuQyxZQUFNVSxHQUFOLElBQWF5QixLQUFiO0FBQ0Q7QUFDRjs7QUFFRG5DLFVBQVFQLFdBQVdKLFFBQVgsQ0FBb0JXLEtBQXBCLEVBQTJCZ0MsUUFBM0IsQ0FBUjs7QUFFQSxNQUFJRSxVQUFKLEVBQWdCO0FBQ2RqQyxlQUFXb0MsR0FBWCxDQUFlckMsS0FBZixFQUFzQkksS0FBdEI7QUFDRDs7QUFFRCxTQUFPSixLQUFQO0FBQ0Q7O0FBRUQsU0FBU29DLFdBQVQsQ0FBcUJELEtBQXJCLEVBQTRCO0FBQzFCLFNBQU8sbUNBQW1CQSxLQUFuQixLQUNGLDBCQUFVQSxLQUFWLENBREUsSUFFRkEsaUJBQWlCNUMsZ0JBRmYsSUFHRjRDLGlCQUFpQjNDLGdCQUh0QjtBQUlEOztBQUVELFNBQVNLLFlBQVQsR0FBd0I7QUFDdEJOLHFCQUFtQkEsb0JBQW9CK0MseUJBQXZDO0FBQ0E5QyxxQkFBbUJBLG9CQUFvQitDLHlCQUF2QztBQUNEOztBQUVELFNBQVNELHVCQUFULEdBQW1DO0FBQ2pDLFNBQU9FLFFBQVEsa0NBQVIsRUFBNENDLE9BQW5EO0FBQ0Q7O0FBRUQsU0FBU0YsdUJBQVQsR0FBbUM7QUFDakMsU0FBT0MsUUFBUSxrQ0FBUixFQUE0Q0MsT0FBbkQ7QUFDRCIsImZpbGUiOiJtb2RlbEZhY3RvcnkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2lzS25leFF1ZXJ5QnVpbGRlciwgaXNLbmV4UmF3fSBmcm9tICcuLi91dGlscy9rbmV4VXRpbHMnO1xuXG5sZXQgUXVlcnlCdWlsZGVyQmFzZSA9IG51bGw7XG5sZXQgUmVmZXJlbmNlQnVpbGRlciA9IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tSnNvbih7bW9kZWxDbGFzcywganNvbiwgZGVlcCwgbW9kZWxPcHRpb25zfSkge1xuICBsYXp5TG9hZERlcHMoKTtcblxuICBpZiAoZGVlcCkge1xuICAgIHJldHVybiBmcm9tSnNvbkRlZXAoanNvbiwgbW9kZWxDbGFzcywgbW9kZWxPcHRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZnJvbUpzb25TaGFsbG93KGpzb24sIG1vZGVsQ2xhc3MsIG1vZGVsT3B0aW9ucyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvRGF0YWJhc2VKc29uKHttb2RlbCwgcXVlcnlQcm9wc30pIHtcbiAgY29uc3QganNvbiA9IG1vZGVsLiR0b0RhdGFiYXNlSnNvbigpO1xuICBjb25zdCBtb2RlbENsYXNzID0gbW9kZWwuY29uc3RydWN0b3I7XG5cbiAgaWYgKHF1ZXJ5UHJvcHMpIHtcbiAgICBjb25zdCBxdWVyeSA9IHF1ZXJ5UHJvcHMuZ2V0KG1vZGVsKTtcblxuICAgIGlmIChxdWVyeSkge1xuICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHF1ZXJ5KTtcblxuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgICAgICBsZXQgcXVlcnlQcm9wID0gcXVlcnlba2V5XTtcblxuICAgICAgICBpZiAocXVlcnlQcm9wIGluc3RhbmNlb2YgUXVlcnlCdWlsZGVyQmFzZSkge1xuICAgICAgICAgIHF1ZXJ5UHJvcCA9IHF1ZXJ5UHJvcC5idWlsZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAganNvblttb2RlbENsYXNzLnByb3BlcnR5TmFtZVRvQ29sdW1uTmFtZShrZXkpXSA9IHF1ZXJ5UHJvcDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4ganNvbjtcbn1cblxuZnVuY3Rpb24gZnJvbUpzb25EZWVwKG9iaiwgbW9kZWxDbGFzcywgbW9kZWxPcHRpb25zKSB7XG4gIGNvbnN0IHF1ZXJ5UHJvcHMgPSBuZXcgTWFwKCk7XG5cbiAgY29uc3QgY3R4ID0ge1xuICAgIG1vZGVsT3B0aW9ucyxcbiAgICBxdWVyeVByb3BzXG4gIH07XG5cbiAgY29uc3QgbW9kZWwgPSBzcGxpdERlZXAob2JqLCBtb2RlbENsYXNzLCBjdHgpO1xuXG4gIHJldHVybiB7XG4gICAgbW9kZWwsXG4gICAgcXVlcnlQcm9wc1xuICB9O1xufVxuXG5mdW5jdGlvbiBmcm9tSnNvblNoYWxsb3cob2JqLCBtb2RlbENsYXNzLCBtb2RlbE9wdGlvbnMpIHtcbiAgY29uc3QgcXVlcnlQcm9wcyA9IG5ldyBNYXAoKTtcblxuICBsZXQgbW9kZWw7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgIG1vZGVsID0gb2JqLm1hcChvYmogPT4gZG9TcGxpdChvYmosIG1vZGVsQ2xhc3MsIHF1ZXJ5UHJvcHMsIG1vZGVsT3B0aW9ucykpO1xuICB9IGVsc2Uge1xuICAgIG1vZGVsID0gZG9TcGxpdChvYmosIG1vZGVsQ2xhc3MsIHF1ZXJ5UHJvcHMsIG1vZGVsT3B0aW9ucyk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG1vZGVsLFxuICAgIHF1ZXJ5UHJvcHNcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3BsaXREZWVwKG9ianMsIG1vZGVsQ2xhc3MsIGN0eCkge1xuICBpZiAoQXJyYXkuaXNBcnJheShvYmpzKSkge1xuICAgIHJldHVybiBzcGxpdERlZXBNYW55KG9ianMsIG1vZGVsQ2xhc3MsIGN0eCk7XG4gIH0gZWxzZSBpZiAob2Jqcykge1xuICAgIHJldHVybiBzcGxpdERlZXBPbmUob2JqcywgbW9kZWxDbGFzcywgY3R4KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzcGxpdERlZXBNYW55KG9ianMsIG1vZGVsQ2xhc3MsIGN0eCkge1xuICBjb25zdCBtb2RlbHMgPSBuZXcgQXJyYXkob2Jqcy5sZW5ndGgpO1xuXG4gIGZvciAobGV0IGkgPSAwLCBsID0gb2Jqcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBtb2RlbHNbaV0gPSBzcGxpdERlZXBPbmUob2Jqc1tpXSwgbW9kZWxDbGFzcywgY3R4KTtcbiAgfVxuXG4gIHJldHVybiBtb2RlbHM7XG59XG5cbmZ1bmN0aW9uIHNwbGl0RGVlcE9uZShvYmosIG1vZGVsQ2xhc3MsIGN0eCkge1xuICBjb25zdCByZWxhdGlvbnMgPSBtb2RlbENsYXNzLmdldFJlbGF0aW9uQXJyYXkoKTtcbiAgY29uc3QgbW9kZWwgPSBkb1NwbGl0KG9iaiwgbW9kZWxDbGFzcywgY3R4LnF1ZXJ5UHJvcHMsIGN0eC5tb2RlbE9wdGlvbnMpO1xuXG4gIGZvciAobGV0IGkgPSAwLCBsID0gcmVsYXRpb25zLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgIGNvbnN0IHJlbGF0aW9uID0gcmVsYXRpb25zW2ldO1xuICAgIGNvbnN0IHJlbGF0ZWRPYmpzID0gb2JqW3JlbGF0aW9uLm5hbWVdO1xuICAgIGNvbnN0IHJlbGF0ZWRNb2RlbENsYXNzID0gcmVsYXRpb24ucmVsYXRlZE1vZGVsQ2xhc3M7XG5cbiAgICBpZiAocmVsYXRlZE9ianMpIHtcbiAgICAgIG1vZGVsW3JlbGF0aW9uLm5hbWVdID0gc3BsaXREZWVwKHJlbGF0ZWRPYmpzLCByZWxhdGVkTW9kZWxDbGFzcywgY3R4KTtcbiAgICB9IGVsc2UgaWYgKHJlbGF0ZWRPYmpzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG1vZGVsW3JlbGF0aW9uLm5hbWVdID0gcmVsYXRlZE9ianM7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1vZGVsO1xufVxuXG5mdW5jdGlvbiBkb1NwbGl0KG9iaiwgbW9kZWxDbGFzcywgcXVlcnlQcm9wcywgbW9kZWxPcHQpIHtcbiAgbGV0IHF1ZXJ5ID0ge307XG4gIGxldCBtb2RlbCA9IHt9O1xuXG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICBjb25zdCByZWxhdGlvbnMgPSBtb2RlbENsYXNzLmdldFJlbGF0aW9ucygpO1xuICBsZXQgaGFzUXVlcmllcyA9IGZhbHNlO1xuXG4gIGZvciAobGV0IGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgIGNvbnN0IHZhbHVlID0gb2JqW2tleV07XG5cbiAgICBpZiAocmVsYXRpb25zW2tleV0pIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChpc1F1ZXJ5UHJvcCh2YWx1ZSkpIHtcbiAgICAgIGhhc1F1ZXJpZXMgPSB0cnVlO1xuICAgICAgcXVlcnlba2V5XSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBtb2RlbFtrZXldID0gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgbW9kZWwgPSBtb2RlbENsYXNzLmZyb21Kc29uKG1vZGVsLCBtb2RlbE9wdCk7XG5cbiAgaWYgKGhhc1F1ZXJpZXMpIHtcbiAgICBxdWVyeVByb3BzLnNldChtb2RlbCwgcXVlcnkpO1xuICB9XG5cbiAgcmV0dXJuIG1vZGVsO1xufVxuXG5mdW5jdGlvbiBpc1F1ZXJ5UHJvcCh2YWx1ZSkge1xuICByZXR1cm4gaXNLbmV4UXVlcnlCdWlsZGVyKHZhbHVlKVxuICAgIHx8IGlzS25leFJhdyh2YWx1ZSlcbiAgICB8fCB2YWx1ZSBpbnN0YW5jZW9mIFF1ZXJ5QnVpbGRlckJhc2VcbiAgICB8fCB2YWx1ZSBpbnN0YW5jZW9mIFJlZmVyZW5jZUJ1aWxkZXI7XG59XG5cbmZ1bmN0aW9uIGxhenlMb2FkRGVwcygpIHtcbiAgUXVlcnlCdWlsZGVyQmFzZSA9IFF1ZXJ5QnVpbGRlckJhc2UgfHwgcmVxdWlyZVF1ZXJ5QnVpbGRlckJhc2UoKTtcbiAgUmVmZXJlbmNlQnVpbGRlciA9IFJlZmVyZW5jZUJ1aWxkZXIgfHwgcmVxdWlyZVJlZmVyZW5jZUJ1aWxkZXIoKTtcbn1cblxuZnVuY3Rpb24gcmVxdWlyZVF1ZXJ5QnVpbGRlckJhc2UoKSB7XG4gIHJldHVybiByZXF1aXJlKCcuLi9xdWVyeUJ1aWxkZXIvUXVlcnlCdWlsZGVyQmFzZScpLmRlZmF1bHQ7XG59XG5cbmZ1bmN0aW9uIHJlcXVpcmVSZWZlcmVuY2VCdWlsZGVyKCkge1xuICByZXR1cm4gcmVxdWlyZSgnLi4vcXVlcnlCdWlsZGVyL1JlZmVyZW5jZUJ1aWxkZXInKS5kZWZhdWx0O1xufSJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/InsertOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _QueryBuilderOperation = require('./QueryBuilderOperation');\n\nvar _QueryBuilderOperation2 = _interopRequireDefault(_QueryBuilderOperation);\n\nvar _modelFactory = require('../../model/modelFactory');\n\nvar _promiseUtils = require('../../utils/promiseUtils');\n\nvar _knexUtils = require('../../utils/knexUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InsertOperation = function (_QueryBuilderOperatio) {\n  (0, _inherits3.default)(InsertOperation, _QueryBuilderOperatio);\n\n  function InsertOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, InsertOperation);\n\n    /**\n     * The models we are inserting.\n     *\n     * @type {Array.<Model>}\n     */\n    var _this = (0, _possibleConstructorReturn3.default)(this, _QueryBuilderOperatio.call(this, name, opt));\n\n    _this.models = null;\n\n    /**\n     * this.models is always an array, this is true if the\n     * original input was an array.\n     *\n     * @type {boolean}\n     */\n    _this.isArray = false;\n\n    /**\n     * Options for the Model.fromJson call.\n     *\n     * @type {ModelOptions}\n     */\n    _this.modelOptions = (0, _assign2.default)({}, _this.opt.modelOptions || {});\n\n    /**\n     * Set this to true if the the input should be split into models\n     * and query properties deeply (with relations).\n     *\n     * @type {boolean}\n     */\n    _this.splitQueryPropsDeep = false;\n\n    /**\n     * Maps models in this.models into query properties that were\n     * separated from them.\n     *\n     * @type {Map}\n     */\n    _this.queryProps = null;\n\n    /**\n     * @type {boolean}\n     */\n    _this.isWriteOperation = true;\n    return _this;\n  }\n\n  InsertOperation.prototype.call = function call(builder, args) {\n    // The objects to insert.\n    var json = args[0];\n    var modelClass = builder.modelClass();\n\n    this.isArray = Array.isArray(json);\n\n    if (!this.isArray) {\n      json = [json];\n    }\n\n    if (json.every(function (it) {\n      return it instanceof modelClass;\n    })) {\n      // No need to convert, already model instances.\n      this.models = json;\n    } else {\n      // Convert into model instances and separate query properties like\n      // query builders, knex raw calls etc.\n      var split = (0, _modelFactory.fromJson)({\n        modelOptions: this.modelOptions,\n        modelClass: modelClass,\n        deep: this.splitQueryPropsDeep,\n        json: json\n      });\n\n      this.models = split.model;\n      this.queryProps = split.queryProps;\n    }\n\n    return true;\n  };\n\n  InsertOperation.prototype.onBeforeInternal = function onBeforeInternal(builder, result) {\n    if (this.models.length > 1 && !(0, _knexUtils.isPostgres)(builder.knex())) {\n      throw new Error('batch insert only works with Postgresql');\n    } else {\n      return (0, _promiseUtils.mapAfterAllReturn)(this.models, function (model) {\n        return model.$beforeInsert(builder.context());\n      }, result);\n    }\n  };\n\n  InsertOperation.prototype.onBuild = function onBuild(knexBuilder, builder) {\n    if (!builder.has(/returning/)) {\n      // If the user hasn't specified a `returning` clause, we make sure\n      // that at least the identifier is returned.\n      knexBuilder.returning(builder.modelClass().idColumn);\n    }\n\n    var json = new Array(this.models.length);\n    // Builder options can contain a queryProps map. Use it\n    // if there isn't a local one.\n    var queryProps = this.queryProps || builder.internalOptions().queryProps;\n\n    // Convert the models into database json and merge the query\n    // properties back.\n    for (var i = 0, l = this.models.length; i < l; ++i) {\n      json[i] = (0, _modelFactory.toDatabaseJson)({\n        model: this.models[i],\n        queryProps: queryProps\n      });\n    }\n\n    knexBuilder.insert(json);\n  };\n\n  InsertOperation.prototype.onAfterQuery = function onAfterQuery(builder, ret) {\n    if (!Array.isArray(ret) || !ret.length || ret === this.models) {\n      // Early exit if there is nothing to do.\n      return this.models;\n    }\n\n    if (ret[0] && (0, _typeof3.default)(ret[0]) === 'object') {\n      // If the user specified a `returning` clause the result may be an array of objects.\n      // Merge all values of the objects to our models.\n      for (var i = 0, l = this.models.length; i < l; ++i) {\n        this.models[i].$set(ret[i]);\n      }\n    } else {\n      // If the return value is not an array of objects, we assume it is an array of identifiers.\n      for (var _i = 0, _l = this.models.length; _i < _l; ++_i) {\n        var model = this.models[_i];\n\n        // Don't set the id if the model already has one. MySQL and Sqlite don't return the correct\n        // primary key value if the id is not generated in db, but given explicitly.\n        if (!model.$id()) {\n          model.$id(ret[_i]);\n        }\n      }\n    }\n\n    return this.models;\n  };\n\n  InsertOperation.prototype.onAfterInternal = function onAfterInternal(builder, models) {\n    var result = this.isArray ? models : models[0] || null;\n    return (0, _promiseUtils.mapAfterAllReturn)(models, function (model) {\n      return model.$afterInsert(builder.context());\n    }, result);\n  };\n\n  return InsertOperation;\n}(_QueryBuilderOperation2.default);\n\nexports.default = InsertOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkluc2VydE9wZXJhdGlvbi5qcyJdLCJuYW1lcyI6WyJJbnNlcnRPcGVyYXRpb24iLCJuYW1lIiwib3B0IiwibW9kZWxzIiwiaXNBcnJheSIsIm1vZGVsT3B0aW9ucyIsInNwbGl0UXVlcnlQcm9wc0RlZXAiLCJxdWVyeVByb3BzIiwiaXNXcml0ZU9wZXJhdGlvbiIsImNhbGwiLCJidWlsZGVyIiwiYXJncyIsImpzb24iLCJtb2RlbENsYXNzIiwiQXJyYXkiLCJldmVyeSIsIml0Iiwic3BsaXQiLCJkZWVwIiwibW9kZWwiLCJvbkJlZm9yZUludGVybmFsIiwicmVzdWx0IiwibGVuZ3RoIiwia25leCIsIkVycm9yIiwiJGJlZm9yZUluc2VydCIsImNvbnRleHQiLCJvbkJ1aWxkIiwia25leEJ1aWxkZXIiLCJoYXMiLCJyZXR1cm5pbmciLCJpZENvbHVtbiIsImludGVybmFsT3B0aW9ucyIsImkiLCJsIiwiaW5zZXJ0Iiwib25BZnRlclF1ZXJ5IiwicmV0IiwiJHNldCIsIiRpZCIsIm9uQWZ0ZXJJbnRlcm5hbCIsIiRhZnRlckluc2VydCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7QUFDQTs7QUFDQTs7OztJQUVxQkEsZTs7O0FBRW5CLDJCQUFZQyxJQUFaLEVBQWtCQyxHQUFsQixFQUF1QjtBQUFBOztBQUdyQjs7Ozs7QUFIcUIsK0RBQ3JCLGlDQUFNRCxJQUFOLEVBQVlDLEdBQVosQ0FEcUI7O0FBUXJCLFVBQUtDLE1BQUwsR0FBYyxJQUFkOztBQUVBOzs7Ozs7QUFNQSxVQUFLQyxPQUFMLEdBQWUsS0FBZjs7QUFFQTs7Ozs7QUFLQSxVQUFLQyxZQUFMLEdBQW9CLHNCQUFjLEVBQWQsRUFBa0IsTUFBS0gsR0FBTCxDQUFTRyxZQUFULElBQXlCLEVBQTNDLENBQXBCOztBQUVBOzs7Ozs7QUFNQSxVQUFLQyxtQkFBTCxHQUEyQixLQUEzQjs7QUFFQTs7Ozs7O0FBTUEsVUFBS0MsVUFBTCxHQUFrQixJQUFs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RUFBRUQsQ0FBakQsRUFBb0Q7QUFDbEQsYUFBSzlCLE1BQUwsQ0FBWThCLENBQVosRUFBZUssSUFBZixDQUFvQkQsSUFBSUosQ0FBSixDQUFwQjtBQUNEO0FBQ0YsS0FORCxNQU1PO0FBQ0w7QUFDQSxXQUFLLElBQUlBLEtBQUksQ0FBUixFQUFXQyxLQUFJLEtBQUsvQixNQUFMLENBQVltQixNQUFoQyxFQUF3Q1csS0FBSUMsRUFBNUMsRUFBK0MsRUFBRUQsRUFBakQsRUFBb0Q7QUFDbEQsWUFBTWQsUUFBUSxLQUFLaEIsTUFBTCxDQUFZOEIsRUFBWixDQUFkOztBQUVBO0FBQ0E7QUFDQSxZQUFJLENBQUNkLE1BQU1vQixHQUFOLEVBQUwsRUFBa0I7QUFDaEJwQixnQkFBTW9CLEdBQU4sQ0FBVUYsSUFBSUosRUFBSixDQUFWO0FBQ0Q7QUFDRjtBQUNGOztBQUVELFdBQU8sS0FBSzlCLE1BQVo7QUFDRCxHOzs0QkFFRHFDLGUsNEJBQWdCOUIsTyxFQUFTUCxNLEVBQVE7QUFDL0IsUUFBTWtCLFNBQVMsS0FBS2pCLE9BQUwsR0FBZUQsTUFBZixHQUF5QkEsT0FBTyxDQUFQLEtBQWEsSUFBckQ7QUFDQSxXQUFPLHFDQUFrQkEsTUFBbEIsRUFBMEI7QUFBQSxhQUFTZ0IsTUFBTXNCLFlBQU4sQ0FBbUIvQixRQUFRZ0IsT0FBUixFQUFuQixDQUFUO0FBQUEsS0FBMUIsRUFBMEVMLE1BQTFFLENBQVA7QUFDRCxHOzs7OztrQkEvSWtCckIsZSIsImZpbGUiOiJJbnNlcnRPcGVyYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUXVlcnlCdWlsZGVyT3BlcmF0aW9uIGZyb20gJy4vUXVlcnlCdWlsZGVyT3BlcmF0aW9uJztcbmltcG9ydCB7ZnJvbUpzb24sIHRvRGF0YWJhc2VKc29ufSBmcm9tICcuLi8uLi9tb2RlbC9tb2RlbEZhY3RvcnknO1xuaW1wb3J0IHttYXBBZnRlckFsbFJldHVybn0gZnJvbSAnLi4vLi4vdXRpbHMvcHJvbWlzZVV0aWxzJztcbmltcG9ydCB7aXNQb3N0Z3Jlc30gZnJvbSAnLi4vLi4vdXRpbHMva25leFV0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5zZXJ0T3BlcmF0aW9uIGV4dGVuZHMgUXVlcnlCdWlsZGVyT3BlcmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcihuYW1lLCBvcHQpIHtcbiAgICBzdXBlcihuYW1lLCBvcHQpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1vZGVscyB3ZSBhcmUgaW5zZXJ0aW5nLlxuICAgICAqXG4gICAgICogQHR5cGUge0FycmF5LjxNb2RlbD59XG4gICAgICovXG4gICAgdGhpcy5tb2RlbHMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogdGhpcy5tb2RlbHMgaXMgYWx3YXlzIGFuIGFycmF5LCB0aGlzIGlzIHRydWUgaWYgdGhlXG4gICAgICogb3JpZ2luYWwgaW5wdXQgd2FzIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5pc0FycmF5ID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBPcHRpb25zIGZvciB0aGUgTW9kZWwuZnJvbUpzb24gY2FsbC5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtNb2RlbE9wdGlvbnN9XG4gICAgICovXG4gICAgdGhpcy5tb2RlbE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdC5tb2RlbE9wdGlvbnMgfHwge30pO1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoaXMgdG8gdHJ1ZSBpZiB0aGUgdGhlIGlucHV0IHNob3VsZCBiZSBzcGxpdCBpbnRvIG1vZGVsc1xuICAgICAqIGFuZCBxdWVyeSBwcm9wZXJ0aWVzIGRlZXBseSAod2l0aCByZWxhdGlvbnMpLlxuICAgICAqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5zcGxpdFF1ZXJ5UHJvcHNEZWVwID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBNYXBzIG1vZGVscyBpbiB0aGlzLm1vZGVscyBpbnRvIHF1ZXJ5IHByb3BlcnRpZXMgdGhhdCB3ZXJlXG4gICAgICogc2VwYXJhdGVkIGZyb20gdGhlbS5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtNYXB9XG4gICAgICovXG4gICAgdGhpcy5xdWVyeVByb3BzID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuaXNXcml0ZU9wZXJhdGlvbiA9IHRydWU7XG4gIH1cblxuICBjYWxsKGJ1aWxkZXIsIGFyZ3MpIHtcbiAgICAvLyBUaGUgb2JqZWN0cyB0byBpbnNlcnQuXG4gICAgbGV0IGpzb24gPSBhcmdzWzBdO1xuICAgIGxldCBtb2RlbENsYXNzID0gYnVpbGRlci5tb2RlbENsYXNzKCk7XG5cbiAgICB0aGlzLmlzQXJyYXkgPSBBcnJheS5pc0FycmF5KGpzb24pO1xuXG4gICAgaWYgKCF0aGlzLmlzQXJyYXkpIHtcbiAgICAgIGpzb24gPSBbanNvbl07XG4gICAgfVxuXG4gICAgaWYgKGpzb24uZXZlcnkoaXQgPT4gaXQgaW5zdGFuY2VvZiBtb2RlbENsYXNzKSkge1xuICAgICAgLy8gTm8gbmVlZCB0byBjb252ZXJ0LCBhbHJlYWR5IG1vZGVsIGluc3RhbmNlcy5cbiAgICAgIHRoaXMubW9kZWxzID0ganNvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ29udmVydCBpbnRvIG1vZGVsIGluc3RhbmNlcyBhbmQgc2VwYXJhdGUgcXVlcnkgcHJvcGVydGllcyBsaWtlXG4gICAgICAvLyBxdWVyeSBidWlsZGVycywga25leCByYXcgY2FsbHMgZXRjLlxuICAgICAgY29uc3Qgc3BsaXQgPSBmcm9tSnNvbih7XG4gICAgICAgIG1vZGVsT3B0aW9uczogdGhpcy5tb2RlbE9wdGlvbnMsXG4gICAgICAgIG1vZGVsQ2xhc3M6IG1vZGVsQ2xhc3MsXG4gICAgICAgIGRlZXA6IHRoaXMuc3BsaXRRdWVyeVByb3BzRGVlcCxcbiAgICAgICAganNvblxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMubW9kZWxzID0gc3BsaXQubW9kZWw7XG4gICAgICB0aGlzLnF1ZXJ5UHJvcHMgPSBzcGxpdC5xdWVyeVByb3BzO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgb25CZWZvcmVJbnRlcm5hbChidWlsZGVyLCByZXN1bHQpIHtcbiAgICBpZiAodGhpcy5tb2RlbHMubGVuZ3RoID4gMSAmJiAhaXNQb3N0Z3JlcyhidWlsZGVyLmtuZXgoKSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYmF0Y2ggaW5zZXJ0IG9ubHkgd29ya3Mgd2l0aCBQb3N0Z3Jlc3FsJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBtYXBBZnRlckFsbFJldHVybih0aGlzLm1vZGVscywgbW9kZWwgPT4gbW9kZWwuJGJlZm9yZUluc2VydChidWlsZGVyLmNvbnRleHQoKSksIHJlc3VsdCk7XG4gICAgfVxuICB9XG5cbiAgb25CdWlsZChrbmV4QnVpbGRlciwgYnVpbGRlcikge1xuICAgIGlmICghYnVpbGRlci5oYXMoL3JldHVybmluZy8pKSB7XG4gICAgICAvLyBJZiB0aGUgdXNlciBoYXNuJ3Qgc3BlY2lmaWVkIGEgYHJldHVybmluZ2AgY2xhdXNlLCB3ZSBtYWtlIHN1cmVcbiAgICAgIC8vIHRoYXQgYXQgbGVhc3QgdGhlIGlkZW50aWZpZXIgaXMgcmV0dXJuZWQuXG4gICAgICBrbmV4QnVpbGRlci5yZXR1cm5pbmcoYnVpbGRlci5tb2RlbENsYXNzKCkuaWRDb2x1bW4pO1xuICAgIH1cblxuICAgIGNvbnN0IGpzb24gPSBuZXcgQXJyYXkodGhpcy5tb2RlbHMubGVuZ3RoKTtcbiAgICAvLyBCdWlsZGVyIG9wdGlvbnMgY2FuIGNvbnRhaW4gYSBxdWVyeVByb3BzIG1hcC4gVXNlIGl0XG4gICAgLy8gaWYgdGhlcmUgaXNuJ3QgYSBsb2NhbCBvbmUuXG4gICAgY29uc3QgcXVlcnlQcm9wcyA9IHRoaXMucXVlcnlQcm9wcyB8fCBidWlsZGVyLmludGVybmFsT3B0aW9ucygpLnF1ZXJ5UHJvcHM7XG5cbiAgICAvLyBDb252ZXJ0IHRoZSBtb2RlbHMgaW50byBkYXRhYmFzZSBqc29uIGFuZCBtZXJnZSB0aGUgcXVlcnlcbiAgICAvLyBwcm9wZXJ0aWVzIGJhY2suXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLm1vZGVscy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgIGpzb25baV0gPSB0b0RhdGFiYXNlSnNvbih7XG4gICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsc1tpXSxcbiAgICAgICAgcXVlcnlQcm9wc1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAga25leEJ1aWxkZXIuaW5zZXJ0KGpzb24pO1xuICB9XG5cbiAgb25BZnRlclF1ZXJ5KGJ1aWxkZXIsIHJldCkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShyZXQpIHx8ICFyZXQubGVuZ3RoIHx8IHJldCA9PT0gdGhpcy5tb2RlbHMpIHtcbiAgICAgIC8vIEVhcmx5IGV4aXQgaWYgdGhlcmUgaXMgbm90aGluZyB0byBkby5cbiAgICAgIHJldHVybiB0aGlzLm1vZGVscztcbiAgICB9XG5cbiAgICBpZiAocmV0WzBdICYmIHR5cGVvZiByZXRbMF0gPT09ICdvYmplY3QnKSB7XG4gICAgICAvLyBJZiB0aGUgdXNlciBzcGVjaWZpZWQgYSBgcmV0dXJuaW5nYCBjbGF1c2UgdGhlIHJlc3VsdCBtYXkgYmUgYW4gYXJyYXkgb2Ygb2JqZWN0cy5cbiAgICAgIC8vIE1lcmdlIGFsbCB2YWx1ZXMgb2YgdGhlIG9iamVjdHMgdG8gb3VyIG1vZGVscy5cbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gdGhpcy5tb2RlbHMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgIHRoaXMubW9kZWxzW2ldLiRzZXQocmV0W2ldKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgdGhlIHJldHVybiB2YWx1ZSBpcyBub3QgYW4gYXJyYXkgb2Ygb2JqZWN0cywgd2UgYXNzdW1lIGl0IGlzIGFuIGFycmF5IG9mIGlkZW50aWZpZXJzLlxuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLm1vZGVscy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLm1vZGVsc1tpXTtcblxuICAgICAgICAvLyBEb24ndCBzZXQgdGhlIGlkIGlmIHRoZSBtb2RlbCBhbHJlYWR5IGhhcyBvbmUuIE15U1FMIGFuZCBTcWxpdGUgZG9uJ3QgcmV0dXJuIHRoZSBjb3JyZWN0XG4gICAgICAgIC8vIHByaW1hcnkga2V5IHZhbHVlIGlmIHRoZSBpZCBpcyBub3QgZ2VuZXJhdGVkIGluIGRiLCBidXQgZ2l2ZW4gZXhwbGljaXRseS5cbiAgICAgICAgaWYgKCFtb2RlbC4kaWQoKSkge1xuICAgICAgICAgIG1vZGVsLiRpZChyZXRbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMubW9kZWxzO1xuICB9XG5cbiAgb25BZnRlckludGVybmFsKGJ1aWxkZXIsIG1vZGVscykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuaXNBcnJheSA/IG1vZGVscyA6IChtb2RlbHNbMF0gfHwgbnVsbCk7XG4gICAgcmV0dXJuIG1hcEFmdGVyQWxsUmV0dXJuKG1vZGVscywgbW9kZWwgPT4gbW9kZWwuJGFmdGVySW5zZXJ0KGJ1aWxkZXIuY29udGV4dCgpKSwgcmVzdWx0KTtcbiAgfVxufVxuIl19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/InsertGraphAndFetchOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _DelegateOperation2 = require('./DelegateOperation');\n\nvar _DelegateOperation3 = _interopRequireDefault(_DelegateOperation2);\n\nvar _RelationExpression = require('../RelationExpression');\n\nvar _RelationExpression2 = _interopRequireDefault(_RelationExpression);\n\nvar _InsertGraphOperation = require('./InsertGraphOperation');\n\nvar _InsertGraphOperation2 = _interopRequireDefault(_InsertGraphOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InsertGraphAndFetchOperation = function (_DelegateOperation) {\n  (0, _inherits3.default)(InsertGraphAndFetchOperation, _DelegateOperation);\n\n  function InsertGraphAndFetchOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, InsertGraphAndFetchOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _DelegateOperation.call(this, name, opt));\n\n    if (!_this.delegate.is(_InsertGraphOperation2.default)) {\n      throw new Error('Invalid delegate');\n    }\n    return _this;\n  }\n\n  InsertGraphAndFetchOperation.prototype.onAfterInternal = function onAfterInternal(builder) {\n    var _this2 = this;\n\n    var eager = _RelationExpression2.default.fromGraph(this.models);\n    var modelClass = this.models[0].constructor;\n    var ids = new Array(this.models.length);\n\n    for (var i = 0, l = this.models.length; i < l; ++i) {\n      ids[i] = this.models[i].$id();\n    }\n\n    return modelClass.query().childQueryOf(builder).whereIn(modelClass.getFullIdColumn(), ids).eager(eager).then(function (models) {\n      return _this2.isArray ? models : models[0] || null;\n    });\n  };\n\n  (0, _createClass3.default)(InsertGraphAndFetchOperation, [{\n    key: 'models',\n    get: function get() {\n      return this.delegate.models;\n    }\n  }, {\n    key: 'isArray',\n    get: function get() {\n      return this.delegate.isArray;\n    }\n  }]);\n  return InsertGraphAndFetchOperation;\n}(_DelegateOperation3.default);\n\nexports.default = InsertGraphAndFetchOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkluc2VydEdyYXBoQW5kRmV0Y2hPcGVyYXRpb24uanMiXSwibmFtZXMiOlsiSW5zZXJ0R3JhcGhBbmRGZXRjaE9wZXJhdGlvbiIsIm5hbWUiLCJvcHQiLCJkZWxlZ2F0ZSIsImlzIiwiRXJyb3IiLCJvbkFmdGVySW50ZXJuYWwiLCJidWlsZGVyIiwiZWFnZXIiLCJmcm9tR3JhcGgiLCJtb2RlbHMiLCJtb2RlbENsYXNzIiwiY29uc3RydWN0b3IiLCJpZHMiLCJBcnJheSIsImxlbmd0aCIsImkiLCJsIiwiJGlkIiwicXVlcnkiLCJjaGlsZFF1ZXJ5T2YiLCJ3aGVyZUluIiwiZ2V0RnVsbElkQ29sdW1uIiwidGhlbiIsImlzQXJyYXkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7SUFFcUJBLDRCOzs7QUFFbkIsd0NBQVlDLElBQVosRUFBa0JDLEdBQWxCLEVBQXVCO0FBQUE7O0FBQUEsK0RBQ3JCLDhCQUFNRCxJQUFOLEVBQVlDLEdBQVosQ0FEcUI7O0FBR3JCLFFBQUksQ0FBQyxNQUFLQyxRQUFMLENBQWNDLEVBQWQsZ0NBQUwsRUFBNkM7QUFDM0MsWUFBTSxJQUFJQyxLQUFKLENBQVUsa0JBQVYsQ0FBTjtBQUNEO0FBTG9CO0FBTXRCOzt5Q0FVREMsZSw0QkFBZ0JDLE8sRUFBUztBQUFBOztBQUN2QixRQUFNQyxRQUFRLDZCQUFtQkMsU0FBbkIsQ0FBNkIsS0FBS0MsTUFBbEMsQ0FBZDtBQUNBLFFBQU1DLGFBQWEsS0FBS0QsTUFBTCxDQUFZLENBQVosRUFBZUUsV0FBbEM7QUFDQSxRQUFNQyxNQUFNLElBQUlDLEtBQUosQ0FBVSxLQUFLSixNQUFMLENBQVlLLE1BQXRCLENBQVo7O0FBRUEsU0FBSyxJQUFJQyxJQUFJLENBQVIsRUFBV0MsSUFBSSxLQUFLUCxNQUFMLENBQVlLLE1BQWhDLEVBQXdDQyxJQUFJQyxDQUE1QyxFQUErQyxFQUFFRCxDQUFqRCxFQUFvRDtBQUNsREgsVUFBSUcsQ0FBSixJQUFTLEtBQUtOLE1BQUwsQ0FBWU0sQ0FBWixFQUFlRSxHQUFmLEVBQVQ7QUFDRDs7QUFFRCxXQUFPUCxXQUNKUSxLQURJLEdBRUpDLFlBRkksQ0FFU2IsT0FGVCxFQUdKYyxPQUhJLENBR0lWLFdBQVdXLGVBQVgsRUFISixFQUdrQ1QsR0FIbEMsRUFJSkwsS0FKSSxDQUlFQSxLQUpGLEVBS0plLElBTEksQ0FLQyxrQkFBVTtBQUNkLGFBQU8sT0FBS0MsT0FBTCxHQUFlZCxNQUFmLEdBQXlCQSxPQUFPLENBQVAsS0FBYSxJQUE3QztBQUNELEtBUEksQ0FBUDtBQVFELEc7Ozs7d0JBekJZO0FBQ1gsYUFBTyxLQUFLUCxRQUFMLENBQWNPLE1BQXJCO0FBQ0Q7Ozt3QkFFYTtBQUNaLGFBQU8sS0FBS1AsUUFBTCxDQUFjcUIsT0FBckI7QUFDRDs7Ozs7a0JBaEJrQnhCLDRCIiwiZmlsZSI6Ikluc2VydEdyYXBoQW5kRmV0Y2hPcGVyYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGVsZWdhdGVPcGVyYXRpb24gZnJvbSAnLi9EZWxlZ2F0ZU9wZXJhdGlvbic7XG5pbXBvcnQgUmVsYXRpb25FeHByZXNzaW9uIGZyb20gJy4uL1JlbGF0aW9uRXhwcmVzc2lvbic7XG5pbXBvcnQgSW5zZXJ0R3JhcGhPcGVyYXRpb24gZnJvbSAnLi9JbnNlcnRHcmFwaE9wZXJhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEluc2VydEdyYXBoQW5kRmV0Y2hPcGVyYXRpb24gZXh0ZW5kcyBEZWxlZ2F0ZU9wZXJhdGlvbiB7XG5cbiAgY29uc3RydWN0b3IobmFtZSwgb3B0KSB7XG4gICAgc3VwZXIobmFtZSwgb3B0KTtcblxuICAgIGlmICghdGhpcy5kZWxlZ2F0ZS5pcyhJbnNlcnRHcmFwaE9wZXJhdGlvbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBkZWxlZ2F0ZScpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBtb2RlbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUubW9kZWxzO1xuICB9XG5cbiAgZ2V0IGlzQXJyYXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUuaXNBcnJheTtcbiAgfVxuXG4gIG9uQWZ0ZXJJbnRlcm5hbChidWlsZGVyKSB7XG4gICAgY29uc3QgZWFnZXIgPSBSZWxhdGlvbkV4cHJlc3Npb24uZnJvbUdyYXBoKHRoaXMubW9kZWxzKTtcbiAgICBjb25zdCBtb2RlbENsYXNzID0gdGhpcy5tb2RlbHNbMF0uY29uc3RydWN0b3I7XG4gICAgY29uc3QgaWRzID0gbmV3IEFycmF5KHRoaXMubW9kZWxzLmxlbmd0aCk7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMubW9kZWxzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgaWRzW2ldID0gdGhpcy5tb2RlbHNbaV0uJGlkKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZGVsQ2xhc3NcbiAgICAgIC5xdWVyeSgpXG4gICAgICAuY2hpbGRRdWVyeU9mKGJ1aWxkZXIpXG4gICAgICAud2hlcmVJbihtb2RlbENsYXNzLmdldEZ1bGxJZENvbHVtbigpLCBpZHMpXG4gICAgICAuZWFnZXIoZWFnZXIpXG4gICAgICAudGhlbihtb2RlbHMgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0FycmF5ID8gbW9kZWxzIDogKG1vZGVsc1swXSB8fCBudWxsKTtcbiAgICAgIH0pO1xuICB9XG59XG5cbiJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/DelegateOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _QueryBuilderOperation = require('./QueryBuilderOperation');\n\nvar _QueryBuilderOperation2 = _interopRequireDefault(_QueryBuilderOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DelegateOperation = function (_QueryBuilderOperatio) {\n  (0, _inherits3.default)(DelegateOperation, _QueryBuilderOperatio);\n\n  function DelegateOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, DelegateOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _QueryBuilderOperatio.call(this, name, opt));\n\n    _this.delegate = opt.delegate;\n    _this.isWriteOperation = _this.delegate.isWriteOperation;\n    return _this;\n  }\n\n  DelegateOperation.prototype.is = function is(OperationClass) {\n    return _QueryBuilderOperatio.prototype.is.call(this, OperationClass) || this.delegate.is(OperationClass);\n  };\n\n  DelegateOperation.prototype.call = function call(builder, args) {\n    return this.delegate.call(builder, args);\n  };\n\n  DelegateOperation.prototype.onBefore = function onBefore(builder, result) {\n    return this.delegate.onBefore(builder, result);\n  };\n\n  DelegateOperation.prototype.hasOnBefore = function hasOnBefore() {\n    return this.onBefore !== DelegateOperation.prototype.onBefore || this.delegate.hasOnBefore();\n  };\n\n  DelegateOperation.prototype.onBeforeInternal = function onBeforeInternal(builder, result) {\n    return this.delegate.onBeforeInternal(builder, result);\n  };\n\n  DelegateOperation.prototype.hasOnBeforeInternal = function hasOnBeforeInternal() {\n    return this.onBeforeInternal !== DelegateOperation.prototype.onBeforeInternal || this.delegate.hasOnBeforeInternal();\n  };\n\n  DelegateOperation.prototype.onBeforeBuild = function onBeforeBuild(builder) {\n    return this.delegate.onBeforeBuild(builder);\n  };\n\n  DelegateOperation.prototype.hasOnBeforeBuild = function hasOnBeforeBuild() {\n    return this.onBeforeBuild !== DelegateOperation.prototype.onBeforeBuild || this.delegate.hasOnBeforeBuild();\n  };\n\n  DelegateOperation.prototype.onBuild = function onBuild(knexBuilder, builder) {\n    return this.delegate.onBuild(knexBuilder, builder);\n  };\n\n  DelegateOperation.prototype.hasOnBuild = function hasOnBuild() {\n    return this.onBuild !== DelegateOperation.prototype.onBuild || this.delegate.hasOnBuild();\n  };\n\n  DelegateOperation.prototype.onRawResult = function onRawResult(builder, result) {\n    return this.delegate.onRawResult(builder, result);\n  };\n\n  DelegateOperation.prototype.hasOnRawResult = function hasOnRawResult() {\n    return this.onRawResult !== DelegateOperation.prototype.onRawResult || this.delegate.hasOnRawResult();\n  };\n\n  DelegateOperation.prototype.onAfterQuery = function onAfterQuery(builder, result) {\n    return this.delegate.onAfterQuery(builder, result);\n  };\n\n  DelegateOperation.prototype.hasOnAfterQuery = function hasOnAfterQuery() {\n    return this.onAfterQuery !== DelegateOperation.prototype.onAfterQuery || this.delegate.hasOnAfterQuery();\n  };\n\n  DelegateOperation.prototype.onAfterInternal = function onAfterInternal(builder, result) {\n    return this.delegate.onAfterInternal(builder, result);\n  };\n\n  DelegateOperation.prototype.hasOnAfterInternal = function hasOnAfterInternal() {\n    return this.onAfterInternal !== DelegateOperation.prototype.onAfterInternal || this.delegate.hasOnAfterInternal();\n  };\n\n  DelegateOperation.prototype.onAfter = function onAfter(builder, result) {\n    return this.delegate.onAfter(builder, result);\n  };\n\n  DelegateOperation.prototype.hasOnAfter = function hasOnAfter() {\n    return this.onAfter !== DelegateOperation.prototype.onAfter || this.delegate.hasOnAfter();\n  };\n\n  DelegateOperation.prototype.queryExecutor = function queryExecutor(builder) {\n    return this.delegate.queryExecutor(builder);\n  };\n\n  DelegateOperation.prototype.hasQueryExecutor = function hasQueryExecutor() {\n    return this.queryExecutor !== DelegateOperation.prototype.queryExecutor || this.delegate.hasQueryExecutor();\n  };\n\n  return DelegateOperation;\n}(_QueryBuilderOperation2.default);\n\nexports.default = DelegateOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkRlbGVnYXRlT3BlcmF0aW9uLmpzIl0sIm5hbWVzIjpbIkRlbGVnYXRlT3BlcmF0aW9uIiwibmFtZSIsIm9wdCIsImRlbGVnYXRlIiwiaXNXcml0ZU9wZXJhdGlvbiIsImlzIiwiT3BlcmF0aW9uQ2xhc3MiLCJjYWxsIiwiYnVpbGRlciIsImFyZ3MiLCJvbkJlZm9yZSIsInJlc3VsdCIsImhhc09uQmVmb3JlIiwicHJvdG90eXBlIiwib25CZWZvcmVJbnRlcm5hbCIsImhhc09uQmVmb3JlSW50ZXJuYWwiLCJvbkJlZm9yZUJ1aWxkIiwiaGFzT25CZWZvcmVCdWlsZCIsIm9uQnVpbGQiLCJrbmV4QnVpbGRlciIsImhhc09uQnVpbGQiLCJvblJhd1Jlc3VsdCIsImhhc09uUmF3UmVzdWx0Iiwib25BZnRlclF1ZXJ5IiwiaGFzT25BZnRlclF1ZXJ5Iiwib25BZnRlckludGVybmFsIiwiaGFzT25BZnRlckludGVybmFsIiwib25BZnRlciIsImhhc09uQWZ0ZXIiLCJxdWVyeUV4ZWN1dG9yIiwiaGFzUXVlcnlFeGVjdXRvciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7SUFFcUJBLGlCOzs7QUFFbkIsNkJBQVlDLElBQVosRUFBa0JDLEdBQWxCLEVBQXVCO0FBQUE7O0FBQUEsK0RBQ3JCLGlDQUFNRCxJQUFOLEVBQVlDLEdBQVosQ0FEcUI7O0FBR3JCLFVBQUtDLFFBQUwsR0FBZ0JELElBQUlDLFFBQXBCO0FBQ0EsVUFBS0MsZ0JBQUwsR0FBd0IsTUFBS0QsUUFBTCxDQUFjQyxnQkFBdEM7QUFKcUI7QUFLdEI7OzhCQUVEQyxFLGVBQUdDLGMsRUFBZ0I7QUFDakIsV0FBTyxnQ0FBTUQsRUFBTixZQUFTQyxjQUFULEtBQTRCLEtBQUtILFFBQUwsQ0FBY0UsRUFBZCxDQUFpQkMsY0FBakIsQ0FBbkM7QUFDRCxHOzs4QkFFREMsSSxpQkFBS0MsTyxFQUFTQyxJLEVBQU07QUFDbEIsV0FBTyxLQUFLTixRQUFMLENBQWNJLElBQWQsQ0FB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QUFTO0FBQ3JCLFdBQU8sS0FBS0wsUUFBTCxDQUFjMEIsYUFBZCxDQUE0QnJCLE9BQTVCLENBQVA7QUFDRCxHOzs4QkFFRHNCLGdCLCtCQUFtQjtBQUNqQixXQUFPLEtBQUtELGFBQUwsS0FBdUI3QixrQkFBa0JhLFNBQWxCLENBQTRCZ0IsYUFBbkQsSUFBb0UsS0FBSzFCLFFBQUwsQ0FBYzJCLGdCQUFkLEVBQTNFO0FBQ0QsRzs7Ozs7a0JBdkZrQjlCLGlCIiwiZmlsZSI6IkRlbGVnYXRlT3BlcmF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFF1ZXJ5QnVpbGRlck9wZXJhdGlvbiBmcm9tICcuL1F1ZXJ5QnVpbGRlck9wZXJhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERlbGVnYXRlT3BlcmF0aW9uIGV4dGVuZHMgUXVlcnlCdWlsZGVyT3BlcmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcihuYW1lLCBvcHQpIHtcbiAgICBzdXBlcihuYW1lLCBvcHQpO1xuXG4gICAgdGhpcy5kZWxlZ2F0ZSA9IG9wdC5kZWxlZ2F0ZTtcbiAgICB0aGlzLmlzV3JpdGVPcGVyYXRpb24gPSB0aGlzLmRlbGVnYXRlLmlzV3JpdGVPcGVyYXRpb247XG4gIH1cblxuICBpcyhPcGVyYXRpb25DbGFzcykge1xuICAgIHJldHVybiBzdXBlci5pcyhPcGVyYXRpb25DbGFzcykgfHwgdGhpcy5kZWxlZ2F0ZS5pcyhPcGVyYXRpb25DbGFzcyk7XG4gIH1cblxuICBjYWxsKGJ1aWxkZXIsIGFyZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5jYWxsKGJ1aWxkZXIsIGFyZ3MpO1xuICB9XG5cbiAgb25CZWZvcmUoYnVpbGRlciwgcmVzdWx0KSB7XG4gICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUub25CZWZvcmUoYnVpbGRlciwgcmVzdWx0KTtcbiAgfVxuXG4gIGhhc09uQmVmb3JlKCkge1xuICAgIHJldHVybiB0aGlzLm9uQmVmb3JlICE9PSBEZWxlZ2F0ZU9wZXJhdGlvbi5wcm90b3R5cGUub25CZWZvcmUgfHwgdGhpcy5kZWxlZ2F0ZS5oYXNPbkJlZm9yZSgpO1xuICB9XG5cbiAgb25CZWZvcmVJbnRlcm5hbChidWlsZGVyLCByZXN1bHQpIHtcbiAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5vbkJlZm9yZUludGVybmFsKGJ1aWxkZXIsIHJlc3VsdCk7XG4gIH1cblxuICBoYXNPbkJlZm9yZUludGVybmFsKCkge1xuICAgIHJldHVybiB0aGlzLm9uQmVmb3JlSW50ZXJuYWwgIT09IERlbGVnYXRlT3BlcmF0aW9uLnByb3RvdHlwZS5vbkJlZm9yZUludGVybmFsIHx8IHRoaXMuZGVsZWdhdGUuaGFzT25CZWZvcmVJbnRlcm5hbCgpO1xuICB9XG5cbiAgb25CZWZvcmVCdWlsZChidWlsZGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUub25CZWZvcmVCdWlsZChidWlsZGVyKTtcbiAgfVxuXG4gIGhhc09uQmVmb3JlQnVpbGQoKSB7XG4gICAgcmV0dXJuIHRoaXMub25CZWZvcmVCdWlsZCAhPT0gRGVsZWdhdGVPcGVyYXRpb24ucHJvdG90eXBlLm9uQmVmb3JlQnVpbGQgfHwgdGhpcy5kZWxlZ2F0ZS5oYXNPbkJlZm9yZUJ1aWxkKCk7XG4gIH1cblxuICBvbkJ1aWxkKGtuZXhCdWlsZGVyLCBidWlsZGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUub25CdWlsZChrbmV4QnVpbGRlciwgYnVpbGRlcik7XG4gIH1cblxuICBoYXNPbkJ1aWxkKCkge1xuICAgIHJldHVybiB0aGlzLm9uQnVpbGQgIT09IERlbGVnYXRlT3BlcmF0aW9uLnByb3RvdHlwZS5vbkJ1aWxkIHx8IHRoaXMuZGVsZWdhdGUuaGFzT25CdWlsZCgpO1xuICB9XG5cbiAgb25SYXdSZXN1bHQoYnVpbGRlciwgcmVzdWx0KSB7XG4gICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUub25SYXdSZXN1bHQoYnVpbGRlciwgcmVzdWx0KTtcbiAgfVxuXG4gIGhhc09uUmF3UmVzdWx0KCkge1xuICAgIHJldHVybiB0aGlzLm9uUmF3UmVzdWx0ICE9PSBEZWxlZ2F0ZU9wZXJhdGlvbi5wcm90b3R5cGUub25SYXdSZXN1bHQgfHwgdGhpcy5kZWxlZ2F0ZS5oYXNPblJhd1Jlc3VsdCgpO1xuICB9XG5cbiAgb25BZnRlclF1ZXJ5KGJ1aWxkZXIsIHJlc3VsdCkge1xuICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLm9uQWZ0ZXJRdWVyeShidWlsZGVyLCByZXN1bHQpO1xuICB9XG5cbiAgaGFzT25BZnRlclF1ZXJ5KCkge1xuICAgIHJldHVybiB0aGlzLm9uQWZ0ZXJRdWVyeSAhPT0gRGVsZWdhdGVPcGVyYXRpb24ucHJvdG90eXBlLm9uQWZ0ZXJRdWVyeSB8fCB0aGlzLmRlbGVnYXRlLmhhc09uQWZ0ZXJRdWVyeSgpO1xuICB9XG5cbiAgb25BZnRlckludGVybmFsKGJ1aWxkZXIsIHJlc3VsdCkge1xuICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLm9uQWZ0ZXJJbnRlcm5hbChidWlsZGVyLCByZXN1bHQpO1xuICB9XG5cbiAgaGFzT25BZnRlckludGVybmFsKCkge1xuICAgIHJldHVybiB0aGlzLm9uQWZ0ZXJJbnRlcm5hbCAhPT0gRGVsZWdhdGVPcGVyYXRpb24ucHJvdG90eXBlLm9uQWZ0ZXJJbnRlcm5hbCB8fCB0aGlzLmRlbGVnYXRlLmhhc09uQWZ0ZXJJbnRlcm5hbCgpO1xuICB9XG5cbiAgb25BZnRlcihidWlsZGVyLCByZXN1bHQpIHtcbiAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5vbkFmdGVyKGJ1aWxkZXIsIHJlc3VsdCk7XG4gIH1cblxuICBoYXNPbkFmdGVyKCkge1xuICAgIHJldHVybiB0aGlzLm9uQWZ0ZXIgIT09IERlbGVnYXRlT3BlcmF0aW9uLnByb3RvdHlwZS5vbkFmdGVyIHx8IHRoaXMuZGVsZWdhdGUuaGFzT25BZnRlcigpO1xuICB9XG5cbiAgcXVlcnlFeGVjdXRvcihidWlsZGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUucXVlcnlFeGVjdXRvcihidWlsZGVyKTtcbiAgfVxuXG4gIGhhc1F1ZXJ5RXhlY3V0b3IoKSB7XG4gICAgcmV0dXJuIHRoaXMucXVlcnlFeGVjdXRvciAhPT0gRGVsZWdhdGVPcGVyYXRpb24ucHJvdG90eXBlLnF1ZXJ5RXhlY3V0b3IgfHwgdGhpcy5kZWxlZ2F0ZS5oYXNRdWVyeUV4ZWN1dG9yKCk7XG4gIH1cbn0iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/InsertGraphOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _DelegateOperation2 = require('./DelegateOperation');\n\nvar _DelegateOperation3 = _interopRequireDefault(_DelegateOperation2);\n\nvar _InsertOperation = require('./InsertOperation');\n\nvar _InsertOperation2 = _interopRequireDefault(_InsertOperation);\n\nvar _inserter = require('../graphInserter/inserter');\n\nvar _inserter2 = _interopRequireDefault(_inserter);\n\nvar _GraphInserter = require('../graphInserter/GraphInserter');\n\nvar _GraphInserter2 = _interopRequireDefault(_GraphInserter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InsertGraphOperation = function (_DelegateOperation) {\n  (0, _inherits3.default)(InsertGraphOperation, _DelegateOperation);\n\n  function InsertGraphOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, InsertGraphOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _DelegateOperation.call(this, name, opt));\n\n    if (!_this.delegate.is(_InsertOperation2.default)) {\n      throw new Error('Invalid delegate');\n    }\n\n    // Our delegate operation inherits from `InsertOperation`. Disable the call-time\n    // validation. We do the validation in onAfterQuery instead.\n    _this.delegate.modelOptions.skipValidation = true;\n\n    // We need to split the query props deeply.\n    _this.delegate.splitQueryPropsDeep = true;\n    return _this;\n  }\n\n  InsertGraphOperation.prototype.call = function call(builder, args) {\n    var retVal = _DelegateOperation.prototype.call.call(this, builder, args);\n\n    // We resolve this query here and will not execute it. This is because the root\n    // value may depend on other models in the graph and cannot be inserted first.\n    builder.resolve([]);\n\n    return retVal;\n  };\n\n  InsertGraphOperation.prototype.onBefore = function onBefore() {\n    // Do nothing.\n  };\n\n  InsertGraphOperation.prototype.onBeforeInternal = function onBeforeInternal() {\n    // Do nothing. We override this with empty implementation so that\n    // the $beforeInsert() hooks are not called twice for the root models.\n  };\n\n  InsertGraphOperation.prototype.onBeforeBuild = function onBeforeBuild() {\n    // Do nothing.\n  };\n\n  InsertGraphOperation.prototype.onBuild = function onBuild() {}\n  // Do nothing.\n\n\n  // We overrode all other hooks but this one and do all the work in here.\n  // This is a bit hacky.\n  ;\n\n  InsertGraphOperation.prototype.onAfterQuery = function onAfterQuery(builder) {\n    var _this2 = this;\n\n    // We split the query props from all the models in the graph in the\n    // InsertOperation.call method. We need to set the queryProps option\n    // so that the individual inserts started by insertFunc all get their\n    // query properties.\n    builder = builder.clone().internalOptions({\n      queryProps: this.queryProps\n    });\n\n    var ModelClass = builder.modelClass();\n    var insertFunc = (0, _inserter2.default)(builder);\n\n    var graphInserter = new _GraphInserter2.default({\n      modelClass: ModelClass,\n      models: this.models,\n      allowedRelations: builder._allowedInsertExpression || null,\n      knex: builder.knex()\n    });\n\n    return graphInserter.execute(insertFunc).then(function () {\n      return _DelegateOperation.prototype.onAfterQuery.call(_this2, builder, _this2.models);\n    });\n  };\n\n  InsertGraphOperation.prototype.onAfterInternal = function onAfterInternal() {\n    // We override this with empty implementation so that the $afterInsert() hooks\n    // are not called twice for the root models.\n    return this.isArray ? this.models : this.models[0] || null;\n  };\n\n  (0, _createClass3.default)(InsertGraphOperation, [{\n    key: 'models',\n    get: function get() {\n      return this.delegate.models;\n    }\n  }, {\n    key: 'isArray',\n    get: function get() {\n      return this.delegate.isArray;\n    }\n  }, {\n    key: 'queryProps',\n    get: function get() {\n      return this.delegate.queryProps;\n    }\n  }]);\n  return InsertGraphOperation;\n}(_DelegateOperation3.default);\n\nexports.default = InsertGraphOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkluc2VydEdyYXBoT3BlcmF0aW9uLmpzIl0sIm5hbWVzIjpbIkluc2VydEdyYXBoT3BlcmF0aW9uIiwibmFtZSIsIm9wdCIsImRlbGVnYXRlIiwiaXMiLCJFcnJvciIsIm1vZGVsT3B0aW9ucyIsInNraXBWYWxpZGF0aW9uIiwic3BsaXRRdWVyeVByb3BzRGVlcCIsImNhbGwiLCJidWlsZGVyIiwiYXJncyIsInJldFZhbCIsInJlc29sdmUiLCJvbkJlZm9yZSIsIm9uQmVmb3JlSW50ZXJuYWwiLCJvbkJlZm9yZUJ1aWxkIiwib25CdWlsZCIsIm9uQWZ0ZXJRdWVyeSIsImNsb25lIiwiaW50ZXJuYWxPcHRpb25zIiwicXVlcnlQcm9wcyIsIk1vZGVsQ2xhc3MiLCJtb2RlbENsYXNzIiwiaW5zZXJ0RnVuYyIsImdyYXBoSW5zZXJ0ZXIiLCJtb2RlbHMiLCJhbGxvd2VkUmVsYXRpb25zIiwiX2FsbG93ZWRJbnNlcnRFeHByZXNzaW9uIiwia25leCIsImV4ZWN1dGUiLCJ0aGVuIiwib25BZnRlckludGVybmFsIiwiaXNBcnJheSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBRUE7Ozs7QUFDQTs7Ozs7O0lBRXFCQSxvQjs7O0FBRW5CLGdDQUFZQyxJQUFaLEVBQWtCQyxHQUFsQixFQUF1QjtBQUFBOztBQUFBLCtEQUNyQiw4QkFBTUQsSUFBTixFQUFZQyxHQUFaLENBRHFCOztBQUdyQixRQUFJLENBQUMsTUFBS0MsUUFBTCxDQUFjQyxFQUFkLDJCQUFMLEVBQXdDO0FBQ3RDLFlBQU0sSUFBSUMsS0FBSixDQUFVLGtCQUFWLENBQU47QUFDRDs7QUFFRDtBQUNBO0FBQ0EsVUFBS0YsUUFBTCxDQUFjRyxZQUFkLENBQTJCQyxjQUEzQixHQUE0QyxJQUE1Qzs7QUFFQTtBQUNBLFVBQUtKLFFBQUwsQ0FBY0ssbUJBQWQsR0FBb0MsSUFBcEM7QUFacUI7QUFhdEI7O2lDQUVEQyxJLGlCQUFLQyxPLEVBQVNDLEksRUFBTTtBQUNsQixRQUFNQyxTQUFTLDZCQUFNSCxJQUFOLFlBQVdDLE9BQVgsRUFBb0JDLElBQXBCLENBQWY7O0FBRUE7QUFDQTtBQUNBRCxZQUFRRyxPQUFSLENBQWdCLEVBQWhCOztBQUVBLFdBQU9ELE1BQVA7QUFDRCxHOztpQ0FjREUsUSx1QkFBVztBQUNUO0FBQ0QsRzs7aUNBRURDLGdCLCtCQUFtQjtBQUNqQjtBQUNBO0FBQ0QsRzs7aUNBRURDLGEsNEJBQWdCO0FBQ2Q7QUFDRCxHOztpQ0FFREMsTyxzQkFBVSxDQUVUO0FBREM7OztBQUdGO0FBQ0E7OztpQ0FDQUMsWSx5QkFBYVIsTyxFQUFTO0FBQUE7O0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0FBLGNBQVVBLFFBQVFTLEtBQVIsR0FBZ0JDLGVBQWhCLENBQWdDO0FBQ3hDQyxrQkFBWSxLQUFLQTtBQUR1QixLQUFoQyxDQUFWOztBQUlBLFFBQU1DLGFBQWFaLFFBQVFhLFVBQVIsRUFBbkI7QUFDQSxRQUFNQyxhQUFhLHdCQUFrQmQsT0FBbEIsQ0FBbkI7O0FBRUEsUUFBTWUsZ0JBQWdCLDRCQUFrQjtBQUN0Q0Ysa0JBQVlELFVBRDBCO0FBRXRDSSxjQUFRLEtBQUtBLE1BRnlCO0FBR3RDQyx3QkFBa0JqQixRQUFRa0Isd0JBQVIsSUFBb0MsSUFIaEI7QUFJdENDLFlBQU1uQixRQUFRbUIsSUFBUjtBQUpnQyxLQUFsQixDQUF0Qjs7QUFPQSxXQUFPSixjQUFjSyxPQUFkLENBQXNCTixVQUF0QixFQUFrQ08sSUFBbEMsQ0FBdUMsWUFBTTtBQUNsRCxhQUFPLDZCQUFNYixZQUFOLGNBQW1CUixPQUFuQixFQUE0QixPQUFLZ0IsTUFBakMsQ0FBUDtBQUNELEtBRk0sQ0FBUDtBQUdELEc7O2lDQUVETSxlLDhCQUFrQjtBQUNoQjtBQUNBO0FBQ0EsV0FBTyxLQUFLQyxPQUFMLEdBQWUsS0FBS1AsTUFBcEIsR0FBOEIsS0FBS0EsTUFBTCxDQUFZLENBQVosS0FBa0IsSUFBdkQ7QUFDRCxHOzs7O3dCQTNEWTtBQUNYLGFBQU8sS0FBS3ZCLFFBQUwsQ0FBY3VCLE1BQXJCO0FBQ0Q7Ozt3QkFFYTtBQUNaLGFBQU8sS0FBS3ZCLFFBQUwsQ0FBYzhCLE9BQXJCO0FBQ0Q7Ozt3QkFFZ0I7QUFDZixhQUFPLEtBQUs5QixRQUFMLENBQWNrQixVQUFyQjtBQUNEOzs7OztrQkFyQ2tCckIsb0IiLCJmaWxlIjoiSW5zZXJ0R3JhcGhPcGVyYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGVsZWdhdGVPcGVyYXRpb24gZnJvbSAnLi9EZWxlZ2F0ZU9wZXJhdGlvbic7XG5pbXBvcnQgSW5zZXJ0T3BlcmF0aW9uIGZyb20gJy4vSW5zZXJ0T3BlcmF0aW9uJztcblxuaW1wb3J0IGluc2VydEZ1bmNCdWlsZGVyIGZyb20gJy4uL2dyYXBoSW5zZXJ0ZXIvaW5zZXJ0ZXInO1xuaW1wb3J0IEdyYXBoSW5zZXJ0ZXIgZnJvbSAnLi4vZ3JhcGhJbnNlcnRlci9HcmFwaEluc2VydGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5zZXJ0R3JhcGhPcGVyYXRpb24gZXh0ZW5kcyBEZWxlZ2F0ZU9wZXJhdGlvbiB7XG5cbiAgY29uc3RydWN0b3IobmFtZSwgb3B0KSB7XG4gICAgc3VwZXIobmFtZSwgb3B0KTtcblxuICAgIGlmICghdGhpcy5kZWxlZ2F0ZS5pcyhJbnNlcnRPcGVyYXRpb24pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZGVsZWdhdGUnKTtcbiAgICB9XG5cbiAgICAvLyBPdXIgZGVsZWdhdGUgb3BlcmF0aW9uIGluaGVyaXRzIGZyb20gYEluc2VydE9wZXJhdGlvbmAuIERpc2FibGUgdGhlIGNhbGwtdGltZVxuICAgIC8vIHZhbGlkYXRpb24uIFdlIGRvIHRoZSB2YWxpZGF0aW9uIGluIG9uQWZ0ZXJRdWVyeSBpbnN0ZWFkLlxuICAgIHRoaXMuZGVsZWdhdGUubW9kZWxPcHRpb25zLnNraXBWYWxpZGF0aW9uID0gdHJ1ZTtcblxuICAgIC8vIFdlIG5lZWQgdG8gc3BsaXQgdGhlIHF1ZXJ5IHByb3BzIGRlZXBseS5cbiAgICB0aGlzLmRlbGVnYXRlLnNwbGl0UXVlcnlQcm9wc0RlZXAgPSB0cnVlO1xuICB9XG5cbiAgY2FsbChidWlsZGVyLCBhcmdzKSB7XG4gICAgY29uc3QgcmV0VmFsID0gc3VwZXIuY2FsbChidWlsZGVyLCBhcmdzKTtcblxuICAgIC8vIFdlIHJlc29sdmUgdGhpcyBxdWVyeSBoZXJlIGFuZCB3aWxsIG5vdCBleGVjdXRlIGl0LiBUaGlzIGlzIGJlY2F1c2UgdGhlIHJvb3RcbiAgICAvLyB2YWx1ZSBtYXkgZGVwZW5kIG9uIG90aGVyIG1vZGVscyBpbiB0aGUgZ3JhcGggYW5kIGNhbm5vdCBiZSBpbnNlcnRlZCBmaXJzdC5cbiAgICBidWlsZGVyLnJlc29sdmUoW10pO1xuXG4gICAgcmV0dXJuIHJldFZhbDtcbiAgfVxuXG4gIGdldCBtb2RlbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUubW9kZWxzO1xuICB9XG5cbiAgZ2V0IGlzQXJyYXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUuaXNBcnJheTtcbiAgfVxuXG4gIGdldCBxdWVyeVByb3BzKCkge1xuICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLnF1ZXJ5UHJvcHM7XG4gIH1cblxuICBvbkJlZm9yZSgpIHtcbiAgICAvLyBEbyBub3RoaW5nLlxuICB9XG5cbiAgb25CZWZvcmVJbnRlcm5hbCgpIHtcbiAgICAvLyBEbyBub3RoaW5nLiBXZSBvdmVycmlkZSB0aGlzIHdpdGggZW1wdHkgaW1wbGVtZW50YXRpb24gc28gdGhhdFxuICAgIC8vIHRoZSAkYmVmb3JlSW5zZXJ0KCkgaG9va3MgYXJlIG5vdCBjYWxsZWQgdHdpY2UgZm9yIHRoZSByb290IG1vZGVscy5cbiAgfVxuXG4gIG9uQmVmb3JlQnVpbGQoKSB7XG4gICAgLy8gRG8gbm90aGluZy5cbiAgfVxuXG4gIG9uQnVpbGQoKSB7XG4gICAgLy8gRG8gbm90aGluZy5cbiAgfVxuXG4gIC8vIFdlIG92ZXJyb2RlIGFsbCBvdGhlciBob29rcyBidXQgdGhpcyBvbmUgYW5kIGRvIGFsbCB0aGUgd29yayBpbiBoZXJlLlxuICAvLyBUaGlzIGlzIGEgYml0IGhhY2t5LlxuICBvbkFmdGVyUXVlcnkoYnVpbGRlcikge1xuICAgIC8vIFdlIHNwbGl0IHRoZSBxdWVyeSBwcm9wcyBmcm9tIGFsbCB0aGUgbW9kZWxzIGluIHRoZSBncmFwaCBpbiB0aGVcbiAgICAvLyBJbnNlcnRPcGVyYXRpb24uY2FsbCBtZXRob2QuIFdlIG5lZWQgdG8gc2V0IHRoZSBxdWVyeVByb3BzIG9wdGlvblxuICAgIC8vIHNvIHRoYXQgdGhlIGluZGl2aWR1YWwgaW5zZXJ0cyBzdGFydGVkIGJ5IGluc2VydEZ1bmMgYWxsIGdldCB0aGVpclxuICAgIC8vIHF1ZXJ5IHByb3BlcnRpZXMuXG4gICAgYnVpbGRlciA9IGJ1aWxkZXIuY2xvbmUoKS5pbnRlcm5hbE9wdGlvbnMoe1xuICAgICAgcXVlcnlQcm9wczogdGhpcy5xdWVyeVByb3BzXG4gICAgfSk7XG5cbiAgICBjb25zdCBNb2RlbENsYXNzID0gYnVpbGRlci5tb2RlbENsYXNzKCk7XG4gICAgY29uc3QgaW5zZXJ0RnVuYyA9IGluc2VydEZ1bmNCdWlsZGVyKGJ1aWxkZXIpO1xuXG4gICAgY29uc3QgZ3JhcGhJbnNlcnRlciA9IG5ldyBHcmFwaEluc2VydGVyKHtcbiAgICAgIG1vZGVsQ2xhc3M6IE1vZGVsQ2xhc3MsXG4gICAgICBtb2RlbHM6IHRoaXMubW9kZWxzLFxuICAgICAgYWxsb3dlZFJlbGF0aW9uczogYnVpbGRlci5fYWxsb3dlZEluc2VydEV4cHJlc3Npb24gfHwgbnVsbCxcbiAgICAgIGtuZXg6IGJ1aWxkZXIua25leCgpXG4gICAgfSk7XG5cbiAgICByZXR1cm4gZ3JhcGhJbnNlcnRlci5leGVjdXRlKGluc2VydEZ1bmMpLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIHN1cGVyLm9uQWZ0ZXJRdWVyeShidWlsZGVyLCB0aGlzLm1vZGVscylcbiAgICB9KTtcbiAgfVxuXG4gIG9uQWZ0ZXJJbnRlcm5hbCgpIHtcbiAgICAvLyBXZSBvdmVycmlkZSB0aGlzIHdpdGggZW1wdHkgaW1wbGVtZW50YXRpb24gc28gdGhhdCB0aGUgJGFmdGVySW5zZXJ0KCkgaG9va3NcbiAgICAvLyBhcmUgbm90IGNhbGxlZCB0d2ljZSBmb3IgdGhlIHJvb3QgbW9kZWxzLlxuICAgIHJldHVybiB0aGlzLmlzQXJyYXkgPyB0aGlzLm1vZGVscyA6ICh0aGlzLm1vZGVsc1swXSB8fCBudWxsKTtcbiAgfVxufVxuIl19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/graphInserter/inserter.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (builder) {\n  // Postgres is the only db engine that returns identifiers of all inserted rows. Therefore\n  // we can insert batches only with postgres.\n  var batchSize = (0, _knexUtils.isPostgres)(builder.knex()) ? POSTGRES_INSERT_BATCH_SIZE : 1;\n\n  return function (tableInsertion) {\n    var inputs = [];\n    var others = [];\n    var queries = [];\n\n    var insertQuery = tableInsertion.modelClass.query().childQueryOf(builder);\n\n    for (var i = 0, l = tableInsertion.models.length; i < l; ++i) {\n      var model = tableInsertion.models[i];\n\n      // We need to validate here since at this point the models should no longer contain any special properties.\n      var json = model.$validate();\n\n      // Set the return value back to model in case defaults were set.\n      model.$set(json);\n\n      if (tableInsertion.isInputModel[i]) {\n        inputs.push(model);\n      } else {\n        others.push(model);\n      }\n    }\n\n    batchInsert(inputs, insertQuery.clone().copyFrom(builder, /returning/), batchSize, queries);\n    batchInsert(others, insertQuery.clone(), batchSize, queries);\n\n    return _bluebird2.default.all(queries);\n  };\n};\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _bluebird = require('bluebird');\n\nvar _bluebird2 = _interopRequireDefault(_bluebird);\n\nvar _knexUtils = require('../../utils/knexUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar POSTGRES_INSERT_BATCH_SIZE = 100;\n\n/**\n * @param {QueryBuilder} builder\n * @return {function(TableInsertion)}\n */\n\n\nfunction batchInsert(models, queryBuilder, batchSize, queries) {\n  var batches = _lodash2.default.chunk(models, batchSize);\n\n  for (var i = 0, l = batches.length; i < l; ++i) {\n    queries.push(queryBuilder.clone().insert(batches[i]));\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluc2VydGVyLmpzIl0sIm5hbWVzIjpbImJ1aWxkZXIiLCJiYXRjaFNpemUiLCJrbmV4IiwiUE9TVEdSRVNfSU5TRVJUX0JBVENIX1NJWkUiLCJ0YWJsZUluc2VydGlvbiIsImlucHV0cyIsIm90aGVycyIsInF1ZXJpZXMiLCJpbnNlcnRRdWVyeSIsIm1vZGVsQ2xhc3MiLCJxdWVyeSIsImNoaWxkUXVlcnlPZiIsImkiLCJsIiwibW9kZWxzIiwibGVuZ3RoIiwibW9kZWwiLCJqc29uIiwiJHZhbGlkYXRlIiwiJHNldCIsImlzSW5wdXRNb2RlbCIsInB1c2giLCJiYXRjaEluc2VydCIsImNsb25lIiwiY29weUZyb20iLCJhbGwiLCJxdWVyeUJ1aWxkZXIiLCJiYXRjaGVzIiwiY2h1bmsiLCJpbnNlcnQiXSwibWFwcGluZ3MiOiI7Ozs7OztrQkFVZSxVQUFVQSxPQUFWLEVBQW1CO0FBQ2hDO0FBQ0E7QUFDQSxNQUFNQyxZQUFZLDJCQUFXRCxRQUFRRSxJQUFSLEVBQVgsSUFBNkJDLDBCQUE3QixHQUEwRCxDQUE1RTs7QUFFQSxTQUFPLFVBQUNDLGNBQUQsRUFBb0I7QUFDekIsUUFBTUMsU0FBUyxFQUFmO0FBQ0EsUUFBTUMsU0FBUyxFQUFmO0FBQ0EsUUFBTUMsVUFBVSxFQUFoQjs7QUFFQSxRQUFJQyxjQUFjSixlQUFlSyxVQUFmLENBQ2ZDLEtBRGUsR0FFZkMsWUFGZSxDQUVGWCxPQUZFLENBQWxCOztBQUlBLFNBQUssSUFBSVksSUFBSSxDQUFSLEVBQVdDLElBQUlULGVBQWVVLE1BQWYsQ0FBc0JDLE1BQTFDLEVBQWtESCxJQUFJQyxDQUF0RCxFQUF5RCxFQUFFRCxDQUEzRCxFQUE4RDtBQUM1RCxVQUFNSSxRQUFRWixlQUFlVSxNQUFmLENBQXNCRixDQUF0QixDQUFkOztBQUVBO0FBQ0EsVUFBTUssT0FBT0QsTUFBTUUsU0FBTixFQUFiOztBQUVBO0FBQ0FGLFlBQU1HLElBQU4sQ0FBV0YsSUFBWDs7QUFFQSxVQUFJYixlQUFlZ0IsWUFBZixDQUE0QlIsQ0FBNUIsQ0FBSixFQUFvQztBQUNsQ1AsZUFBT2dCLElBQVAsQ0FBWUwsS0FBWjtBQUNELE9BRkQsTUFFTztBQUNMVixlQUFPZSxJQUFQLENBQVlMLEtBQVo7QUFDRDtBQUNGOztBQUVETSxnQkFBWWpCLE1BQVosRUFBb0JHLFlBQVllLEtBQVosR0FBb0JDLFFBQXBCLENBQTZCeEIsT0FBN0IsRUFBc0MsV0FBdEMsQ0FBcEIsRUFBd0VDLFNBQXhFLEVBQW1GTSxPQUFuRjtBQUNBZSxnQkFBWWhCLE1BQVosRUFBb0JFLFlBQVllLEtBQVosRUFBcEIsRUFBeUN0QixTQUF6QyxFQUFvRE0sT0FBcEQ7O0FBRUEsV0FBTyxtQkFBUWtCLEdBQVIsQ0FBWWxCLE9BQVosQ0FBUDtBQUNELEdBN0JEO0FBOEJELEM7O0FBN0NEOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUVBLElBQU1KLDZCQUE2QixHQUFuQzs7QUFFQTs7Ozs7O0FBeUNBLFNBQVNtQixXQUFULENBQXFCUixNQUFyQixFQUE2QlksWUFBN0IsRUFBMkN6QixTQUEzQyxFQUFzRE0sT0FBdEQsRUFBK0Q7QUFDN0QsTUFBTW9CLFVBQVUsaUJBQUVDLEtBQUYsQ0FBUWQsTUFBUixFQUFnQmIsU0FBaEIsQ0FBaEI7O0FBRUEsT0FBSyxJQUFJVyxJQUFJLENBQVIsRUFBV0MsSUFBSWMsUUFBUVosTUFBNUIsRUFBb0NILElBQUlDLENBQXhDLEVBQTJDLEVBQUVELENBQTdDLEVBQWdEO0FBQzlDTCxZQUFRYyxJQUFSLENBQWFLLGFBQWFILEtBQWIsR0FBcUJNLE1BQXJCLENBQTRCRixRQUFRZixDQUFSLENBQTVCLENBQWI7QUFDRDtBQUNGIiwiZmlsZSI6Imluc2VydGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBQcm9taXNlIGZyb20gJ2JsdWViaXJkJztcbmltcG9ydCB7aXNQb3N0Z3Jlc30gZnJvbSAnLi4vLi4vdXRpbHMva25leFV0aWxzJztcblxuY29uc3QgUE9TVEdSRVNfSU5TRVJUX0JBVENIX1NJWkUgPSAxMDA7XG5cbi8qKlxuICogQHBhcmFtIHtRdWVyeUJ1aWxkZXJ9IGJ1aWxkZXJcbiAqIEByZXR1cm4ge2Z1bmN0aW9uKFRhYmxlSW5zZXJ0aW9uKX1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGJ1aWxkZXIpIHtcbiAgLy8gUG9zdGdyZXMgaXMgdGhlIG9ubHkgZGIgZW5naW5lIHRoYXQgcmV0dXJucyBpZGVudGlmaWVycyBvZiBhbGwgaW5zZXJ0ZWQgcm93cy4gVGhlcmVmb3JlXG4gIC8vIHdlIGNhbiBpbnNlcnQgYmF0Y2hlcyBvbmx5IHdpdGggcG9zdGdyZXMuXG4gIGNvbnN0IGJhdGNoU2l6ZSA9IGlzUG9zdGdyZXMoYnVpbGRlci5rbmV4KCkpID8gUE9TVEdSRVNfSU5TRVJUX0JBVENIX1NJWkUgOiAxO1xuXG4gIHJldHVybiAodGFibGVJbnNlcnRpb24pID0+IHtcbiAgICBjb25zdCBpbnB1dHMgPSBbXTtcbiAgICBjb25zdCBvdGhlcnMgPSBbXTtcbiAgICBjb25zdCBxdWVyaWVzID0gW107XG5cbiAgICBsZXQgaW5zZXJ0UXVlcnkgPSB0YWJsZUluc2VydGlvbi5tb2RlbENsYXNzXG4gICAgICAucXVlcnkoKVxuICAgICAgLmNoaWxkUXVlcnlPZihidWlsZGVyKTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gdGFibGVJbnNlcnRpb24ubW9kZWxzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgY29uc3QgbW9kZWwgPSB0YWJsZUluc2VydGlvbi5tb2RlbHNbaV07XG5cbiAgICAgIC8vIFdlIG5lZWQgdG8gdmFsaWRhdGUgaGVyZSBzaW5jZSBhdCB0aGlzIHBvaW50IHRoZSBtb2RlbHMgc2hvdWxkIG5vIGxvbmdlciBjb250YWluIGFueSBzcGVjaWFsIHByb3BlcnRpZXMuXG4gICAgICBjb25zdCBqc29uID0gbW9kZWwuJHZhbGlkYXRlKCk7XG5cbiAgICAgIC8vIFNldCB0aGUgcmV0dXJuIHZhbHVlIGJhY2sgdG8gbW9kZWwgaW4gY2FzZSBkZWZhdWx0cyB3ZXJlIHNldC5cbiAgICAgIG1vZGVsLiRzZXQoanNvbik7XG5cbiAgICAgIGlmICh0YWJsZUluc2VydGlvbi5pc0lucHV0TW9kZWxbaV0pIHtcbiAgICAgICAgaW5wdXRzLnB1c2gobW9kZWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3RoZXJzLnB1c2gobW9kZWwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGJhdGNoSW5zZXJ0KGlucHV0cywgaW5zZXJ0UXVlcnkuY2xvbmUoKS5jb3B5RnJvbShidWlsZGVyLCAvcmV0dXJuaW5nLyksIGJhdGNoU2l6ZSwgcXVlcmllcyk7XG4gICAgYmF0Y2hJbnNlcnQob3RoZXJzLCBpbnNlcnRRdWVyeS5jbG9uZSgpLCBiYXRjaFNpemUsIHF1ZXJpZXMpO1xuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHF1ZXJpZXMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBiYXRjaEluc2VydChtb2RlbHMsIHF1ZXJ5QnVpbGRlciwgYmF0Y2hTaXplLCBxdWVyaWVzKSB7XG4gIGNvbnN0IGJhdGNoZXMgPSBfLmNodW5rKG1vZGVscywgYmF0Y2hTaXplKTtcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IGJhdGNoZXMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgcXVlcmllcy5wdXNoKHF1ZXJ5QnVpbGRlci5jbG9uZSgpLmluc2VydChiYXRjaGVzW2ldKSk7XG4gIH1cbn1cblxuIl19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/graphInserter/GraphInserter.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _create = require('babel-runtime/core-js/object/create');\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _bluebird = require('bluebird');\n\nvar _bluebird2 = _interopRequireDefault(_bluebird);\n\nvar _DependencyGraph = require('./DependencyGraph');\n\nvar _DependencyGraph2 = _interopRequireDefault(_DependencyGraph);\n\nvar _TableInsertion = require('./TableInsertion');\n\nvar _TableInsertion2 = _interopRequireDefault(_TableInsertion);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GraphInserter = function () {\n  function GraphInserter(_ref) {\n    var modelClass = _ref.modelClass,\n        models = _ref.models,\n        allowedRelations = _ref.allowedRelations,\n        knex = _ref.knex;\n    (0, _classCallCheck3.default)(this, GraphInserter);\n\n    /**\n     * @type {Constructor.<Model>}\n     */\n    this.modelClass = modelClass;\n\n    /**\n     * @type {Model|Array.<Model>}\n     */\n    this.models = models;\n\n    /**\n     * @type {RelationExpression}\n     */\n    this.allowedRelations = allowedRelations || null;\n\n    /**\n     * @type {boolean}\n     */\n    this.done = false;\n\n    /**\n     * @type {DependencyGraph}\n     */\n    this.graph = this._buildDependencyGraph();\n\n    /**\n     * @type {knex}\n     */\n    this.knex = knex;\n  }\n\n  /**\n   * @param {function(TableInsertion)} inserter\n   * @return {Promise}\n   */\n\n\n  GraphInserter.prototype.execute = function execute(inserter) {\n    return this._executeNextBatch(inserter);\n  };\n\n  /**\n   * @returns {DependencyGraph}\n   * @private\n   */\n\n\n  GraphInserter.prototype._buildDependencyGraph = function _buildDependencyGraph() {\n    var graph = new _DependencyGraph2.default(this.allowedRelations);\n    graph.build(this.modelClass, this.models);\n    return graph;\n  };\n\n  /**\n   * @param {function(TableInsertion)} inserter\n   * @returns {Promise}\n   * @private\n   */\n\n\n  GraphInserter.prototype._executeNextBatch = function _executeNextBatch(inserter) {\n    var _this = this;\n\n    var batch = this._nextBatch();\n\n    if (!batch) {\n      // If we get here, we are done. All we need to do now is to finalize the object graph\n      // and return it as the final output.\n      return this._finalize();\n    }\n\n    // Insert the batch using the `inserter` function.\n    return _bluebird2.default.all((0, _keys2.default)(batch).map(function (tableName) {\n      var tableInsertion = batch[tableName];\n      var uids = void 0;\n\n      if (!tableInsertion.isJoinTableInsertion) {\n        // We need to omit the uid properties so that they don't get inserted\n        // into the database. Join table insertions never have uids.\n        uids = _this._omitUids(tableInsertion);\n      }\n\n      return inserter(tableInsertion).then(function () {\n        if (!tableInsertion.isJoinTableInsertion) {\n          // Resolve dependencies to the inserted objects. Join table insertions\n          // never resolve any dependencies.\n          _this._resolveDepsForInsertion(tableInsertion, uids);\n        }\n      });\n    })).then(function () {\n      return _this._executeNextBatch(inserter);\n    });\n  };\n\n  /**\n   * @private\n   * @returns {Object.<string, TableInsertion>}\n   */\n\n\n  GraphInserter.prototype._nextBatch = function _nextBatch() {\n    if (this.done) {\n      return null;\n    }\n\n    var batch = this._createBatch();\n\n    if (_lodash2.default.isEmpty(batch)) {\n      this.done = true;\n      return this._createManyToManyRelationJoinRowBatch();\n    } else {\n      this._markBatchHandled(batch);\n      return batch;\n    }\n  };\n\n  /**\n   * @private\n   * @returns {Object.<string, TableInsertion>}\n   */\n\n\n  GraphInserter.prototype._createBatch = function _createBatch() {\n    var batch = (0, _create2.default)(null);\n    var nodes = this.graph.nodes;\n\n    for (var n = 0, ln = nodes.length; n < ln; ++n) {\n      var node = nodes[n];\n\n      if (!node.handled && node.needs.length === node.numHandledNeeds) {\n        var tableInsertion = batch[node.modelClass.tableName];\n\n        if (!tableInsertion) {\n          tableInsertion = new _TableInsertion2.default(node.modelClass, false);\n          batch[node.modelClass.tableName] = tableInsertion;\n        }\n\n        tableInsertion.models.push(node.model);\n        tableInsertion.isInputModel.push(!!this.graph.inputNodesById[node.id]);\n      }\n    }\n\n    return batch;\n  };\n\n  /**\n   * @private\n   * @param {Object.<string, TableInsertion>} batch\n   */\n\n\n  GraphInserter.prototype._markBatchHandled = function _markBatchHandled(batch) {\n    var models = _lodash2.default.flatten(_lodash2.default.map(batch, 'models'));\n    var nodes = this.graph.nodesById;\n\n    for (var m = 0, lm = models.length; m < lm; ++m) {\n      var id = models[m][models[m].constructor.uidProp];\n      var node = nodes[id];\n\n      for (var nb = 0, lnb = node.isNeededBy.length; nb < lnb; ++nb) {\n        var dep = node.isNeededBy[nb];\n        dep.node.numHandledNeeds++;\n      }\n\n      node.handled = true;\n    }\n  };\n\n  /**\n   * @private\n   * @returns {Object.<string, TableInsertion>}\n   */\n\n\n  GraphInserter.prototype._createManyToManyRelationJoinRowBatch = function _createManyToManyRelationJoinRowBatch() {\n    var batch = (0, _create2.default)(null);\n\n    for (var n = 0, ln = this.graph.nodes.length; n < ln; ++n) {\n      var node = this.graph.nodes[n];\n\n      for (var m = 0, lm = node.manyToManyConnections.length; m < lm; ++m) {\n        var conn = node.manyToManyConnections[m];\n        var tableInsertion = batch[conn.relation.joinTable];\n\n        var ownerProp = node.model.$values(conn.relation.ownerProp);\n        var modelClass = conn.relation.joinTableModelClass(this.knex);\n        var joinModel = conn.relation.createJoinModels(ownerProp, [conn.node.model])[0];\n\n        if (conn.refNode) {\n          // Also take extra properties from the referring model, it there was one.\n          for (var k = 0, lk = conn.relation.joinTableExtras.length; k < lk; ++k) {\n            var extra = conn.relation.joinTableExtras[k];\n\n            if (!_lodash2.default.isUndefined(conn.refNode.model[extra.aliasProp])) {\n              joinModel[extra.joinTableProp] = conn.refNode.model[extra.aliasProp];\n            }\n          }\n        }\n\n        joinModel = modelClass.fromJson(joinModel);\n\n        if (!tableInsertion) {\n          tableInsertion = new _TableInsertion2.default(modelClass, true);\n          batch[modelClass.tableName] = tableInsertion;\n        }\n\n        tableInsertion.models.push(joinModel);\n        tableInsertion.isInputModel.push(false);\n      }\n    }\n\n    var modelNames = (0, _keys2.default)(batch);\n    // Remove duplicates.\n    for (var i = 0, l = modelNames.length; i < l; ++i) {\n      var modelName = modelNames[i];\n      var _tableInsertion = batch[modelName];\n\n      if (_tableInsertion.models.length) {\n        (function () {\n          var keys = _lodash2.default.uniq(_lodash2.default.flatMap(_tableInsertion.models, _lodash2.default.keys));\n\n          _tableInsertion.models = _lodash2.default.uniqBy(_tableInsertion.models, function (model) {\n            return model.$propKey(keys);\n          });\n          _tableInsertion.isInputModel = _lodash2.default.times(_tableInsertion.models.length, _lodash2.default.constant(false));\n        })();\n      }\n    }\n\n    return batch;\n  };\n\n  /**\n   * @private\n   */\n\n\n  GraphInserter.prototype._omitUids = function _omitUids(tableInsertion) {\n    var ids = _lodash2.default.map(tableInsertion.models, tableInsertion.modelClass.uidProp);\n\n    for (var m = 0, lm = tableInsertion.models.length; m < lm; ++m) {\n      tableInsertion.models[m].$omit(tableInsertion.modelClass.uidProp);\n    }\n\n    return ids;\n  };\n\n  /**\n   * @private\n   * @param {TableInsertion} tableInsertion\n   * @param {Array.<string>} uids\n   */\n\n\n  GraphInserter.prototype._resolveDepsForInsertion = function _resolveDepsForInsertion(tableInsertion, uids) {\n    for (var m = 0, lm = tableInsertion.models.length; m < lm; ++m) {\n      var node = this.graph.nodesById[uids[m]];\n      var model = tableInsertion.models[m];\n\n      for (var d = 0, ld = node.isNeededBy.length; d < ld; ++d) {\n        node.isNeededBy[d].resolve(model);\n      }\n    }\n  };\n\n  /**\n   * @private\n   * @return {Promise}\n   */\n\n\n  GraphInserter.prototype._finalize = function _finalize() {\n    for (var n = 0, ln = this.graph.nodes.length; n < ln; ++n) {\n      var refNode = this.graph.nodes[n];\n      var ref = refNode.model[refNode.modelClass.uidRefProp];\n\n      if (ref) {\n        // Copy all the properties to the reference nodes.\n        var actualNode = this.graph.nodesById[ref];\n        var relations = actualNode.modelClass.getRelations();\n        var keys = (0, _keys2.default)(actualNode.model);\n\n        for (var i = 0, l = keys.length; i < l; ++i) {\n          var key = keys[i];\n          var value = actualNode.model[key];\n\n          if (!relations[key] && !_lodash2.default.isFunction(value)) {\n            refNode.model[key] = value;\n          }\n        }\n\n        refNode.model.$omit(refNode.modelClass.uidProp, refNode.modelClass.uidRefProp);\n      }\n    }\n\n    return _bluebird2.default.resolve(this.models);\n  };\n\n  return GraphInserter;\n}();\n\nexports.default = GraphInserter;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkdyYXBoSW5zZXJ0ZXIuanMiXSwibmFtZXMiOlsiR3JhcGhJbnNlcnRlciIsIm1vZGVsQ2xhc3MiLCJtb2RlbHMiLCJhbGxvd2VkUmVsYXRpb25zIiwia25leCIsImRvbmUiLCJncmFwaCIsIl9idWlsZERlcGVuZGVuY3lHcmFwaCIsImV4ZWN1dGUiLCJpbnNlcnRlciIsIl9leGVjdXRlTmV4dEJhdGNoIiwiYnVpbGQiLCJiYXRjaCIsIl9uZXh0QmF0Y2giLCJfZmluYWxpemUiLCJhbGwiLCJtYXAiLCJ0YWJsZUluc2VydGlvbiIsInRhYmxlTmFtZSIsInVpZHMiLCJpc0pvaW5UYWJsZUluc2VydGlvbiIsIl9vbWl0VWlkcyIsInRoZW4iLCJfcmVzb2x2ZURlcHNGb3JJbnNlcnRpb24iLCJfY3JlYXRlQmF0Y2giLCJpc0VtcHR5IiwiX2NyZWF0ZU1hbnlUb01hbnlSZWxhdGlvbkpvaW5Sb3dCYXRjaCIsIl9tYXJrQmF0Y2hIYW5kbGVkIiwibm9kZXMiLCJuIiwibG4iLCJsZW5ndGgiLCJub2RlIiwiaGFuZGxlZCIsIm5lZWRzIiwibnVtSGFuZGxlZE5lZWRzIiwicHVzaCIsIm1vZGVsIiwiaXNJbnB1dE1vZGVsIiwiaW5wdXROb2Rlc0J5SWQiLCJpZCIsImZsYXR0ZW4iLCJub2Rlc0J5SWQiLCJtIiwibG0iLCJjb25zdHJ1Y3RvciIsInVpZFByb3AiLCJuYiIsImxuYiIsImlzTmVlZGVkQnkiLCJkZXAiLCJtYW55VG9NYW55Q29ubmVjdGlvbnMiLCJjb25uIiwicmVsYXRpb24iLCJqb2luVGFibGUiLCJvd25lclByb3AiLCIkdmFsdWVzIiwiam9pblRhYmxlTW9kZWxDbGFzcyIsImpvaW5Nb2RlbCIsImNyZWF0ZUpvaW5Nb2RlbHMiLCJyZWZOb2RlIiwiayIsImxrIiwiam9pblRhYmxlRXh0cmFzIiwiZXh0cmEiLCJpc1VuZGVmaW5lZCIsImFsaWFzUHJvcCIsImpvaW5UYWJsZVByb3AiLCJmcm9tSnNvbiIsIm1vZGVsTmFtZXMiLCJpIiwibCIsIm1vZGVsTmFtZSIsImtleXMiLCJ1bmlxIiwiZmxhdE1hcCIsInVuaXFCeSIsIiRwcm9wS2V5IiwidGltZXMiLCJjb25zdGFudCIsImlkcyIsIiRvbWl0IiwiZCIsImxkIiwicmVzb2x2ZSIsInJlZiIsInVpZFJlZlByb3AiLCJhY3R1YWxOb2RlIiwicmVsYXRpb25zIiwiZ2V0UmVsYXRpb25zIiwia2V5IiwidmFsdWUiLCJpc0Z1bmN0aW9uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUVBOzs7O0FBQ0E7Ozs7OztJQUVxQkEsYTtBQUVuQiwrQkFBMEQ7QUFBQSxRQUE3Q0MsVUFBNkMsUUFBN0NBLFVBQTZDO0FBQUEsUUFBakNDLE1BQWlDLFFBQWpDQSxNQUFpQztBQUFBLFFBQXpCQyxnQkFBeUIsUUFBekJBLGdCQUF5QjtBQUFBLFFBQVBDLElBQU8sUUFBUEEsSUFBTztBQUFBOztBQUN4RDs7O0FBR0EsU0FBS0gsVUFBTCxHQUFrQkEsVUFBbEI7O0FBRUE7OztBQUdBLFNBQUtDLE1BQUwsR0FBY0EsTUFBZDs7QUFFQTs7O0FBR0EsU0FBS0MsZ0JBQUwsR0FBd0JBLG9CQUFvQixJQUE1Qzs7QUFFQTs7O0FBR0EsU0FBS0UsSUFBTCxHQUFZLEtBQVo7O0FBRUE7OztBQUdBLFNBQUtDLEtBQUwsR0FBYSxLQUFLQyxxQkFBTCxFQUFiOztBQUVBOzs7QUFHQSxTQUFLSCxJQUFMLEdBQVlBLElBQVo7QUFDRDs7QUFFRDs7Ozs7OzBCQUlBSSxPLG9CQUFRQyxRLEVBQVU7QUFDaEIsV0FBTyxLQUFLQyxpQkFBTCxDQUF1QkQsUUFBdkIsQ0FBUDtBQUNELEc7O0FBRUQ7Ozs7OzswQkFJQUYscUIsb0NBQXdCO0FBQ3RCLFFBQUlELFFBQVEsOEJBQW9CLEtBQUtILGdCQUF6QixDQUFaO0FBQ0FHLFVBQU1LLEtBQU4sQ0FBWSxLQUFLVixVQUFqQixFQUE2QixLQUFLQyxNQUFsQztBQUNBLFdBQU9JLEtBQVA7QUFDRCxHOztBQUVEOzs7Ozs7OzBCQUtBSSxpQiw4QkFBa0JELFEs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aEIsT0FBTyxvQkFBWWMsV0FBV2xELEtBQXZCLENBQWI7O0FBRUEsYUFBSyxJQUFJaUMsSUFBSSxDQUFSLEVBQVdDLElBQUlFLEtBQUsxQyxNQUF6QixFQUFpQ3VDLElBQUlDLENBQXJDLEVBQXdDLEVBQUVELENBQTFDLEVBQTZDO0FBQzNDLGNBQU1vQixNQUFNakIsS0FBS0gsQ0FBTCxDQUFaO0FBQ0EsY0FBTXFCLFFBQVFKLFdBQVdsRCxLQUFYLENBQWlCcUQsR0FBakIsQ0FBZDs7QUFFQSxjQUFJLENBQUNGLFVBQVVFLEdBQVYsQ0FBRCxJQUFtQixDQUFDLGlCQUFFRSxVQUFGLENBQWFELEtBQWIsQ0FBeEIsRUFBNkM7QUFDM0MvQixvQkFBUXZCLEtBQVIsQ0FBY3FELEdBQWQsSUFBcUJDLEtBQXJCO0FBQ0Q7QUFDRjs7QUFFRC9CLGdCQUFRdkIsS0FBUixDQUFjNEMsS0FBZCxDQUFvQnJCLFFBQVEzRCxVQUFSLENBQW1CNkMsT0FBdkMsRUFBZ0RjLFFBQVEzRCxVQUFSLENBQW1CcUYsVUFBbkU7QUFDRDtBQUNGOztBQUVELFdBQU8sbUJBQVFGLE9BQVIsQ0FBZ0IsS0FBS2xGLE1BQXJCLENBQVA7QUFDRCxHOzs7OztrQkFqUmtCRixhIiwiZmlsZSI6IkdyYXBoSW5zZXJ0ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFByb21pc2UgZnJvbSAnYmx1ZWJpcmQnO1xuXG5pbXBvcnQgRGVwZW5kZW5jeUdyYXBoIGZyb20gJy4vRGVwZW5kZW5jeUdyYXBoJztcbmltcG9ydCBUYWJsZUluc2VydGlvbiBmcm9tICcuL1RhYmxlSW5zZXJ0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JhcGhJbnNlcnRlciB7XG5cbiAgY29uc3RydWN0b3Ioe21vZGVsQ2xhc3MsIG1vZGVscywgYWxsb3dlZFJlbGF0aW9ucywga25leH0pIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Q29uc3RydWN0b3IuPE1vZGVsPn1cbiAgICAgKi9cbiAgICB0aGlzLm1vZGVsQ2xhc3MgPSBtb2RlbENsYXNzO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge01vZGVsfEFycmF5LjxNb2RlbD59XG4gICAgICovXG4gICAgdGhpcy5tb2RlbHMgPSBtb2RlbHM7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7UmVsYXRpb25FeHByZXNzaW9ufVxuICAgICAqL1xuICAgIHRoaXMuYWxsb3dlZFJlbGF0aW9ucyA9IGFsbG93ZWRSZWxhdGlvbnMgfHwgbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0RlcGVuZGVuY3lHcmFwaH1cbiAgICAgKi9cbiAgICB0aGlzLmdyYXBoID0gdGhpcy5fYnVpbGREZXBlbmRlbmN5R3JhcGgoKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtrbmV4fVxuICAgICAqL1xuICAgIHRoaXMua25leCA9IGtuZXg7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbihUYWJsZUluc2VydGlvbil9IGluc2VydGVyXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICBleGVjdXRlKGluc2VydGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuX2V4ZWN1dGVOZXh0QmF0Y2goaW5zZXJ0ZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtEZXBlbmRlbmN5R3JhcGh9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYnVpbGREZXBlbmRlbmN5R3JhcGgoKSB7XG4gICAgbGV0IGdyYXBoID0gbmV3IERlcGVuZGVuY3lHcmFwaCh0aGlzLmFsbG93ZWRSZWxhdGlvbnMpO1xuICAgIGdyYXBoLmJ1aWxkKHRoaXMubW9kZWxDbGFzcywgdGhpcy5tb2RlbHMpO1xuICAgIHJldHVybiBncmFwaDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKFRhYmxlSW5zZXJ0aW9uKX0gaW5zZXJ0ZXJcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZXhlY3V0ZU5leHRCYXRjaChpbnNlcnRlcikge1xuICAgIGxldCBiYXRjaCA9IHRoaXMuX25leHRCYXRjaCgpO1xuXG4gICAgaWYgKCFiYXRjaCkge1xuICAgICAgLy8gSWYgd2UgZ2V0IGhlcmUsIHdlIGFyZSBkb25lLiBBbGwgd2UgbmVlZCB0byBkbyBub3cgaXMgdG8gZmluYWxpemUgdGhlIG9iamVjdCBncmFwaFxuICAgICAgLy8gYW5kIHJldHVybiBpdCBhcyB0aGUgZmluYWwgb3V0cHV0LlxuICAgICAgcmV0dXJuIHRoaXMuX2ZpbmFsaXplKCk7XG4gICAgfVxuXG4gICAgLy8gSW5zZXJ0IHRoZSBiYXRjaCB1c2luZyB0aGUgYGluc2VydGVyYCBmdW5jdGlvbi5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoT2JqZWN0LmtleXMoYmF0Y2gpLm1hcCh0YWJsZU5hbWUgPT4ge1xuICAgICAgY29uc3QgdGFibGVJbnNlcnRpb24gPSBiYXRjaFt0YWJsZU5hbWVdO1xuICAgICAgbGV0IHVpZHM7XG5cbiAgICAgIGlmICghdGFibGVJbnNlcnRpb24uaXNKb2luVGFibGVJbnNlcnRpb24pIHtcbiAgICAgICAgLy8gV2UgbmVlZCB0byBvbWl0IHRoZSB1aWQgcHJvcGVydGllcyBzbyB0aGF0IHRoZXkgZG9uJ3QgZ2V0IGluc2VydGVkXG4gICAgICAgIC8vIGludG8gdGhlIGRhdGFiYXNlLiBKb2luIHRhYmxlIGluc2VydGlvbnMgbmV2ZXIgaGF2ZSB1aWRzLlxuICAgICAgICB1aWRzID0gdGhpcy5fb21pdFVpZHModGFibGVJbnNlcnRpb24pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaW5zZXJ0ZXIodGFibGVJbnNlcnRpb24pLnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAoIXRhYmxlSW5zZXJ0aW9uLmlzSm9pblRhYmxlSW5zZXJ0aW9uKSB7XG4gICAgICAgICAgLy8gUmVzb2x2ZSBkZXBlbmRlbmNpZXMgdG8gdGhlIGluc2VydGVkIG9iamVjdHMuIEpvaW4gdGFibGUgaW5zZXJ0aW9uc1xuICAgICAgICAgIC8vIG5ldmVyIHJlc29sdmUgYW55IGRlcGVuZGVuY2llcy5cbiAgICAgICAgICB0aGlzLl9yZXNvbHZlRGVwc0Zvckluc2VydGlvbih0YWJsZUluc2VydGlvbiwgdWlkcyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pKS50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLl9leGVjdXRlTmV4dEJhdGNoKGluc2VydGVyKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsIFRhYmxlSW5zZXJ0aW9uPn1cbiAgICovXG4gIF9uZXh0QmF0Y2goKSB7XG4gICAgaWYgKHRoaXMuZG9uZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgbGV0IGJhdGNoID0gdGhpcy5fY3JlYXRlQmF0Y2goKTtcblxuICAgIGlmIChfLmlzRW1wdHkoYmF0Y2gpKSB7XG4gICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZU1hbnlUb01hbnlSZWxhdGlvbkpvaW5Sb3dCYXRjaCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9tYXJrQmF0Y2hIYW5kbGVkKGJhdGNoKTtcbiAgICAgIHJldHVybiBiYXRjaDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCBUYWJsZUluc2VydGlvbj59XG4gICAqL1xuICBfY3JlYXRlQmF0Y2goKSB7XG4gICAgbGV0IGJhdGNoID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBsZXQgbm9kZXMgPSB0aGlzLmdyYXBoLm5vZGVzO1xuXG4gICAgZm9yIChsZXQgbiA9IDAsIGxuID0gbm9kZXMubGVuZ3RoOyBuIDwgbG47ICsrbikge1xuICAgICAgbGV0IG5vZGUgPSBub2Rlc1tuXTtcblxuICAgICAgaWYgKCFub2RlLmhhbmRsZWQgJiYgbm9kZS5uZWVkcy5sZW5ndGggPT09IG5vZGUubnVtSGFuZGxlZE5lZWRzKSB7XG4gICAgICAgIGxldCB0YWJsZUluc2VydGlvbiA9IGJhdGNoW25vZGUubW9kZWxDbGFzcy50YWJsZU5hbWVdO1xuXG4gICAgICAgIGlmICghdGFibGVJbnNlcnRpb24pIHtcbiAgICAgICAgICB0YWJsZUluc2VydGlvbiA9IG5ldyBUYWJsZUluc2VydGlvbihub2RlLm1vZGVsQ2xhc3MsIGZhbHNlKTtcbiAgICAgICAgICBiYXRjaFtub2RlLm1vZGVsQ2xhc3MudGFibGVOYW1lXSA9IHRhYmxlSW5zZXJ0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFibGVJbnNlcnRpb24ubW9kZWxzLnB1c2gobm9kZS5tb2RlbCk7XG4gICAgICAgIHRhYmxlSW5zZXJ0aW9uLmlzSW5wdXRNb2RlbC5wdXNoKCEhdGhpcy5ncmFwaC5pbnB1dE5vZGVzQnlJZFtub2RlLmlkXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGJhdGNoO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIFRhYmxlSW5zZXJ0aW9uPn0gYmF0Y2hcbiAgICovXG4gIF9tYXJrQmF0Y2hIYW5kbGVkKGJhdGNoKSB7XG4gICAgbGV0IG1vZGVscyA9IF8uZmxhdHRlbihfLm1hcChiYXRjaCwgJ21vZGVscycpKTtcbiAgICBsZXQgbm9kZXMgPSB0aGlzLmdyYXBoLm5vZGVzQnlJZDtcblxuICAgIGZvciAobGV0IG0gPSAwLCBsbSA9IG1vZGVscy5sZW5ndGg7IG0gPCBsbTsgKyttKSB7XG4gICAgICBsZXQgaWQgPSBtb2RlbHNbbV1bbW9kZWxzW21dLmNvbnN0cnVjdG9yLnVpZFByb3BdO1xuICAgICAgbGV0IG5vZGUgPSBub2Rlc1tpZF07XG5cbiAgICAgIGZvciAobGV0IG5iID0gMCwgbG5iID0gbm9kZS5pc05lZWRlZEJ5Lmxlbmd0aDsgbmIgPCBsbmI7ICsrbmIpIHtcbiAgICAgICAgbGV0IGRlcCA9IG5vZGUuaXNOZWVkZWRCeVtuYl07XG4gICAgICAgIGRlcC5ub2RlLm51bUhhbmRsZWROZWVkcysrO1xuICAgICAgfVxuXG4gICAgICBub2RlLmhhbmRsZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsIFRhYmxlSW5zZXJ0aW9uPn1cbiAgICovXG4gIF9jcmVhdGVNYW55VG9NYW55UmVsYXRpb25Kb2luUm93QmF0Y2goKSB7XG4gICAgbGV0IGJhdGNoID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAgIGZvciAobGV0IG4gPSAwLCBsbiA9IHRoaXMuZ3JhcGgubm9kZXMubGVuZ3RoOyBuIDwgbG47ICsrbikge1xuICAgICAgbGV0IG5vZGUgPSB0aGlzLmdyYXBoLm5vZGVzW25dO1xuXG4gICAgICBmb3IgKGxldCBtID0gMCwgbG0gPSBub2RlLm1hbnlUb01hbnlDb25uZWN0aW9ucy5sZW5ndGg7IG0gPCBsbTsgKyttKSB7XG4gICAgICAgIGxldCBjb25uID0gbm9kZS5tYW55VG9NYW55Q29ubmVjdGlvbnNbbV07XG4gICAgICAgIGxldCB0YWJsZUluc2VydGlvbiA9IGJhdGNoW2Nvbm4ucmVsYXRpb24uam9pblRhYmxlXTtcblxuICAgICAgICBsZXQgb3duZXJQcm9wID0gbm9kZS5tb2RlbC4kdmFsdWVzKGNvbm4ucmVsYXRpb24ub3duZXJQcm9wKTtcbiAgICAgICAgbGV0IG1vZGVsQ2xhc3MgPSBjb25uLnJlbGF0aW9uLmpvaW5UYWJsZU1vZGVsQ2xhc3ModGhpcy5rbmV4KTtcbiAgICAgICAgbGV0IGpvaW5Nb2RlbCA9IGNvbm4ucmVsYXRpb24uY3JlYXRlSm9pbk1vZGVscyhvd25lclByb3AsIFtjb25uLm5vZGUubW9kZWxdKVswXTtcblxuICAgICAgICBpZiAoY29ubi5yZWZOb2RlKSB7XG4gICAgICAgICAgLy8gQWxzbyB0YWtlIGV4dHJhIHByb3BlcnRpZXMgZnJvbSB0aGUgcmVmZXJyaW5nIG1vZGVsLCBpdCB0aGVyZSB3YXMgb25lLlxuICAgICAgICAgIGZvciAobGV0IGsgPSAwLCBsayA9IGNvbm4ucmVsYXRpb24uam9pblRhYmxlRXh0cmFzLmxlbmd0aDsgayA8IGxrOyArK2spIHtcbiAgICAgICAgICAgIGxldCBleHRyYSA9IGNvbm4ucmVsYXRpb24uam9pblRhYmxlRXh0cmFzW2tdO1xuXG4gICAgICAgICAgICBpZiAoIV8uaXNVbmRlZmluZWQoY29ubi5yZWZOb2RlLm1vZGVsW2V4dHJhLmFsaWFzUHJvcF0pKSB7XG4gICAgICAgICAgICAgIGpvaW5Nb2RlbFtleHRyYS5qb2luVGFibGVQcm9wXSA9IGNvbm4ucmVmTm9kZS5tb2RlbFtleHRyYS5hbGlhc1Byb3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGpvaW5Nb2RlbCA9IG1vZGVsQ2xhc3MuZnJvbUpzb24oam9pbk1vZGVsKTtcblxuICAgICAgICBpZiAoIXRhYmxlSW5zZXJ0aW9uKSB7XG4gICAgICAgICAgdGFibGVJbnNlcnRpb24gPSBuZXcgVGFibGVJbnNlcnRpb24obW9kZWxDbGFzcywgdHJ1ZSk7XG4gICAgICAgICAgYmF0Y2hbbW9kZWxDbGFzcy50YWJsZU5hbWVdID0gdGFibGVJbnNlcnRpb247XG4gICAgICAgIH1cblxuICAgICAgICB0YWJsZUluc2VydGlvbi5tb2RlbHMucHVzaChqb2luTW9kZWwpO1xuICAgICAgICB0YWJsZUluc2VydGlvbi5pc0lucHV0TW9kZWwucHVzaChmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgbW9kZWxOYW1lcyA9IE9iamVjdC5rZXlzKGJhdGNoKTtcbiAgICAvLyBSZW1vdmUgZHVwbGljYXRlcy5cbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IG1vZGVsTmFtZXMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICBjb25zdCBtb2RlbE5hbWUgPSBtb2RlbE5hbWVzW2ldO1xuICAgICAgY29uc3QgdGFibGVJbnNlcnRpb24gPSBiYXRjaFttb2RlbE5hbWVdO1xuXG4gICAgICBpZiAodGFibGVJbnNlcnRpb24ubW9kZWxzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBrZXlzID0gXy51bmlxKF8uZmxhdE1hcCh0YWJsZUluc2VydGlvbi5tb2RlbHMsIF8ua2V5cykpO1xuXG4gICAgICAgIHRhYmxlSW5zZXJ0aW9uLm1vZGVscyA9IF8udW5pcUJ5KHRhYmxlSW5zZXJ0aW9uLm1vZGVscywgbW9kZWwgPT4gbW9kZWwuJHByb3BLZXkoa2V5cykpO1xuICAgICAgICB0YWJsZUluc2VydGlvbi5pc0lucHV0TW9kZWwgPSBfLnRpbWVzKHRhYmxlSW5zZXJ0aW9uLm1vZGVscy5sZW5ndGgsIF8uY29uc3RhbnQoZmFsc2UpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYmF0Y2g7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9vbWl0VWlkcyh0YWJsZUluc2VydGlvbikge1xuICAgIGxldCBpZHMgPSBfLm1hcCh0YWJsZUluc2VydGlvbi5tb2RlbHMsIHRhYmxlSW5zZXJ0aW9uLm1vZGVsQ2xhc3MudWlkUHJvcCk7XG5cbiAgICBmb3IgKGxldCBtID0gMCwgbG0gPSB0YWJsZUluc2VydGlvbi5tb2RlbHMubGVuZ3RoOyBtIDwgbG07ICsrbSkge1xuICAgICAgdGFibGVJbnNlcnRpb24ubW9kZWxzW21dLiRvbWl0KHRhYmxlSW5zZXJ0aW9uLm1vZGVsQ2xhc3MudWlkUHJvcCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGlkcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1RhYmxlSW5zZXJ0aW9ufSB0YWJsZUluc2VydGlvblxuICAgKiBAcGFyYW0ge0FycmF5LjxzdHJpbmc+fSB1aWRzXG4gICAqL1xuICBfcmVzb2x2ZURlcHNGb3JJbnNlcnRpb24odGFibGVJbnNlcnRpb24sIHVpZHMpIHtcbiAgICBmb3IgKGxldCBtID0gMCwgbG0gPSB0YWJsZUluc2VydGlvbi5tb2RlbHMubGVuZ3RoOyBtIDwgbG07ICsrbSkge1xuICAgICAgbGV0IG5vZGUgPSB0aGlzLmdyYXBoLm5vZGVzQnlJZFt1aWRzW21dXTtcbiAgICAgIGxldCBtb2RlbCA9IHRhYmxlSW5zZXJ0aW9uLm1vZGVsc1ttXTtcblxuICAgICAgZm9yIChsZXQgZCA9IDAsIGxkID0gbm9kZS5pc05lZWRlZEJ5Lmxlbmd0aDsgZCA8IGxkOyArK2QpIHtcbiAgICAgICAgbm9kZS5pc05lZWRlZEJ5W2RdLnJlc29sdmUobW9kZWwpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKi9cbiAgX2ZpbmFsaXplKCkge1xuICAgIGZvciAobGV0IG4gPSAwLCBsbiA9IHRoaXMuZ3JhcGgubm9kZXMubGVuZ3RoOyBuIDwgbG47ICsrbikge1xuICAgICAgbGV0IHJlZk5vZGUgPSB0aGlzLmdyYXBoLm5vZGVzW25dO1xuICAgICAgbGV0IHJlZiA9IHJlZk5vZGUubW9kZWxbcmVmTm9kZS5tb2RlbENsYXNzLnVpZFJlZlByb3BdO1xuXG4gICAgICBpZiAocmVmKSB7XG4gICAgICAgIC8vIENvcHkgYWxsIHRoZSBwcm9wZXJ0aWVzIHRvIHRoZSByZWZlcmVuY2Ugbm9kZXMuXG4gICAgICAgIGNvbnN0IGFjdHVhbE5vZGUgPSB0aGlzLmdyYXBoLm5vZGVzQnlJZFtyZWZdO1xuICAgICAgICBjb25zdCByZWxhdGlvbnMgPSBhY3R1YWxOb2RlLm1vZGVsQ2xhc3MuZ2V0UmVsYXRpb25zKCk7XG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhhY3R1YWxOb2RlLm1vZGVsKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGFjdHVhbE5vZGUubW9kZWxba2V5XTtcblxuICAgICAgICAgIGlmICghcmVsYXRpb25zW2tleV0gJiYgIV8uaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJlZk5vZGUubW9kZWxba2V5XSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJlZk5vZGUubW9kZWwuJG9taXQocmVmTm9kZS5tb2RlbENsYXNzLnVpZFByb3AsIHJlZk5vZGUubW9kZWxDbGFzcy51aWRSZWZQcm9wKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMubW9kZWxzKTtcbiAgfVxufVxuIl19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/graphInserter/DependencyGraph.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _create = require('babel-runtime/core-js/object/create');\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _Model = require('../../model/Model');\n\nvar _Model2 = _interopRequireDefault(_Model);\n\nvar _HasManyRelation = require('../../relations/hasMany/HasManyRelation');\n\nvar _HasManyRelation2 = _interopRequireDefault(_HasManyRelation);\n\nvar _RelationExpression = require('../RelationExpression');\n\nvar _RelationExpression2 = _interopRequireDefault(_RelationExpression);\n\nvar _ManyToManyRelation = require('../../relations/manyToMany/ManyToManyRelation');\n\nvar _ManyToManyRelation2 = _interopRequireDefault(_ManyToManyRelation);\n\nvar _BelongsToOneRelation = require('../../relations/belongsToOne/BelongsToOneRelation');\n\nvar _BelongsToOneRelation2 = _interopRequireDefault(_BelongsToOneRelation);\n\nvar _ValidationError = require('../../model/ValidationError');\n\nvar _ValidationError2 = _interopRequireDefault(_ValidationError);\n\nvar _DependencyNode = require('./DependencyNode');\n\nvar _DependencyNode2 = _interopRequireDefault(_DependencyNode);\n\nvar _HasManyDependency = require('./HasManyDependency');\n\nvar _HasManyDependency2 = _interopRequireDefault(_HasManyDependency);\n\nvar _ManyToManyConnection = require('./ManyToManyConnection');\n\nvar _ManyToManyConnection2 = _interopRequireDefault(_ManyToManyConnection);\n\nvar _ReplaceValueDependency = require('./ReplaceValueDependency');\n\nvar _ReplaceValueDependency2 = _interopRequireDefault(_ReplaceValueDependency);\n\nvar _BelongsToOneDependency = require('./BelongsToOneDependency');\n\nvar _BelongsToOneDependency2 = _interopRequireDefault(_BelongsToOneDependency);\n\nvar _InterpolateValueDependency = require('./InterpolateValueDependency');\n\nvar _InterpolateValueDependency2 = _interopRequireDefault(_InterpolateValueDependency);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DependencyGraph = function () {\n  function DependencyGraph(allowedRelations) {\n    (0, _classCallCheck3.default)(this, DependencyGraph);\n\n    /**\n     * @type {RelationExpression}\n     */\n    this.allowedRelations = allowedRelations;\n\n    /**\n     * @type {Object.<string, DependencyNode>}\n     */\n    this.nodesById = (0, _create2.default)(null);\n\n    /**\n     * @type {Object.<string, DependencyNode>}\n     */\n    this.inputNodesById = (0, _create2.default)(null);\n\n    /**\n     * @type {Array.<DependencyNode>}\n     */\n    this.nodes = [];\n\n    /**\n     * @type {number}\n     */\n    this.uid = 0;\n  }\n\n  DependencyGraph.prototype.build = function build(modelClass, models) {\n    this.nodesById = (0, _create2.default)(null);\n    this.nodes = [];\n\n    if (Array.isArray(models)) {\n      for (var i = 0, l = models.length; i < l; ++i) {\n        this.buildForModel(modelClass, models[i], null, null, this.allowedRelations);\n      }\n    } else {\n      this.buildForModel(modelClass, models, null, null, this.allowedRelations);\n    }\n\n    this.solveReferences();\n    this.createNonRelationDeps();\n\n    if (this.isCyclic(this.nodes)) {\n      throw new _ValidationError2.default({ cyclic: 'the object graph contains cyclic references' });\n    }\n\n    return this.nodes;\n  };\n\n  DependencyGraph.prototype.buildForModel = function buildForModel(modelClass, model, parentNode, rel, allowedRelations) {\n    if (!(model instanceof _Model2.default)) {\n      throw new _ValidationError2.default({ notModel: 'not a model' });\n    }\n\n    if (!model[modelClass.uidProp]) {\n      model[modelClass.uidProp] = this.createUid();\n    }\n\n    var node = new _DependencyNode2.default(model, modelClass);\n\n    this.nodesById[node.id] = node;\n    this.nodes.push(node);\n\n    if (!parentNode) {\n      this.inputNodesById[node.id] = node;\n    }\n\n    if (rel instanceof _HasManyRelation2.default) {\n\n      node.needs.push(new _HasManyDependency2.default(parentNode, rel));\n      parentNode.isNeededBy.push(new _HasManyDependency2.default(node, rel));\n    } else if (rel instanceof _BelongsToOneRelation2.default) {\n\n      node.isNeededBy.push(new _BelongsToOneDependency2.default(parentNode, rel));\n      parentNode.needs.push(new _BelongsToOneDependency2.default(node, rel));\n    } else if (rel instanceof _ManyToManyRelation2.default) {\n\n      // ManyToManyRelations create no dependencies since we can create the\n      // join table rows after everything else has been inserted.\n      parentNode.manyToManyConnections.push(new _ManyToManyConnection2.default(node, rel));\n    }\n\n    this.buildForRelations(modelClass, model, node, allowedRelations);\n  };\n\n  DependencyGraph.prototype.buildForRelations = function buildForRelations(modelClass, model, node, allowedRelations) {\n    var relations = modelClass.getRelationArray();\n\n    for (var i = 0, l = relations.length; i < l; ++i) {\n      var rel = relations[i];\n      var relName = rel.name;\n      var relModels = model[relName];\n\n      var nextAllowed = null;\n\n      if (relModels && allowedRelations instanceof _RelationExpression2.default) {\n        nextAllowed = allowedRelations.childExpression(relName);\n\n        if (!nextAllowed) {\n          throw new _ValidationError2.default({ allowedRelations: 'trying to insert an unallowed relation' });\n        }\n      }\n\n      if (Array.isArray(relModels)) {\n        for (var _i = 0, _l = relModels.length; _i < _l; ++_i) {\n          this.buildForItem(rel.relatedModelClass, relModels[_i], node, rel, nextAllowed);\n        }\n      } else if (relModels) {\n        this.buildForItem(rel.relatedModelClass, relModels, node, rel, nextAllowed);\n      }\n    }\n  };\n\n  DependencyGraph.prototype.buildForItem = function buildForItem(modelClass, item, parentNode, rel, allowedRelations) {\n    if (rel instanceof _ManyToManyRelation2.default && item[modelClass.dbRefProp]) {\n      this.buildForId(modelClass, item, parentNode, rel, allowedRelations);\n    } else {\n      this.buildForModel(modelClass, item, parentNode, rel, allowedRelations);\n    }\n  };\n\n  DependencyGraph.prototype.buildForId = function buildForId(modelClass, item, parentNode, rel) {\n    var node = new _DependencyNode2.default(item, modelClass);\n    node.handled = true;\n\n    item.$id(item[modelClass.dbRefProp]);\n    parentNode.manyToManyConnections.push(new _ManyToManyConnection2.default(node, rel));\n  };\n\n  DependencyGraph.prototype.solveReferences = function solveReferences() {\n    var refMap = (0, _create2.default)(null);\n\n    // First merge all reference nodes into the actual node.\n    this.mergeReferences(refMap);\n\n    // Replace all reference nodes with the actual nodes.\n    this.replaceReferenceNodes(refMap);\n  };\n\n  DependencyGraph.prototype.mergeReferences = function mergeReferences(refMap) {\n    for (var n = 0, ln = this.nodes.length; n < ln; ++n) {\n      var refNode = this.nodes[n];\n\n      if (refNode.handled) {\n        continue;\n      }\n\n      var ref = refNode.model[refNode.modelClass.uidRefProp];\n\n      if (ref) {\n        var actualNode = this.nodesById[ref];\n\n        if (!actualNode) {\n          throw new _ValidationError2.default({ ref: 'could not resolve reference \"' + ref + '\"' });\n        }\n\n        var d = void 0,\n            ld = void 0;\n\n        for (d = 0, ld = refNode.needs.length; d < ld; ++d) {\n          actualNode.needs.push(refNode.needs[d]);\n        }\n\n        for (d = 0, ld = refNode.isNeededBy.length; d < ld; ++d) {\n          actualNode.isNeededBy.push(refNode.isNeededBy[d]);\n        }\n\n        for (var m = 0, lm = refNode.manyToManyConnections.length; m < lm; ++m) {\n          actualNode.manyToManyConnections.push(refNode.manyToManyConnections[m]);\n        }\n\n        refMap[refNode.id] = actualNode;\n        refNode.handled = true;\n      }\n    }\n  };\n\n  DependencyGraph.prototype.replaceReferenceNodes = function replaceReferenceNodes(refMap) {\n    for (var n = 0, ln = this.nodes.length; n < ln; ++n) {\n      var node = this.nodes[n];\n      var d = void 0,\n          ld = void 0,\n          dep = void 0,\n          actualNode = void 0;\n\n      for (d = 0, ld = node.needs.length; d < ld; ++d) {\n        dep = node.needs[d];\n        actualNode = refMap[dep.node.id];\n\n        if (actualNode) {\n          dep.node = actualNode;\n        }\n      }\n\n      for (d = 0, ld = node.isNeededBy.length; d < ld; ++d) {\n        dep = node.isNeededBy[d];\n        actualNode = refMap[dep.node.id];\n\n        if (actualNode) {\n          dep.node = actualNode;\n        }\n      }\n\n      for (var m = 0, lm = node.manyToManyConnections.length; m < lm; ++m) {\n        var conn = node.manyToManyConnections[m];\n        actualNode = refMap[conn.node.id];\n\n        if (actualNode) {\n          conn.refNode = conn.node;\n          conn.node = actualNode;\n        }\n      }\n    }\n  };\n\n  DependencyGraph.prototype.createNonRelationDeps = function createNonRelationDeps() {\n    for (var n = 0, ln = this.nodes.length; n < ln; ++n) {\n      var node = this.nodes[n];\n\n      if (!node.handled) {\n        this.createNonRelationDepsForObject(node.model, node, []);\n      }\n    }\n  };\n\n  DependencyGraph.prototype.createNonRelationDepsForObject = function createNonRelationDepsForObject(obj, node, path) {\n    var _this = this;\n\n    var propRefRegex = node.modelClass.propRefRegex;\n    var relations = node.modelClass.getRelations();\n    var isModel = obj instanceof _Model2.default;\n    var keys = (0, _keys2.default)(obj);\n\n    var _loop = function _loop(i, l) {\n      var key = keys[i];\n      var value = obj[key];\n\n      if (isModel && relations[key]) {\n        // Don't traverse the relations of model instances.\n        return {\n          v: void 0\n        };\n      }\n\n      path.push(key);\n\n      if (typeof value === 'string') {\n        allMatches(propRefRegex, value, function (matchResult) {\n          var match = matchResult[0];\n          var refId = matchResult[1];\n          var refProp = matchResult[2];\n          var refNode = _this.nodesById[refId];\n\n          if (!refNode) {\n            throw new _ValidationError2.default({ ref: 'could not resolve reference \"' + value + '\"' });\n          }\n\n          if (value === match) {\n            // If the match is the whole string, replace the value with the resolved value.\n            // This means that the value will have the same type as the resolved value\n            // (date, number, etc).\n            node.needs.push(new _ReplaceValueDependency2.default(refNode, path, refProp, false));\n            refNode.isNeededBy.push(new _ReplaceValueDependency2.default(node, path, refProp, true));\n          } else {\n            // If the match is inside a string, replace the reference inside the string with\n            // the resolved value.\n            node.needs.push(new _InterpolateValueDependency2.default(refNode, path, refProp, match, false));\n            refNode.isNeededBy.push(new _InterpolateValueDependency2.default(node, path, refProp, match, true));\n          }\n        });\n      } else if (value && (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) === 'object') {\n        _this.createNonRelationDepsForObject(value, node, path);\n      }\n\n      path.pop();\n    };\n\n    for (var i = 0, l = keys.length; i < l; ++i) {\n      var _ret = _loop(i, l);\n\n      if ((typeof _ret === 'undefined' ? 'undefined' : (0, _typeof3.default)(_ret)) === \"object\") return _ret.v;\n    }\n  };\n\n  DependencyGraph.prototype.isCyclic = function isCyclic(nodes) {\n    var isCyclic = false;\n\n    for (var n = 0, ln = nodes.length; n < ln; ++n) {\n      var node = nodes[n];\n\n      if (node.handled) {\n        continue;\n      }\n\n      if (this.isCyclicNode(node)) {\n        isCyclic = true;\n        break;\n      }\n    }\n\n    this.clearFlags(this.nodes);\n    return isCyclic;\n  };\n\n  DependencyGraph.prototype.isCyclicNode = function isCyclicNode(node) {\n    if (!node.visited) {\n      node.visited = true;\n      node.recursion = true;\n\n      for (var d = 0, ld = node.needs.length; d < ld; ++d) {\n        var dep = node.needs[d];\n\n        if (!dep.node.visited && this.isCyclicNode(dep.node)) {\n          return true;\n        } else if (dep.node.recursion) {\n          return true;\n        }\n      }\n    }\n\n    node.recursion = false;\n    return false;\n  };\n\n  DependencyGraph.prototype.clearFlags = function clearFlags(nodes) {\n    for (var n = 0, ln = nodes.length; n < ln; ++n) {\n      var node = nodes[n];\n\n      node.visited = false;\n      node.recursion = false;\n    }\n  };\n\n  DependencyGraph.prototype.createUid = function createUid() {\n    return '__objection_uid(' + ++this.uid + ')__';\n  };\n\n  return DependencyGraph;\n}();\n\nexports.default = DependencyGraph;\n\n\nfunction allMatches(regex, str, cb) {\n  var matchResult = regex.exec(str);\n\n  while (matchResult) {\n    cb(matchResult);\n    matchResult = regex.exec(str);\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkRlcGVuZGVuY3lHcmFwaC5qcyJdLCJuYW1lcyI6WyJEZXBlbmRlbmN5R3JhcGgiLCJhbGxvd2VkUmVsYXRpb25zIiwibm9kZXNCeUlkIiwiaW5wdXROb2Rlc0J5SWQiLCJub2RlcyIsInVpZCIsImJ1aWxkIiwibW9kZWxDbGFzcyIsIm1vZGVscyIsIkFycmF5IiwiaXNBcnJheSIsImkiLCJsIiwibGVuZ3RoIiwiYnVpbGRGb3JNb2RlbCIsInNvbHZlUmVmZXJlbmNlcyIsImNyZWF0ZU5vblJlbGF0aW9uRGVwcyIsImlzQ3ljbGljIiwiY3ljbGljIiwibW9kZWwiLCJwYXJlbnROb2RlIiwicmVsIiwibm90TW9kZWwiLCJ1aWRQcm9wIiwiY3JlYXRlVWlkIiwibm9kZSIsImlkIiwicHVzaCIsIm5lZWRzIiwiaXNOZWVkZWRCeSIsIm1hbnlUb01hbnlDb25uZWN0aW9ucyIsImJ1aWxkRm9yUmVsYXRpb25zIiwicmVsYXRpb25zIiwiZ2V0UmVsYXRpb25BcnJheSIsInJlbE5hbWUiLCJuYW1lIiwicmVsTW9kZWxzIiwibmV4dEFsbG93ZWQiLCJjaGlsZEV4cHJlc3Npb24iLCJidWlsZEZvckl0ZW0iLCJyZWxhdGVkTW9kZWxDbGFzcyIsIml0ZW0iLCJkYlJlZlByb3AiLCJidWlsZEZvcklkIiwiaGFuZGxlZCIsIiRpZCIsInJlZk1hcCIsIm1lcmdlUmVmZXJlbmNlcyIsInJlcGxhY2VSZWZlcmVuY2VOb2RlcyIsIm4iLCJsbiIsInJlZk5vZGUiLCJyZWYiLCJ1aWRSZWZQcm9wIiwiYWN0dWFsTm9kZSIsImQiLCJsZCIsIm0iLCJsbSIsImRlcCIsImNvbm4iLCJjcmVhdGVOb25SZWxhdGlvbkRlcHNGb3JPYmplY3QiLCJvYmoiLCJwYXRoIiwicHJvcFJlZlJlZ2V4IiwiZ2V0UmVsYXRpb25zIiwiaXNNb2RlbCIsImtleXMiLCJrZXkiLCJ2YWx1ZSIsImFsbE1hdGNoZXMiLCJtYXRjaCIsIm1hdGNoUmVzdWx0IiwicmVmSWQiLCJyZWZQcm9wIiwicG9wIiwiaXNDeWNsaWNOb2RlIiwiY2xlYXJGbGFncyIsInZpc2l0ZWQiLCJyZWN1cnNpb24iLCJyZWdleCIsInN0ciIsImNiIiwiZXhlYyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFFQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztJQUVxQkEsZTtBQUVuQiwyQkFBWUMsZ0JBQVosRUFBOEI7QUFBQTs7QUFDNUI7OztBQUdBLFNBQUtBLGdCQUFMLEdBQXdCQSxnQkFBeEI7O0FBRUE7OztBQUdBLFNBQUtDLFNBQUwsR0FBaUIsc0JBQWMsSUFBZCxDQUFqQjs7QUFFQTs7O0FBR0EsU0FBS0MsY0FBTCxHQUFzQixzQkFBYyxJQUFkLENBQXRCOztBQUVBOzs7QUFHQSxTQUFLQyxLQUFMLEdBQWEsRUFBYjs7QUFFQTs7O0FBR0EsU0FBS0MsR0FBTCxHQUFXLENBQVg7QUFDRDs7NEJBRURDLEssa0JBQU1DLFUsRUFBWUMsTSxFQUFRO0FBQ3hCLFNBQUtOLFNBQUwsR0FBaUIsc0JBQWMsSUFBZCxDQUFqQjtBQUNBLFNBQUtFLEtBQUwsR0FBYSxFQUFiOztBQUVBLFFBQUlLLE1BQU1DLE9BQU4sQ0FBY0YsTUFBZCxDQUFKLEVBQTJCO0FBQ3pCLFdBQUssSUFBSUcsSUFBSSxDQUFSLEVBQVdDLElBQUlKLE9BQU9LLE1BQTNCLEVBQW1DRixJQUFJQyxDQUF2QyxFQUEwQyxFQUFFRCxDQUE1QyxFQUErQztBQUM3QyxhQUFLRyxhQUFMLENBQW1CUCxVQUFuQixFQUErQkMsT0FBT0csQ0FBUCxDQUEvQixFQUEwQyxJQUExQyxFQUFnRCxJQUFoRCxFQUFzRCxLQUFLVixnQkFBM0Q7QUFDRDtBQUNGLEtBSkQsTUFJTztBQUNMLFdBQUthLGFBQUwsQ0FBbUJQLFVBQW5CLEVBQStCQyxNQUEvQixFQUF1QyxJQUF2QyxFQUE2QyxJQUE3QyxFQUFtRCxLQUFLUCxnQkFBeEQ7QUFDRDs7QUFF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QSxrQkFBY1EsTUFBTUcsSUFBTixDQUFXRixHQUFYLENBQWQ7QUFDRDtBQUNGIiwiZmlsZSI6IkRlcGVuZGVuY3lHcmFwaC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBNb2RlbCBmcm9tICcuLi8uLi9tb2RlbC9Nb2RlbCc7XG5pbXBvcnQgSGFzTWFueVJlbGF0aW9uIGZyb20gJy4uLy4uL3JlbGF0aW9ucy9oYXNNYW55L0hhc01hbnlSZWxhdGlvbic7XG5pbXBvcnQgUmVsYXRpb25FeHByZXNzaW9uIGZyb20gJy4uL1JlbGF0aW9uRXhwcmVzc2lvbic7XG5pbXBvcnQgTWFueVRvTWFueVJlbGF0aW9uIGZyb20gJy4uLy4uL3JlbGF0aW9ucy9tYW55VG9NYW55L01hbnlUb01hbnlSZWxhdGlvbic7XG5pbXBvcnQgQmVsb25nc1RvT25lUmVsYXRpb24gZnJvbSAnLi4vLi4vcmVsYXRpb25zL2JlbG9uZ3NUb09uZS9CZWxvbmdzVG9PbmVSZWxhdGlvbic7XG5pbXBvcnQgVmFsaWRhdGlvbkVycm9yIGZyb20gJy4uLy4uL21vZGVsL1ZhbGlkYXRpb25FcnJvcic7XG5cbmltcG9ydCBEZXBlbmRlbmN5Tm9kZSBmcm9tICcuL0RlcGVuZGVuY3lOb2RlJztcbmltcG9ydCBIYXNNYW55RGVwZW5kZW5jeSBmcm9tICcuL0hhc01hbnlEZXBlbmRlbmN5JztcbmltcG9ydCBNYW55VG9NYW55Q29ubmVjdGlvbiBmcm9tICcuL01hbnlUb01hbnlDb25uZWN0aW9uJztcbmltcG9ydCBSZXBsYWNlVmFsdWVEZXBlbmRlbmN5IGZyb20gJy4vUmVwbGFjZVZhbHVlRGVwZW5kZW5jeSc7XG5pbXBvcnQgQmVsb25nc1RvT25lRGVwZW5kZW5jeSBmcm9tICcuL0JlbG9uZ3NUb09uZURlcGVuZGVuY3knO1xuaW1wb3J0IEludGVycG9sYXRlVmFsdWVEZXBlbmRlbmN5IGZyb20gJy4vSW50ZXJwb2xhdGVWYWx1ZURlcGVuZGVuY3knO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZXBlbmRlbmN5R3JhcGgge1xuXG4gIGNvbnN0cnVjdG9yKGFsbG93ZWRSZWxhdGlvbnMpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7UmVsYXRpb25FeHByZXNzaW9ufVxuICAgICAqL1xuICAgIHRoaXMuYWxsb3dlZFJlbGF0aW9ucyA9IGFsbG93ZWRSZWxhdGlvbnM7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7T2JqZWN0LjxzdHJpbmcsIERlcGVuZGVuY3lOb2RlPn1cbiAgICAgKi9cbiAgICB0aGlzLm5vZGVzQnlJZCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7T2JqZWN0LjxzdHJpbmcsIERlcGVuZGVuY3lOb2RlPn1cbiAgICAgKi9cbiAgICB0aGlzLmlucHV0Tm9kZXNCeUlkID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheS48RGVwZW5kZW5jeU5vZGU+fVxuICAgICAqL1xuICAgIHRoaXMubm9kZXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy51aWQgPSAwO1xuICB9XG5cbiAgYnVpbGQobW9kZWxDbGFzcywgbW9kZWxzKSB7XG4gICAgdGhpcy5ub2Rlc0J5SWQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMubm9kZXMgPSBbXTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KG1vZGVscykpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gbW9kZWxzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICB0aGlzLmJ1aWxkRm9yTW9kZWwobW9kZWxDbGFzcywgbW9kZWxzW2ldLCBudWxsLCBudWxsLCB0aGlzLmFsbG93ZWRSZWxhdGlvbnMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmJ1aWxkRm9yTW9kZWwobW9kZWxDbGFzcywgbW9kZWxzLCBudWxsLCBudWxsLCB0aGlzLmFsbG93ZWRSZWxhdGlvbnMpO1xuICAgIH1cblxuICAgIHRoaXMuc29sdmVSZWZlcmVuY2VzKCk7XG4gICAgdGhpcy5jcmVhdGVOb25SZWxhdGlvbkRlcHMoKTtcblxuICAgIGlmICh0aGlzLmlzQ3ljbGljKHRoaXMubm9kZXMpKSB7XG4gICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKHtjeWNsaWM6ICd0aGUgb2JqZWN0IGdyYXBoIGNvbnRhaW5zIGN5Y2xpYyByZWZlcmVuY2VzJ30pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm5vZGVzO1xuICB9O1xuXG4gIGJ1aWxkRm9yTW9kZWwobW9kZWxDbGFzcywgbW9kZWwsIHBhcmVudE5vZGUsIHJlbCwgYWxsb3dlZFJlbGF0aW9ucykge1xuICAgIGlmICghKG1vZGVsIGluc3RhbmNlb2YgTW9kZWwpKSB7XG4gICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKHtub3RNb2RlbDogJ25vdCBhIG1vZGVsJ30pO1xuICAgIH1cblxuICAgIGlmICghbW9kZWxbbW9kZWxDbGFzcy51aWRQcm9wXSkge1xuICAgICAgbW9kZWxbbW9kZWxDbGFzcy51aWRQcm9wXSA9IHRoaXMuY3JlYXRlVWlkKCk7XG4gICAgfVxuXG4gICAgY29uc3Qgbm9kZSA9IG5ldyBEZXBlbmRlbmN5Tm9kZShtb2RlbCwgbW9kZWxDbGFzcyk7XG5cbiAgICB0aGlzLm5vZGVzQnlJZFtub2RlLmlkXSA9IG5vZGU7XG4gICAgdGhpcy5ub2Rlcy5wdXNoKG5vZGUpO1xuXG4gICAgaWYgKCFwYXJlbnROb2RlKSB7XG4gICAgICB0aGlzLmlucHV0Tm9kZXNCeUlkW25vZGUuaWRdID0gbm9kZTtcbiAgICB9XG5cbiAgICBpZiAocmVsIGluc3RhbmNlb2YgSGFzTWFueVJlbGF0aW9uKSB7XG5cbiAgICAgIG5vZGUubmVlZHMucHVzaChuZXcgSGFzTWFueURlcGVuZGVuY3kocGFyZW50Tm9kZSwgcmVsKSk7XG4gICAgICBwYXJlbnROb2RlLmlzTmVlZGVkQnkucHVzaChuZXcgSGFzTWFueURlcGVuZGVuY3kobm9kZSwgcmVsKSk7XG5cbiAgICB9IGVsc2UgaWYgKHJlbCBpbnN0YW5jZW9mIEJlbG9uZ3NUb09uZVJlbGF0aW9uKSB7XG5cbiAgICAgIG5vZGUuaXNOZWVkZWRCeS5wdXNoKG5ldyBCZWxvbmdzVG9PbmVEZXBlbmRlbmN5KHBhcmVudE5vZGUsIHJlbCkpO1xuICAgICAgcGFyZW50Tm9kZS5uZWVkcy5wdXNoKG5ldyBCZWxvbmdzVG9PbmVEZXBlbmRlbmN5KG5vZGUsIHJlbCkpO1xuXG4gICAgfSBlbHNlIGlmIChyZWwgaW5zdGFuY2VvZiBNYW55VG9NYW55UmVsYXRpb24pIHtcblxuICAgICAgLy8gTWFueVRvTWFueVJlbGF0aW9ucyBjcmVhdGUgbm8gZGVwZW5kZW5jaWVzIHNpbmNlIHdlIGNhbiBjcmVhdGUgdGhlXG4gICAgICAvLyBqb2luIHRhYmxlIHJvd3MgYWZ0ZXIgZXZlcnl0aGluZyBlbHNlIGhhcyBiZWVuIGluc2VydGVkLlxuICAgICAgcGFyZW50Tm9kZS5tYW55VG9NYW55Q29ubmVjdGlvbnMucHVzaChuZXcgTWFueVRvTWFueUNvbm5lY3Rpb24obm9kZSwgcmVsKSk7XG5cbiAgICB9XG5cbiAgICB0aGlzLmJ1aWxkRm9yUmVsYXRpb25zKG1vZGVsQ2xhc3MsIG1vZGVsLCBub2RlLCBhbGxvd2VkUmVsYXRpb25zKTtcbiAgfVxuXG4gIGJ1aWxkRm9yUmVsYXRpb25zKG1vZGVsQ2xhc3MsIG1vZGVsLCBub2RlLCBhbGxvd2VkUmVsYXRpb25zKSB7XG4gICAgY29uc3QgcmVsYXRpb25zID0gbW9kZWxDbGFzcy5nZXRSZWxhdGlvbkFycmF5KCk7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHJlbGF0aW9ucy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgIGNvbnN0IHJlbCA9IHJlbGF0aW9uc1tpXTtcbiAgICAgIGNvbnN0IHJlbE5hbWUgPSByZWwubmFtZTtcbiAgICAgIGNvbnN0IHJlbE1vZGVscyA9IG1vZGVsW3JlbE5hbWVdO1xuXG4gICAgICBsZXQgbmV4dEFsbG93ZWQgPSBudWxsO1xuXG4gICAgICBpZiAocmVsTW9kZWxzICYmIGFsbG93ZWRSZWxhdGlvbnMgaW5zdGFuY2VvZiBSZWxhdGlvbkV4cHJlc3Npb24pIHtcbiAgICAgICAgbmV4dEFsbG93ZWQgPSBhbGxvd2VkUmVsYXRpb25zLmNoaWxkRXhwcmVzc2lvbihyZWxOYW1lKTtcblxuICAgICAgICBpZiAoIW5leHRBbGxvd2VkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcih7YWxsb3dlZFJlbGF0aW9uczogJ3RyeWluZyB0byBpbnNlcnQgYW4gdW5hbGxvd2VkIHJlbGF0aW9uJ30pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlbE1vZGVscykpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSByZWxNb2RlbHMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgdGhpcy5idWlsZEZvckl0ZW0ocmVsLnJlbGF0ZWRNb2RlbENsYXNzLCByZWxNb2RlbHNbaV0sIG5vZGUsIHJlbCwgbmV4dEFsbG93ZWQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJlbE1vZGVscykge1xuICAgICAgICB0aGlzLmJ1aWxkRm9ySXRlbShyZWwucmVsYXRlZE1vZGVsQ2xhc3MsIHJlbE1vZGVscywgbm9kZSwgcmVsLCBuZXh0QWxsb3dlZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYnVpbGRGb3JJdGVtKG1vZGVsQ2xhc3MsIGl0ZW0sIHBhcmVudE5vZGUsIHJlbCwgYWxsb3dlZFJlbGF0aW9ucykge1xuICAgIGlmIChyZWwgaW5zdGFuY2VvZiBNYW55VG9NYW55UmVsYXRpb24gJiYgaXRlbVttb2RlbENsYXNzLmRiUmVmUHJvcF0pIHtcbiAgICAgIHRoaXMuYnVpbGRGb3JJZChtb2RlbENsYXNzLCBpdGVtLCBwYXJlbnROb2RlLCByZWwsIGFsbG93ZWRSZWxhdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmJ1aWxkRm9yTW9kZWwobW9kZWxDbGFzcywgaXRlbSwgcGFyZW50Tm9kZSwgcmVsLCBhbGxvd2VkUmVsYXRpb25zKTtcbiAgICB9XG4gIH1cblxuICBidWlsZEZvcklkKG1vZGVsQ2xhc3MsIGl0ZW0sIHBhcmVudE5vZGUsIHJlbCkge1xuICAgIGNvbnN0IG5vZGUgPSBuZXcgRGVwZW5kZW5jeU5vZGUoaXRlbSwgbW9kZWxDbGFzcyk7XG4gICAgbm9kZS5oYW5kbGVkID0gdHJ1ZTtcblxuICAgIGl0ZW0uJGlkKGl0ZW1bbW9kZWxDbGFzcy5kYlJlZlByb3BdKTtcbiAgICBwYXJlbnROb2RlLm1hbnlUb01hbnlDb25uZWN0aW9ucy5wdXNoKG5ldyBNYW55VG9NYW55Q29ubmVjdGlvbihub2RlLCByZWwpKTtcbiAgfVxuXG4gIHNvbHZlUmVmZXJlbmNlcygpIHtcbiAgICBsZXQgcmVmTWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAgIC8vIEZpcnN0IG1lcmdlIGFsbCByZWZlcmVuY2Ugbm9kZXMgaW50byB0aGUgYWN0dWFsIG5vZGUuXG4gICAgdGhpcy5tZXJnZVJlZmVyZW5jZXMocmVmTWFwKTtcblxuICAgIC8vIFJlcGxhY2UgYWxsIHJlZmVyZW5jZSBub2RlcyB3aXRoIHRoZSBhY3R1YWwgbm9kZXMuXG4gICAgdGhpcy5yZXBsYWNlUmVmZXJlbmNlTm9kZXMocmVmTWFwKTtcbiAgfVxuXG4gIG1lcmdlUmVmZXJlbmNlcyhyZWZNYXApIHtcbiAgICBmb3IgKGxldCBuID0gMCwgbG4gPSB0aGlzLm5vZGVzLmxlbmd0aDsgbiA8IGxuOyArK24pIHtcbiAgICAgIGxldCByZWZOb2RlID0gdGhpcy5ub2Rlc1tuXTtcblxuICAgICAgaWYgKHJlZk5vZGUuaGFuZGxlZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgbGV0IHJlZiA9IHJlZk5vZGUubW9kZWxbcmVmTm9kZS5tb2RlbENsYXNzLnVpZFJlZlByb3BdO1xuXG4gICAgICBpZiAocmVmKSB7XG4gICAgICAgIGxldCBhY3R1YWxOb2RlID0gdGhpcy5ub2Rlc0J5SWRbcmVmXTtcblxuICAgICAgICBpZiAoIWFjdHVhbE5vZGUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKHtyZWY6IGBjb3VsZCBub3QgcmVzb2x2ZSByZWZlcmVuY2UgXCIke3JlZn1cImB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkLCBsZDtcblxuICAgICAgICBmb3IgKGQgPSAwLCBsZCA9IHJlZk5vZGUubmVlZHMubGVuZ3RoOyBkIDwgbGQ7ICsrZCkge1xuICAgICAgICAgIGFjdHVhbE5vZGUubmVlZHMucHVzaChyZWZOb2RlLm5lZWRzW2RdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoZCA9IDAsIGxkID0gcmVmTm9kZS5pc05lZWRlZEJ5Lmxlbmd0aDsgZCA8IGxkOyArK2QpIHtcbiAgICAgICAgICBhY3R1YWxOb2RlLmlzTmVlZGVkQnkucHVzaChyZWZOb2RlLmlzTmVlZGVkQnlbZF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgbSA9IDAsIGxtID0gcmVmTm9kZS5tYW55VG9NYW55Q29ubmVjdGlvbnMubGVuZ3RoOyBtIDwgbG07ICsrbSkge1xuICAgICAgICAgIGFjdHVhbE5vZGUubWFueVRvTWFueUNvbm5lY3Rpb25zLnB1c2gocmVmTm9kZS5tYW55VG9NYW55Q29ubmVjdGlvbnNbbV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVmTWFwW3JlZk5vZGUuaWRdID0gYWN0dWFsTm9kZTtcbiAgICAgICAgcmVmTm9kZS5oYW5kbGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXBsYWNlUmVmZXJlbmNlTm9kZXMocmVmTWFwKSB7XG4gICAgZm9yIChsZXQgbiA9IDAsIGxuID0gdGhpcy5ub2Rlcy5sZW5ndGg7IG4gPCBsbjsgKytuKSB7XG4gICAgICBsZXQgbm9kZSA9IHRoaXMubm9kZXNbbl07XG4gICAgICBsZXQgZCwgbGQsIGRlcCwgYWN0dWFsTm9kZTtcblxuICAgICAgZm9yIChkID0gMCwgbGQgPSBub2RlLm5lZWRzLmxlbmd0aDsgZCA8IGxkOyArK2QpIHtcbiAgICAgICAgZGVwID0gbm9kZS5uZWVkc1tkXTtcbiAgICAgICAgYWN0dWFsTm9kZSA9IHJlZk1hcFtkZXAubm9kZS5pZF07XG5cbiAgICAgICAgaWYgKGFjdHVhbE5vZGUpIHtcbiAgICAgICAgICBkZXAubm9kZSA9IGFjdHVhbE5vZGU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yIChkID0gMCwgbGQgPSBub2RlLmlzTmVlZGVkQnkubGVuZ3RoOyBkIDwgbGQ7ICsrZCkge1xuICAgICAgICBkZXAgPSBub2RlLmlzTmVlZGVkQnlbZF07XG4gICAgICAgIGFjdHVhbE5vZGUgPSByZWZNYXBbZGVwLm5vZGUuaWRdO1xuXG4gICAgICAgIGlmIChhY3R1YWxOb2RlKSB7XG4gICAgICAgICAgZGVwLm5vZGUgPSBhY3R1YWxOb2RlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAobGV0IG0gPSAwLCBsbSA9IG5vZGUubWFueVRvTWFueUNvbm5lY3Rpb25zLmxlbmd0aDsgbSA8IGxtOyArK20pIHtcbiAgICAgICAgbGV0IGNvbm4gPSBub2RlLm1hbnlUb01hbnlDb25uZWN0aW9uc1ttXTtcbiAgICAgICAgYWN0dWFsTm9kZSA9IHJlZk1hcFtjb25uLm5vZGUuaWRdO1xuXG4gICAgICAgIGlmIChhY3R1YWxOb2RlKSB7XG4gICAgICAgICAgY29ubi5yZWZOb2RlID0gY29ubi5ub2RlO1xuICAgICAgICAgIGNvbm4ubm9kZSA9IGFjdHVhbE5vZGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjcmVhdGVOb25SZWxhdGlvbkRlcHMoKSB7XG4gICAgZm9yIChsZXQgbiA9IDAsIGxuID0gdGhpcy5ub2Rlcy5sZW5ndGg7IG4gPCBsbjsgKytuKSB7XG4gICAgICBsZXQgbm9kZSA9IHRoaXMubm9kZXNbbl07XG5cbiAgICAgIGlmICghbm9kZS5oYW5kbGVkKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlTm9uUmVsYXRpb25EZXBzRm9yT2JqZWN0KG5vZGUubW9kZWwsIG5vZGUsIFtdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjcmVhdGVOb25SZWxhdGlvbkRlcHNGb3JPYmplY3Qob2JqLCBub2RlLCBwYXRoKSB7XG4gICAgY29uc3QgcHJvcFJlZlJlZ2V4ID0gbm9kZS5tb2RlbENsYXNzLnByb3BSZWZSZWdleDtcbiAgICBjb25zdCByZWxhdGlvbnMgPSBub2RlLm1vZGVsQ2xhc3MuZ2V0UmVsYXRpb25zKCk7XG4gICAgY29uc3QgaXNNb2RlbCA9IG9iaiBpbnN0YW5jZW9mIE1vZGVsO1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICAgIGNvbnN0IHZhbHVlID0gb2JqW2tleV07XG5cbiAgICAgIGlmIChpc01vZGVsICYmIHJlbGF0aW9uc1trZXldKSB7XG4gICAgICAgIC8vIERvbid0IHRyYXZlcnNlIHRoZSByZWxhdGlvbnMgb2YgbW9kZWwgaW5zdGFuY2VzLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHBhdGgucHVzaChrZXkpO1xuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICBhbGxNYXRjaGVzKHByb3BSZWZSZWdleCwgdmFsdWUsIG1hdGNoUmVzdWx0ID0+IHtcbiAgICAgICAgICBsZXQgbWF0Y2ggPSBtYXRjaFJlc3VsdFswXTtcbiAgICAgICAgICBsZXQgcmVmSWQgPSBtYXRjaFJlc3VsdFsxXTtcbiAgICAgICAgICBsZXQgcmVmUHJvcCA9IG1hdGNoUmVzdWx0WzJdO1xuICAgICAgICAgIGxldCByZWZOb2RlID0gdGhpcy5ub2Rlc0J5SWRbcmVmSWRdO1xuXG4gICAgICAgICAgaWYgKCFyZWZOb2RlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKHtyZWY6IGBjb3VsZCBub3QgcmVzb2x2ZSByZWZlcmVuY2UgXCIke3ZhbHVlfVwiYH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbWF0Y2gpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBtYXRjaCBpcyB0aGUgd2hvbGUgc3RyaW5nLCByZXBsYWNlIHRoZSB2YWx1ZSB3aXRoIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgICAgICAgIC8vIFRoaXMgbWVhbnMgdGhhdCB0aGUgdmFsdWUgd2lsbCBoYXZlIHRoZSBzYW1lIHR5cGUgYXMgdGhlIHJlc29sdmVkIHZhbHVlXG4gICAgICAgICAgICAvLyAoZGF0ZSwgbnVtYmVyLCBldGMpLlxuICAgICAgICAgICAgbm9kZS5uZWVkcy5wdXNoKG5ldyBSZXBsYWNlVmFsdWVEZXBlbmRlbmN5KHJlZk5vZGUsIHBhdGgsIHJlZlByb3AsIGZhbHNlKSk7XG4gICAgICAgICAgICByZWZOb2RlLmlzTmVlZGVkQnkucHVzaChuZXcgUmVwbGFjZVZhbHVlRGVwZW5kZW5jeShub2RlLCBwYXRoLCByZWZQcm9wLCB0cnVlKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBtYXRjaCBpcyBpbnNpZGUgYSBzdHJpbmcsIHJlcGxhY2UgdGhlIHJlZmVyZW5jZSBpbnNpZGUgdGhlIHN0cmluZyB3aXRoXG4gICAgICAgICAgICAvLyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICAgICAgICBub2RlLm5lZWRzLnB1c2gobmV3IEludGVycG9sYXRlVmFsdWVEZXBlbmRlbmN5KHJlZk5vZGUsIHBhdGgsIHJlZlByb3AsIG1hdGNoLCBmYWxzZSkpO1xuICAgICAgICAgICAgcmVmTm9kZS5pc05lZWRlZEJ5LnB1c2gobmV3IEludGVycG9sYXRlVmFsdWVEZXBlbmRlbmN5KG5vZGUsIHBhdGgsIHJlZlByb3AsIG1hdGNoLCB0cnVlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICB0aGlzLmNyZWF0ZU5vblJlbGF0aW9uRGVwc0Zvck9iamVjdCh2YWx1ZSwgbm9kZSwgcGF0aCk7XG4gICAgICB9XG5cbiAgICAgIHBhdGgucG9wKCk7XG4gICAgfVxuICB9XG5cbiAgaXNDeWNsaWMobm9kZXMpIHtcbiAgICBsZXQgaXNDeWNsaWMgPSBmYWxzZTtcblxuICAgIGZvciAobGV0IG4gPSAwLCBsbiA9IG5vZGVzLmxlbmd0aDsgbiA8IGxuOyArK24pIHtcbiAgICAgIGxldCBub2RlID0gbm9kZXNbbl07XG5cbiAgICAgIGlmIChub2RlLmhhbmRsZWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmlzQ3ljbGljTm9kZShub2RlKSkge1xuICAgICAgICBpc0N5Y2xpYyA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuY2xlYXJGbGFncyh0aGlzLm5vZGVzKTtcbiAgICByZXR1cm4gaXNDeWNsaWM7XG4gIH1cblxuICBpc0N5Y2xpY05vZGUobm9kZSkge1xuICAgIGlmICghbm9kZS52aXNpdGVkKSB7XG4gICAgICBub2RlLnZpc2l0ZWQgPSB0cnVlO1xuICAgICAgbm9kZS5yZWN1cnNpb24gPSB0cnVlO1xuXG4gICAgICBmb3IgKGxldCBkID0gMCwgbGQgPSBub2RlLm5lZWRzLmxlbmd0aDsgZCA8IGxkOyArK2QpIHtcbiAgICAgICAgbGV0IGRlcCA9IG5vZGUubmVlZHNbZF07XG5cbiAgICAgICAgaWYgKCFkZXAubm9kZS52aXNpdGVkICYmIHRoaXMuaXNDeWNsaWNOb2RlKGRlcC5ub2RlKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGRlcC5ub2RlLnJlY3Vyc2lvbikge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgbm9kZS5yZWN1cnNpb24gPSBmYWxzZTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjbGVhckZsYWdzKG5vZGVzKSB7XG4gICAgZm9yIChsZXQgbiA9IDAsIGxuID0gbm9kZXMubGVuZ3RoOyBuIDwgbG47ICsrbikge1xuICAgICAgbGV0IG5vZGUgPSBub2Rlc1tuXTtcblxuICAgICAgbm9kZS52aXNpdGVkID0gZmFsc2U7XG4gICAgICBub2RlLnJlY3Vyc2lvbiA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGNyZWF0ZVVpZCgpIHtcbiAgICByZXR1cm4gYF9fb2JqZWN0aW9uX3VpZCgkeysrdGhpcy51aWR9KV9fYDtcbiAgfVxufVxuXG5mdW5jdGlvbiBhbGxNYXRjaGVzKHJlZ2V4LCBzdHIsIGNiKSB7XG4gIGxldCBtYXRjaFJlc3VsdCA9IHJlZ2V4LmV4ZWMoc3RyKTtcblxuICB3aGlsZSAobWF0Y2hSZXN1bHQpIHtcbiAgICBjYihtYXRjaFJlc3VsdCk7XG4gICAgbWF0Y2hSZXN1bHQgPSByZWdleC5leGVjKHN0cik7XG4gIH1cbn0iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/relations/hasMany/HasManyRelation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _Relation2 = require('../Relation');\n\nvar _Relation3 = _interopRequireDefault(_Relation2);\n\nvar _HasManyInsertOperation = require('./HasManyInsertOperation');\n\nvar _HasManyInsertOperation2 = _interopRequireDefault(_HasManyInsertOperation);\n\nvar _HasManyRelateOperation = require('./HasManyRelateOperation');\n\nvar _HasManyRelateOperation2 = _interopRequireDefault(_HasManyRelateOperation);\n\nvar _HasManyUnrelateOperation = require('./HasManyUnrelateOperation');\n\nvar _HasManyUnrelateOperation2 = _interopRequireDefault(_HasManyUnrelateOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar HasManyRelation = function (_Relation) {\n  (0, _inherits3.default)(HasManyRelation, _Relation);\n\n  function HasManyRelation() {\n    (0, _classCallCheck3.default)(this, HasManyRelation);\n    return (0, _possibleConstructorReturn3.default)(this, _Relation.apply(this, arguments));\n  }\n\n  HasManyRelation.prototype.insert = function insert(builder, owner) {\n    return new _HasManyInsertOperation2.default('insert', {\n      relation: this,\n      owner: owner\n    });\n  };\n\n  HasManyRelation.prototype.relate = function relate(builder, owner) {\n    return new _HasManyRelateOperation2.default('relate', {\n      relation: this,\n      owner: owner\n    });\n  };\n\n  HasManyRelation.prototype.unrelate = function unrelate(builder, owner) {\n    return new _HasManyUnrelateOperation2.default('unrelate', {\n      relation: this,\n      owner: owner\n    });\n  };\n\n  return HasManyRelation;\n}(_Relation3.default);\n\nexports.default = HasManyRelation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkhhc01hbnlSZWxhdGlvbi5qcyJdLCJuYW1lcyI6WyJIYXNNYW55UmVsYXRpb24iLCJpbnNlcnQiLCJidWlsZGVyIiwib3duZXIiLCJyZWxhdGlvbiIsInJlbGF0ZSIsInVucmVsYXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFFQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztJQUVxQkEsZTs7Ozs7Ozs7NEJBRW5CQyxNLG1CQUFPQyxPLEVBQVNDLEssRUFBTztBQUNyQixXQUFPLHFDQUEyQixRQUEzQixFQUFxQztBQUMxQ0MsZ0JBQVUsSUFEZ0M7QUFFMUNELGFBQU9BO0FBRm1DLEtBQXJDLENBQVA7QUFJRCxHOzs0QkFFREUsTSxtQkFBT0gsTyxFQUFTQyxLLEVBQU87QUFDckIsV0FBTyxxQ0FBMkIsUUFBM0IsRUFBcUM7QUFDMUNDLGdCQUFVLElBRGdDO0FBRTFDRCxhQUFPQTtBQUZtQyxLQUFyQyxDQUFQO0FBSUQsRzs7NEJBRURHLFEscUJBQVNKLE8sRUFBU0MsSyxFQUFPO0FBQ3ZCLFdBQU8sdUNBQTZCLFVBQTdCLEVBQXlDO0FBQzlDQyxnQkFBVSxJQURvQztBQUU5Q0QsYUFBT0E7QUFGdUMsS0FBekMsQ0FBUDtBQUlELEc7Ozs7O2tCQXJCa0JILGUiLCJmaWxlIjoiSGFzTWFueVJlbGF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlbGF0aW9uIGZyb20gJy4uL1JlbGF0aW9uJztcblxuaW1wb3J0IEhhc01hbnlJbnNlcnRPcGVyYXRpb24gZnJvbSAnLi9IYXNNYW55SW5zZXJ0T3BlcmF0aW9uJztcbmltcG9ydCBIYXNNYW55UmVsYXRlT3BlcmF0aW9uIGZyb20gJy4vSGFzTWFueVJlbGF0ZU9wZXJhdGlvbic7XG5pbXBvcnQgSGFzTWFueVVucmVsYXRlT3BlcmF0aW9uIGZyb20gJy4vSGFzTWFueVVucmVsYXRlT3BlcmF0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGFzTWFueVJlbGF0aW9uIGV4dGVuZHMgUmVsYXRpb24ge1xuXG4gIGluc2VydChidWlsZGVyLCBvd25lcikge1xuICAgIHJldHVybiBuZXcgSGFzTWFueUluc2VydE9wZXJhdGlvbignaW5zZXJ0Jywge1xuICAgICAgcmVsYXRpb246IHRoaXMsXG4gICAgICBvd25lcjogb3duZXJcbiAgICB9KTtcbiAgfVxuXG4gIHJlbGF0ZShidWlsZGVyLCBvd25lcikge1xuICAgIHJldHVybiBuZXcgSGFzTWFueVJlbGF0ZU9wZXJhdGlvbigncmVsYXRlJywge1xuICAgICAgcmVsYXRpb246IHRoaXMsXG4gICAgICBvd25lcjogb3duZXJcbiAgICB9KTtcbiAgfVxuXG4gIHVucmVsYXRlKGJ1aWxkZXIsIG93bmVyKSB7XG4gICAgcmV0dXJuIG5ldyBIYXNNYW55VW5yZWxhdGVPcGVyYXRpb24oJ3VucmVsYXRlJywge1xuICAgICAgcmVsYXRpb246IHRoaXMsXG4gICAgICBvd25lcjogb3duZXJcbiAgICB9KTtcbiAgfVxufVxuXG4iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/relations/Relation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _getOwnPropertyDescriptor = require('babel-runtime/core-js/object/get-own-property-descriptor');\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nvar _create = require('babel-runtime/core-js/object/create');\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _desc, _value, _class;\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _memoize = require('../utils/decorators/memoize');\n\nvar _memoize2 = _interopRequireDefault(_memoize);\n\nvar _classUtils = require('../utils/classUtils');\n\nvar _hiddenData = require('../utils/hiddenData');\n\nvar _QueryBuilder = require('../queryBuilder/QueryBuilder');\n\nvar _QueryBuilder2 = _interopRequireDefault(_QueryBuilder);\n\nvar _RelationFindOperation = require('./RelationFindOperation');\n\nvar _RelationFindOperation2 = _interopRequireDefault(_RelationFindOperation);\n\nvar _RelationUpdateOperation = require('./RelationUpdateOperation');\n\nvar _RelationUpdateOperation2 = _interopRequireDefault(_RelationUpdateOperation);\n\nvar _RelationDeleteOperation = require('./RelationDeleteOperation');\n\nvar _RelationDeleteOperation2 = _interopRequireDefault(_RelationDeleteOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/**\n * @typedef {Object} RelationJoin\n\n * @property {string|Array.<string>} from\n * @property {string|Array.<string>} to\n * @property {Object} through\n * @property {Constructor.<Model>} through.modelClass\n * @property {string|Array.<string>} through.from\n * @property {string|Array.<string>} through.to\n * @property {Array.<string>} through.extra\n */\n\n/**\n * @typedef {Object} RelationMapping\n *\n * @property {Constructor.<Model>|string} modelClass\n * @property {Relation} relation\n * @property {Object|function(QueryBuilder)} modify\n * @property {Object|function(QueryBuilder)} filter\n * @property {RelationJoin} [join]\n */\n\n/**\n * @abstract\n */\nvar Relation = (_class = function () {\n  function Relation(relationName, OwnerClass) {\n    (0, _classCallCheck3.default)(this, Relation);\n\n    /**\n     * @type {string}\n     */\n    this.name = relationName;\n\n    /**\n     * @type {Constructor.<Model>}\n     */\n    this.ownerModelClass = OwnerClass;\n\n    /**\n     * @type {Constructor.<Model>}\n     */\n    this.relatedModelClass = null;\n\n    /**\n     * @type {Constructor.<Model>}\n     */\n    this._joinTableModelClass = null;\n\n    /**\n     * @type {Array.<string>}\n     */\n    this.ownerCol = null;\n\n    /**\n     * @type {Array.<string>}\n     */\n    this.ownerProp = null;\n\n    /**\n     * @type {Array.<string>}\n     */\n    this.relatedCol = null;\n\n    /**\n     * @type {Array.<string>}\n     */\n    this.relatedProp = null;\n\n    /**\n     * @type {string}\n     */\n    this.joinTable = null;\n\n    /**\n     * @type {Array.<string>}\n     */\n    this.joinTableOwnerCol = null;\n\n    /**\n     * @type {Array.<string>}\n     */\n    this.joinTableOwnerProp = null;\n\n    /**\n     * @type {Array.<string>}\n     */\n    this.joinTableRelatedCol = null;\n\n    /**\n     * @type {Array.<string>}\n     */\n    this.joinTableRelatedProp = null;\n\n    /**\n     * @type {Array.<{joinTableCol: string, joinTableProp: string, aliasCol: string, aliasProp: string}>}\n     */\n    this.joinTableExtras = [];\n\n    /**\n     * @type {function (QueryBuilder)}\n     */\n    this.modify = null;\n\n    (0, _hiddenData.init)(this);\n  }\n\n  /**\n   * @param {function=} subclassConstructor\n   * @return {Constructor.<Model>}\n   */\n\n\n  Relation.extend = function extend(subclassConstructor) {\n    (0, _classUtils.inherits)(subclassConstructor, this);\n    return subclassConstructor;\n  };\n\n  /**\n   * @param {RelationMapping} mapping\n   */\n\n\n  Relation.prototype.setMapping = function setMapping(mapping) {\n    // Avoid require loop and import here.\n    var Model = require(__dirname + '/../model/Model').default;\n\n    if (!(0, _classUtils.isSubclassOf)(this.ownerModelClass, Model)) {\n      this.throwError('Relation\\'s owner is not a subclass of Model');\n    }\n\n    if (!mapping.modelClass) {\n      this.throwError('modelClass is not defined');\n    }\n\n    this.relatedModelClass = this.resolveModel(Model, mapping.modelClass, 'modelClass');\n\n    if (!mapping.relation) {\n      this.throwError('relation is not defined');\n    }\n\n    if (!(0, _classUtils.isSubclassOf)(mapping.relation, Relation)) {\n      this.throwError('relation is not a subclass of Relation');\n    }\n\n    if (!mapping.join || !mapping.join.from || !mapping.join.to) {\n      this.throwError('join must be an object that maps the columns of the related models together. For example: {from: \"SomeTable.id\", to: \"SomeOtherTable.someModelId\"}');\n    }\n\n    var joinOwner = null;\n    var joinRelated = null;\n\n    var joinFrom = this.parseReference(mapping.join.from);\n    var joinTo = this.parseReference(mapping.join.to);\n\n    if (!joinFrom.table || _lodash2.default.isEmpty(joinFrom.columns)) {\n      this.throwError('join.from must have format TableName.columnName. For example \"SomeTable.id\" or in case of composite key [\"SomeTable.a\", \"SomeTable.b\"].');\n    }\n\n    if (!joinTo.table || _lodash2.default.isEmpty(joinTo.columns)) {\n      this.throwError('join.to must have format TableName.columnName. For example \"SomeTable.id\" or in case of composite key [\"SomeTable.a\", \"SomeTable.b\"].');\n    }\n\n    if (joinFrom.table === this.ownerModelClass.tableName) {\n      joinOwner = joinFrom;\n      joinRelated = joinTo;\n    } else if (joinTo.table === this.ownerModelClass.tableName) {\n      joinOwner = joinTo;\n      joinRelated = joinFrom;\n    } else {\n      this.throwError('join: either `from` or `to` must point to the owner model table.');\n    }\n\n    if (joinRelated.table !== this.relatedModelClass.tableName) {\n      this.throwError('join: either `from` or `to` must point to the related model table.');\n    }\n\n    this.ownerCol = joinOwner.columns;\n    this.ownerProp = this.propertyName(this.ownerCol, this.ownerModelClass);\n    this.relatedCol = joinRelated.columns;\n    this.relatedProp = this.propertyName(this.relatedCol, this.relatedModelClass);\n    this.modify = this.parseModify(mapping);\n  };\n\n  /**\n   * @return {boolean}\n   */\n\n\n  Relation.prototype.isOneToOne = function isOneToOne() {\n    return false;\n  };\n\n  /**\n   * @type {Constructor.<Model>}\n   */\n\n\n  Relation.prototype.joinTableModelClass = function joinTableModelClass(knex) {\n    if (knex && knex !== this._joinTableModelClass.knex()) {\n      return this._joinTableModelClass.bindKnex(knex);\n    } else {\n      return this._joinTableModelClass;\n    }\n  };\n\n  /**\n   * @returns {Array.<string>}\n   */\n\n\n  Relation.prototype.fullRelatedCol = function fullRelatedCol() {\n    var _this = this;\n\n    return this.relatedCol.map(function (col) {\n      return _this.relatedModelClass.tableName + '.' + col;\n    });\n  };\n\n  /**\n   * @returns {Array.<string>}\n   */\n\n\n  Relation.prototype.fullOwnerCol = function fullOwnerCol() {\n    var _this2 = this;\n\n    return this.ownerCol.map(function (col) {\n      return _this2.ownerModelClass.tableName + '.' + col;\n    });\n  };\n\n  /**\n   * @returns {string}\n   */\n\n\n  Relation.prototype.relatedTableAlias = function relatedTableAlias() {\n    return this.relatedModelClass.tableName + '_rel_' + this.name;\n  };\n\n  /**\n   * @returns {Relation}\n   */\n\n\n  Relation.prototype.clone = function clone() {\n    var relation = new this.constructor(this.name, this.ownerModelClass);\n\n    relation.relatedModelClass = this.relatedModelClass;\n    relation.ownerCol = this.ownerCol;\n    relation.ownerProp = this.ownerProp;\n    relation.relatedCol = this.relatedCol;\n    relation.relatedProp = this.relatedProp;\n    relation.modify = this.modify;\n\n    relation._joinTableModelClass = this._joinTableModelClass;\n    relation.joinTable = this.joinTable;\n    relation.joinTableOwnerCol = this.joinTableOwnerCol;\n    relation.joinTableOwnerProp = this.joinTableOwnerProp;\n    relation.joinTableRelatedCol = this.joinTableRelatedCol;\n    relation.joinTableRelatedProp = this.joinTableRelatedProp;\n    relation.joinTableExtras = this.joinTableExtras;\n\n    (0, _hiddenData.copyHiddenData)(this, relation);\n\n    return relation;\n  };\n\n  /**\n   * @param {knex} knex\n   * @returns {Relation}\n   */\n\n\n  Relation.prototype.bindKnex = function bindKnex(knex) {\n    var bound = this.clone();\n\n    bound.relatedModelClass = this.relatedModelClass.bindKnex(knex);\n    bound.ownerModelClass = this.ownerModelClass.bindKnex(knex);\n\n    return bound;\n  };\n\n  /**\n   * @param {QueryBuilder} builder\n   * @param {object} opt\n   * @param {Array.<string>|Array.<Array.<(string|number)>>} opt.ownerIds\n   * @param {boolean=} opt.isColumnRef\n   * @returns {QueryBuilder}\n   */\n\n\n  Relation.prototype.findQuery = function findQuery(builder, opt) {\n    var fullRelatedCol = this.fullRelatedCol();\n\n    if (opt.isColumnRef) {\n      for (var i = 0, l = fullRelatedCol.length; i < l; ++i) {\n        builder.whereRef(fullRelatedCol[i], opt.ownerIds[i]);\n      }\n    } else if (containsNonNull(opt.ownerIds)) {\n      builder.whereInComposite(fullRelatedCol, opt.ownerIds);\n    } else {\n      builder.resolve([]);\n    }\n\n    return builder.modify(this.modify);\n  };\n\n  /**\n   * @param {QueryBuilder} builder\n   * @param {object=} opt\n   * @returns {QueryBuilder}\n   */\n\n\n  Relation.prototype.join = function join(builder, opt) {\n    opt = opt || {};\n\n    opt.joinOperation = opt.joinOperation || 'join';\n    opt.relatedTableAlias = opt.relatedTableAlias || this.relatedTableAlias();\n    opt.relatedJoinSelectQuery = opt.relatedJoinSelectQuery || this.relatedModelClass.query().childQueryOf(builder);\n    opt.relatedTable = opt.relatedTable || this.relatedModelClass.tableName;\n    opt.ownerTable = opt.ownerTable || this.ownerModelClass.tableName;\n\n    var relatedCol = this.relatedCol.map(function (col) {\n      return opt.relatedTableAlias + '.' + col;\n    });\n    var ownerCol = this.ownerCol.map(function (col) {\n      return opt.ownerTable + '.' + col;\n    });\n\n    var relatedSelect = opt.relatedJoinSelectQuery.modify(this.modify).as(opt.relatedTableAlias);\n\n    if (relatedSelect.isSelectAll()) {\n      // No need to join a subquery if the query is `select * from \"RelatedTable\"`.\n      relatedSelect = this.relatedModelClass.tableName + ' as ' + opt.relatedTableAlias;\n    }\n\n    return builder[opt.joinOperation](relatedSelect, function (join) {\n      for (var i = 0, l = relatedCol.length; i < l; ++i) {\n        join.on(relatedCol[i], '=', ownerCol[i]);\n      }\n    });\n  };\n\n  /* istanbul ignore next */\n  /**\n   * @abstract\n   * @param {QueryBuilder} builder\n   * @param {Model} owner\n   * @returns {QueryBuilderOperation}\n   */\n\n\n  Relation.prototype.insert = function insert(builder, owner) {\n    this.throwError('not implemented');\n  };\n\n  /**\n   * @param {QueryBuilder} builder\n   * @param {Model} owner\n   * @returns {QueryBuilderOperation}\n   */\n\n\n  Relation.prototype.update = function update(builder, owner) {\n    return new _RelationUpdateOperation2.default('update', {\n      relation: this,\n      owner: owner\n    });\n  };\n\n  /**\n   * @param {QueryBuilder} builder\n   * @param {Model} owner\n   * @returns {QueryBuilderOperation}\n   */\n\n\n  Relation.prototype.patch = function patch(builder, owner) {\n    return new _RelationUpdateOperation2.default('patch', {\n      relation: this,\n      owner: owner,\n      modelOptions: { patch: true }\n    });\n  };\n\n  /**\n   * @param {QueryBuilder} builder\n   * @param {Array.<Model>} owners\n   * @returns {QueryBuilderOperation}\n   */\n\n\n  Relation.prototype.find = function find(builder, owners) {\n    return new _RelationFindOperation2.default('find', {\n      relation: this,\n      owners: owners\n    });\n  };\n\n  /**\n   * @param {QueryBuilder} builder\n   * @param {Model} owner\n   * @returns {QueryBuilderOperation}\n   */\n\n\n  Relation.prototype.delete = function _delete(builder, owner) {\n    return new _RelationDeleteOperation2.default('delete', {\n      relation: this,\n      owner: owner\n    });\n  };\n\n  /* istanbul ignore next */\n  /**\n   * @abstract\n   * @param {QueryBuilder} builder\n   * @param {Model} owner\n   * @returns {QueryBuilderOperation}\n   */\n\n\n  Relation.prototype.relate = function relate(builder, owner) {\n    this.throwError('not implemented');\n  };\n\n  /* istanbul ignore next */\n  /**\n   * @abstract\n   * @param {QueryBuilder} builder\n   * @param {Model} owner\n   * @returns {QueryBuilderOperation}\n   */\n\n\n  Relation.prototype.unrelate = function unrelate(builder, owner) {\n    this.throwError('not implemented');\n  };\n\n  /**\n   * @protected\n   */\n\n\n  Relation.prototype.propertyName = function propertyName(columns, modelClass) {\n    var _this3 = this;\n\n    return columns.map(function (column) {\n      var propertyName = modelClass.columnNameToPropertyName(column);\n\n      if (!propertyName) {\n        throw new Error(modelClass.name + '.$parseDatabaseJson probably transforms the value of the column ' + column + '.' + ' This is a no-no because ' + column + ' is needed in the relation ' + _this3.ownerModelClass.tableName + '.' + _this3.name);\n      }\n\n      return propertyName;\n    });\n  };\n\n  /**\n   * @protected\n   */\n\n\n  Relation.prototype.parseModify = function parseModify(mapping) {\n    var modify = mapping.modify || mapping.filter;\n\n    if (_lodash2.default.isFunction(modify)) {\n      return modify;\n    } else if (_lodash2.default.isObject(modify)) {\n      return function (queryBuilder) {\n        queryBuilder.where(modify);\n      };\n    } else {\n      return _lodash2.default.noop;\n    }\n  };\n\n  /**\n   * @protected\n   */\n\n\n  Relation.prototype.parseReference = function parseReference(ref) {\n    if (!_lodash2.default.isArray(ref)) {\n      ref = [ref];\n    }\n\n    var table = null;\n    var columns = [];\n\n    for (var i = 0; i < ref.length; ++i) {\n      var refItem = ref[i];\n      var ndx = refItem.lastIndexOf('.');\n\n      var tableName = refItem.substr(0, ndx).trim();\n      var columnName = refItem.substr(ndx + 1, refItem.length).trim();\n\n      if (!tableName || table && table !== tableName || !columnName) {\n        return {\n          table: null,\n          columns: []\n        };\n      } else {\n        table = tableName;\n      }\n\n      columns.push(columnName);\n    }\n\n    return {\n      table: table,\n      columns: columns\n    };\n  };\n\n  /**\n   * @protected\n   */\n\n\n  Relation.prototype.mergeModels = function mergeModels(models1, models2) {\n    var modelClass = void 0;\n\n    models1 = _lodash2.default.compact(models1);\n    models2 = _lodash2.default.compact(models2);\n\n    if (_lodash2.default.isEmpty(models1) && _lodash2.default.isEmpty(models2)) {\n      return [];\n    }\n\n    if (!_lodash2.default.isEmpty(models1)) {\n      modelClass = models1[0].constructor;\n    } else {\n      modelClass = models2[0].constructor;\n    }\n\n    var idProperty = modelClass.getIdPropertyArray();\n    var modelsById = (0, _create2.default)(null);\n\n    for (var i = 0, l = models1.length; i < l; ++i) {\n      var model = models1[i];\n      var key = model.$propKey(idProperty);\n\n      modelsById[key] = model;\n    }\n\n    for (var _i = 0, _l = models2.length; _i < _l; ++_i) {\n      var _model = models2[_i];\n      var _key = _model.$propKey(idProperty);\n\n      modelsById[_key] = _model;\n    }\n\n    return _lodash2.default.sortBy(_lodash2.default.values(modelsById), idProperty);\n  };\n\n  /**\n   * @protected\n   */\n\n\n  Relation.prototype.resolveModel = function resolveModel(Model, modelClass, logPrefix) {\n    var requireModel = function requireModel(path) {\n      var ModelClass = void 0;\n\n      try {\n        // babel 6 style of exposing es6 exports to commonjs https://github.com/babel/babel/issues/2683\n        var module = require(path);\n\n        ModelClass = (0, _classUtils.isSubclassOf)(module.default, Model) ? module.default : module;\n      } catch (err) {\n        return null;\n      }\n\n      if (!(0, _classUtils.isSubclassOf)(ModelClass, Model)) {\n        return null;\n      }\n\n      return ModelClass;\n    };\n\n    if (_lodash2.default.isString(modelClass)) {\n      var ModelClass = null;\n\n      if (isAbsolutePath(modelClass)) {\n        ModelClass = requireModel(modelClass);\n      } else {\n        // If the path is not a absolute, try the modelPaths of the owner model class.\n        _lodash2.default.each(this.ownerModelClass.modelPaths, function (modelPath) {\n          ModelClass = requireModel(_path2.default.join(modelPath, modelClass));\n\n          if ((0, _classUtils.isSubclassOf)(ModelClass, Model)) {\n            // Break the loop.\n            return false;\n          }\n        });\n      }\n\n      if (!(0, _classUtils.isSubclassOf)(ModelClass, Model)) {\n        this.throwError(logPrefix + ': ' + modelClass + ' is an invalid file path to a model class');\n      }\n\n      return ModelClass;\n    } else {\n      if (!(0, _classUtils.isSubclassOf)(modelClass, Model)) {\n        this.throwError(logPrefix + ' is not a subclass of Model or a file path to a module that exports one.');\n      }\n\n      return modelClass;\n    }\n  };\n\n  /**\n   * @protected\n   */\n\n\n  Relation.prototype.throwError = function throwError(message) {\n    if (this.ownerModelClass && this.ownerModelClass.name && this.name) {\n      throw new Error(this.ownerModelClass.name + '.relationMappings.' + this.name + ': ' + message);\n    } else {\n      throw new Error(this.constructor.name + ': ' + message);\n    }\n  };\n\n  return Relation;\n}(), (_applyDecoratedDescriptor(_class.prototype, 'fullRelatedCol', [_memoize2.default], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'fullRelatedCol'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'fullOwnerCol', [_memoize2.default], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'fullOwnerCol'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'relatedTableAlias', [_memoize2.default], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'relatedTableAlias'), _class.prototype)), _class);\nexports.default = Relation;\n\n\nfunction isAbsolutePath(pth) {\n  return _path2.default.normalize(pth + '/') === _path2.default.normalize(_path2.default.resolve(pth) + '/');\n}\n\nfunction containsNonNull(arr) {\n  for (var i = 0, l = arr.length; i < l; ++i) {\n    var val = arr[i];\n\n    if (Array.isArray(val) && containsNonNull(val)) {\n      return true;\n    } else if (val !== null && val !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlbGF0aW9uLmpzIl0sIm5hbWVzIjpbIlJlbGF0aW9uIiwicmVsYXRpb25OYW1lIiwiT3duZXJDbGFzcyIsIm5hbWUiLCJvd25lck1vZGVsQ2xhc3MiLCJyZWxhdGVkTW9kZWxDbGFzcyIsIl9qb2luVGFibGVNb2RlbENsYXNzIiwib3duZXJDb2wiLCJvd25lclByb3AiLCJyZWxhdGVkQ29sIiwicmVsYXRlZFByb3AiLCJqb2luVGFibGUiLCJqb2luVGFibGVPd25lckNvbCIsImpvaW5UYWJsZU93bmVyUHJvcCIsImpvaW5UYWJsZVJlbGF0ZWRDb2wiLCJqb2luVGFibGVSZWxhdGVkUHJvcCIsImpvaW5UYWJsZUV4dHJhcyIsIm1vZGlmeSIsImV4dGVuZCIsInN1YmNsYXNzQ29uc3RydWN0b3IiLCJzZXRNYXBwaW5nIiwibWFwcGluZyIsIk1vZGVsIiwicmVxdWlyZSIsIl9fZGlybmFtZSIsImRlZmF1bHQiLCJ0aHJvd0Vycm9yIiwibW9kZWxDbGFzcyIsInJlc29sdmVNb2RlbCIsInJlbGF0aW9uIiwiam9pbiIsImZyb20iLCJ0byIsImpvaW5Pd25lciIsImpvaW5SZWxhdGVkIiwiam9pbkZyb20iLCJwYXJzZVJlZmVyZW5jZSIsImpvaW5UbyIsInRhYmxlIiwiaXNFbXB0eSIsImNvbHVtbnMiLCJ0YWJsZU5hbWUiLCJwcm9wZXJ0eU5hbWUiLCJwYXJzZU1vZGlmeSIsImlzT25lVG9PbmUiLCJqb2luVGFibGVNb2RlbENsYXNzIiwia25leCIsImJpbmRLbmV4IiwiZnVsbFJlbGF0ZWRDb2wiLCJtYXAiLCJjb2wiLCJmdWxsT3duZXJDb2wiLCJyZWxhdGVkVGFibGVBbGlhcyIsImNsb25lIiwiY29uc3RydWN0b3IiLCJib3VuZCIsImZpbmRRdWVyeSIsImJ1aWxkZXIiLCJvcHQiLCJpc0NvbHVtblJlZiIsImkiLCJsIiwibGVuZ3RoIiwid2hlcmVSZWYiLCJvd25lcklkcyIsImNvbnRhaW5zTm9uTnVsbCIsIndoZXJlSW5Db21wb3NpdGUiLCJyZXNvbHZlIiwiam9pbk9wZXJhdGlvbiIsInJlbGF0ZWRKb2luU2VsZWN0UXVlcnkiLCJxdWVyeSIsImNoaWxkUXVlcnlPZiIsInJlbGF0ZWRUYWJsZSIsIm93bmVyVGFibGUiLCJyZWxhdGVkU2VsZWN0IiwiYXMiLCJpc1NlbGVjdEFsbCIsIm9uIiwiaW5zZXJ0Iiwib3duZXIiLCJ1cGRhdGUiLCJwYXRjaCIsIm1vZGVsT3B0aW9ucyIsImZpbmQiLCJvd25lcnMiLCJkZWxldGUiLCJyZWxhdGUiLCJ1bnJlbGF0ZSIsImNvbHVtbk5hbWVUb1Byb3BlcnR5TmFtZSIsImNvbHVtbiIsIkVycm9yIiwiZmlsdGVyIiwiaXNGdW5jdGlvbiIsImlzT2JqZWN0IiwicXVlcnlCdWlsZGVyIiwid2hlcmUiLCJub29wIiwicmVmIiwiaXNBcnJheSIsInJlZkl0ZW0iLCJuZHgiLCJsYXN0SW5kZXhPZiIsInN1YnN0ciIsInRyaW0iLCJjb2x1bW5OYW1lIiwicHVzaCIsIm1lcmdlTW9kZWxzIiwibW9kZWxzMSIsIm1vZGVsczIiLCJjb21wYWN0IiwiaWRQcm9wZXJ0eSIsImdldElkUHJvcGVydHlBcnJheSIsIm1vZGVsc0J5SWQiLCJtb2RlbCIsImtleSIsIiRwcm9wS2V5Iiwic29ydEJ5IiwidmFsdWVzIiwibG9nUHJlZml4IiwicmVxdWlyZU1vZGVsIiwicGF0aCIsIk1vZGVsQ2xhc3MiLCJtb2R1bGUiLCJlcnIiLCJpc1N0cmluZyIsImlzQWJzb2x1dGVQYXRoIiwiZWFjaCIsIm1vZGVsUGF0aHMiLCJtb2RlbFBhdGgiLCJtZXNzYWdlIiwicHRoIiwibm9ybWFsaXplIiwiYXJyIiwidmFsIiwiQXJyYXkiLCJ1bmRlZmluZWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUE7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOzs7Ozs7Ozs7Ozs7QUFZQTs7Ozs7Ozs7OztBQVVB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b0U7QUFDbEUsWUFBTSxJQUFJdUYsS0FBSixDQUFhLEtBQUt0RixlQUFMLENBQXFCRCxJQUFsQywwQkFBMkQsS0FBS0EsSUFBaEUsVUFBeUU4SCxPQUF6RSxDQUFOO0FBQ0QsS0FGRCxNQUVPO0FBQ0wsWUFBTSxJQUFJdkMsS0FBSixDQUFhLEtBQUtwQyxXQUFMLENBQWlCbkQsSUFBOUIsVUFBdUM4SCxPQUF2QyxDQUFOO0FBQ0Q7QUFDRixHOzs7O2tCQXJpQmtCakksUTs7O0FBd2lCckIsU0FBUzZILGNBQVQsQ0FBd0JLLEdBQXhCLEVBQTZCO0FBQzNCLFNBQU8sZUFBS0MsU0FBTCxDQUFlRCxNQUFNLEdBQXJCLE1BQThCLGVBQUtDLFNBQUwsQ0FBZSxlQUFLaEUsT0FBTCxDQUFhK0QsR0FBYixJQUFvQixHQUFuQyxDQUFyQztBQUNEOztBQUVELFNBQVNqRSxlQUFULENBQXlCbUUsR0FBekIsRUFBOEI7QUFDNUIsT0FBSyxJQUFJeEUsSUFBSSxDQUFSLEVBQVdDLElBQUl1RSxJQUFJdEUsTUFBeEIsRUFBZ0NGLElBQUlDLENBQXBDLEVBQXVDLEVBQUVELENBQXpDLEVBQTRDO0FBQzFDLFFBQU15RSxNQUFNRCxJQUFJeEUsQ0FBSixDQUFaOztBQUVBLFFBQUkwRSxNQUFNcEMsT0FBTixDQUFjbUMsR0FBZCxLQUFzQnBFLGdCQUFnQm9FLEdBQWhCLENBQTFCLEVBQWdEO0FBQzlDLGFBQU8sSUFBUDtBQUNELEtBRkQsTUFFTyxJQUFJQSxRQUFRLElBQVIsSUFBZ0JBLFFBQVFFLFNBQTVCLEVBQXVDO0FBQzVDLGFBQU8sSUFBUDtBQUNEO0FBQ0Y7O0FBRUQsU0FBTyxLQUFQO0FBQ0QiLCJmaWxlIjoiUmVsYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgbWVtb2l6ZSBmcm9tICcuLi91dGlscy9kZWNvcmF0b3JzL21lbW9pemUnO1xuaW1wb3J0IHtpbmhlcml0cywgaXNTdWJjbGFzc09mfSBmcm9tICcuLi91dGlscy9jbGFzc1V0aWxzJztcbmltcG9ydCB7aW5pdCwgY29weUhpZGRlbkRhdGF9IGZyb20gJy4uL3V0aWxzL2hpZGRlbkRhdGEnO1xuaW1wb3J0IFF1ZXJ5QnVpbGRlciBmcm9tICcuLi9xdWVyeUJ1aWxkZXIvUXVlcnlCdWlsZGVyJztcblxuaW1wb3J0IFJlbGF0aW9uRmluZE9wZXJhdGlvbiBmcm9tICcuL1JlbGF0aW9uRmluZE9wZXJhdGlvbic7XG5pbXBvcnQgUmVsYXRpb25VcGRhdGVPcGVyYXRpb24gZnJvbSAnLi9SZWxhdGlvblVwZGF0ZU9wZXJhdGlvbic7XG5pbXBvcnQgUmVsYXRpb25EZWxldGVPcGVyYXRpb24gZnJvbSAnLi9SZWxhdGlvbkRlbGV0ZU9wZXJhdGlvbic7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUmVsYXRpb25Kb2luXG5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfEFycmF5LjxzdHJpbmc+fSBmcm9tXG4gKiBAcHJvcGVydHkge3N0cmluZ3xBcnJheS48c3RyaW5nPn0gdG9cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSB0aHJvdWdoXG4gKiBAcHJvcGVydHkge0NvbnN0cnVjdG9yLjxNb2RlbD59IHRocm91Z2gubW9kZWxDbGFzc1xuICogQHByb3BlcnR5IHtzdHJpbmd8QXJyYXkuPHN0cmluZz59IHRocm91Z2guZnJvbVxuICogQHByb3BlcnR5IHtzdHJpbmd8QXJyYXkuPHN0cmluZz59IHRocm91Z2gudG9cbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPHN0cmluZz59IHRocm91Z2guZXh0cmFcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFJlbGF0aW9uTWFwcGluZ1xuICpcbiAqIEBwcm9wZXJ0eSB7Q29uc3RydWN0b3IuPE1vZGVsPnxzdHJpbmd9IG1vZGVsQ2xhc3NcbiAqIEBwcm9wZXJ0eSB7UmVsYXRpb259IHJlbGF0aW9uXG4gKiBAcHJvcGVydHkge09iamVjdHxmdW5jdGlvbihRdWVyeUJ1aWxkZXIpfSBtb2RpZnlcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fGZ1bmN0aW9uKFF1ZXJ5QnVpbGRlcil9IGZpbHRlclxuICogQHByb3BlcnR5IHtSZWxhdGlvbkpvaW59IFtqb2luXVxuICovXG5cbi8qKlxuICogQGFic3RyYWN0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbGF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcihyZWxhdGlvbk5hbWUsIE93bmVyQ2xhc3MpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMubmFtZSA9IHJlbGF0aW9uTmFtZTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtDb25zdHJ1Y3Rvci48TW9kZWw+fVxuICAgICAqL1xuICAgIHRoaXMub3duZXJNb2RlbENsYXNzID0gT3duZXJDbGFzcztcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtDb25zdHJ1Y3Rvci48TW9kZWw+fVxuICAgICAqL1xuICAgIHRoaXMucmVsYXRlZE1vZGVsQ2xhc3MgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0NvbnN0cnVjdG9yLjxNb2RlbD59XG4gICAgICovXG4gICAgdGhpcy5fam9pblRhYmxlTW9kZWxDbGFzcyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXkuPHN0cmluZz59XG4gICAgICovXG4gICAgdGhpcy5vd25lckNvbCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXkuPHN0cmluZz59XG4gICAgICovXG4gICAgdGhpcy5vd25lclByb3AgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5LjxzdHJpbmc+fVxuICAgICAqL1xuICAgIHRoaXMucmVsYXRlZENvbCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXkuPHN0cmluZz59XG4gICAgICovXG4gICAgdGhpcy5yZWxhdGVkUHJvcCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuam9pblRhYmxlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheS48c3RyaW5nPn1cbiAgICAgKi9cbiAgICB0aGlzLmpvaW5UYWJsZU93bmVyQ29sID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheS48c3RyaW5nPn1cbiAgICAgKi9cbiAgICB0aGlzLmpvaW5UYWJsZU93bmVyUHJvcCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXkuPHN0cmluZz59XG4gICAgICovXG4gICAgdGhpcy5qb2luVGFibGVSZWxhdGVkQ29sID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheS48c3RyaW5nPn1cbiAgICAgKi9cbiAgICB0aGlzLmpvaW5UYWJsZVJlbGF0ZWRQcm9wID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheS48e2pvaW5UYWJsZUNvbDogc3RyaW5nLCBqb2luVGFibGVQcm9wOiBzdHJpbmcsIGFsaWFzQ29sOiBzdHJpbmcsIGFsaWFzUHJvcDogc3RyaW5nfT59XG4gICAgICovXG4gICAgdGhpcy5qb2luVGFibGVFeHRyYXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtmdW5jdGlvbiAoUXVlcnlCdWlsZGVyKX1cbiAgICAgKi9cbiAgICB0aGlzLm1vZGlmeSA9IG51bGw7XG5cbiAgICBpbml0KHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb249fSBzdWJjbGFzc0NvbnN0cnVjdG9yXG4gICAqIEByZXR1cm4ge0NvbnN0cnVjdG9yLjxNb2RlbD59XG4gICAqL1xuICBzdGF0aWMgZXh0ZW5kKHN1YmNsYXNzQ29uc3RydWN0b3IpIHtcbiAgICBpbmhlcml0cyhzdWJjbGFzc0NvbnN0cnVjdG9yLCB0aGlzKTtcbiAgICByZXR1cm4gc3ViY2xhc3NDb25zdHJ1Y3RvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1JlbGF0aW9uTWFwcGluZ30gbWFwcGluZ1xuICAgKi9cbiAgc2V0TWFwcGluZyhtYXBwaW5nKSB7XG4gICAgLy8gQXZvaWQgcmVxdWlyZSBsb29wIGFuZCBpbXBvcnQgaGVyZS5cbiAgICBsZXQgTW9kZWwgPSByZXF1aXJlKF9fZGlybmFtZSArICcvLi4vbW9kZWwvTW9kZWwnKS5kZWZhdWx0O1xuXG4gICAgaWYgKCFpc1N1YmNsYXNzT2YodGhpcy5vd25lck1vZGVsQ2xhc3MsIE1vZGVsKSkge1xuICAgICAgdGhpcy50aHJvd0Vycm9yKCdSZWxhdGlvblxcJ3Mgb3duZXIgaXMgbm90IGEgc3ViY2xhc3Mgb2YgTW9kZWwnKTtcbiAgICB9XG5cbiAgICBpZiAoIW1hcHBpbmcubW9kZWxDbGFzcykge1xuICAgICAgdGhpcy50aHJvd0Vycm9yKCdtb2RlbENsYXNzIGlzIG5vdCBkZWZpbmVkJyk7XG4gICAgfVxuXG4gICAgdGhpcy5yZWxhdGVkTW9kZWxDbGFzcyA9IHRoaXMucmVzb2x2ZU1vZGVsKE1vZGVsLCBtYXBwaW5nLm1vZGVsQ2xhc3MsICdtb2RlbENsYXNzJyk7XG5cbiAgICBpZiAoIW1hcHBpbmcucmVsYXRpb24pIHtcbiAgICAgIHRoaXMudGhyb3dFcnJvcigncmVsYXRpb24gaXMgbm90IGRlZmluZWQnKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzU3ViY2xhc3NPZihtYXBwaW5nLnJlbGF0aW9uLCBSZWxhdGlvbikpIHtcbiAgICAgIHRoaXMudGhyb3dFcnJvcigncmVsYXRpb24gaXMgbm90IGEgc3ViY2xhc3Mgb2YgUmVsYXRpb24nKTtcbiAgICB9XG5cbiAgICBpZiAoIW1hcHBpbmcuam9pbiB8fCAhbWFwcGluZy5qb2luLmZyb20gfHwgIW1hcHBpbmcuam9pbi50bykge1xuICAgICAgdGhpcy50aHJvd0Vycm9yKCdqb2luIG11c3QgYmUgYW4gb2JqZWN0IHRoYXQgbWFwcyB0aGUgY29sdW1ucyBvZiB0aGUgcmVsYXRlZCBtb2RlbHMgdG9nZXRoZXIuIEZvciBleGFtcGxlOiB7ZnJvbTogXCJTb21lVGFibGUuaWRcIiwgdG86IFwiU29tZU90aGVyVGFibGUuc29tZU1vZGVsSWRcIn0nKTtcbiAgICB9XG5cbiAgICBsZXQgam9pbk93bmVyID0gbnVsbDtcbiAgICBsZXQgam9pblJlbGF0ZWQgPSBudWxsO1xuXG4gICAgbGV0IGpvaW5Gcm9tID0gdGhpcy5wYXJzZVJlZmVyZW5jZShtYXBwaW5nLmpvaW4uZnJvbSk7XG4gICAgbGV0IGpvaW5UbyA9IHRoaXMucGFyc2VSZWZlcmVuY2UobWFwcGluZy5qb2luLnRvKTtcblxuICAgIGlmICgham9pbkZyb20udGFibGUgfHwgXy5pc0VtcHR5KGpvaW5Gcm9tLmNvbHVtbnMpKSB7XG4gICAgICB0aGlzLnRocm93RXJyb3IoJ2pvaW4uZnJvbSBtdXN0IGhhdmUgZm9ybWF0IFRhYmxlTmFtZS5jb2x1bW5OYW1lLiBGb3IgZXhhbXBsZSBcIlNvbWVUYWJsZS5pZFwiIG9yIGluIGNhc2Ugb2YgY29tcG9zaXRlIGtleSBbXCJTb21lVGFibGUuYVwiLCBcIlNvbWVUYWJsZS5iXCJdLicpO1xuICAgIH1cblxuICAgIGlmICgham9pblRvLnRhYmxlIHx8IF8uaXNFbXB0eShqb2luVG8uY29sdW1ucykpIHtcbiAgICAgIHRoaXMudGhyb3dFcnJvcignam9pbi50byBtdXN0IGhhdmUgZm9ybWF0IFRhYmxlTmFtZS5jb2x1bW5OYW1lLiBGb3IgZXhhbXBsZSBcIlNvbWVUYWJsZS5pZFwiIG9yIGluIGNhc2Ugb2YgY29tcG9zaXRlIGtleSBbXCJTb21lVGFibGUuYVwiLCBcIlNvbWVUYWJsZS5iXCJdLicpO1xuICAgIH1cblxuICAgIGlmIChqb2luRnJvbS50YWJsZSA9PT0gdGhpcy5vd25lck1vZGVsQ2xhc3MudGFibGVOYW1lKSB7XG4gICAgICBqb2luT3duZXIgPSBqb2luRnJvbTtcbiAgICAgIGpvaW5SZWxhdGVkID0gam9pblRvO1xuICAgIH0gZWxzZSBpZiAoam9pblRvLnRhYmxlID09PSB0aGlzLm93bmVyTW9kZWxDbGFzcy50YWJsZU5hbWUpIHtcbiAgICAgIGpvaW5Pd25lciA9IGpvaW5UbztcbiAgICAgIGpvaW5SZWxhdGVkID0gam9pbkZyb207XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudGhyb3dFcnJvcignam9pbjogZWl0aGVyIGBmcm9tYCBvciBgdG9gIG11c3QgcG9pbnQgdG8gdGhlIG93bmVyIG1vZGVsIHRhYmxlLicpO1xuICAgIH1cblxuICAgIGlmIChqb2luUmVsYXRlZC50YWJsZSAhPT0gdGhpcy5yZWxhdGVkTW9kZWxDbGFzcy50YWJsZU5hbWUpIHtcbiAgICAgIHRoaXMudGhyb3dFcnJvcignam9pbjogZWl0aGVyIGBmcm9tYCBvciBgdG9gIG11c3QgcG9pbnQgdG8gdGhlIHJlbGF0ZWQgbW9kZWwgdGFibGUuJyk7XG4gICAgfVxuXG4gICAgdGhpcy5vd25lckNvbCA9IGpvaW5Pd25lci5jb2x1bW5zO1xuICAgIHRoaXMub3duZXJQcm9wID0gdGhpcy5wcm9wZXJ0eU5hbWUodGhpcy5vd25lckNvbCwgdGhpcy5vd25lck1vZGVsQ2xhc3MpO1xuICAgIHRoaXMucmVsYXRlZENvbCA9IGpvaW5SZWxhdGVkLmNvbHVtbnM7XG4gICAgdGhpcy5yZWxhdGVkUHJvcCA9IHRoaXMucHJvcGVydHlOYW1lKHRoaXMucmVsYXRlZENvbCwgdGhpcy5yZWxhdGVkTW9kZWxDbGFzcyk7XG4gICAgdGhpcy5tb2RpZnkgPSB0aGlzLnBhcnNlTW9kaWZ5KG1hcHBpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBpc09uZVRvT25lKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAdHlwZSB7Q29uc3RydWN0b3IuPE1vZGVsPn1cbiAgICovXG4gIGpvaW5UYWJsZU1vZGVsQ2xhc3Moa25leCkge1xuICAgIGlmIChrbmV4ICYmIGtuZXggIT09IHRoaXMuX2pvaW5UYWJsZU1vZGVsQ2xhc3Mua25leCgpKSB7XG4gICAgICByZXR1cm4gdGhpcy5fam9pblRhYmxlTW9kZWxDbGFzcy5iaW5kS25leChrbmV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuX2pvaW5UYWJsZU1vZGVsQ2xhc3M7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtBcnJheS48c3RyaW5nPn1cbiAgICovXG4gIEBtZW1vaXplXG4gIGZ1bGxSZWxhdGVkQ29sKCkge1xuICAgIHJldHVybiB0aGlzLnJlbGF0ZWRDb2wubWFwKGNvbCA9PiB0aGlzLnJlbGF0ZWRNb2RlbENsYXNzLnRhYmxlTmFtZSArICcuJyArIGNvbCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge0FycmF5LjxzdHJpbmc+fVxuICAgKi9cbiAgQG1lbW9pemVcbiAgZnVsbE93bmVyQ29sKCkge1xuICAgIHJldHVybiB0aGlzLm93bmVyQ29sLm1hcChjb2wgPT4gdGhpcy5vd25lck1vZGVsQ2xhc3MudGFibGVOYW1lICsgJy4nICsgY29sKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgQG1lbW9pemVcbiAgcmVsYXRlZFRhYmxlQWxpYXMoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVsYXRlZE1vZGVsQ2xhc3MudGFibGVOYW1lICsgJ19yZWxfJyArIHRoaXMubmFtZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UmVsYXRpb259XG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICBjb25zdCByZWxhdGlvbiA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMubmFtZSwgdGhpcy5vd25lck1vZGVsQ2xhc3MpO1xuXG4gICAgcmVsYXRpb24ucmVsYXRlZE1vZGVsQ2xhc3MgPSB0aGlzLnJlbGF0ZWRNb2RlbENsYXNzO1xuICAgIHJlbGF0aW9uLm93bmVyQ29sID0gdGhpcy5vd25lckNvbDtcbiAgICByZWxhdGlvbi5vd25lclByb3AgPSB0aGlzLm93bmVyUHJvcDtcbiAgICByZWxhdGlvbi5yZWxhdGVkQ29sID0gdGhpcy5yZWxhdGVkQ29sO1xuICAgIHJlbGF0aW9uLnJlbGF0ZWRQcm9wID0gdGhpcy5yZWxhdGVkUHJvcDtcbiAgICByZWxhdGlvbi5tb2RpZnkgPSB0aGlzLm1vZGlmeTtcblxuICAgIHJlbGF0aW9uLl9qb2luVGFibGVNb2RlbENsYXNzID0gdGhpcy5fam9pblRhYmxlTW9kZWxDbGFzcztcbiAgICByZWxhdGlvbi5qb2luVGFibGUgPSB0aGlzLmpvaW5UYWJsZTtcbiAgICByZWxhdGlvbi5qb2luVGFibGVPd25lckNvbCA9IHRoaXMuam9pblRhYmxlT3duZXJDb2w7XG4gICAgcmVsYXRpb24uam9pblRhYmxlT3duZXJQcm9wID0gdGhpcy5qb2luVGFibGVPd25lclByb3A7XG4gICAgcmVsYXRpb24uam9pblRhYmxlUmVsYXRlZENvbCA9IHRoaXMuam9pblRhYmxlUmVsYXRlZENvbDtcbiAgICByZWxhdGlvbi5qb2luVGFibGVSZWxhdGVkUHJvcCA9IHRoaXMuam9pblRhYmxlUmVsYXRlZFByb3A7XG4gICAgcmVsYXRpb24uam9pblRhYmxlRXh0cmFzID0gdGhpcy5qb2luVGFibGVFeHRyYXM7XG5cbiAgICBjb3B5SGlkZGVuRGF0YSh0aGlzLCByZWxhdGlvbik7XG5cbiAgICByZXR1cm4gcmVsYXRpb247XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtrbmV4fSBrbmV4XG4gICAqIEByZXR1cm5zIHtSZWxhdGlvbn1cbiAgICovXG4gIGJpbmRLbmV4KGtuZXgpIHtcbiAgICBjb25zdCBib3VuZCA9IHRoaXMuY2xvbmUoKTtcblxuICAgIGJvdW5kLnJlbGF0ZWRNb2RlbENsYXNzID0gdGhpcy5yZWxhdGVkTW9kZWxDbGFzcy5iaW5kS25leChrbmV4KTtcbiAgICBib3VuZC5vd25lck1vZGVsQ2xhc3MgPSB0aGlzLm93bmVyTW9kZWxDbGFzcy5iaW5kS25leChrbmV4KTtcblxuICAgIHJldHVybiBib3VuZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1F1ZXJ5QnVpbGRlcn0gYnVpbGRlclxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0XG4gICAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZz58QXJyYXkuPEFycmF5Ljwoc3RyaW5nfG51bWJlcik+Pn0gb3B0Lm93bmVySWRzXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdC5pc0NvbHVtblJlZlxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgZmluZFF1ZXJ5KGJ1aWxkZXIsIG9wdCkge1xuICAgIGNvbnN0IGZ1bGxSZWxhdGVkQ29sID0gdGhpcy5mdWxsUmVsYXRlZENvbCgpO1xuXG4gICAgaWYgKG9wdC5pc0NvbHVtblJlZikge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBmdWxsUmVsYXRlZENvbC5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgYnVpbGRlci53aGVyZVJlZihmdWxsUmVsYXRlZENvbFtpXSwgb3B0Lm93bmVySWRzW2ldKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNvbnRhaW5zTm9uTnVsbChvcHQub3duZXJJZHMpKSB7XG4gICAgICBidWlsZGVyLndoZXJlSW5Db21wb3NpdGUoZnVsbFJlbGF0ZWRDb2wsIG9wdC5vd25lcklkcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1aWxkZXIucmVzb2x2ZShbXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJ1aWxkZXIubW9kaWZ5KHRoaXMubW9kaWZ5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1F1ZXJ5QnVpbGRlcn0gYnVpbGRlclxuICAgKiBAcGFyYW0ge29iamVjdD19IG9wdFxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyfVxuICAgKi9cbiAgam9pbihidWlsZGVyLCBvcHQpIHtcbiAgICBvcHQgPSBvcHQgfHwge307XG5cbiAgICBvcHQuam9pbk9wZXJhdGlvbiA9IG9wdC5qb2luT3BlcmF0aW9uIHx8ICdqb2luJztcbiAgICBvcHQucmVsYXRlZFRhYmxlQWxpYXMgPSBvcHQucmVsYXRlZFRhYmxlQWxpYXMgfHwgdGhpcy5yZWxhdGVkVGFibGVBbGlhcygpO1xuICAgIG9wdC5yZWxhdGVkSm9pblNlbGVjdFF1ZXJ5ID0gb3B0LnJlbGF0ZWRKb2luU2VsZWN0UXVlcnkgfHwgdGhpcy5yZWxhdGVkTW9kZWxDbGFzcy5xdWVyeSgpLmNoaWxkUXVlcnlPZihidWlsZGVyKTtcbiAgICBvcHQucmVsYXRlZFRhYmxlID0gb3B0LnJlbGF0ZWRUYWJsZSB8fCB0aGlzLnJlbGF0ZWRNb2RlbENsYXNzLnRhYmxlTmFtZTtcbiAgICBvcHQub3duZXJUYWJsZSA9IG9wdC5vd25lclRhYmxlIHx8IHRoaXMub3duZXJNb2RlbENsYXNzLnRhYmxlTmFtZTtcblxuICAgIGNvbnN0IHJlbGF0ZWRDb2wgPSB0aGlzLnJlbGF0ZWRDb2wubWFwKGNvbCA9PiBgJHtvcHQucmVsYXRlZFRhYmxlQWxpYXN9LiR7Y29sfWApO1xuICAgIGNvbnN0IG93bmVyQ29sID0gdGhpcy5vd25lckNvbC5tYXAoY29sID0+IGAke29wdC5vd25lclRhYmxlfS4ke2NvbH1gKTtcblxuICAgIGxldCByZWxhdGVkU2VsZWN0ID0gb3B0LnJlbGF0ZWRKb2luU2VsZWN0UXVlcnlcbiAgICAgIC5tb2RpZnkodGhpcy5tb2RpZnkpXG4gICAgICAuYXMob3B0LnJlbGF0ZWRUYWJsZUFsaWFzKTtcblxuICAgIGlmIChyZWxhdGVkU2VsZWN0LmlzU2VsZWN0QWxsKCkpIHtcbiAgICAgIC8vIE5vIG5lZWQgdG8gam9pbiBhIHN1YnF1ZXJ5IGlmIHRoZSBxdWVyeSBpcyBgc2VsZWN0ICogZnJvbSBcIlJlbGF0ZWRUYWJsZVwiYC5cbiAgICAgIHJlbGF0ZWRTZWxlY3QgPSBgJHt0aGlzLnJlbGF0ZWRNb2RlbENsYXNzLnRhYmxlTmFtZX0gYXMgJHtvcHQucmVsYXRlZFRhYmxlQWxpYXN9YFxuICAgIH1cblxuICAgIHJldHVybiBidWlsZGVyXG4gICAgICBbb3B0LmpvaW5PcGVyYXRpb25dKHJlbGF0ZWRTZWxlY3QsIGpvaW4gPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHJlbGF0ZWRDb2wubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgam9pbi5vbihyZWxhdGVkQ29sW2ldLCAnPScsIG93bmVyQ29sW2ldKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7UXVlcnlCdWlsZGVyfSBidWlsZGVyXG4gICAqIEBwYXJhbSB7TW9kZWx9IG93bmVyXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJPcGVyYXRpb259XG4gICAqL1xuICBpbnNlcnQoYnVpbGRlciwgb3duZXIpIHtcbiAgICB0aGlzLnRocm93RXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UXVlcnlCdWlsZGVyfSBidWlsZGVyXG4gICAqIEBwYXJhbSB7TW9kZWx9IG93bmVyXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJPcGVyYXRpb259XG4gICAqL1xuICB1cGRhdGUoYnVpbGRlciwgb3duZXIpIHtcbiAgICByZXR1cm4gbmV3IFJlbGF0aW9uVXBkYXRlT3BlcmF0aW9uKCd1cGRhdGUnLCB7XG4gICAgICByZWxhdGlvbjogdGhpcyxcbiAgICAgIG93bmVyOiBvd25lclxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UXVlcnlCdWlsZGVyfSBidWlsZGVyXG4gICAqIEBwYXJhbSB7TW9kZWx9IG93bmVyXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJPcGVyYXRpb259XG4gICAqL1xuICBwYXRjaChidWlsZGVyLCBvd25lcikge1xuICAgIHJldHVybiBuZXcgUmVsYXRpb25VcGRhdGVPcGVyYXRpb24oJ3BhdGNoJywge1xuICAgICAgcmVsYXRpb246IHRoaXMsXG4gICAgICBvd25lcjogb3duZXIsXG4gICAgICBtb2RlbE9wdGlvbnM6IHtwYXRjaDogdHJ1ZX1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1F1ZXJ5QnVpbGRlcn0gYnVpbGRlclxuICAgKiBAcGFyYW0ge0FycmF5LjxNb2RlbD59IG93bmVyc1xuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyT3BlcmF0aW9ufVxuICAgKi9cbiAgZmluZChidWlsZGVyLCBvd25lcnMpIHtcbiAgICByZXR1cm4gbmV3IFJlbGF0aW9uRmluZE9wZXJhdGlvbignZmluZCcsIHtcbiAgICAgIHJlbGF0aW9uOiB0aGlzLFxuICAgICAgb3duZXJzOiBvd25lcnNcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1F1ZXJ5QnVpbGRlcn0gYnVpbGRlclxuICAgKiBAcGFyYW0ge01vZGVsfSBvd25lclxuICAgKiBAcmV0dXJucyB7UXVlcnlCdWlsZGVyT3BlcmF0aW9ufVxuICAgKi9cbiAgZGVsZXRlKGJ1aWxkZXIsIG93bmVyKSB7XG4gICAgcmV0dXJuIG5ldyBSZWxhdGlvbkRlbGV0ZU9wZXJhdGlvbignZGVsZXRlJywge1xuICAgICAgcmVsYXRpb246IHRoaXMsXG4gICAgICBvd25lcjogb3duZXJcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtRdWVyeUJ1aWxkZXJ9IGJ1aWxkZXJcbiAgICogQHBhcmFtIHtNb2RlbH0gb3duZXJcbiAgICogQHJldHVybnMge1F1ZXJ5QnVpbGRlck9wZXJhdGlvbn1cbiAgICovXG4gIHJlbGF0ZShidWlsZGVyLCBvd25lcikge1xuICAgIHRoaXMudGhyb3dFcnJvcignbm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7UXVlcnlCdWlsZGVyfSBidWlsZGVyXG4gICAqIEBwYXJhbSB7TW9kZWx9IG93bmVyXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJPcGVyYXRpb259XG4gICAqL1xuICB1bnJlbGF0ZShidWlsZGVyLCBvd25lcikge1xuICAgIHRoaXMudGhyb3dFcnJvcignbm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgcHJvcGVydHlOYW1lKGNvbHVtbnMsIG1vZGVsQ2xhc3MpIHtcbiAgICByZXR1cm4gY29sdW1ucy5tYXAoY29sdW1uID0+IHtcbiAgICAgIGxldCBwcm9wZXJ0eU5hbWUgPSBtb2RlbENsYXNzLmNvbHVtbk5hbWVUb1Byb3BlcnR5TmFtZShjb2x1bW4pO1xuXG4gICAgICBpZiAoIXByb3BlcnR5TmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobW9kZWxDbGFzcy5uYW1lICtcbiAgICAgICAgICAnLiRwYXJzZURhdGFiYXNlSnNvbiBwcm9iYWJseSB0cmFuc2Zvcm1zIHRoZSB2YWx1ZSBvZiB0aGUgY29sdW1uICcgKyBjb2x1bW4gKyAnLicgK1xuICAgICAgICAgICcgVGhpcyBpcyBhIG5vLW5vIGJlY2F1c2UgJyArIGNvbHVtbiArXG4gICAgICAgICAgJyBpcyBuZWVkZWQgaW4gdGhlIHJlbGF0aW9uICcgKyB0aGlzLm93bmVyTW9kZWxDbGFzcy50YWJsZU5hbWUgKyAnLicgKyB0aGlzLm5hbWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJvcGVydHlOYW1lO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHBhcnNlTW9kaWZ5KG1hcHBpbmcpIHtcbiAgICBsZXQgbW9kaWZ5ID0gbWFwcGluZy5tb2RpZnkgfHwgbWFwcGluZy5maWx0ZXI7XG5cbiAgICBpZiAoXy5pc0Z1bmN0aW9uKG1vZGlmeSkpIHtcbiAgICAgIHJldHVybiBtb2RpZnk7XG4gICAgfSBlbHNlIGlmIChfLmlzT2JqZWN0KG1vZGlmeSkpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAocXVlcnlCdWlsZGVyKSB7XG4gICAgICAgIHF1ZXJ5QnVpbGRlci53aGVyZShtb2RpZnkpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIF8ubm9vcDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgcGFyc2VSZWZlcmVuY2UocmVmKSB7XG4gICAgaWYgKCFfLmlzQXJyYXkocmVmKSkge1xuICAgICAgcmVmID0gW3JlZl07XG4gICAgfVxuXG4gICAgbGV0IHRhYmxlID0gbnVsbDtcbiAgICBsZXQgY29sdW1ucyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWYubGVuZ3RoOyArK2kpIHtcbiAgICAgIGNvbnN0IHJlZkl0ZW0gPSByZWZbaV07XG4gICAgICBjb25zdCBuZHggPSByZWZJdGVtLmxhc3RJbmRleE9mKCcuJyk7XG5cbiAgICAgIGxldCB0YWJsZU5hbWUgPSByZWZJdGVtLnN1YnN0cigwLCBuZHgpLnRyaW0oKTtcbiAgICAgIGxldCBjb2x1bW5OYW1lID0gcmVmSXRlbS5zdWJzdHIobmR4ICsgMSwgcmVmSXRlbS5sZW5ndGgpLnRyaW0oKTtcblxuICAgICAgaWYgKCF0YWJsZU5hbWUgfHwgKHRhYmxlICYmIHRhYmxlICE9PSB0YWJsZU5hbWUpIHx8ICFjb2x1bW5OYW1lKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdGFibGU6IG51bGwsXG4gICAgICAgICAgY29sdW1uczogW11cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhYmxlID0gdGFibGVOYW1lO1xuICAgICAgfVxuXG4gICAgICBjb2x1bW5zLnB1c2goY29sdW1uTmFtZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRhYmxlOiB0YWJsZSxcbiAgICAgIGNvbHVtbnM6IGNvbHVtbnNcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIG1lcmdlTW9kZWxzKG1vZGVsczEsIG1vZGVsczIpIHtcbiAgICBsZXQgbW9kZWxDbGFzcztcblxuICAgIG1vZGVsczEgPSBfLmNvbXBhY3QobW9kZWxzMSk7XG4gICAgbW9kZWxzMiA9IF8uY29tcGFjdChtb2RlbHMyKTtcblxuICAgIGlmIChfLmlzRW1wdHkobW9kZWxzMSkgJiYgXy5pc0VtcHR5KG1vZGVsczIpKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgaWYgKCFfLmlzRW1wdHkobW9kZWxzMSkpIHtcbiAgICAgIG1vZGVsQ2xhc3MgPSBtb2RlbHMxWzBdLmNvbnN0cnVjdG9yO1xuICAgIH0gZWxzZSB7XG4gICAgICBtb2RlbENsYXNzID0gbW9kZWxzMlswXS5jb25zdHJ1Y3RvcjtcbiAgICB9XG5cbiAgICBsZXQgaWRQcm9wZXJ0eSA9IG1vZGVsQ2xhc3MuZ2V0SWRQcm9wZXJ0eUFycmF5KCk7XG4gICAgbGV0IG1vZGVsc0J5SWQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBtb2RlbHMxLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgY29uc3QgbW9kZWwgPSBtb2RlbHMxW2ldO1xuICAgICAgY29uc3Qga2V5ID0gbW9kZWwuJHByb3BLZXkoaWRQcm9wZXJ0eSk7XG5cbiAgICAgIG1vZGVsc0J5SWRba2V5XSA9IG1vZGVsO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gbW9kZWxzMi5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgIGNvbnN0IG1vZGVsID0gbW9kZWxzMltpXTtcbiAgICAgIGNvbnN0IGtleSA9IG1vZGVsLiRwcm9wS2V5KGlkUHJvcGVydHkpO1xuXG4gICAgICBtb2RlbHNCeUlkW2tleV0gPSBtb2RlbDtcbiAgICB9XG5cbiAgICByZXR1cm4gXy5zb3J0QnkoXy52YWx1ZXMobW9kZWxzQnlJZCksIGlkUHJvcGVydHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHJlc29sdmVNb2RlbChNb2RlbCwgbW9kZWxDbGFzcywgbG9nUHJlZml4KSB7XG4gICAgY29uc3QgcmVxdWlyZU1vZGVsID0gKHBhdGgpID0+IHtcbiAgICAgIGxldCBNb2RlbENsYXNzO1xuXG4gICAgICB0cnkge1xuICAgICAgICAvLyBiYWJlbCA2IHN0eWxlIG9mIGV4cG9zaW5nIGVzNiBleHBvcnRzIHRvIGNvbW1vbmpzIGh0dHBzOi8vZ2l0aHViLmNvbS9iYWJlbC9iYWJlbC9pc3N1ZXMvMjY4M1xuICAgICAgICBsZXQgbW9kdWxlID0gcmVxdWlyZShwYXRoKTtcblxuICAgICAgICBNb2RlbENsYXNzID0gaXNTdWJjbGFzc09mKG1vZHVsZS5kZWZhdWx0LCBNb2RlbClcbiAgICAgICAgICA/IG1vZHVsZS5kZWZhdWx0XG4gICAgICAgICAgOiBtb2R1bGU7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNTdWJjbGFzc09mKE1vZGVsQ2xhc3MsIE1vZGVsKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIE1vZGVsQ2xhc3M7XG4gICAgfTtcblxuICAgIGlmIChfLmlzU3RyaW5nKG1vZGVsQ2xhc3MpKSB7XG4gICAgICBsZXQgTW9kZWxDbGFzcyA9IG51bGw7XG5cbiAgICAgIGlmIChpc0Fic29sdXRlUGF0aChtb2RlbENsYXNzKSkge1xuICAgICAgICBNb2RlbENsYXNzID0gcmVxdWlyZU1vZGVsKG1vZGVsQ2xhc3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgdGhlIHBhdGggaXMgbm90IGEgYWJzb2x1dGUsIHRyeSB0aGUgbW9kZWxQYXRocyBvZiB0aGUgb3duZXIgbW9kZWwgY2xhc3MuXG4gICAgICAgIF8uZWFjaCh0aGlzLm93bmVyTW9kZWxDbGFzcy5tb2RlbFBhdGhzLCBtb2RlbFBhdGggPT4ge1xuICAgICAgICAgIE1vZGVsQ2xhc3MgPSByZXF1aXJlTW9kZWwocGF0aC5qb2luKG1vZGVsUGF0aCwgbW9kZWxDbGFzcykpO1xuXG4gICAgICAgICAgaWYgKGlzU3ViY2xhc3NPZihNb2RlbENsYXNzLCBNb2RlbCkpIHtcbiAgICAgICAgICAgIC8vIEJyZWFrIHRoZSBsb29wLlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNTdWJjbGFzc09mKE1vZGVsQ2xhc3MsIE1vZGVsKSkge1xuICAgICAgICB0aGlzLnRocm93RXJyb3IoYCR7bG9nUHJlZml4fTogJHttb2RlbENsYXNzfSBpcyBhbiBpbnZhbGlkIGZpbGUgcGF0aCB0byBhIG1vZGVsIGNsYXNzYCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBNb2RlbENsYXNzO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWlzU3ViY2xhc3NPZihtb2RlbENsYXNzLCBNb2RlbCkpIHtcbiAgICAgICAgdGhpcy50aHJvd0Vycm9yKGAke2xvZ1ByZWZpeH0gaXMgbm90IGEgc3ViY2xhc3Mgb2YgTW9kZWwgb3IgYSBmaWxlIHBhdGggdG8gYSBtb2R1bGUgdGhhdCBleHBvcnRzIG9uZS5gKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1vZGVsQ2xhc3M7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHRocm93RXJyb3IobWVzc2FnZSkge1xuICAgIGlmICh0aGlzLm93bmVyTW9kZWxDbGFzcyAmJiB0aGlzLm93bmVyTW9kZWxDbGFzcy5uYW1lICYmIHRoaXMubmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3RoaXMub3duZXJNb2RlbENsYXNzLm5hbWV9LnJlbGF0aW9uTWFwcGluZ3MuJHt0aGlzLm5hbWV9OiAke21lc3NhZ2V9YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9OiAke21lc3NhZ2V9YCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzQWJzb2x1dGVQYXRoKHB0aCkge1xuICByZXR1cm4gcGF0aC5ub3JtYWxpemUocHRoICsgJy8nKSA9PT0gcGF0aC5ub3JtYWxpemUocGF0aC5yZXNvbHZlKHB0aCkgKyAnLycpO1xufVxuXG5mdW5jdGlvbiBjb250YWluc05vbk51bGwoYXJyKSB7XG4gIGZvciAobGV0IGkgPSAwLCBsID0gYXJyLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgIGNvbnN0IHZhbCA9IGFycltpXTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkgJiYgY29udGFpbnNOb25OdWxsKHZhbCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAodmFsICE9PSBudWxsICYmIHZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59Il19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/utils/decorators/memoize.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _create = require('babel-runtime/core-js/object/create');\n\nvar _create2 = _interopRequireDefault(_create);\n\nexports.default = memoize;\n\nvar _upperFirst = require('lodash/upperFirst');\n\nvar _upperFirst2 = _interopRequireDefault(_upperFirst);\n\nvar _hiddenData = require('../hiddenData');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction memoize(target, property, descriptor) {\n  var cacheProp = 'memoized' + (0, _upperFirst2.default)(property);\n  var impl = descriptor.value;\n\n  if (impl.length === 0) {\n    descriptor.value = memoizeZeroArgs(impl, cacheProp);\n  } else {\n    descriptor.value = memoizeSingleArg(impl, cacheProp);\n  }\n}\n\nfunction memoizeZeroArgs(impl, cacheProp) {\n  var get = (0, _hiddenData.createGetter)(cacheProp);\n  var set = (0, _hiddenData.createSetter)(cacheProp);\n\n  return function decorator$memoize() {\n    var value = get(this);\n\n    if (value === undefined) {\n      value = impl.call(this);\n      set(this, value);\n    }\n\n    return value;\n  };\n}\n\nfunction memoizeSingleArg(impl, cacheProp) {\n  var get = (0, _hiddenData.createGetter)(cacheProp);\n  var set = (0, _hiddenData.createSetter)(cacheProp);\n\n  return function decorator$memoize(input) {\n    var cache = get(this);\n\n    if (cache === undefined) {\n      cache = (0, _create2.default)(null);\n      set(this, cache);\n    }\n\n    if (cache[input] !== undefined) {\n      return cache[input];\n    } else {\n      var value = impl.call(this, input);\n      cache[input] = value;\n      return value;\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbW9pemUuanMiXSwibmFtZXMiOlsibWVtb2l6ZSIsInRhcmdldCIsInByb3BlcnR5IiwiZGVzY3JpcHRvciIsImNhY2hlUHJvcCIsImltcGwiLCJ2YWx1ZSIsImxlbmd0aCIsIm1lbW9pemVaZXJvQXJncyIsIm1lbW9pemVTaW5nbGVBcmciLCJnZXQiLCJzZXQiLCJkZWNvcmF0b3IkbWVtb2l6ZSIsInVuZGVmaW5lZCIsImNhbGwiLCJpbnB1dCIsImNhY2hlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O2tCQUd3QkEsTzs7QUFIeEI7Ozs7QUFDQTs7OztBQUVlLFNBQVNBLE9BQVQsQ0FBaUJDLE1BQWpCLEVBQXlCQyxRQUF6QixFQUFtQ0MsVUFBbkMsRUFBK0M7QUFDNUQsTUFBTUMsWUFBWSxhQUFhLDBCQUFXRixRQUFYLENBQS9CO0FBQ0EsTUFBTUcsT0FBT0YsV0FBV0csS0FBeEI7O0FBRUEsTUFBSUQsS0FBS0UsTUFBTCxLQUFnQixDQUFwQixFQUF1QjtBQUNyQkosZUFBV0csS0FBWCxHQUFtQkUsZ0JBQWdCSCxJQUFoQixFQUFzQkQsU0FBdEIsQ0FBbkI7QUFDRCxHQUZELE1BRU87QUFDTEQsZUFBV0csS0FBWCxHQUFtQkcsaUJBQWlCSixJQUFqQixFQUF1QkQsU0FBdkIsQ0FBbkI7QUFDRDtBQUNGOztBQUVELFNBQVNJLGVBQVQsQ0FBeUJILElBQXpCLEVBQStCRCxTQUEvQixFQUEwQztBQUN4QyxNQUFNTSxNQUFNLDhCQUFhTixTQUFiLENBQVo7QUFDQSxNQUFNTyxNQUFNLDhCQUFhUCxTQUFiLENBQVo7O0FBRUEsU0FBTyxTQUFTUSxpQkFBVCxHQUE2QjtBQUNsQyxRQUFJTixRQUFRSSxJQUFJLElBQUosQ0FBWjs7QUFFQSxRQUFJSixVQUFVTyxTQUFkLEVBQXlCO0FBQ3ZCUCxjQUFRRCxLQUFLUyxJQUFMLENBQVUsSUFBVixDQUFSO0FBQ0FILFVBQUksSUFBSixFQUFVTCxLQUFWO0FBQ0Q7O0FBRUQsV0FBT0EsS0FBUDtBQUNELEdBVEQ7QUFVRDs7QUFFRCxTQUFTRyxnQkFBVCxDQUEwQkosSUFBMUIsRUFBZ0NELFNBQWhDLEVBQTJDO0FBQ3pDLE1BQU1NLE1BQU0sOEJBQWFOLFNBQWIsQ0FBWjtBQUNBLE1BQU1PLE1BQU0sOEJBQWFQLFNBQWIsQ0FBWjs7QUFFQSxTQUFPLFNBQVNRLGlCQUFULENBQTJCRyxLQUEzQixFQUFrQztBQUN2QyxRQUFJQyxRQUFRTixJQUFJLElBQUosQ0FBWjs7QUFFQSxRQUFJTSxVQUFVSCxTQUFkLEVBQXlCO0FBQ3ZCRyxjQUFRLHNCQUFjLElBQWQsQ0FBUjtBQUNBTCxVQUFJLElBQUosRUFBVUssS0FBVjtBQUNEOztBQUVELFFBQUlBLE1BQU1ELEtBQU4sTUFBaUJGLFNBQXJCLEVBQWdDO0FBQzlCLGFBQU9HLE1BQU1ELEtBQU4sQ0FBUDtBQUNELEtBRkQsTUFFTztBQUNMLFVBQUlULFFBQVFELEtBQUtTLElBQUwsQ0FBVSxJQUFWLEVBQWdCQyxLQUFoQixDQUFaO0FBQ0FDLFlBQU1ELEtBQU4sSUFBZVQsS0FBZjtBQUNBLGFBQU9BLEtBQVA7QUFDRDtBQUNGLEdBZkQ7QUFnQkQiLCJmaWxlIjoibWVtb2l6ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB1cHBlckZpcnN0IGZyb20gJ2xvZGFzaC91cHBlckZpcnN0JztcbmltcG9ydCB7Y3JlYXRlR2V0dGVyLCBjcmVhdGVTZXR0ZXJ9IGZyb20gJy4uL2hpZGRlbkRhdGEnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtZW1vaXplKHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IpIHtcbiAgY29uc3QgY2FjaGVQcm9wID0gJ21lbW9pemVkJyArIHVwcGVyRmlyc3QocHJvcGVydHkpO1xuICBjb25zdCBpbXBsID0gZGVzY3JpcHRvci52YWx1ZTtcblxuICBpZiAoaW1wbC5sZW5ndGggPT09IDApIHtcbiAgICBkZXNjcmlwdG9yLnZhbHVlID0gbWVtb2l6ZVplcm9BcmdzKGltcGwsIGNhY2hlUHJvcCk7XG4gIH0gZWxzZSB7XG4gICAgZGVzY3JpcHRvci52YWx1ZSA9IG1lbW9pemVTaW5nbGVBcmcoaW1wbCwgY2FjaGVQcm9wKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtZW1vaXplWmVyb0FyZ3MoaW1wbCwgY2FjaGVQcm9wKSB7XG4gIGNvbnN0IGdldCA9IGNyZWF0ZUdldHRlcihjYWNoZVByb3ApO1xuICBjb25zdCBzZXQgPSBjcmVhdGVTZXR0ZXIoY2FjaGVQcm9wKTtcblxuICByZXR1cm4gZnVuY3Rpb24gZGVjb3JhdG9yJG1lbW9pemUoKSB7XG4gICAgbGV0IHZhbHVlID0gZ2V0KHRoaXMpO1xuXG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhbHVlID0gaW1wbC5jYWxsKHRoaXMpO1xuICAgICAgc2V0KHRoaXMsIHZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIG1lbW9pemVTaW5nbGVBcmcoaW1wbCwgY2FjaGVQcm9wKSB7XG4gIGNvbnN0IGdldCA9IGNyZWF0ZUdldHRlcihjYWNoZVByb3ApO1xuICBjb25zdCBzZXQgPSBjcmVhdGVTZXR0ZXIoY2FjaGVQcm9wKTtcblxuICByZXR1cm4gZnVuY3Rpb24gZGVjb3JhdG9yJG1lbW9pemUoaW5wdXQpIHtcbiAgICBsZXQgY2FjaGUgPSBnZXQodGhpcyk7XG5cbiAgICBpZiAoY2FjaGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgc2V0KHRoaXMsIGNhY2hlKTtcbiAgICB9XG5cbiAgICBpZiAoY2FjaGVbaW5wdXRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBjYWNoZVtpbnB1dF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCB2YWx1ZSA9IGltcGwuY2FsbCh0aGlzLCBpbnB1dCk7XG4gICAgICBjYWNoZVtpbnB1dF0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH07XG59XG5cbiJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/utils/hiddenData.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _create = require('babel-runtime/core-js/object/create');\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _defineProperty = require('babel-runtime/core-js/object/define-property');\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nexports.init = init;\nexports.createGetter = createGetter;\nexports.createSetter = createSetter;\nexports.inheritHiddenData = inheritHiddenData;\nexports.copyHiddenData = copyHiddenData;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar HIDDEN_DATA = '$$hiddenData';\n\nfunction init(obj, data) {\n  (0, _defineProperty2.default)(obj, HIDDEN_DATA, {\n    enumerable: false,\n    writable: true,\n    value: data || (0, _create2.default)(null)\n  });\n}\n\nfunction createGetter(propName) {\n  var factory = new Function('\\n    return function hiddenData$get' + capitalize(propName) + '(obj) {\\n      if (obj.hasOwnProperty(\"' + HIDDEN_DATA + '\")) {\\n        return obj.' + HIDDEN_DATA + '.' + propName + ';\\n      } else {\\n        return undefined;\\n      }\\n    }\\n  ');\n\n  return factory();\n}\n\nfunction createSetter(propName) {\n  var factory = new Function('\\n    return function hiddenData$set' + capitalize(propName) + '(obj, data) {\\n      if (!obj.hasOwnProperty(\"' + HIDDEN_DATA + '\")) {\\n        Object.defineProperty(obj, \"' + HIDDEN_DATA + '\", {\\n          enumerable: false,\\n          writable: true,\\n          value: Object.create(null)\\n        });\\n      }\\n\\n      obj.' + HIDDEN_DATA + '.' + propName + ' = data;\\n    }\\n  ');\n\n  return factory();\n}\n\nfunction inheritHiddenData(src, dst) {\n  init(dst, (0, _create2.default)(src[HIDDEN_DATA] || null));\n}\n\nfunction copyHiddenData(src, dst) {\n  init(dst, src[HIDDEN_DATA]);\n}\n\nfunction capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.substring(1);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhpZGRlbkRhdGEuanMiXSwibmFtZXMiOlsiaW5pdCIsImNyZWF0ZUdldHRlciIsImNyZWF0ZVNldHRlciIsImluaGVyaXRIaWRkZW5EYXRhIiwiY29weUhpZGRlbkRhdGEiLCJISURERU5fREFUQSIsIm9iaiIsImRhdGEiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJ2YWx1ZSIsInByb3BOYW1lIiwiZmFjdG9yeSIsIkZ1bmN0aW9uIiwiY2FwaXRhbGl6ZSIsInNyYyIsImRzdCIsInN0ciIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic3Vic3RyaW5nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztRQUVnQkEsSSxHQUFBQSxJO1FBUUFDLFksR0FBQUEsWTtRQWNBQyxZLEdBQUFBLFk7UUFrQkFDLGlCLEdBQUFBLGlCO1FBSUFDLGMsR0FBQUEsYzs7OztBQTlDaEIsSUFBTUMsY0FBYyxjQUFwQjs7QUFFTyxTQUFTTCxJQUFULENBQWNNLEdBQWQsRUFBbUJDLElBQW5CLEVBQXlCO0FBQzlCLGdDQUFzQkQsR0FBdEIsRUFBMkJELFdBQTNCLEVBQXdDO0FBQ3RDRyxnQkFBWSxLQUQwQjtBQUV0Q0MsY0FBVSxJQUY0QjtBQUd0Q0MsV0FBT0gsUUFBUSxzQkFBYyxJQUFkO0FBSHVCLEdBQXhDO0FBS0Q7O0FBRU0sU0FBU04sWUFBVCxDQUFzQlUsUUFBdEIsRUFBZ0M7QUFDckMsTUFBTUMsVUFBVSxJQUFJQyxRQUFKLDBDQUNrQkMsV0FBV0gsUUFBWCxDQURsQiwrQ0FFY04sV0FGZCxrQ0FHR0EsV0FISCxTQUdrQk0sUUFIbEIsc0VBQWhCOztBQVVBLFNBQU9DLFNBQVA7QUFDRDs7QUFFTSxTQUFTVixZQUFULENBQXNCUyxRQUF0QixFQUFnQztBQUNyQyxNQUFNQyxVQUFVLElBQUlDLFFBQUosMENBQ2tCQyxXQUFXSCxRQUFYLENBRGxCLHNEQUVlTixXQUZmLG1EQUdvQkEsV0FIcEIsK0lBVU5BLFdBVk0sU0FVU00sUUFWVCx5QkFBaEI7O0FBY0EsU0FBT0MsU0FBUDtBQUNEOztBQUVNLFNBQVNULGlCQUFULENBQTJCWSxHQUEzQixFQUFnQ0MsR0FBaEMsRUFBcUM7QUFDMUNoQixPQUFLZ0IsR0FBTCxFQUFVLHNCQUFjRCxJQUFJVixXQUFKLEtBQW9CLElBQWxDLENBQVY7QUFDRDs7QUFFTSxTQUFTRCxjQUFULENBQXdCVyxHQUF4QixFQUE2QkMsR0FBN0IsRUFBa0M7QUFDdkNoQixPQUFLZ0IsR0FBTCxFQUFVRCxJQUFJVixXQUFKLENBQVY7QUFDRDs7QUFFRCxTQUFTUyxVQUFULENBQW9CRyxHQUFwQixFQUF5QjtBQUN2QixTQUFPQSxJQUFJQyxNQUFKLENBQVcsQ0FBWCxFQUFjQyxXQUFkLEtBQThCRixJQUFJRyxTQUFKLENBQWMsQ0FBZCxDQUFyQztBQUNEIiwiZmlsZSI6ImhpZGRlbkRhdGEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBISURERU5fREFUQSA9ICckJGhpZGRlbkRhdGEnO1xuXG5leHBvcnQgZnVuY3Rpb24gaW5pdChvYmosIGRhdGEpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgSElEREVOX0RBVEEsIHtcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICB2YWx1ZTogZGF0YSB8fCBPYmplY3QuY3JlYXRlKG51bGwpXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlR2V0dGVyKHByb3BOYW1lKSB7XG4gIGNvbnN0IGZhY3RvcnkgPSBuZXcgRnVuY3Rpb24oYFxuICAgIHJldHVybiBmdW5jdGlvbiBoaWRkZW5EYXRhJGdldCR7Y2FwaXRhbGl6ZShwcm9wTmFtZSl9KG9iaikge1xuICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShcIiR7SElEREVOX0RBVEF9XCIpKSB7XG4gICAgICAgIHJldHVybiBvYmouJHtISURERU5fREFUQX0uJHtwcm9wTmFtZX07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cbiAgYCk7XG5cbiAgcmV0dXJuIGZhY3RvcnkoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNldHRlcihwcm9wTmFtZSkge1xuICBjb25zdCBmYWN0b3J5ID0gbmV3IEZ1bmN0aW9uKGBcbiAgICByZXR1cm4gZnVuY3Rpb24gaGlkZGVuRGF0YSRzZXQke2NhcGl0YWxpemUocHJvcE5hbWUpfShvYmosIGRhdGEpIHtcbiAgICAgIGlmICghb2JqLmhhc093blByb3BlcnR5KFwiJHtISURERU5fREFUQX1cIikpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgXCIke0hJRERFTl9EQVRBfVwiLCB7XG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgdmFsdWU6IE9iamVjdC5jcmVhdGUobnVsbClcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIG9iai4ke0hJRERFTl9EQVRBfS4ke3Byb3BOYW1lfSA9IGRhdGE7XG4gICAgfVxuICBgKTtcblxuICByZXR1cm4gZmFjdG9yeSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5oZXJpdEhpZGRlbkRhdGEoc3JjLCBkc3QpIHtcbiAgaW5pdChkc3QsIE9iamVjdC5jcmVhdGUoc3JjW0hJRERFTl9EQVRBXSB8fCBudWxsKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5SGlkZGVuRGF0YShzcmMsIGRzdCkge1xuICBpbml0KGRzdCwgc3JjW0hJRERFTl9EQVRBXSk7XG59XG5cbmZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyKSB7XG4gIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc3Vic3RyaW5nKDEpXG59Il19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/relations/RelationFindOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _create = require('babel-runtime/core-js/object/create');\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _FindOperation2 = require('../queryBuilder/operations/FindOperation');\n\nvar _FindOperation3 = _interopRequireDefault(_FindOperation2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar RelationFindOperation = function (_FindOperation) {\n  (0, _inherits3.default)(RelationFindOperation, _FindOperation);\n\n  function RelationFindOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, RelationFindOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _FindOperation.call(this, name, opt));\n\n    _this.relation = opt.relation;\n    _this.owners = opt.owners;\n    _this.alwaysReturnArray = false;\n    _this.omitProps = [];\n    return _this;\n  }\n\n  RelationFindOperation.prototype.clone = function clone() {\n    var _FindOperation$protot;\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var copy = (_FindOperation$protot = _FindOperation.prototype.clone).call.apply(_FindOperation$protot, [this].concat(args));\n\n    copy.relation = this.relation;\n    copy.owners = this.owners;\n    copy.alwaysReturnArray = this.alwaysReturnArray;\n    copy.omitProps = this.omitProps;\n\n    return copy;\n  };\n\n  RelationFindOperation.prototype.onBeforeBuild = function onBeforeBuild(builder) {\n    var ids = new Array(this.owners.length);\n\n    for (var i = 0, l = this.owners.length; i < l; ++i) {\n      ids[i] = this.owners[i].$values(this.relation.ownerProp);\n    }\n\n    this.relation.findQuery(builder, {\n      ownerIds: _lodash2.default.uniqBy(ids, join)\n    });\n\n    this.selectMissingJoinColumns(builder);\n  };\n\n  RelationFindOperation.prototype.onAfter = function onAfter(builder, related) {\n    this.omitImplicitJoinProps(related);\n    return _FindOperation.prototype.onAfter.call(this, builder, related);\n  };\n\n  RelationFindOperation.prototype.onAfterInternal = function onAfterInternal(builder, related) {\n    var owners = this.owners;\n    var isOneToOne = this.relation.isOneToOne();\n    var relatedByOwnerId = (0, _create2.default)(null);\n\n    for (var i = 0, l = related.length; i < l; ++i) {\n      var rel = related[i];\n      var key = rel.$propKey(this.relation.relatedProp);\n      var arr = relatedByOwnerId[key];\n\n      if (!arr) {\n        arr = [];\n        relatedByOwnerId[key] = arr;\n      }\n\n      arr.push(rel);\n    }\n\n    for (var _i = 0, _l = owners.length; _i < _l; ++_i) {\n      var own = owners[_i];\n      var _key2 = own.$propKey(this.relation.ownerProp);\n      var _related = relatedByOwnerId[_key2];\n\n      if (isOneToOne) {\n        own[this.relation.name] = _related && _related[0] || null;\n      } else {\n        own[this.relation.name] = _related || [];\n      }\n    }\n\n    if (!this.alwaysReturnArray && this.relation.isOneToOne() && related.length <= 1) {\n      return related[0] || undefined;\n    } else {\n      return related;\n    }\n  };\n\n  RelationFindOperation.prototype.selectMissingJoinColumns = function selectMissingJoinColumns(builder) {\n    var addedSelects = {};\n    var cols = this.relation.fullRelatedCol();\n\n    for (var c = 0, lc = cols.length; c < lc; ++c) {\n      var col = cols[c];\n\n      if (!builder.hasSelection(col) && !addedSelects[col]) {\n        this.omitProps.push(this.relation.relatedProp[c]);\n        addedSelects[col] = true;\n      }\n    }\n\n    var selects = (0, _keys2.default)(addedSelects);\n\n    if (selects.length) {\n      builder.select(selects);\n    }\n  };\n\n  RelationFindOperation.prototype.omitImplicitJoinProps = function omitImplicitJoinProps(related) {\n    var relatedModelClass = this.relation.relatedModelClass;\n\n    if (!this.omitProps.length || !related) {\n      return related;\n    }\n\n    if (!Array.isArray(related)) {\n      return this.omitImplicitJoinPropsFromOne(relatedModelClass, related);\n    }\n\n    if (!related.length) {\n      return related;\n    }\n\n    for (var i = 0, l = related.length; i < l; ++i) {\n      this.omitImplicitJoinPropsFromOne(relatedModelClass, related[i]);\n    }\n\n    return related;\n  };\n\n  RelationFindOperation.prototype.omitImplicitJoinPropsFromOne = function omitImplicitJoinPropsFromOne(relatedModelClass, model) {\n    for (var c = 0, lc = this.omitProps.length; c < lc; ++c) {\n      relatedModelClass.omitImpl(model, this.omitProps[c]);\n    }\n\n    return model;\n  };\n\n  return RelationFindOperation;\n}(_FindOperation3.default);\n\nexports.default = RelationFindOperation;\n\n\nfunction join(arr) {\n  return arr.join();\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlbGF0aW9uRmluZE9wZXJhdGlvbi5qcyJdLCJuYW1lcyI6WyJSZWxhdGlvbkZpbmRPcGVyYXRpb24iLCJuYW1lIiwib3B0IiwicmVsYXRpb24iLCJvd25lcnMiLCJhbHdheXNSZXR1cm5BcnJheSIsIm9taXRQcm9wcyIsImNsb25lIiwiYXJncyIsImNvcHkiLCJvbkJlZm9yZUJ1aWxkIiwiYnVpbGRlciIsImlkcyIsIkFycmF5IiwibGVuZ3RoIiwiaSIsImwiLCIkdmFsdWVzIiwib3duZXJQcm9wIiwiZmluZFF1ZXJ5Iiwib3duZXJJZHMiLCJ1bmlxQnkiLCJqb2luIiwic2VsZWN0TWlzc2luZ0pvaW5Db2x1bW5zIiwib25BZnRlciIsInJlbGF0ZWQiLCJvbWl0SW1wbGljaXRKb2luUHJvcHMiLCJvbkFmdGVySW50ZXJuYWwiLCJpc09uZVRvT25lIiwicmVsYXRlZEJ5T3duZXJJZCIsInJlbCIsImtleSIsIiRwcm9wS2V5IiwicmVsYXRlZFByb3AiLCJhcnIiLCJwdXNoIiwib3duIiwidW5kZWZpbmVkIiwiYWRkZWRTZWxlY3RzIiwiY29scyIsImZ1bGxSZWxhdGVkQ29sIiwiYyIsImxjIiwiY29sIiwiaGFzU2VsZWN0aW9uIiwic2VsZWN0cyIsInNlbGVjdCIsInJlbGF0ZWRNb2RlbENsYXNzIiwiaXNBcnJheSIsIm9taXRJbXBsaWNpdEpvaW5Qcm9wc0Zyb21PbmUiLCJtb2RlbCIsIm9taXRJbXBsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7SUFFcUJBLHFCOzs7QUFFbkIsaUNBQVlDLElBQVosRUFBa0JDLEdBQWxCLEVBQXVCO0FBQUE7O0FBQUEsK0RBQ3JCLDBCQUFNRCxJQUFOLEVBQVlDLEdBQVosQ0FEcUI7O0FBR3JCLFVBQUtDLFFBQUwsR0FBZ0JELElBQUlDLFFBQXBCO0FBQ0EsVUFBS0MsTUFBTCxHQUFjRixJQUFJRSxNQUFsQjtBQUNBLFVBQUtDLGlCQUFMLEdBQXlCLEtBQXpC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LENBQWtDRixpQkFBbEMsRUFBcUR0QixPQUFyRCxDQUFQO0FBQ0Q7O0FBRUQsUUFBSSxDQUFDQSxRQUFRWCxNQUFiLEVBQXFCO0FBQ25CLGFBQU9XLE9BQVA7QUFDRDs7QUFFRCxTQUFLLElBQUlWLElBQUksQ0FBUixFQUFXQyxJQUFJUyxRQUFRWCxNQUE1QixFQUFvQ0MsSUFBSUMsQ0FBeEMsRUFBMkMsRUFBRUQsQ0FBN0MsRUFBZ0Q7QUFDOUMsV0FBS2tDLDRCQUFMLENBQWtDRixpQkFBbEMsRUFBcUR0QixRQUFRVixDQUFSLENBQXJEO0FBQ0Q7O0FBRUQsV0FBT1UsT0FBUDtBQUNELEc7O2tDQUVEd0IsNEIseUNBQTZCRixpQixFQUFtQkcsSyxFQUFPO0FBQ3JELFNBQUssSUFBSVQsSUFBSSxDQUFSLEVBQVdDLEtBQUssS0FBS3BDLFNBQUwsQ0FBZVEsTUFBcEMsRUFBNEMyQixJQUFJQyxFQUFoRCxFQUFvRCxFQUFFRCxDQUF0RCxFQUF5RDtBQUN2RE0sd0JBQWtCSSxRQUFsQixDQUEyQkQsS0FBM0IsRUFBa0MsS0FBSzVDLFNBQUwsQ0FBZW1DLENBQWYsQ0FBbEM7QUFDRDs7QUFFRCxXQUFPUyxLQUFQO0FBQ0QsRzs7Ozs7a0JBOUhrQmxELHFCOzs7QUFpSXJCLFNBQVNzQixJQUFULENBQWNZLEdBQWQsRUFBbUI7QUFDakIsU0FBT0EsSUFBSVosSUFBSixFQUFQO0FBQ0QiLCJmaWxlIjoiUmVsYXRpb25GaW5kT3BlcmF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBGaW5kT3BlcmF0aW9uIGZyb20gJy4uL3F1ZXJ5QnVpbGRlci9vcGVyYXRpb25zL0ZpbmRPcGVyYXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWxhdGlvbkZpbmRPcGVyYXRpb24gZXh0ZW5kcyBGaW5kT3BlcmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcihuYW1lLCBvcHQpIHtcbiAgICBzdXBlcihuYW1lLCBvcHQpO1xuXG4gICAgdGhpcy5yZWxhdGlvbiA9IG9wdC5yZWxhdGlvbjtcbiAgICB0aGlzLm93bmVycyA9IG9wdC5vd25lcnM7XG4gICAgdGhpcy5hbHdheXNSZXR1cm5BcnJheSA9IGZhbHNlO1xuICAgIHRoaXMub21pdFByb3BzID0gW107XG4gIH1cblxuICBjbG9uZSguLi5hcmdzKSB7XG4gICAgY29uc3QgY29weSA9IHN1cGVyLmNsb25lKC4uLmFyZ3MpO1xuXG4gICAgY29weS5yZWxhdGlvbiA9IHRoaXMucmVsYXRpb247XG4gICAgY29weS5vd25lcnMgPSB0aGlzLm93bmVycztcbiAgICBjb3B5LmFsd2F5c1JldHVybkFycmF5ID0gdGhpcy5hbHdheXNSZXR1cm5BcnJheTtcbiAgICBjb3B5Lm9taXRQcm9wcyA9IHRoaXMub21pdFByb3BzO1xuXG4gICAgcmV0dXJuIGNvcHk7XG4gIH1cblxuICBvbkJlZm9yZUJ1aWxkKGJ1aWxkZXIpIHtcbiAgICBsZXQgaWRzID0gbmV3IEFycmF5KHRoaXMub3duZXJzLmxlbmd0aCk7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMub3duZXJzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgaWRzW2ldID0gdGhpcy5vd25lcnNbaV0uJHZhbHVlcyh0aGlzLnJlbGF0aW9uLm93bmVyUHJvcCk7XG4gICAgfVxuXG4gICAgdGhpcy5yZWxhdGlvbi5maW5kUXVlcnkoYnVpbGRlciwge1xuICAgICAgb3duZXJJZHM6IF8udW5pcUJ5KGlkcywgam9pbilcbiAgICB9KTtcblxuICAgIHRoaXMuc2VsZWN0TWlzc2luZ0pvaW5Db2x1bW5zKGJ1aWxkZXIpO1xuICB9XG5cbiAgb25BZnRlcihidWlsZGVyLCByZWxhdGVkKSB7XG4gICAgdGhpcy5vbWl0SW1wbGljaXRKb2luUHJvcHMocmVsYXRlZCk7XG4gICAgcmV0dXJuIHN1cGVyLm9uQWZ0ZXIoYnVpbGRlciwgcmVsYXRlZCk7XG4gIH1cblxuICBvbkFmdGVySW50ZXJuYWwoYnVpbGRlciwgcmVsYXRlZCkge1xuICAgIGNvbnN0IG93bmVycyA9IHRoaXMub3duZXJzO1xuICAgIGNvbnN0IGlzT25lVG9PbmUgPSB0aGlzLnJlbGF0aW9uLmlzT25lVG9PbmUoKTtcbiAgICBjb25zdCByZWxhdGVkQnlPd25lcklkID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gcmVsYXRlZC5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgIGNvbnN0IHJlbCA9IHJlbGF0ZWRbaV07XG4gICAgICBjb25zdCBrZXkgPSByZWwuJHByb3BLZXkodGhpcy5yZWxhdGlvbi5yZWxhdGVkUHJvcCk7XG4gICAgICBsZXQgYXJyID0gcmVsYXRlZEJ5T3duZXJJZFtrZXldO1xuXG4gICAgICBpZiAoIWFycikge1xuICAgICAgICBhcnIgPSBbXTtcbiAgICAgICAgcmVsYXRlZEJ5T3duZXJJZFtrZXldID0gYXJyO1xuICAgICAgfVxuXG4gICAgICBhcnIucHVzaChyZWwpO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gb3duZXJzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgY29uc3Qgb3duID0gb3duZXJzW2ldO1xuICAgICAgY29uc3Qga2V5ID0gb3duLiRwcm9wS2V5KHRoaXMucmVsYXRpb24ub3duZXJQcm9wKTtcbiAgICAgIGNvbnN0IHJlbGF0ZWQgPSByZWxhdGVkQnlPd25lcklkW2tleV07XG5cbiAgICAgIGlmIChpc09uZVRvT25lKSB7XG4gICAgICAgIG93blt0aGlzLnJlbGF0aW9uLm5hbWVdID0gKHJlbGF0ZWQgJiYgcmVsYXRlZFswXSkgfHwgbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG93blt0aGlzLnJlbGF0aW9uLm5hbWVdID0gcmVsYXRlZCB8fCBbXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuYWx3YXlzUmV0dXJuQXJyYXkgJiYgdGhpcy5yZWxhdGlvbi5pc09uZVRvT25lKCkgJiYgcmVsYXRlZC5sZW5ndGggPD0gMSkge1xuICAgICAgcmV0dXJuIHJlbGF0ZWRbMF0gfHwgdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmVsYXRlZDtcbiAgICB9XG4gIH1cblxuICBzZWxlY3RNaXNzaW5nSm9pbkNvbHVtbnMoYnVpbGRlcikge1xuICAgIGNvbnN0IGFkZGVkU2VsZWN0cyA9IHt9O1xuICAgIGNvbnN0IGNvbHMgPSB0aGlzLnJlbGF0aW9uLmZ1bGxSZWxhdGVkQ29sKCk7XG5cbiAgICBmb3IgKGxldCBjID0gMCwgbGMgPSBjb2xzLmxlbmd0aDsgYyA8IGxjOyArK2MpIHtcbiAgICAgIGNvbnN0IGNvbCA9IGNvbHNbY107XG5cbiAgICAgIGlmICghYnVpbGRlci5oYXNTZWxlY3Rpb24oY29sKSAmJiAhYWRkZWRTZWxlY3RzW2NvbF0pIHtcbiAgICAgICAgdGhpcy5vbWl0UHJvcHMucHVzaCh0aGlzLnJlbGF0aW9uLnJlbGF0ZWRQcm9wW2NdKTtcbiAgICAgICAgYWRkZWRTZWxlY3RzW2NvbF0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHNlbGVjdHMgPSBPYmplY3Qua2V5cyhhZGRlZFNlbGVjdHMpO1xuXG4gICAgaWYgKHNlbGVjdHMubGVuZ3RoKSB7XG4gICAgICBidWlsZGVyLnNlbGVjdChzZWxlY3RzKTtcbiAgICB9XG4gIH1cblxuICBvbWl0SW1wbGljaXRKb2luUHJvcHMocmVsYXRlZCkge1xuICAgIGNvbnN0IHJlbGF0ZWRNb2RlbENsYXNzID0gdGhpcy5yZWxhdGlvbi5yZWxhdGVkTW9kZWxDbGFzcztcblxuICAgIGlmICghdGhpcy5vbWl0UHJvcHMubGVuZ3RoIHx8ICFyZWxhdGVkKSB7XG4gICAgICByZXR1cm4gcmVsYXRlZDtcbiAgICB9XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVsYXRlZCkpIHtcbiAgICAgIHJldHVybiB0aGlzLm9taXRJbXBsaWNpdEpvaW5Qcm9wc0Zyb21PbmUocmVsYXRlZE1vZGVsQ2xhc3MsIHJlbGF0ZWQpO1xuICAgIH1cblxuICAgIGlmICghcmVsYXRlZC5sZW5ndGgpIHtcbiAgICAgIHJldHVybiByZWxhdGVkO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gcmVsYXRlZC5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgIHRoaXMub21pdEltcGxpY2l0Sm9pblByb3BzRnJvbU9uZShyZWxhdGVkTW9kZWxDbGFzcywgcmVsYXRlZFtpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbGF0ZWQ7XG4gIH1cblxuICBvbWl0SW1wbGljaXRKb2luUHJvcHNGcm9tT25lKHJlbGF0ZWRNb2RlbENsYXNzLCBtb2RlbCkge1xuICAgIGZvciAobGV0IGMgPSAwLCBsYyA9IHRoaXMub21pdFByb3BzLmxlbmd0aDsgYyA8IGxjOyArK2MpIHtcbiAgICAgIHJlbGF0ZWRNb2RlbENsYXNzLm9taXRJbXBsKG1vZGVsLCB0aGlzLm9taXRQcm9wc1tjXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZGVsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGpvaW4oYXJyKSB7XG4gIHJldHVybiBhcnIuam9pbigpO1xufSJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/relations/RelationUpdateOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _UpdateOperation2 = require('../queryBuilder/operations/UpdateOperation');\n\nvar _UpdateOperation3 = _interopRequireDefault(_UpdateOperation2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar RelationUpdateOperation = function (_UpdateOperation) {\n  (0, _inherits3.default)(RelationUpdateOperation, _UpdateOperation);\n\n  function RelationUpdateOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, RelationUpdateOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _UpdateOperation.call(this, name, opt));\n\n    _this.relation = opt.relation;\n    _this.owner = opt.owner;\n    return _this;\n  }\n\n  RelationUpdateOperation.prototype.onBeforeBuild = function onBeforeBuild(builder) {\n    _UpdateOperation.prototype.onBeforeBuild.call(this, builder);\n\n    this.relation.findQuery(builder, {\n      ownerIds: [this.owner.$values(this.relation.ownerProp)]\n    });\n  };\n\n  return RelationUpdateOperation;\n}(_UpdateOperation3.default);\n\nexports.default = RelationUpdateOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlbGF0aW9uVXBkYXRlT3BlcmF0aW9uLmpzIl0sIm5hbWVzIjpbIlJlbGF0aW9uVXBkYXRlT3BlcmF0aW9uIiwibmFtZSIsIm9wdCIsInJlbGF0aW9uIiwib3duZXIiLCJvbkJlZm9yZUJ1aWxkIiwiYnVpbGRlciIsImZpbmRRdWVyeSIsIm93bmVySWRzIiwiJHZhbHVlcyIsIm93bmVyUHJvcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7SUFFcUJBLHVCOzs7QUFFbkIsbUNBQVlDLElBQVosRUFBa0JDLEdBQWxCLEVBQXVCO0FBQUE7O0FBQUEsK0RBQ3JCLDRCQUFNRCxJQUFOLEVBQVlDLEdBQVosQ0FEcUI7O0FBR3JCLFVBQUtDLFFBQUwsR0FBZ0JELElBQUlDLFFBQXBCO0FBQ0EsVUFBS0MsS0FBTCxHQUFhRixJQUFJRSxLQUFqQjtBQUpxQjtBQUt0Qjs7b0NBRURDLGEsMEJBQWNDLE8sRUFBUztBQUNyQiwrQkFBTUQsYUFBTixZQUFvQkMsT0FBcEI7O0FBRUEsU0FBS0gsUUFBTCxDQUFjSSxTQUFkLENBQXdCRCxPQUF4QixFQUFpQztBQUMvQkUsZ0JBQVUsQ0FBQyxLQUFLSixLQUFMLENBQVdLLE9BQVgsQ0FBbUIsS0FBS04sUUFBTCxDQUFjTyxTQUFqQyxDQUFEO0FBRHFCLEtBQWpDO0FBR0QsRzs7Ozs7a0JBZmtCVix1QiIsImZpbGUiOiJSZWxhdGlvblVwZGF0ZU9wZXJhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVcGRhdGVPcGVyYXRpb24gZnJvbSAnLi4vcXVlcnlCdWlsZGVyL29wZXJhdGlvbnMvVXBkYXRlT3BlcmF0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVsYXRpb25VcGRhdGVPcGVyYXRpb24gZXh0ZW5kcyBVcGRhdGVPcGVyYXRpb24ge1xuXG4gIGNvbnN0cnVjdG9yKG5hbWUsIG9wdCkge1xuICAgIHN1cGVyKG5hbWUsIG9wdCk7XG5cbiAgICB0aGlzLnJlbGF0aW9uID0gb3B0LnJlbGF0aW9uO1xuICAgIHRoaXMub3duZXIgPSBvcHQub3duZXI7XG4gIH1cblxuICBvbkJlZm9yZUJ1aWxkKGJ1aWxkZXIpIHtcbiAgICBzdXBlci5vbkJlZm9yZUJ1aWxkKGJ1aWxkZXIpO1xuXG4gICAgdGhpcy5yZWxhdGlvbi5maW5kUXVlcnkoYnVpbGRlciwge1xuICAgICAgb3duZXJJZHM6IFt0aGlzLm93bmVyLiR2YWx1ZXModGhpcy5yZWxhdGlvbi5vd25lclByb3ApXVxuICAgIH0pO1xuICB9XG59Il19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/relations/RelationDeleteOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _DeleteOperation2 = require('../queryBuilder/operations/DeleteOperation');\n\nvar _DeleteOperation3 = _interopRequireDefault(_DeleteOperation2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar RelationDeleteOperation = function (_DeleteOperation) {\n  (0, _inherits3.default)(RelationDeleteOperation, _DeleteOperation);\n\n  function RelationDeleteOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, RelationDeleteOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _DeleteOperation.call(this, name, opt));\n\n    _this.relation = opt.relation;\n    _this.owner = opt.owner;\n    return _this;\n  }\n\n  RelationDeleteOperation.prototype.onBeforeBuild = function onBeforeBuild(builder) {\n    _DeleteOperation.prototype.onBeforeBuild.call(this, builder);\n\n    this.relation.findQuery(builder, {\n      ownerIds: [this.owner.$values(this.relation.ownerProp)]\n    });\n  };\n\n  return RelationDeleteOperation;\n}(_DeleteOperation3.default);\n\nexports.default = RelationDeleteOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlbGF0aW9uRGVsZXRlT3BlcmF0aW9uLmpzIl0sIm5hbWVzIjpbIlJlbGF0aW9uRGVsZXRlT3BlcmF0aW9uIiwibmFtZSIsIm9wdCIsInJlbGF0aW9uIiwib3duZXIiLCJvbkJlZm9yZUJ1aWxkIiwiYnVpbGRlciIsImZpbmRRdWVyeSIsIm93bmVySWRzIiwiJHZhbHVlcyIsIm93bmVyUHJvcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7SUFFcUJBLHVCOzs7QUFFbkIsbUNBQVlDLElBQVosRUFBa0JDLEdBQWxCLEVBQXVCO0FBQUE7O0FBQUEsK0RBQ3JCLDRCQUFNRCxJQUFOLEVBQVlDLEdBQVosQ0FEcUI7O0FBR3JCLFVBQUtDLFFBQUwsR0FBZ0JELElBQUlDLFFBQXBCO0FBQ0EsVUFBS0MsS0FBTCxHQUFhRixJQUFJRSxLQUFqQjtBQUpxQjtBQUt0Qjs7b0NBRURDLGEsMEJBQWNDLE8sRUFBUztBQUNyQiwrQkFBTUQsYUFBTixZQUFvQkMsT0FBcEI7O0FBRUEsU0FBS0gsUUFBTCxDQUFjSSxTQUFkLENBQXdCRCxPQUF4QixFQUFpQztBQUMvQkUsZ0JBQVUsQ0FBQyxLQUFLSixLQUFMLENBQVdLLE9BQVgsQ0FBbUIsS0FBS04sUUFBTCxDQUFjTyxTQUFqQyxDQUFEO0FBRHFCLEtBQWpDO0FBR0QsRzs7Ozs7a0JBZmtCVix1QiIsImZpbGUiOiJSZWxhdGlvbkRlbGV0ZU9wZXJhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEZWxldGVPcGVyYXRpb24gZnJvbSAnLi4vcXVlcnlCdWlsZGVyL29wZXJhdGlvbnMvRGVsZXRlT3BlcmF0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVsYXRpb25EZWxldGVPcGVyYXRpb24gZXh0ZW5kcyBEZWxldGVPcGVyYXRpb24ge1xuXG4gIGNvbnN0cnVjdG9yKG5hbWUsIG9wdCkge1xuICAgIHN1cGVyKG5hbWUsIG9wdCk7XG5cbiAgICB0aGlzLnJlbGF0aW9uID0gb3B0LnJlbGF0aW9uO1xuICAgIHRoaXMub3duZXIgPSBvcHQub3duZXI7XG4gIH1cblxuICBvbkJlZm9yZUJ1aWxkKGJ1aWxkZXIpIHtcbiAgICBzdXBlci5vbkJlZm9yZUJ1aWxkKGJ1aWxkZXIpO1xuXG4gICAgdGhpcy5yZWxhdGlvbi5maW5kUXVlcnkoYnVpbGRlciwge1xuICAgICAgb3duZXJJZHM6IFt0aGlzLm93bmVyLiR2YWx1ZXModGhpcy5yZWxhdGlvbi5vd25lclByb3ApXVxuICAgIH0pO1xuICB9XG59Il19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/relations/hasMany/HasManyInsertOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _InsertOperation2 = require('../../queryBuilder/operations/InsertOperation');\n\nvar _InsertOperation3 = _interopRequireDefault(_InsertOperation2);\n\nvar _promiseUtils = require('../../utils/promiseUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar HasManyInsertOperation = function (_InsertOperation) {\n  (0, _inherits3.default)(HasManyInsertOperation, _InsertOperation);\n\n  function HasManyInsertOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, HasManyInsertOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _InsertOperation.call(this, name, opt));\n\n    _this.relation = opt.relation;\n    _this.owner = opt.owner;\n    return _this;\n  }\n\n  HasManyInsertOperation.prototype.call = function call(builder, args) {\n    var retVal = _InsertOperation.prototype.call.call(this, builder, args);\n\n    for (var i = 0, lm = this.models.length; i < lm; ++i) {\n      var model = this.models[i];\n\n      for (var j = 0, lp = this.relation.relatedProp.length; j < lp; ++j) {\n        var relatedProp = this.relation.relatedProp[j];\n        var ownerProp = this.relation.ownerProp[j];\n\n        model[relatedProp] = this.owner[ownerProp];\n      }\n    }\n\n    return retVal;\n  };\n\n  HasManyInsertOperation.prototype.onAfterQuery = function onAfterQuery(builder, inserted) {\n    var _this2 = this;\n\n    var maybePromise = _InsertOperation.prototype.onAfterQuery.call(this, builder, inserted);\n\n    var isOneToOne = this.relation.isOneToOne();\n    var relName = this.relation.name;\n    var owner = this.owner;\n\n    return (0, _promiseUtils.after)(maybePromise, function (inserted) {\n      if (isOneToOne) {\n        owner[relName] = inserted[0] || null;\n      } else {\n        owner[relName] = _this2.relation.mergeModels(owner[relName], inserted);\n      }\n\n      return inserted;\n    });\n  };\n\n  return HasManyInsertOperation;\n}(_InsertOperation3.default);\n\nexports.default = HasManyInsertOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkhhc01hbnlJbnNlcnRPcGVyYXRpb24uanMiXSwibmFtZXMiOlsiSGFzTWFueUluc2VydE9wZXJhdGlvbiIsIm5hbWUiLCJvcHQiLCJyZWxhdGlvbiIsIm93bmVyIiwiY2FsbCIsImJ1aWxkZXIiLCJhcmdzIiwicmV0VmFsIiwiaSIsImxtIiwibW9kZWxzIiwibGVuZ3RoIiwibW9kZWwiLCJqIiwibHAiLCJyZWxhdGVkUHJvcCIsIm93bmVyUHJvcCIsIm9uQWZ0ZXJRdWVyeSIsImluc2VydGVkIiwibWF5YmVQcm9taXNlIiwiaXNPbmVUb09uZSIsInJlbE5hbWUiLCJtZXJnZU1vZGVscyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7SUFFcUJBLHNCOzs7QUFFbkIsa0NBQVlDLElBQVosRUFBa0JDLEdBQWxCLEVBQXVCO0FBQUE7O0FBQUEsK0RBQ3JCLDRCQUFNRCxJQUFOLEVBQVlDLEdBQVosQ0FEcUI7O0FBR3JCLFVBQUtDLFFBQUwsR0FBZ0JELElBQUlDLFFBQXBCO0FBQ0EsVUFBS0MsS0FBTCxHQUFhRixJQUFJRSxLQUFqQjtBQUpxQjtBQUt0Qjs7bUNBRURDLEksaUJBQUtDLE8sRUFBU0MsSSxFQUFNO0FBQ2xCLFFBQU1DLFNBQVMsMkJBQU1ILElBQU4sWUFBV0MsT0FBWCxFQUFvQkMsSUFBcEIsQ0FBZjs7QUFFQSxTQUFLLElBQUlFLElBQUksQ0FBUixFQUFXQyxLQUFLLEtBQUtDLE1BQUwsQ0FBWUMsTUFBakMsRUFBeUNILElBQUlDLEVBQTdDLEVBQWlELEVBQUVELENBQW5ELEVBQXNEO0FBQ3BELFVBQU1JLFFBQVEsS0FBS0YsTUFBTCxDQUFZRixDQUFaLENBQWQ7O0FBRUEsV0FBSyxJQUFJSyxJQUFJLENBQVIsRUFBV0MsS0FBSyxLQUFLWixRQUFMLENBQWNhLFdBQWQsQ0FBMEJKLE1BQS9DLEVBQXVERSxJQUFJQyxFQUEzRCxFQUErRCxFQUFFRCxDQUFqRSxFQUFvRTtBQUNsRSxZQUFNRSxjQUFjLEtBQUtiLFFBQUwsQ0FBY2EsV0FBZCxDQUEwQkYsQ0FBMUIsQ0FBcEI7QUFDQSxZQUFNRyxZQUFZLEtBQUtkLFFBQUwsQ0FBY2MsU0FBZCxDQUF3QkgsQ0FBeEIsQ0FBbEI7O0FBRUFELGNBQU1HLFdBQU4sSUFBcUIsS0FBS1osS0FBTCxDQUFXYSxTQUFYLENBQXJCO0FBQ0Q7QUFDRjs7QUFFRCxXQUFPVCxNQUFQO0FBQ0QsRzs7bUNBRURVLFkseUJBQWFaLE8sRUFBU2EsUSxFQUFVO0FBQUE7O0FBQzlCLFFBQU1DLGVBQWUsMkJBQU1GLFlBQU4sWUFBbUJaLE9BQW5CLEVBQTRCYSxRQUE1QixDQUFyQjs7QUFFQSxRQUFNRSxhQUFhLEtBQUtsQixRQUFMLENBQWNrQixVQUFkLEVBQW5CO0FBQ0EsUUFBTUMsVUFBVSxLQUFLbkIsUUFBTCxDQUFjRixJQUE5QjtBQUNBLFFBQU1HLFFBQVEsS0FBS0EsS0FBbkI7O0FBRUEsV0FBTyx5QkFBTWdCLFlBQU4sRUFBb0Isb0JBQVk7QUFDckMsVUFBSUMsVUFBSixFQUFnQjtBQUNkakIsY0FBTWtCLE9BQU4sSUFBaUJILFNBQVMsQ0FBVCxLQUFlLElBQWhDO0FBQ0QsT0FGRCxNQUVPO0FBQ0xmLGNBQU1rQixPQUFOLElBQWlCLE9BQUtuQixRQUFMLENBQWNvQixXQUFkLENBQTBCbkIsTUFBTWtCLE9BQU4sQ0FBMUIsRUFBMENILFFBQTFDLENBQWpCO0FBQ0Q7O0FBRUQsYUFBT0EsUUFBUDtBQUNELEtBUk0sQ0FBUDtBQVNELEc7Ozs7O2tCQTFDa0JuQixzQiIsImZpbGUiOiJIYXNNYW55SW5zZXJ0T3BlcmF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEluc2VydE9wZXJhdGlvbiBmcm9tICcuLi8uLi9xdWVyeUJ1aWxkZXIvb3BlcmF0aW9ucy9JbnNlcnRPcGVyYXRpb24nO1xuaW1wb3J0IHthZnRlcn0gZnJvbSAnLi4vLi4vdXRpbHMvcHJvbWlzZVV0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGFzTWFueUluc2VydE9wZXJhdGlvbiBleHRlbmRzIEluc2VydE9wZXJhdGlvbiB7XG5cbiAgY29uc3RydWN0b3IobmFtZSwgb3B0KSB7XG4gICAgc3VwZXIobmFtZSwgb3B0KTtcblxuICAgIHRoaXMucmVsYXRpb24gPSBvcHQucmVsYXRpb247XG4gICAgdGhpcy5vd25lciA9IG9wdC5vd25lcjtcbiAgfVxuXG4gIGNhbGwoYnVpbGRlciwgYXJncykge1xuICAgIGNvbnN0IHJldFZhbCA9IHN1cGVyLmNhbGwoYnVpbGRlciwgYXJncyk7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbG0gPSB0aGlzLm1vZGVscy5sZW5ndGg7IGkgPCBsbTsgKytpKSB7XG4gICAgICBjb25zdCBtb2RlbCA9IHRoaXMubW9kZWxzW2ldO1xuXG4gICAgICBmb3IgKGxldCBqID0gMCwgbHAgPSB0aGlzLnJlbGF0aW9uLnJlbGF0ZWRQcm9wLmxlbmd0aDsgaiA8IGxwOyArK2opIHtcbiAgICAgICAgY29uc3QgcmVsYXRlZFByb3AgPSB0aGlzLnJlbGF0aW9uLnJlbGF0ZWRQcm9wW2pdO1xuICAgICAgICBjb25zdCBvd25lclByb3AgPSB0aGlzLnJlbGF0aW9uLm93bmVyUHJvcFtqXTtcblxuICAgICAgICBtb2RlbFtyZWxhdGVkUHJvcF0gPSB0aGlzLm93bmVyW293bmVyUHJvcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldFZhbDtcbiAgfVxuXG4gIG9uQWZ0ZXJRdWVyeShidWlsZGVyLCBpbnNlcnRlZCkge1xuICAgIGNvbnN0IG1heWJlUHJvbWlzZSA9IHN1cGVyLm9uQWZ0ZXJRdWVyeShidWlsZGVyLCBpbnNlcnRlZCk7XG5cbiAgICBjb25zdCBpc09uZVRvT25lID0gdGhpcy5yZWxhdGlvbi5pc09uZVRvT25lKCk7XG4gICAgY29uc3QgcmVsTmFtZSA9IHRoaXMucmVsYXRpb24ubmFtZTtcbiAgICBjb25zdCBvd25lciA9IHRoaXMub3duZXI7XG5cbiAgICByZXR1cm4gYWZ0ZXIobWF5YmVQcm9taXNlLCBpbnNlcnRlZCA9PiB7XG4gICAgICBpZiAoaXNPbmVUb09uZSkge1xuICAgICAgICBvd25lcltyZWxOYW1lXSA9IGluc2VydGVkWzBdIHx8IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvd25lcltyZWxOYW1lXSA9IHRoaXMucmVsYXRpb24ubWVyZ2VNb2RlbHMob3duZXJbcmVsTmFtZV0sIGluc2VydGVkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGluc2VydGVkO1xuICAgIH0pO1xuICB9XG59XG4iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/relations/hasMany/HasManyRelateOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _normalizeIds = require('../../utils/normalizeIds');\n\nvar _normalizeIds2 = _interopRequireDefault(_normalizeIds);\n\nvar _QueryBuilderOperation = require('../../queryBuilder/operations/QueryBuilderOperation');\n\nvar _QueryBuilderOperation2 = _interopRequireDefault(_QueryBuilderOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar HasManyRelateOperation = function (_QueryBuilderOperatio) {\n  (0, _inherits3.default)(HasManyRelateOperation, _QueryBuilderOperatio);\n\n  function HasManyRelateOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, HasManyRelateOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _QueryBuilderOperatio.call(this, name, opt));\n\n    _this.isWriteOperation = true;\n    _this.relation = opt.relation;\n    _this.owner = opt.owner;\n    _this.input = null;\n    _this.ids = null;\n    return _this;\n  }\n\n  HasManyRelateOperation.prototype.call = function call(builder, args) {\n    this.input = args[0];\n    this.ids = (0, _normalizeIds2.default)(args[0], this.relation.relatedModelClass.getIdPropertyArray(), { arrayOutput: true });\n    return true;\n  };\n\n  HasManyRelateOperation.prototype.queryExecutor = function queryExecutor(builder) {\n    var patch = {};\n\n    for (var i = 0, l = this.relation.relatedProp.length; i < l; ++i) {\n      var relatedProp = this.relation.relatedProp[i];\n      var ownerProp = this.relation.ownerProp[i];\n\n      patch[relatedProp] = this.owner[ownerProp];\n    }\n\n    return this.relation.relatedModelClass.query().childQueryOf(builder).patch(patch).copyFrom(builder, /where/i).whereInComposite(this.relation.relatedModelClass.getFullIdColumn(), this.ids).modify(this.relation.modify);\n  };\n\n  HasManyRelateOperation.prototype.onAfterInternal = function onAfterInternal() {\n    return this.input;\n  };\n\n  return HasManyRelateOperation;\n}(_QueryBuilderOperation2.default);\n\nexports.default = HasManyRelateOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkhhc01hbnlSZWxhdGVPcGVyYXRpb24uanMiXSwibmFtZXMiOlsiSGFzTWFueVJlbGF0ZU9wZXJhdGlvbiIsIm5hbWUiLCJvcHQiLCJpc1dyaXRlT3BlcmF0aW9uIiwicmVsYXRpb24iLCJvd25lciIsImlucHV0IiwiaWRzIiwiY2FsbCIsImJ1aWxkZXIiLCJhcmdzIiwicmVsYXRlZE1vZGVsQ2xhc3MiLCJnZXRJZFByb3BlcnR5QXJyYXkiLCJhcnJheU91dHB1dCIsInF1ZXJ5RXhlY3V0b3IiLCJwYXRjaCIsImkiLCJsIiwicmVsYXRlZFByb3AiLCJsZW5ndGgiLCJvd25lclByb3AiLCJxdWVyeSIsImNoaWxkUXVlcnlPZiIsImNvcHlGcm9tIiwid2hlcmVJbkNvbXBvc2l0ZSIsImdldEZ1bGxJZENvbHVtbiIsIm1vZGlmeSIsIm9uQWZ0ZXJJbnRlcm5hbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7OztJQUVxQkEsc0I7OztBQUVuQixrQ0FBWUMsSUFBWixFQUFrQkMsR0FBbEIsRUFBdUI7QUFBQTs7QUFBQSwrREFDckIsaUNBQU1ELElBQU4sRUFBWUMsR0FBWixDQURxQjs7QUFHckIsVUFBS0MsZ0JBQUwsR0FBd0IsSUFBeEI7QUFDQSxVQUFLQyxRQUFMLEdBQWdCRixJQUFJRSxRQUFwQjtBQUNBLFVBQUtDLEtBQUwsR0FBYUgsSUFBSUcsS0FBakI7QUFDQSxVQUFLQyxLQUFMLEdBQWEsSUFBYjtBQUNBLFVBQUtDLEdBQUwsR0FBVyxJQUFYO0FBUHFCO0FBUXRCOzttQ0FFREMsSSxpQkFBS0MsTyxFQUFTQyxJLEVBQU07QUFDbEIsU0FBS0osS0FBTCxHQUFhSSxLQUFLLENBQUwsQ0FBYjtBQUNBLFNBQUtILEdBQUwsR0FBVyw0QkFBYUcsS0FBSyxDQUFMLENBQWIsRUFBc0IsS0FBS04sUUFBTCxDQUFjTyxpQkFBZCxDQUFnQ0Msa0JBQWhDLEVBQXRCLEVBQTRFLEVBQUNDLGFBQWEsSUFBZCxFQUE1RSxDQUFYO0FBQ0EsV0FBTyxJQUFQO0FBQ0QsRzs7bUNBRURDLGEsMEJBQWNMLE8sRUFBUztBQUNyQixRQUFJTSxRQUFRLEVBQVo7O0FBRUEsU0FBSyxJQUFJQyxJQUFJLENBQVIsRUFBV0MsSUFBSSxLQUFLYixRQUFMLENBQWNjLFdBQWQsQ0FBMEJDLE1BQTlDLEVBQXNESCxJQUFJQyxDQUExRCxFQUE2RCxFQUFFRCxDQUEvRCxFQUFrRTtBQUNoRSxVQUFNRSxjQUFjLEtBQUtkLFFBQUwsQ0FBY2MsV0FBZCxDQUEwQkYsQ0FBMUIsQ0FBcEI7QUFDQSxVQUFNSSxZQUFZLEtBQUtoQixRQUFMLENBQWNnQixTQUFkLENBQXdCSixDQUF4QixDQUFsQjs7QUFFQUQsWUFBTUcsV0FBTixJQUFxQixLQUFLYixLQUFMLENBQVdlLFNBQVgsQ0FBckI7QUFDRDs7QUFFRCxXQUFPLEtBQUtoQixRQUFMLENBQWNPLGlCQUFkLENBQ0pVLEtBREksR0FFSkMsWUFGSSxDQUVTYixPQUZULEVBR0pNLEtBSEksQ0FHRUEsS0FIRixFQUlKUSxRQUpJLENBSUtkLE9BSkwsRUFJYyxRQUpkLEVBS0plLGdCQUxJLENBS2EsS0FBS3BCLFFBQUwsQ0FBY08saUJBQWQsQ0FBZ0NjLGVBQWhDLEVBTGIsRUFLZ0UsS0FBS2xCLEdBTHJFLEVBTUptQixNQU5JLENBTUcsS0FBS3RCLFFBQUwsQ0FBY3NCLE1BTmpCLENBQVA7QUFPRCxHOzttQ0FFREMsZSw4QkFBa0I7QUFDaEIsV0FBTyxLQUFLckIsS0FBWjtBQUNELEc7Ozs7O2tCQXZDa0JOLHNCIiwiZmlsZSI6Ikhhc01hbnlSZWxhdGVPcGVyYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbm9ybWFsaXplSWRzIGZyb20gJy4uLy4uL3V0aWxzL25vcm1hbGl6ZUlkcyc7XG5pbXBvcnQgUXVlcnlCdWlsZGVyT3BlcmF0aW9uIGZyb20gJy4uLy4uL3F1ZXJ5QnVpbGRlci9vcGVyYXRpb25zL1F1ZXJ5QnVpbGRlck9wZXJhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhhc01hbnlSZWxhdGVPcGVyYXRpb24gZXh0ZW5kcyBRdWVyeUJ1aWxkZXJPcGVyYXRpb24ge1xuXG4gIGNvbnN0cnVjdG9yKG5hbWUsIG9wdCkge1xuICAgIHN1cGVyKG5hbWUsIG9wdCk7XG5cbiAgICB0aGlzLmlzV3JpdGVPcGVyYXRpb24gPSB0cnVlO1xuICAgIHRoaXMucmVsYXRpb24gPSBvcHQucmVsYXRpb247XG4gICAgdGhpcy5vd25lciA9IG9wdC5vd25lcjtcbiAgICB0aGlzLmlucHV0ID0gbnVsbDtcbiAgICB0aGlzLmlkcyA9IG51bGw7XG4gIH1cblxuICBjYWxsKGJ1aWxkZXIsIGFyZ3MpIHtcbiAgICB0aGlzLmlucHV0ID0gYXJnc1swXTtcbiAgICB0aGlzLmlkcyA9IG5vcm1hbGl6ZUlkcyhhcmdzWzBdLCB0aGlzLnJlbGF0aW9uLnJlbGF0ZWRNb2RlbENsYXNzLmdldElkUHJvcGVydHlBcnJheSgpLCB7YXJyYXlPdXRwdXQ6IHRydWV9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHF1ZXJ5RXhlY3V0b3IoYnVpbGRlcikge1xuICAgIHZhciBwYXRjaCA9IHt9O1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLnJlbGF0aW9uLnJlbGF0ZWRQcm9wLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgY29uc3QgcmVsYXRlZFByb3AgPSB0aGlzLnJlbGF0aW9uLnJlbGF0ZWRQcm9wW2ldO1xuICAgICAgY29uc3Qgb3duZXJQcm9wID0gdGhpcy5yZWxhdGlvbi5vd25lclByb3BbaV07XG5cbiAgICAgIHBhdGNoW3JlbGF0ZWRQcm9wXSA9IHRoaXMub3duZXJbb3duZXJQcm9wXTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5yZWxhdGlvbi5yZWxhdGVkTW9kZWxDbGFzc1xuICAgICAgLnF1ZXJ5KClcbiAgICAgIC5jaGlsZFF1ZXJ5T2YoYnVpbGRlcilcbiAgICAgIC5wYXRjaChwYXRjaClcbiAgICAgIC5jb3B5RnJvbShidWlsZGVyLCAvd2hlcmUvaSlcbiAgICAgIC53aGVyZUluQ29tcG9zaXRlKHRoaXMucmVsYXRpb24ucmVsYXRlZE1vZGVsQ2xhc3MuZ2V0RnVsbElkQ29sdW1uKCksIHRoaXMuaWRzKVxuICAgICAgLm1vZGlmeSh0aGlzLnJlbGF0aW9uLm1vZGlmeSk7XG4gIH1cblxuICBvbkFmdGVySW50ZXJuYWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXQ7XG4gIH1cbn1cbiJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/utils/normalizeIds.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _stringify = require('babel-runtime/core-js/json/stringify');\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nexports.default = normalizeIds;\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction normalizeIds(ids, expectedProperties, opt) {\n  opt = opt || {};\n\n  if (!_lodash2.default.isArray(expectedProperties)) {\n    throw new Error('expected expectedProperties to be an array, got ' + expectedProperties);\n  }\n\n  if (expectedProperties.length === 0) {\n    throw new Error('expectedProperties must not be empty');\n  }\n\n  var isComposite = expectedProperties.length > 1;\n  var ret = void 0;\n\n  if (isComposite) {\n    // For composite ids these are okay:\n    //\n    // 1. [1, 'foo', 4]\n    // 2. {a: 1, b: 'foo', c: 4}\n    // 3. [[1, 'foo', 4], [4, 'bar', 1]]\n    // 4. [{a: 1, b: 'foo', c: 4}, {a: 4, b: 'bar', c: 1}]\n    //\n    if (Array.isArray(ids)) {\n      if (Array.isArray(ids[0])) {\n        ret = new Array(ids.length);\n\n        // 3.\n        for (var i = 0, l = ids.length; i < l; ++i) {\n          ret[i] = convertIdArrayToObject(ids[i], expectedProperties);\n        }\n      } else if (_lodash2.default.isObject(ids[0])) {\n        ret = new Array(ids.length);\n\n        // 4.\n        for (var _i = 0, _l = ids.length; _i < _l; ++_i) {\n          ret[_i] = ensureObject(ids[_i], expectedProperties);\n        }\n      } else {\n        // 1.\n        ret = [convertIdArrayToObject(ids, expectedProperties)];\n      }\n    } else if (_lodash2.default.isObject(ids)) {\n      // 2.\n      ret = [ids];\n    } else {\n      throw new Error('invalid composite key ' + (0, _stringify2.default)(ids));\n    }\n  } else {\n    // For non-composite ids, these are okay:\n    //\n    // 1. 1\n    // 2. {id: 1}\n    // 3. [1, 'foo', 4]\n    // 4. [{id: 1}, {id: 'foo'}, {id: 4}]\n    //\n    if (_lodash2.default.isArray(ids)) {\n      if (_lodash2.default.isObject(ids[0])) {\n        ret = new Array(ids.length);\n\n        // 4.\n        for (var _i2 = 0, _l2 = ids.length; _i2 < _l2; ++_i2) {\n          ret[_i2] = ensureObject(ids[_i2]);\n        }\n      } else {\n        ret = new Array(ids.length);\n\n        // 3.\n        for (var _i3 = 0, _l3 = ids.length; _i3 < _l3; ++_i3) {\n          ret[_i3] = (0, _defineProperty3.default)({}, expectedProperties[0], ids[_i3]);\n        }\n      }\n    } else if (_lodash2.default.isObject(ids)) {\n      // 2.\n      ret = [ids];\n    } else {\n      // 1.\n      ret = [(0, _defineProperty3.default)({}, expectedProperties[0], ids)];\n    }\n  }\n\n  checkProperties(ret, expectedProperties);\n\n  if (opt.arrayOutput) {\n    return normalizedToArray(ret, expectedProperties);\n  } else {\n    return ret;\n  }\n};\n\nfunction convertIdArrayToObject(ids, expectedProperties) {\n  if (!Array.isArray(ids)) {\n    throw new Error('invalid composite key ' + (0, _stringify2.default)(ids));\n  }\n\n  if (ids.length != expectedProperties.length) {\n    throw new Error('composite identifier ' + (0, _stringify2.default)(ids) + ' should have ' + expectedProperties.length + ' values');\n  }\n\n  return _lodash2.default.zipObject(expectedProperties, ids);\n}\n\nfunction ensureObject(ids) {\n  if (_lodash2.default.isObject(ids)) {\n    return ids;\n  } else {\n    throw new Error('invalid composite key ' + (0, _stringify2.default)(ids));\n  }\n}\n\nfunction checkProperties(ret, expectedProperties) {\n  for (var i = 0, l = ret.length; i < l; ++i) {\n    var obj = ret[i];\n\n    for (var j = 0, lp = expectedProperties.length; j < lp; ++j) {\n      var prop = expectedProperties[j];\n\n      if (typeof obj[prop] === 'undefined') {\n        throw new Error('expected id ' + (0, _stringify2.default)(obj) + ' to have property ' + prop);\n      }\n    }\n  }\n}\n\nfunction normalizedToArray(ret, expectedProperties) {\n  var arr = new Array(ret.length);\n\n  for (var i = 0, l = ret.length; i < l; ++i) {\n    var obj = ret[i];\n    var ids = new Array(expectedProperties.length);\n\n    for (var j = 0, lp = expectedProperties.length; j < lp; ++j) {\n      var prop = expectedProperties[j];\n      ids[j] = obj[prop];\n    }\n\n    arr[i] = ids;\n  }\n\n  return arr;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vcm1hbGl6ZUlkcy5qcyJdLCJuYW1lcyI6WyJub3JtYWxpemVJZHMiLCJpZHMiLCJleHBlY3RlZFByb3BlcnRpZXMiLCJvcHQiLCJpc0FycmF5IiwiRXJyb3IiLCJsZW5ndGgiLCJpc0NvbXBvc2l0ZSIsInJldCIsIkFycmF5IiwiaSIsImwiLCJjb252ZXJ0SWRBcnJheVRvT2JqZWN0IiwiaXNPYmplY3QiLCJlbnN1cmVPYmplY3QiLCJjaGVja1Byb3BlcnRpZXMiLCJhcnJheU91dHB1dCIsIm5vcm1hbGl6ZWRUb0FycmF5IiwiemlwT2JqZWN0Iiwib2JqIiwiaiIsImxwIiwicHJvcCIsImFyciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7a0JBRXdCQSxZOztBQUZ4Qjs7Ozs7O0FBRWUsU0FBU0EsWUFBVCxDQUFzQkMsR0FBdEIsRUFBMkJDLGtCQUEzQixFQUErQ0MsR0FBL0MsRUFBb0Q7QUFDakVBLFFBQU1BLE9BQU8sRUFBYjs7QUFFQSxNQUFJLENBQUMsaUJBQUVDLE9BQUYsQ0FBVUYsa0JBQVYsQ0FBTCxFQUFvQztBQUNsQyxVQUFNLElBQUlHLEtBQUosc0RBQTZESCxrQkFBN0QsQ0FBTjtBQUNEOztBQUVELE1BQUlBLG1CQUFtQkksTUFBbkIsS0FBOEIsQ0FBbEMsRUFBcUM7QUFDbkMsVUFBTSxJQUFJRCxLQUFKLHdDQUFOO0FBQ0Q7O0FBRUQsTUFBSUUsY0FBY0wsbUJBQW1CSSxNQUFuQixHQUE0QixDQUE5QztBQUNBLE1BQUlFLFlBQUo7O0FBRUEsTUFBSUQsV0FBSixFQUFpQjtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBSUUsTUFBTUwsT0FBTixDQUFjSCxHQUFkLENBQUosRUFBd0I7QUFDdEIsVUFBSVEsTUFBTUwsT0FBTixDQUFjSCxJQUFJLENBQUosQ0FBZCxDQUFKLEVBQTJCO0FBQ3pCTyxjQUFNLElBQUlDLEtBQUosQ0FBVVIsSUFBSUssTUFBZCxDQUFOOztBQUVBO0FBQ0EsYUFBSyxJQUFJSSxJ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RUFBZ0NJLElBQUlDLENBQXBDLEVBQXVDLEVBQUVELENBQXpDLEVBQTRDO0FBQzFDLFFBQU1TLE1BQU1YLElBQUlFLENBQUosQ0FBWjtBQUNBLFFBQU1ULE1BQU0sSUFBSVEsS0FBSixDQUFVUCxtQkFBbUJJLE1BQTdCLENBQVo7O0FBRUEsU0FBSyxJQUFJYyxJQUFJLENBQVIsRUFBV0MsS0FBS25CLG1CQUFtQkksTUFBeEMsRUFBZ0RjLElBQUlDLEVBQXBELEVBQXdELEVBQUVELENBQTFELEVBQTZEO0FBQzNELFVBQU1FLE9BQU9wQixtQkFBbUJrQixDQUFuQixDQUFiO0FBQ0FuQixVQUFJbUIsQ0FBSixJQUFTRCxJQUFJRyxJQUFKLENBQVQ7QUFDRDs7QUFFREMsUUFBSWIsQ0FBSixJQUFTVCxHQUFUO0FBQ0Q7O0FBRUQsU0FBT3NCLEdBQVA7QUFDRCIsImZpbGUiOiJub3JtYWxpemVJZHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBub3JtYWxpemVJZHMoaWRzLCBleHBlY3RlZFByb3BlcnRpZXMsIG9wdCkge1xuICBvcHQgPSBvcHQgfHwge307XG5cbiAgaWYgKCFfLmlzQXJyYXkoZXhwZWN0ZWRQcm9wZXJ0aWVzKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgZXhwZWN0ZWQgZXhwZWN0ZWRQcm9wZXJ0aWVzIHRvIGJlIGFuIGFycmF5LCBnb3QgJHtleHBlY3RlZFByb3BlcnRpZXN9YCk7XG4gIH1cblxuICBpZiAoZXhwZWN0ZWRQcm9wZXJ0aWVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgZXhwZWN0ZWRQcm9wZXJ0aWVzIG11c3Qgbm90IGJlIGVtcHR5YCk7XG4gIH1cblxuICBsZXQgaXNDb21wb3NpdGUgPSBleHBlY3RlZFByb3BlcnRpZXMubGVuZ3RoID4gMTtcbiAgbGV0IHJldDtcblxuICBpZiAoaXNDb21wb3NpdGUpIHtcbiAgICAvLyBGb3IgY29tcG9zaXRlIGlkcyB0aGVzZSBhcmUgb2theTpcbiAgICAvL1xuICAgIC8vIDEuIFsxLCAnZm9vJywgNF1cbiAgICAvLyAyLiB7YTogMSwgYjogJ2ZvbycsIGM6IDR9XG4gICAgLy8gMy4gW1sxLCAnZm9vJywgNF0sIFs0LCAnYmFyJywgMV1dXG4gICAgLy8gNC4gW3thOiAxLCBiOiAnZm9vJywgYzogNH0sIHthOiA0LCBiOiAnYmFyJywgYzogMX1dXG4gICAgLy9cbiAgICBpZiAoQXJyYXkuaXNBcnJheShpZHMpKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShpZHNbMF0pKSB7XG4gICAgICAgIHJldCA9IG5ldyBBcnJheShpZHMubGVuZ3RoKTtcblxuICAgICAgICAvLyAzLlxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGlkcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICByZXRbaV0gPSBjb252ZXJ0SWRBcnJheVRvT2JqZWN0KGlkc1tpXSwgZXhwZWN0ZWRQcm9wZXJ0aWVzKVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKF8uaXNPYmplY3QoaWRzWzBdKSkge1xuICAgICAgICByZXQgPSBuZXcgQXJyYXkoaWRzLmxlbmd0aCk7XG5cbiAgICAgICAgLy8gNC5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBpZHMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgcmV0W2ldID0gZW5zdXJlT2JqZWN0KGlkc1tpXSwgZXhwZWN0ZWRQcm9wZXJ0aWVzKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyAxLlxuICAgICAgICByZXQgPSBbY29udmVydElkQXJyYXlUb09iamVjdChpZHMsIGV4cGVjdGVkUHJvcGVydGllcyldO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoXy5pc09iamVjdChpZHMpKSB7XG4gICAgICAvLyAyLlxuICAgICAgcmV0ID0gW2lkc107XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCBjb21wb3NpdGUga2V5ICR7SlNPTi5zdHJpbmdpZnkoaWRzKX1gKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gRm9yIG5vbi1jb21wb3NpdGUgaWRzLCB0aGVzZSBhcmUgb2theTpcbiAgICAvL1xuICAgIC8vIDEuIDFcbiAgICAvLyAyLiB7aWQ6IDF9XG4gICAgLy8gMy4gWzEsICdmb28nLCA0XVxuICAgIC8vIDQuIFt7aWQ6IDF9LCB7aWQ6ICdmb28nfSwge2lkOiA0fV1cbiAgICAvL1xuICAgIGlmIChfLmlzQXJyYXkoaWRzKSkge1xuICAgICAgaWYgKF8uaXNPYmplY3QoaWRzWzBdKSkge1xuICAgICAgICByZXQgPSBuZXcgQXJyYXkoaWRzLmxlbmd0aCk7XG5cbiAgICAgICAgLy8gNC5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBpZHMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgcmV0W2ldID0gZW5zdXJlT2JqZWN0KGlkc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldCA9IG5ldyBBcnJheShpZHMubGVuZ3RoKTtcblxuICAgICAgICAvLyAzLlxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGlkcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICByZXRbaV0gPSB7W2V4cGVjdGVkUHJvcGVydGllc1swXV06IGlkc1tpXX07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKF8uaXNPYmplY3QoaWRzKSkge1xuICAgICAgLy8gMi5cbiAgICAgIHJldCA9IFtpZHNdO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyAxLlxuICAgICAgcmV0ID0gW3tbZXhwZWN0ZWRQcm9wZXJ0aWVzWzBdXTogaWRzfV07XG4gICAgfVxuICB9XG5cbiAgY2hlY2tQcm9wZXJ0aWVzKHJldCwgZXhwZWN0ZWRQcm9wZXJ0aWVzKTtcblxuICBpZiAob3B0LmFycmF5T3V0cHV0KSB7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZWRUb0FycmF5KHJldCwgZXhwZWN0ZWRQcm9wZXJ0aWVzKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcmV0O1xuICB9XG59O1xuXG5mdW5jdGlvbiBjb252ZXJ0SWRBcnJheVRvT2JqZWN0KGlkcywgZXhwZWN0ZWRQcm9wZXJ0aWVzKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShpZHMpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIGNvbXBvc2l0ZSBrZXkgJHtKU09OLnN0cmluZ2lmeShpZHMpfWApO1xuICB9XG5cbiAgaWYgKGlkcy5sZW5ndGggIT0gZXhwZWN0ZWRQcm9wZXJ0aWVzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgY29tcG9zaXRlIGlkZW50aWZpZXIgJHtKU09OLnN0cmluZ2lmeShpZHMpfSBzaG91bGQgaGF2ZSAke2V4cGVjdGVkUHJvcGVydGllcy5sZW5ndGh9IHZhbHVlc2ApO1xuICB9XG5cbiAgcmV0dXJuIF8uemlwT2JqZWN0KGV4cGVjdGVkUHJvcGVydGllcywgaWRzKTtcbn1cblxuZnVuY3Rpb24gZW5zdXJlT2JqZWN0KGlkcykge1xuICBpZiAoXy5pc09iamVjdChpZHMpKSB7XG4gICAgcmV0dXJuIGlkcztcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgY29tcG9zaXRlIGtleSAke0pTT04uc3RyaW5naWZ5KGlkcyl9YCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tQcm9wZXJ0aWVzKHJldCwgZXhwZWN0ZWRQcm9wZXJ0aWVzKSB7XG4gIGZvciAobGV0IGkgPSAwLCBsID0gcmV0Lmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgIGNvbnN0IG9iaiA9IHJldFtpXTtcblxuICAgIGZvciAobGV0IGogPSAwLCBscCA9IGV4cGVjdGVkUHJvcGVydGllcy5sZW5ndGg7IGogPCBscDsgKytqKSB7XG4gICAgICBjb25zdCBwcm9wID0gZXhwZWN0ZWRQcm9wZXJ0aWVzW2pdO1xuXG4gICAgICBpZiAodHlwZW9mIG9ialtwcm9wXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBleHBlY3RlZCBpZCAke0pTT04uc3RyaW5naWZ5KG9iail9IHRvIGhhdmUgcHJvcGVydHkgJHtwcm9wfWApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVkVG9BcnJheShyZXQsIGV4cGVjdGVkUHJvcGVydGllcykge1xuICBsZXQgYXJyID0gbmV3IEFycmF5KHJldC5sZW5ndGgpO1xuXG4gIGZvciAobGV0IGkgPSAwLCBsID0gcmV0Lmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgIGNvbnN0IG9iaiA9IHJldFtpXTtcbiAgICBjb25zdCBpZHMgPSBuZXcgQXJyYXkoZXhwZWN0ZWRQcm9wZXJ0aWVzLmxlbmd0aCk7XG5cbiAgICBmb3IgKGxldCBqID0gMCwgbHAgPSBleHBlY3RlZFByb3BlcnRpZXMubGVuZ3RoOyBqIDwgbHA7ICsraikge1xuICAgICAgY29uc3QgcHJvcCA9IGV4cGVjdGVkUHJvcGVydGllc1tqXTtcbiAgICAgIGlkc1tqXSA9IG9ialtwcm9wXTtcbiAgICB9XG5cbiAgICBhcnJbaV0gPSBpZHM7XG4gIH1cblxuICByZXR1cm4gYXJyO1xufSJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/relations/hasMany/HasManyUnrelateOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _QueryBuilderOperation = require('../../queryBuilder/operations/QueryBuilderOperation');\n\nvar _QueryBuilderOperation2 = _interopRequireDefault(_QueryBuilderOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar HasManyUnrelateOperation = function (_QueryBuilderOperatio) {\n  (0, _inherits3.default)(HasManyUnrelateOperation, _QueryBuilderOperatio);\n\n  function HasManyUnrelateOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, HasManyUnrelateOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _QueryBuilderOperatio.call(this, name, opt));\n\n    _this.isWriteOperation = true;\n    _this.relation = opt.relation;\n    _this.owner = opt.owner;\n    _this.ids = null;\n    return _this;\n  }\n\n  HasManyUnrelateOperation.prototype.queryExecutor = function queryExecutor(builder) {\n    var patch = {};\n\n    for (var i = 0, l = this.relation.relatedProp.length; i < l; ++i) {\n      patch[this.relation.relatedProp[i]] = null;\n    }\n\n    return this.relation.relatedModelClass.query().childQueryOf(builder).patch(patch).copyFrom(builder, /where/i).whereComposite(this.relation.fullRelatedCol(), this.owner.$values(this.relation.ownerProp)).modify(this.relation.modify);\n  };\n\n  HasManyUnrelateOperation.prototype.onAfterInternal = function onAfterInternal() {\n    return {};\n  };\n\n  return HasManyUnrelateOperation;\n}(_QueryBuilderOperation2.default);\n\nexports.default = HasManyUnrelateOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkhhc01hbnlVbnJlbGF0ZU9wZXJhdGlvbi5qcyJdLCJuYW1lcyI6WyJIYXNNYW55VW5yZWxhdGVPcGVyYXRpb24iLCJuYW1lIiwib3B0IiwiaXNXcml0ZU9wZXJhdGlvbiIsInJlbGF0aW9uIiwib3duZXIiLCJpZHMiLCJxdWVyeUV4ZWN1dG9yIiwiYnVpbGRlciIsInBhdGNoIiwiaSIsImwiLCJyZWxhdGVkUHJvcCIsImxlbmd0aCIsInJlbGF0ZWRNb2RlbENsYXNzIiwicXVlcnkiLCJjaGlsZFF1ZXJ5T2YiLCJjb3B5RnJvbSIsIndoZXJlQ29tcG9zaXRlIiwiZnVsbFJlbGF0ZWRDb2wiLCIkdmFsdWVzIiwib3duZXJQcm9wIiwibW9kaWZ5Iiwib25BZnRlckludGVybmFsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7OztJQUVxQkEsd0I7OztBQUVuQixvQ0FBWUMsSUFBWixFQUFrQkMsR0FBbEIsRUFBdUI7QUFBQTs7QUFBQSwrREFDckIsaUNBQU1ELElBQU4sRUFBWUMsR0FBWixDQURxQjs7QUFHckIsVUFBS0MsZ0JBQUwsR0FBd0IsSUFBeEI7QUFDQSxVQUFLQyxRQUFMLEdBQWdCRixJQUFJRSxRQUFwQjtBQUNBLFVBQUtDLEtBQUwsR0FBYUgsSUFBSUcsS0FBakI7QUFDQSxVQUFLQyxHQUFMLEdBQVcsSUFBWDtBQU5xQjtBQU90Qjs7cUNBRURDLGEsMEJBQWNDLE8sRUFBUztBQUNyQixRQUFJQyxRQUFRLEVBQVo7O0FBRUEsU0FBSyxJQUFJQyxJQUFJLENBQVIsRUFBV0MsSUFBSSxLQUFLUCxRQUFMLENBQWNRLFdBQWQsQ0FBMEJDLE1BQTlDLEVBQXNESCxJQUFJQyxDQUExRCxFQUE2RCxFQUFFRCxDQUEvRCxFQUFrRTtBQUNoRUQsWUFBTSxLQUFLTCxRQUFMLENBQWNRLFdBQWQsQ0FBMEJGLENBQTFCLENBQU4sSUFBc0MsSUFBdEM7QUFDRDs7QUFFRCxXQUFPLEtBQUtOLFFBQUwsQ0FBY1UsaUJBQWQsQ0FDSkMsS0FESSxHQUVKQyxZQUZJLENBRVNSLE9BRlQsRUFHSkMsS0FISSxDQUdFQSxLQUhGLEVBSUpRLFFBSkksQ0FJS1QsT0FKTCxFQUljLFFBSmQsRUFLSlUsY0FMSSxDQUtXLEtBQUtkLFFBQUwsQ0FBY2UsY0FBZCxFQUxYLEVBSzJDLEtBQUtkLEtBQUwsQ0FBV2UsT0FBWCxDQUFtQixLQUFLaEIsUUFBTCxDQUFjaUIsU0FBakMsQ0FMM0MsRUFNSkMsTUFOSSxDQU1HLEtBQUtsQixRQUFMLENBQWNrQixNQU5qQixDQUFQO0FBT0QsRzs7cUNBRURDLGUsOEJBQWtCO0FBQ2hCLFdBQU8sRUFBUDtBQUNELEc7Ozs7O2tCQTdCa0J2Qix3QiIsImZpbGUiOiJIYXNNYW55VW5yZWxhdGVPcGVyYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUXVlcnlCdWlsZGVyT3BlcmF0aW9uIGZyb20gJy4uLy4uL3F1ZXJ5QnVpbGRlci9vcGVyYXRpb25zL1F1ZXJ5QnVpbGRlck9wZXJhdGlvbidcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGFzTWFueVVucmVsYXRlT3BlcmF0aW9uIGV4dGVuZHMgUXVlcnlCdWlsZGVyT3BlcmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcihuYW1lLCBvcHQpIHtcbiAgICBzdXBlcihuYW1lLCBvcHQpO1xuXG4gICAgdGhpcy5pc1dyaXRlT3BlcmF0aW9uID0gdHJ1ZTtcbiAgICB0aGlzLnJlbGF0aW9uID0gb3B0LnJlbGF0aW9uO1xuICAgIHRoaXMub3duZXIgPSBvcHQub3duZXI7XG4gICAgdGhpcy5pZHMgPSBudWxsO1xuICB9XG5cbiAgcXVlcnlFeGVjdXRvcihidWlsZGVyKSB7XG4gICAgdmFyIHBhdGNoID0ge307XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMucmVsYXRpb24ucmVsYXRlZFByb3AubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICBwYXRjaFt0aGlzLnJlbGF0aW9uLnJlbGF0ZWRQcm9wW2ldXSA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucmVsYXRpb24ucmVsYXRlZE1vZGVsQ2xhc3NcbiAgICAgIC5xdWVyeSgpXG4gICAgICAuY2hpbGRRdWVyeU9mKGJ1aWxkZXIpXG4gICAgICAucGF0Y2gocGF0Y2gpXG4gICAgICAuY29weUZyb20oYnVpbGRlciwgL3doZXJlL2kpXG4gICAgICAud2hlcmVDb21wb3NpdGUodGhpcy5yZWxhdGlvbi5mdWxsUmVsYXRlZENvbCgpLCB0aGlzLm93bmVyLiR2YWx1ZXModGhpcy5yZWxhdGlvbi5vd25lclByb3ApKVxuICAgICAgLm1vZGlmeSh0aGlzLnJlbGF0aW9uLm1vZGlmeSk7XG4gIH1cblxuICBvbkFmdGVySW50ZXJuYWwoKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG59XG4iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/relations/manyToMany/ManyToManyRelation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _getOwnPropertyDescriptor = require('babel-runtime/core-js/object/get-own-property-descriptor');\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _desc, _value, _class;\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _Relation2 = require('../Relation');\n\nvar _Relation3 = _interopRequireDefault(_Relation2);\n\nvar _inheritModel = require('../../model/inheritModel');\n\nvar _inheritModel2 = _interopRequireDefault(_inheritModel);\n\nvar _knexUtils = require('../../utils/knexUtils');\n\nvar _memoize = require('../../utils/decorators/memoize');\n\nvar _memoize2 = _interopRequireDefault(_memoize);\n\nvar _ManyToManyFindOperation = require('./ManyToManyFindOperation');\n\nvar _ManyToManyFindOperation2 = _interopRequireDefault(_ManyToManyFindOperation);\n\nvar _ManyToManyInsertOperation = require('./ManyToManyInsertOperation');\n\nvar _ManyToManyInsertOperation2 = _interopRequireDefault(_ManyToManyInsertOperation);\n\nvar _ManyToManyRelateOperation = require('./ManyToManyRelateOperation');\n\nvar _ManyToManyRelateOperation2 = _interopRequireDefault(_ManyToManyRelateOperation);\n\nvar _ManyToManyUnrelateOperation = require('./ManyToManyUnrelateOperation');\n\nvar _ManyToManyUnrelateOperation2 = _interopRequireDefault(_ManyToManyUnrelateOperation);\n\nvar _ManyToManyUnrelateSqliteOperation = require('./ManyToManyUnrelateSqliteOperation');\n\nvar _ManyToManyUnrelateSqliteOperation2 = _interopRequireDefault(_ManyToManyUnrelateSqliteOperation);\n\nvar _ManyToManyUpdateOperation = require('./ManyToManyUpdateOperation');\n\nvar _ManyToManyUpdateOperation2 = _interopRequireDefault(_ManyToManyUpdateOperation);\n\nvar _ManyToManyUpdateSqliteOperation = require('./ManyToManyUpdateSqliteOperation');\n\nvar _ManyToManyUpdateSqliteOperation2 = _interopRequireDefault(_ManyToManyUpdateSqliteOperation);\n\nvar _ManyToManyDeleteOperation = require('./ManyToManyDeleteOperation');\n\nvar _ManyToManyDeleteOperation2 = _interopRequireDefault(_ManyToManyDeleteOperation);\n\nvar _ManyToManyDeleteSqliteOperation = require('./ManyToManyDeleteSqliteOperation');\n\nvar _ManyToManyDeleteSqliteOperation2 = _interopRequireDefault(_ManyToManyDeleteSqliteOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\nvar sqliteBuiltInRowId = '_rowid_';\n\nvar ManyToManyRelation = (_class = function (_Relation) {\n  (0, _inherits3.default)(ManyToManyRelation, _Relation);\n\n  function ManyToManyRelation() {\n    (0, _classCallCheck3.default)(this, ManyToManyRelation);\n    return (0, _possibleConstructorReturn3.default)(this, _Relation.apply(this, arguments));\n  }\n\n  ManyToManyRelation.prototype.setMapping = function setMapping(mapping) {\n    var retVal = _Relation.prototype.setMapping.call(this, mapping);\n\n    // Avoid require loop and import here.\n    var Model = require(__dirname + '/../../model/Model').default;\n\n    if (!_lodash2.default.isObject(mapping.join.through)) {\n      this.throwError('join must have the `through` that describes the join table.');\n    }\n\n    if (!mapping.join.through.from || !mapping.join.through.to) {\n      this.throwError('join.through must be an object that describes the join table. For example: {from: \"JoinTable.someId\", to: \"JoinTable.someOtherId\"}');\n    }\n\n    var joinFrom = this.parseReference(mapping.join.from);\n    var joinTableFrom = this.parseReference(mapping.join.through.from);\n    var joinTableTo = this.parseReference(mapping.join.through.to);\n    var joinTableExtra = mapping.join.through.extra || [];\n\n    if (!joinTableFrom.table || _lodash2.default.isEmpty(joinTableFrom.columns)) {\n      this.throwError('join.through.from must have format JoinTable.columnName. For example \"JoinTable.someId\" or in case of composite key [\"JoinTable.a\", \"JoinTable.b\"].');\n    }\n\n    if (!joinTableTo.table || _lodash2.default.isEmpty(joinTableTo.columns)) {\n      this.throwError('join.through.to must have format JoinTable.columnName. For example \"JoinTable.someId\" or in case of composite key [\"JoinTable.a\", \"JoinTable.b\"].');\n    }\n\n    if (joinTableFrom.table !== joinTableTo.table) {\n      this.throwError('join.through `from` and `to` must point to the same join table.');\n    }\n\n    this.joinTable = joinTableFrom.table;\n\n    if (joinFrom.table === this.ownerModelClass.tableName) {\n      this.joinTableOwnerCol = joinTableFrom.columns;\n      this.joinTableRelatedCol = joinTableTo.columns;\n    } else {\n      this.joinTableRelatedCol = joinTableFrom.columns;\n      this.joinTableOwnerCol = joinTableTo.columns;\n    }\n\n    if (mapping.join.through.modelClass) {\n      this._joinTableModelClass = this.resolveModel(Model, mapping.join.through.modelClass, 'join.through.modelClass');\n    } else {\n      this._joinTableModelClass = (0, _inheritModel2.default)(Model);\n      this._joinTableModelClass.tableName = this.joinTable;\n      // We cannot know if the join table has a primary key. Therefore we set some\n      // known column as the idColumn so that inserts will work.\n      this._joinTableModelClass.idColumn = this.joinTableRelatedCol;\n    }\n\n    this.joinTableOwnerProp = this.propertyName(this.joinTableOwnerCol, this._joinTableModelClass);\n    this.joinTableRelatedProp = this.propertyName(this.joinTableRelatedCol, this._joinTableModelClass);\n    this.joinTableExtras = this.parseExtras(joinTableExtra);\n\n    return retVal;\n  };\n\n  /**\n   * @returns {Array.<string>}\n   */\n\n\n  ManyToManyRelation.prototype.fullJoinTableOwnerCol = function fullJoinTableOwnerCol() {\n    var _this2 = this;\n\n    return this.joinTableOwnerCol.map(function (col) {\n      return _this2.joinTable + '.' + col;\n    });\n  };\n\n  /**\n   * @returns {Array.<string>}\n   */\n\n\n  ManyToManyRelation.prototype.fullJoinTableRelatedCol = function fullJoinTableRelatedCol() {\n    var _this3 = this;\n\n    return this.joinTableRelatedCol.map(function (col) {\n      return _this3.joinTable + '.' + col;\n    });\n  };\n\n  /**\n   * @returns {string}\n   */\n\n\n  ManyToManyRelation.prototype.joinTableAlias = function joinTableAlias() {\n    return this.joinTable + '_rel_' + this.name;\n  };\n\n  /**\n   * @returns {ManyToManyRelation}\n   */\n\n\n  ManyToManyRelation.prototype.bindKnex = function bindKnex(knex) {\n    var bound = _Relation.prototype.bindKnex.call(this, knex);\n    bound._joinTableModelClass = this._joinTableModelClass.bindKnex(knex);\n    return bound;\n  };\n\n  /**\n   * @returns {QueryBuilder}\n   */\n\n\n  ManyToManyRelation.prototype.findQuery = function findQuery(builder, opt) {\n    var _this4 = this;\n\n    builder.join(this.joinTable, function (join) {\n      var fullRelatedCol = _this4.fullRelatedCol();\n      var fullJoinTableRelatedCol = _this4.fullJoinTableRelatedCol();\n\n      for (var i = 0, l = fullJoinTableRelatedCol.length; i < l; ++i) {\n        join.on(fullJoinTableRelatedCol[i], fullRelatedCol[i]);\n      }\n    });\n\n    if (opt.isColumnRef) {\n      var fullJoinTableOwnerCol = this.fullJoinTableOwnerCol();\n\n      for (var i = 0, l = fullJoinTableOwnerCol.length; i < l; ++i) {\n        builder.whereRef(fullJoinTableOwnerCol[i], opt.ownerIds[i]);\n      }\n    } else {\n      var hasIds = false;\n\n      for (var _i = 0, _l = opt.ownerIds.length; _i < _l; ++_i) {\n        var id = opt.ownerIds[_i];\n\n        if (id) {\n          hasIds = true;\n          break;\n        }\n      }\n\n      if (hasIds) {\n        builder.whereInComposite(this.fullJoinTableOwnerCol(), opt.ownerIds);\n      } else {\n        builder.resolve([]);\n      }\n    }\n\n    return builder.modify(this.modify);\n  };\n\n  /**\n   * @returns {QueryBuilder}\n   */\n\n\n  ManyToManyRelation.prototype.join = function join(builder, opt) {\n    opt = opt || {};\n\n    opt.joinOperation = opt.joinOperation || 'join';\n    opt.relatedTableAlias = opt.relatedTableAlias || this.relatedTableAlias();\n    opt.relatedJoinSelectQuery = opt.relatedJoinSelectQuery || this.relatedModelClass.query().childQueryOf(builder);\n    opt.relatedTable = opt.relatedTable || this.relatedModelClass.tableName;\n    opt.ownerTable = opt.ownerTable || this.ownerModelClass.tableName;\n    opt.joinTableAlias = opt.joinTableAlias || opt.relatedTableAlias + '_join';\n\n    var joinTableAsAlias = this.joinTable + ' as ' + opt.joinTableAlias;\n    var joinTableOwnerCol = this.joinTableOwnerCol.map(function (col) {\n      return opt.joinTableAlias + '.' + col;\n    });\n    var joinTableRelatedCol = this.joinTableRelatedCol.map(function (col) {\n      return opt.joinTableAlias + '.' + col;\n    });\n\n    var relatedCol = this.relatedCol.map(function (col) {\n      return opt.relatedTableAlias + '.' + col;\n    });\n    var ownerCol = this.ownerCol.map(function (col) {\n      return opt.ownerTable + '.' + col;\n    });\n\n    var relatedJoinSelect = opt.relatedJoinSelectQuery.modify(this.modify).as(opt.relatedTableAlias);\n\n    if (relatedJoinSelect.isSelectAll()) {\n      // No need to join a subquery if the query is `select * from \"RelatedTable\"`.\n      relatedJoinSelect = this.relatedModelClass.tableName + ' as ' + opt.relatedTableAlias;\n    }\n\n    return builder[opt.joinOperation](joinTableAsAlias, function (join) {\n      for (var i = 0, l = joinTableOwnerCol.length; i < l; ++i) {\n        join.on(joinTableOwnerCol[i], ownerCol[i]);\n      }\n    })[opt.joinOperation](relatedJoinSelect, function (join) {\n      for (var i = 0, l = joinTableRelatedCol.length; i < l; ++i) {\n        join.on(joinTableRelatedCol[i], relatedCol[i]);\n      }\n    });\n  };\n\n  ManyToManyRelation.prototype.find = function find(builder, owners) {\n    return new _ManyToManyFindOperation2.default('find', {\n      relation: this,\n      owners: owners\n    });\n  };\n\n  ManyToManyRelation.prototype.insert = function insert(builder, owner) {\n    return new _ManyToManyInsertOperation2.default('insert', {\n      relation: this,\n      owner: owner\n    });\n  };\n\n  ManyToManyRelation.prototype.update = function update(builder, owner) {\n    if ((0, _knexUtils.isSqlite)(builder.knex())) {\n      return new _ManyToManyUpdateSqliteOperation2.default('update', {\n        relation: this,\n        owner: owner\n      });\n    } else {\n      return new _ManyToManyUpdateOperation2.default('update', {\n        relation: this,\n        owner: owner\n      });\n    }\n  };\n\n  ManyToManyRelation.prototype.patch = function patch(builder, owner) {\n    if ((0, _knexUtils.isSqlite)(builder.knex())) {\n      return new _ManyToManyUpdateSqliteOperation2.default('patch', {\n        relation: this,\n        owner: owner,\n        modelOptions: { patch: true }\n      });\n    } else {\n      return new _ManyToManyUpdateOperation2.default('patch', {\n        relation: this,\n        owner: owner,\n        modelOptions: { patch: true }\n      });\n    }\n  };\n\n  ManyToManyRelation.prototype.delete = function _delete(builder, owner) {\n    if ((0, _knexUtils.isSqlite)(builder.knex())) {\n      return new _ManyToManyDeleteSqliteOperation2.default('delete', {\n        relation: this,\n        owner: owner\n      });\n    } else {\n      return new _ManyToManyDeleteOperation2.default('delete', {\n        relation: this,\n        owner: owner\n      });\n    }\n  };\n\n  ManyToManyRelation.prototype.relate = function relate(builder, owner) {\n    return new _ManyToManyRelateOperation2.default('relate', {\n      relation: this,\n      owner: owner\n    });\n  };\n\n  ManyToManyRelation.prototype.unrelate = function unrelate(builder, owner) {\n    if ((0, _knexUtils.isSqlite)(builder.knex())) {\n      return new _ManyToManyUnrelateSqliteOperation2.default('unrelate', {\n        relation: this,\n        owner: owner\n      });\n    } else {\n      return new _ManyToManyUnrelateOperation2.default('unrelate', {\n        relation: this,\n        owner: owner\n      });\n    }\n  };\n\n  ManyToManyRelation.prototype.selectForModify = function selectForModify(builder, owner) {\n    var ownerId = owner.$values(this.ownerProp);\n\n    var idQuery = this.joinTableModelClass(builder.knex()).query().childQueryOf(builder).select(this.fullJoinTableRelatedCol()).whereComposite(this.fullJoinTableOwnerCol(), ownerId);\n\n    return builder.whereInComposite(this.fullRelatedCol(), idQuery);\n  };\n\n  ManyToManyRelation.prototype.selectForModifySqlite = function selectForModifySqlite(builder, owner) {\n    var _this5 = this;\n\n    var relatedTable = this.relatedModelClass.tableName;\n    var relatedTableAlias = this.relatedTableAlias();\n    var relatedTableAsAlias = relatedTable + ' as ' + relatedTableAlias;\n    var relatedTableAliasRowId = relatedTableAlias + '.' + sqliteBuiltInRowId;\n    var relatedTableRowId = relatedTable + '.' + sqliteBuiltInRowId;\n\n    var selectRelatedQuery = this.joinTableModelClass(builder.knex()).query().childQueryOf(builder).select(relatedTableAliasRowId).whereComposite(this.fullJoinTableOwnerCol(), owner.$values(this.ownerProp)).join(relatedTableAsAlias, function (join) {\n      var fullJoinTableRelatedCols = _this5.fullJoinTableRelatedCol();\n      var fullRelatedCol = _this5.fullRelatedCol();\n\n      for (var i = 0, l = fullJoinTableRelatedCols.length; i < l; ++i) {\n        join.on(fullJoinTableRelatedCols[i], fullRelatedCol[i]);\n      }\n    });\n\n    return builder.whereInComposite(relatedTableRowId, selectRelatedQuery);\n  };\n\n  ManyToManyRelation.prototype.createJoinModels = function createJoinModels(ownerId, related) {\n    var joinModels = new Array(related.length);\n\n    for (var i = 0, lr = related.length; i < lr; ++i) {\n      var rel = related[i];\n      var joinModel = {};\n\n      for (var j = 0, lp = this.joinTableOwnerProp.length; j < lp; ++j) {\n        joinModel[this.joinTableOwnerProp[j]] = ownerId[j];\n      }\n\n      for (var _j = 0, _lp = this.joinTableRelatedProp.length; _j < _lp; ++_j) {\n        joinModel[this.joinTableRelatedProp[_j]] = rel[this.relatedProp[_j]];\n      }\n\n      for (var _j2 = 0, _lp2 = this.joinTableExtras.length; _j2 < _lp2; ++_j2) {\n        var extra = this.joinTableExtras[_j2];\n        var extraValue = rel[extra.aliasProp];\n\n        if (!_lodash2.default.isUndefined(extraValue)) {\n          joinModel[extra.joinTableProp] = extraValue;\n        }\n      }\n\n      joinModels[i] = joinModel;\n    }\n\n    return joinModels;\n  };\n\n  ManyToManyRelation.prototype.omitExtraProps = function omitExtraProps(models) {\n    if (!_lodash2.default.isEmpty(this.joinTableExtras)) {\n      var props = this.joinTableExtras.map(function (extra) {\n        return extra.aliasProp;\n      });\n\n      for (var i = 0, l = models.length; i < l; ++i) {\n        models[i].$omitFromDatabaseJson(props);\n      }\n    }\n  };\n\n  /**\n   * @protected\n   */\n\n\n  ManyToManyRelation.prototype.parseExtras = function parseExtras(extras) {\n    var _this6 = this;\n\n    if (Array.isArray(extras)) {\n      extras = extras.reduce(function (extras, col) {\n        extras[col] = col;\n        return extras;\n      }, {});\n    }\n\n    return (0, _keys2.default)(extras).map(function (key) {\n      var val = extras[key];\n\n      return {\n        joinTableCol: val,\n        joinTableProp: _this6._joinTableModelClass.columnNameToPropertyName(val),\n        aliasCol: key,\n        aliasProp: _this6._joinTableModelClass.columnNameToPropertyName(key)\n      };\n    });\n  };\n\n  return ManyToManyRelation;\n}(_Relation3.default), (_applyDecoratedDescriptor(_class.prototype, 'fullJoinTableOwnerCol', [_memoize2.default], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'fullJoinTableOwnerCol'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'fullJoinTableRelatedCol', [_memoize2.default], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'fullJoinTableRelatedCol'), _class.prototype)), _class);\nexports.default = ManyToManyRelation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1hbnlUb01hbnlSZWxhdGlvbi5qcyJdLCJuYW1lcyI6WyJzcWxpdGVCdWlsdEluUm93SWQiLCJNYW55VG9NYW55UmVsYXRpb24iLCJzZXRNYXBwaW5nIiwibWFwcGluZyIsInJldFZhbCIsIk1vZGVsIiwicmVxdWlyZSIsIl9fZGlybmFtZSIsImRlZmF1bHQiLCJpc09iamVjdCIsImpvaW4iLCJ0aHJvdWdoIiwidGhyb3dFcnJvciIsImZyb20iLCJ0byIsImpvaW5Gcm9tIiwicGFyc2VSZWZlcmVuY2UiLCJqb2luVGFibGVGcm9tIiwiam9pblRhYmxlVG8iLCJqb2luVGFibGVFeHRyYSIsImV4dHJhIiwidGFibGUiLCJpc0VtcHR5IiwiY29sdW1ucyIsImpvaW5UYWJsZSIsIm93bmVyTW9kZWxDbGFzcyIsInRhYmxlTmFtZSIsImpvaW5UYWJsZU93bmVyQ29sIiwiam9pblRhYmxlUmVsYXRlZENvbCIsIm1vZGVsQ2xhc3MiLCJfam9pblRhYmxlTW9kZWxDbGFzcyIsInJlc29sdmVNb2RlbCIsImlkQ29sdW1uIiwiam9pblRhYmxlT3duZXJQcm9wIiwicHJvcGVydHlOYW1lIiwiam9pblRhYmxlUmVsYXRlZFByb3AiLCJqb2luVGFibGVFeHRyYXMiLCJwYXJzZUV4dHJhcyIsImZ1bGxKb2luVGFibGVPd25lckNvbCIsIm1hcCIsImNvbCIsImZ1bGxKb2luVGFibGVSZWxhdGVkQ29sIiwiam9pblRhYmxlQWxpYXMiLCJuYW1lIiwiYmluZEtuZXgiLCJrbmV4IiwiYm91bmQiLCJmaW5kUXVlcnkiLCJidWlsZGVyIiwib3B0IiwiZnVsbFJlbGF0ZWRDb2wiLCJpIiwibCIsImxlbmd0aCIsIm9uIiwiaXNDb2x1bW5SZWYiLCJ3aGVyZVJlZiIsIm93bmVySWRzIiwiaGFzSWRzIiwiaWQiLCJ3aGVyZUluQ29tcG9zaXRlIiwicmVzb2x2ZSIsIm1vZGlmeSIsImpvaW5PcGVyYXRpb24iLCJyZWxhdGVkVGFibGVBbGlhcyIsInJlbGF0ZWRKb2luU2VsZWN0UXVlcnkiLCJyZWxhdGVkTW9kZWxDbGFzcyIsInF1ZXJ5IiwiY2hpbGRRdWVyeU9mIiwicmVsYXRlZFRhYmxlIiwib3duZXJUYWJsZSIsImpvaW5UYWJsZUFzQWxpYXMiLCJyZWxhdGVkQ29sIiwib3duZXJDb2wiLCJyZWxhdGVkSm9pblNlbGVjdCIsImFzIiwiaXNTZWxlY3RBbGwiLCJmaW5kIiwib3duZXJzIiwicmVsYXRpb24iLCJpbnNlcnQiLCJvd25lciIsInVwZGF0ZSIsInBhdGNoIiwibW9kZWxPcHRpb25zIiwiZGVsZXRlIiwicmVsYXRlIiwidW5yZWxhdGUiLCJzZWxlY3RGb3JNb2RpZnkiLCJvd25lcklkIiwiJHZhbHVlcyIsIm93bmVyUHJvcCIsImlkUXVlcnkiLCJqb2luVGFibGVNb2RlbENsYXNzIiwic2VsZWN0Iiwid2hlcmVDb21wb3NpdGUiLCJzZWxlY3RGb3JNb2RpZnlTcWxpdGUiLCJyZWxhdGVkVGFibGVBc0FsaWFzIiwicmVsYXRlZFRhYmxlQWxpYXNSb3dJZCIsInJlbGF0ZWRUYWJsZVJvd0lkIiwic2VsZWN0UmVsYXRlZFF1ZXJ5IiwiZnVsbEpvaW5UYWJsZVJlbGF0ZWRDb2xzIiwiY3JlYXRlSm9pbk1vZGVscyIsInJlbGF0ZWQiLCJqb2luTW9kZWxzIiwiQXJyYXkiLCJsciIsInJlbCIsImpvaW5Nb2RlbCIsImoiLCJscCIsInJlbGF0ZWRQcm9wIiwiZXh0cmFWYWx1ZSIsImFsaWFzUHJvcCIsImlzVW5kZWZpbmVkIiwiam9pblRhYmxlUHJvcCIsIm9taXRFeHRyYVByb3BzIiwibW9kZWxzIiwicHJvcHMiLCIkb21pdEZyb21EYXRhYmFzZUpzb24iLCJleHRyYXMiLCJpc0FycmF5IiwicmVkdWNlIiwidmFsIiwia2V5Iiwiam9pblRhYmxlQ29sIiwiY29sdW1uTmFtZVRvUHJvcGVydHlOYW1lIiwiYWxpYXNDb2wiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7O0FBQ0E7Ozs7QUFFQTs7OztBQUNB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QyxFQUEwQyxFQUFFRCxDQUE1QyxFQUErQztBQUM3Q2tFLGVBQU9sRSxDQUFQLEVBQVVvRSxxQkFBVixDQUFnQ0QsS0FBaEM7QUFDRDtBQUNGO0FBQ0YsRzs7QUFFRDs7Ozs7K0JBR0FqRixXLHdCQUFZbUYsTSxFQUFRO0FBQUE7O0FBQ2xCLFFBQUlmLE1BQU1nQixPQUFOLENBQWNELE1BQWQsQ0FBSixFQUEyQjtBQUN6QkEsZUFBU0EsT0FBT0UsTUFBUCxDQUFjLFVBQUNGLE1BQUQsRUFBU2hGLEdBQVQsRUFBaUI7QUFDdENnRixlQUFPaEYsR0FBUCxJQUFjQSxHQUFkO0FBQ0EsZUFBT2dGLE1BQVA7QUFDRCxPQUhRLEVBR04sRUFITSxDQUFUO0FBSUQ7O0FBRUQsV0FBTyxvQkFBWUEsTUFBWixFQUFvQmpGLEdBQXBCLENBQXdCLGVBQU87QUFDcEMsVUFBTW9GLE1BQU1ILE9BQU9JLEdBQVAsQ0FBWjs7QUFFQSxhQUFPO0FBQ0xDLHNCQUFjRixHQURUO0FBRUxSLHVCQUFlLE9BQUtyRixvQkFBTCxDQUEwQmdHLHdCQUExQixDQUFtREgsR0FBbkQsQ0FGVjtBQUdMSSxrQkFBVUgsR0FITDtBQUlMWCxtQkFBVyxPQUFLbkYsb0JBQUwsQ0FBMEJnRyx3QkFBMUIsQ0FBbURGLEdBQW5EO0FBSk4sT0FBUDtBQU1ELEtBVE0sQ0FBUDtBQVVELEc7Ozs7a0JBL1ZrQjNILGtCIiwiZmlsZSI6Ik1hbnlUb01hbnlSZWxhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUmVsYXRpb24gZnJvbSAnLi4vUmVsYXRpb24nO1xuaW1wb3J0IGluaGVyaXRNb2RlbCBmcm9tICcuLi8uLi9tb2RlbC9pbmhlcml0TW9kZWwnO1xuaW1wb3J0IHtpc1NxbGl0ZX0gZnJvbSAnLi4vLi4vdXRpbHMva25leFV0aWxzJztcbmltcG9ydCBtZW1vaXplIGZyb20gJy4uLy4uL3V0aWxzL2RlY29yYXRvcnMvbWVtb2l6ZSc7XG5cbmltcG9ydCBNYW55VG9NYW55RmluZE9wZXJhdGlvbiBmcm9tICcuL01hbnlUb01hbnlGaW5kT3BlcmF0aW9uJztcbmltcG9ydCBNYW55VG9NYW55SW5zZXJ0T3BlcmF0aW9uIGZyb20gJy4vTWFueVRvTWFueUluc2VydE9wZXJhdGlvbic7XG5pbXBvcnQgTWFueVRvTWFueVJlbGF0ZU9wZXJhdGlvbiBmcm9tICcuL01hbnlUb01hbnlSZWxhdGVPcGVyYXRpb24nO1xuaW1wb3J0IE1hbnlUb01hbnlVbnJlbGF0ZU9wZXJhdGlvbiBmcm9tICcuL01hbnlUb01hbnlVbnJlbGF0ZU9wZXJhdGlvbic7XG5pbXBvcnQgTWFueVRvTWFueVVucmVsYXRlU3FsaXRlT3BlcmF0aW9uIGZyb20gJy4vTWFueVRvTWFueVVucmVsYXRlU3FsaXRlT3BlcmF0aW9uJztcbmltcG9ydCBNYW55VG9NYW55VXBkYXRlT3BlcmF0aW9uIGZyb20gJy4vTWFueVRvTWFueVVwZGF0ZU9wZXJhdGlvbic7XG5pbXBvcnQgTWFueVRvTWFueVVwZGF0ZVNxbGl0ZU9wZXJhdGlvbiBmcm9tICcuL01hbnlUb01hbnlVcGRhdGVTcWxpdGVPcGVyYXRpb24nO1xuaW1wb3J0IE1hbnlUb01hbnlEZWxldGVPcGVyYXRpb24gZnJvbSAnLi9NYW55VG9NYW55RGVsZXRlT3BlcmF0aW9uJztcbmltcG9ydCBNYW55VG9NYW55RGVsZXRlU3FsaXRlT3BlcmF0aW9uIGZyb20gJy4vTWFueVRvTWFueURlbGV0ZVNxbGl0ZU9wZXJhdGlvbic7XG5cbmNvbnN0IHNxbGl0ZUJ1aWx0SW5Sb3dJZCA9ICdfcm93aWRfJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFueVRvTWFueVJlbGF0aW9uIGV4dGVuZHMgUmVsYXRpb24ge1xuXG4gIHNldE1hcHBpbmcobWFwcGluZykge1xuICAgIGxldCByZXRWYWwgPSBzdXBlci5zZXRNYXBwaW5nKG1hcHBpbmcpO1xuXG4gICAgLy8gQXZvaWQgcmVxdWlyZSBsb29wIGFuZCBpbXBvcnQgaGVyZS5cbiAgICBsZXQgTW9kZWwgPSByZXF1aXJlKF9fZGlybmFtZSArICcvLi4vLi4vbW9kZWwvTW9kZWwnKS5kZWZhdWx0O1xuXG4gICAgaWYgKCFfLmlzT2JqZWN0KG1hcHBpbmcuam9pbi50aHJvdWdoKSkge1xuICAgICAgdGhpcy50aHJvd0Vycm9yKCdqb2luIG11c3QgaGF2ZSB0aGUgYHRocm91Z2hgIHRoYXQgZGVzY3JpYmVzIHRoZSBqb2luIHRhYmxlLicpO1xuICAgIH1cblxuICAgIGlmICghbWFwcGluZy5qb2luLnRocm91Z2guZnJvbSB8fCAhbWFwcGluZy5qb2luLnRocm91Z2gudG8pIHtcbiAgICAgIHRoaXMudGhyb3dFcnJvcignam9pbi50aHJvdWdoIG11c3QgYmUgYW4gb2JqZWN0IHRoYXQgZGVzY3JpYmVzIHRoZSBqb2luIHRhYmxlLiBGb3IgZXhhbXBsZToge2Zyb206IFwiSm9pblRhYmxlLnNvbWVJZFwiLCB0bzogXCJKb2luVGFibGUuc29tZU90aGVySWRcIn0nKTtcbiAgICB9XG5cbiAgICBsZXQgam9pbkZyb20gPSB0aGlzLnBhcnNlUmVmZXJlbmNlKG1hcHBpbmcuam9pbi5mcm9tKTtcbiAgICBsZXQgam9pblRhYmxlRnJvbSA9IHRoaXMucGFyc2VSZWZlcmVuY2UobWFwcGluZy5qb2luLnRocm91Z2guZnJvbSk7XG4gICAgbGV0IGpvaW5UYWJsZVRvID0gdGhpcy5wYXJzZVJlZmVyZW5jZShtYXBwaW5nLmpvaW4udGhyb3VnaC50byk7XG4gICAgbGV0IGpvaW5UYWJsZUV4dHJhID0gbWFwcGluZy5qb2luLnRocm91Z2guZXh0cmEgfHwgW107XG5cbiAgICBpZiAoIWpvaW5UYWJsZUZyb20udGFibGUgfHwgXy5pc0VtcHR5KGpvaW5UYWJsZUZyb20uY29sdW1ucykpIHtcbiAgICAgIHRoaXMudGhyb3dFcnJvcignam9pbi50aHJvdWdoLmZyb20gbXVzdCBoYXZlIGZvcm1hdCBKb2luVGFibGUuY29sdW1uTmFtZS4gRm9yIGV4YW1wbGUgXCJKb2luVGFibGUuc29tZUlkXCIgb3IgaW4gY2FzZSBvZiBjb21wb3NpdGUga2V5IFtcIkpvaW5UYWJsZS5hXCIsIFwiSm9pblRhYmxlLmJcIl0uJyk7XG4gICAgfVxuXG4gICAgaWYgKCFqb2luVGFibGVUby50YWJsZSB8fCBfLmlzRW1wdHkoam9pblRhYmxlVG8uY29sdW1ucykpIHtcbiAgICAgIHRoaXMudGhyb3dFcnJvcignam9pbi50aHJvdWdoLnRvIG11c3QgaGF2ZSBmb3JtYXQgSm9pblRhYmxlLmNvbHVtbk5hbWUuIEZvciBleGFtcGxlIFwiSm9pblRhYmxlLnNvbWVJZFwiIG9yIGluIGNhc2Ugb2YgY29tcG9zaXRlIGtleSBbXCJKb2luVGFibGUuYVwiLCBcIkpvaW5UYWJsZS5iXCJdLicpO1xuICAgIH1cblxuICAgIGlmIChqb2luVGFibGVGcm9tLnRhYmxlICE9PSBqb2luVGFibGVUby50YWJsZSkge1xuICAgICAgdGhpcy50aHJvd0Vycm9yKCdqb2luLnRocm91Z2ggYGZyb21gIGFuZCBgdG9gIG11c3QgcG9pbnQgdG8gdGhlIHNhbWUgam9pbiB0YWJsZS4nKTtcbiAgICB9XG5cbiAgICB0aGlzLmpvaW5UYWJsZSA9IGpvaW5UYWJsZUZyb20udGFibGU7XG5cbiAgICBpZiAoam9pbkZyb20udGFibGUgPT09IHRoaXMub3duZXJNb2RlbENsYXNzLnRhYmxlTmFtZSkge1xuICAgICAgdGhpcy5qb2luVGFibGVPd25lckNvbCA9IGpvaW5UYWJsZUZyb20uY29sdW1ucztcbiAgICAgIHRoaXMuam9pblRhYmxlUmVsYXRlZENvbCA9IGpvaW5UYWJsZVRvLmNvbHVtbnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuam9pblRhYmxlUmVsYXRlZENvbCA9IGpvaW5UYWJsZUZyb20uY29sdW1ucztcbiAgICAgIHRoaXMuam9pblRhYmxlT3duZXJDb2wgPSBqb2luVGFibGVUby5jb2x1bW5zO1xuICAgIH1cblxuICAgIGlmIChtYXBwaW5nLmpvaW4udGhyb3VnaC5tb2RlbENsYXNzKSB7XG4gICAgICB0aGlzLl9qb2luVGFibGVNb2RlbENsYXNzID0gdGhpcy5yZXNvbHZlTW9kZWwoTW9kZWwsIG1hcHBpbmcuam9pbi50aHJvdWdoLm1vZGVsQ2xhc3MsICdqb2luLnRocm91Z2gubW9kZWxDbGFzcycpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9qb2luVGFibGVNb2RlbENsYXNzID0gaW5oZXJpdE1vZGVsKE1vZGVsKTtcbiAgICAgIHRoaXMuX2pvaW5UYWJsZU1vZGVsQ2xhc3MudGFibGVOYW1lID0gdGhpcy5qb2luVGFibGU7XG4gICAgICAvLyBXZSBjYW5ub3Qga25vdyBpZiB0aGUgam9pbiB0YWJsZSBoYXMgYSBwcmltYXJ5IGtleS4gVGhlcmVmb3JlIHdlIHNldCBzb21lXG4gICAgICAvLyBrbm93biBjb2x1bW4gYXMgdGhlIGlkQ29sdW1uIHNvIHRoYXQgaW5zZXJ0cyB3aWxsIHdvcmsuXG4gICAgICB0aGlzLl9qb2luVGFibGVNb2RlbENsYXNzLmlkQ29sdW1uID0gdGhpcy5qb2luVGFibGVSZWxhdGVkQ29sO1xuICAgIH1cblxuICAgIHRoaXMuam9pblRhYmxlT3duZXJQcm9wID0gdGhpcy5wcm9wZXJ0eU5hbWUodGhpcy5qb2luVGFibGVPd25lckNvbCwgdGhpcy5fam9pblRhYmxlTW9kZWxDbGFzcyk7XG4gICAgdGhpcy5qb2luVGFibGVSZWxhdGVkUHJvcCA9IHRoaXMucHJvcGVydHlOYW1lKHRoaXMuam9pblRhYmxlUmVsYXRlZENvbCwgdGhpcy5fam9pblRhYmxlTW9kZWxDbGFzcyk7XG4gICAgdGhpcy5qb2luVGFibGVFeHRyYXMgPSB0aGlzLnBhcnNlRXh0cmFzKGpvaW5UYWJsZUV4dHJhKTtcblxuICAgIHJldHVybiByZXRWYWw7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge0FycmF5LjxzdHJpbmc+fVxuICAgKi9cbiAgQG1lbW9pemVcbiAgZnVsbEpvaW5UYWJsZU93bmVyQ29sKCkge1xuICAgIHJldHVybiB0aGlzLmpvaW5UYWJsZU93bmVyQ29sLm1hcChjb2wgPT4gYCR7dGhpcy5qb2luVGFibGV9LiR7Y29sfWApO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtBcnJheS48c3RyaW5nPn1cbiAgICovXG4gIEBtZW1vaXplXG4gIGZ1bGxKb2luVGFibGVSZWxhdGVkQ29sKCkge1xuICAgIHJldHVybiB0aGlzLmpvaW5UYWJsZVJlbGF0ZWRDb2wubWFwKGNvbCA9PiBgJHt0aGlzLmpvaW5UYWJsZX0uJHtjb2x9YCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIGpvaW5UYWJsZUFsaWFzKCkge1xuICAgIHJldHVybiB0aGlzLmpvaW5UYWJsZSArICdfcmVsXycgKyB0aGlzLm5hbWU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge01hbnlUb01hbnlSZWxhdGlvbn1cbiAgICovXG4gIGJpbmRLbmV4KGtuZXgpIHtcbiAgICBsZXQgYm91bmQgPSBzdXBlci5iaW5kS25leChrbmV4KTtcbiAgICBib3VuZC5fam9pblRhYmxlTW9kZWxDbGFzcyA9IHRoaXMuX2pvaW5UYWJsZU1vZGVsQ2xhc3MuYmluZEtuZXgoa25leCk7XG4gICAgcmV0dXJuIGJvdW5kO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICBmaW5kUXVlcnkoYnVpbGRlciwgb3B0KSB7XG4gICAgYnVpbGRlci5qb2luKHRoaXMuam9pblRhYmxlLCBqb2luID0+IHtcbiAgICAgIGNvbnN0IGZ1bGxSZWxhdGVkQ29sID0gdGhpcy5mdWxsUmVsYXRlZENvbCgpO1xuICAgICAgY29uc3QgZnVsbEpvaW5UYWJsZVJlbGF0ZWRDb2wgPSB0aGlzLmZ1bGxKb2luVGFibGVSZWxhdGVkQ29sKCk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gZnVsbEpvaW5UYWJsZVJlbGF0ZWRDb2wubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgIGpvaW4ub24oZnVsbEpvaW5UYWJsZVJlbGF0ZWRDb2xbaV0sIGZ1bGxSZWxhdGVkQ29sW2ldKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChvcHQuaXNDb2x1bW5SZWYpIHtcbiAgICAgIGNvbnN0IGZ1bGxKb2luVGFibGVPd25lckNvbCA9IHRoaXMuZnVsbEpvaW5UYWJsZU93bmVyQ29sKCk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gZnVsbEpvaW5UYWJsZU93bmVyQ29sLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICBidWlsZGVyLndoZXJlUmVmKGZ1bGxKb2luVGFibGVPd25lckNvbFtpXSwgb3B0Lm93bmVySWRzW2ldKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGhhc0lkcyA9IGZhbHNlO1xuXG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IG9wdC5vd25lcklkcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgY29uc3QgaWQgPSBvcHQub3duZXJJZHNbaV07XG5cbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgaGFzSWRzID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaGFzSWRzKSB7XG4gICAgICAgIGJ1aWxkZXIud2hlcmVJbkNvbXBvc2l0ZSh0aGlzLmZ1bGxKb2luVGFibGVPd25lckNvbCgpLCBvcHQub3duZXJJZHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnVpbGRlci5yZXNvbHZlKFtdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYnVpbGRlci5tb2RpZnkodGhpcy5tb2RpZnkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtRdWVyeUJ1aWxkZXJ9XG4gICAqL1xuICBqb2luKGJ1aWxkZXIsIG9wdCkge1xuICAgIG9wdCA9IG9wdCB8fCB7fTtcblxuICAgIG9wdC5qb2luT3BlcmF0aW9uID0gb3B0LmpvaW5PcGVyYXRpb24gfHwgJ2pvaW4nO1xuICAgIG9wdC5yZWxhdGVkVGFibGVBbGlhcyA9IG9wdC5yZWxhdGVkVGFibGVBbGlhcyB8fCB0aGlzLnJlbGF0ZWRUYWJsZUFsaWFzKCk7XG4gICAgb3B0LnJlbGF0ZWRKb2luU2VsZWN0UXVlcnkgPSBvcHQucmVsYXRlZEpvaW5TZWxlY3RRdWVyeSB8fCB0aGlzLnJlbGF0ZWRNb2RlbENsYXNzLnF1ZXJ5KCkuY2hpbGRRdWVyeU9mKGJ1aWxkZXIpO1xuICAgIG9wdC5yZWxhdGVkVGFibGUgPSBvcHQucmVsYXRlZFRhYmxlIHx8IHRoaXMucmVsYXRlZE1vZGVsQ2xhc3MudGFibGVOYW1lO1xuICAgIG9wdC5vd25lclRhYmxlID0gb3B0Lm93bmVyVGFibGUgfHwgdGhpcy5vd25lck1vZGVsQ2xhc3MudGFibGVOYW1lO1xuICAgIG9wdC5qb2luVGFibGVBbGlhcyA9IG9wdC5qb2luVGFibGVBbGlhcyB8fCBgJHtvcHQucmVsYXRlZFRhYmxlQWxpYXN9X2pvaW5gO1xuXG4gICAgY29uc3Qgam9pblRhYmxlQXNBbGlhcyA9IGAke3RoaXMuam9pblRhYmxlfSBhcyAke29wdC5qb2luVGFibGVBbGlhc31gO1xuICAgIGNvbnN0IGpvaW5UYWJsZU93bmVyQ29sID0gdGhpcy5qb2luVGFibGVPd25lckNvbC5tYXAoY29sID0+IGAke29wdC5qb2luVGFibGVBbGlhc30uJHtjb2x9YCk7XG4gICAgY29uc3Qgam9pblRhYmxlUmVsYXRlZENvbCA9IHRoaXMuam9pblRhYmxlUmVsYXRlZENvbC5tYXAoY29sID0+IGAke29wdC5qb2luVGFibGVBbGlhc30uJHtjb2x9YCk7XG5cbiAgICBjb25zdCByZWxhdGVkQ29sID0gdGhpcy5yZWxhdGVkQ29sLm1hcChjb2wgPT4gYCR7b3B0LnJlbGF0ZWRUYWJsZUFsaWFzfS4ke2NvbH1gKTtcbiAgICBjb25zdCBvd25lckNvbCA9IHRoaXMub3duZXJDb2wubWFwKGNvbCA9PiBgJHtvcHQub3duZXJUYWJsZX0uJHtjb2x9YCk7XG5cbiAgICBsZXQgcmVsYXRlZEpvaW5TZWxlY3QgPSBvcHQucmVsYXRlZEpvaW5TZWxlY3RRdWVyeVxuICAgICAgLm1vZGlmeSh0aGlzLm1vZGlmeSlcbiAgICAgIC5hcyhvcHQucmVsYXRlZFRhYmxlQWxpYXMpO1xuXG4gICAgaWYgKHJlbGF0ZWRKb2luU2VsZWN0LmlzU2VsZWN0QWxsKCkpIHtcbiAgICAgIC8vIE5vIG5lZWQgdG8gam9pbiBhIHN1YnF1ZXJ5IGlmIHRoZSBxdWVyeSBpcyBgc2VsZWN0ICogZnJvbSBcIlJlbGF0ZWRUYWJsZVwiYC5cbiAgICAgIHJlbGF0ZWRKb2luU2VsZWN0ID0gYCR7dGhpcy5yZWxhdGVkTW9kZWxDbGFzcy50YWJsZU5hbWV9IGFzICR7b3B0LnJlbGF0ZWRUYWJsZUFsaWFzfWBcbiAgICB9XG5cbiAgICByZXR1cm4gYnVpbGRlclxuICAgICAgW29wdC5qb2luT3BlcmF0aW9uXShqb2luVGFibGVBc0FsaWFzLCBqb2luID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBqb2luVGFibGVPd25lckNvbC5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICBqb2luLm9uKGpvaW5UYWJsZU93bmVyQ29sW2ldLCBvd25lckNvbFtpXSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICBbb3B0LmpvaW5PcGVyYXRpb25dKHJlbGF0ZWRKb2luU2VsZWN0LCBqb2luID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBqb2luVGFibGVSZWxhdGVkQ29sLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgIGpvaW4ub24oam9pblRhYmxlUmVsYXRlZENvbFtpXSwgcmVsYXRlZENvbFtpXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgZmluZChidWlsZGVyLCBvd25lcnMpIHtcbiAgICByZXR1cm4gbmV3IE1hbnlUb01hbnlGaW5kT3BlcmF0aW9uKCdmaW5kJywge1xuICAgICAgcmVsYXRpb246IHRoaXMsXG4gICAgICBvd25lcnM6IG93bmVyc1xuICAgIH0pO1xuICB9XG5cbiAgaW5zZXJ0KGJ1aWxkZXIsIG93bmVyKSB7XG4gICAgcmV0dXJuIG5ldyBNYW55VG9NYW55SW5zZXJ0T3BlcmF0aW9uKCdpbnNlcnQnLCB7XG4gICAgICByZWxhdGlvbjogdGhpcyxcbiAgICAgIG93bmVyOiBvd25lclxuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlKGJ1aWxkZXIsIG93bmVyKSB7XG4gICAgaWYgKGlzU3FsaXRlKGJ1aWxkZXIua25leCgpKSkge1xuICAgICAgcmV0dXJuIG5ldyBNYW55VG9NYW55VXBkYXRlU3FsaXRlT3BlcmF0aW9uKCd1cGRhdGUnLCB7XG4gICAgICAgIHJlbGF0aW9uOiB0aGlzLFxuICAgICAgICBvd25lcjogb3duZXJcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IE1hbnlUb01hbnlVcGRhdGVPcGVyYXRpb24oJ3VwZGF0ZScsIHtcbiAgICAgICAgcmVsYXRpb246IHRoaXMsXG4gICAgICAgIG93bmVyOiBvd25lclxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcGF0Y2goYnVpbGRlciwgb3duZXIpIHtcbiAgICBpZiAoaXNTcWxpdGUoYnVpbGRlci5rbmV4KCkpKSB7XG4gICAgICByZXR1cm4gbmV3IE1hbnlUb01hbnlVcGRhdGVTcWxpdGVPcGVyYXRpb24oJ3BhdGNoJywge1xuICAgICAgICByZWxhdGlvbjogdGhpcyxcbiAgICAgICAgb3duZXI6IG93bmVyLFxuICAgICAgICBtb2RlbE9wdGlvbnM6IHtwYXRjaDogdHJ1ZX1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IE1hbnlUb01hbnlVcGRhdGVPcGVyYXRpb24oJ3BhdGNoJywge1xuICAgICAgICByZWxhdGlvbjogdGhpcyxcbiAgICAgICAgb3duZXI6IG93bmVyLFxuICAgICAgICBtb2RlbE9wdGlvbnM6IHtwYXRjaDogdHJ1ZX1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGRlbGV0ZShidWlsZGVyLCBvd25lcikge1xuICAgIGlmIChpc1NxbGl0ZShidWlsZGVyLmtuZXgoKSkpIHtcbiAgICAgIHJldHVybiBuZXcgTWFueVRvTWFueURlbGV0ZVNxbGl0ZU9wZXJhdGlvbignZGVsZXRlJywge1xuICAgICAgICByZWxhdGlvbjogdGhpcyxcbiAgICAgICAgb3duZXI6IG93bmVyXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBNYW55VG9NYW55RGVsZXRlT3BlcmF0aW9uKCdkZWxldGUnLCB7XG4gICAgICAgIHJlbGF0aW9uOiB0aGlzLFxuICAgICAgICBvd25lcjogb3duZXJcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJlbGF0ZShidWlsZGVyLCBvd25lcikge1xuICAgIHJldHVybiBuZXcgTWFueVRvTWFueVJlbGF0ZU9wZXJhdGlvbigncmVsYXRlJywge1xuICAgICAgcmVsYXRpb246IHRoaXMsXG4gICAgICBvd25lcjogb3duZXJcbiAgICB9KTtcbiAgfVxuXG4gIHVucmVsYXRlKGJ1aWxkZXIsIG93bmVyKSB7XG4gICAgaWYgKGlzU3FsaXRlKGJ1aWxkZXIua25leCgpKSkge1xuICAgICAgcmV0dXJuIG5ldyBNYW55VG9NYW55VW5yZWxhdGVTcWxpdGVPcGVyYXRpb24oJ3VucmVsYXRlJywge1xuICAgICAgICByZWxhdGlvbjogdGhpcyxcbiAgICAgICAgb3duZXI6IG93bmVyXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBNYW55VG9NYW55VW5yZWxhdGVPcGVyYXRpb24oJ3VucmVsYXRlJywge1xuICAgICAgICByZWxhdGlvbjogdGhpcyxcbiAgICAgICAgb3duZXI6IG93bmVyXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBzZWxlY3RGb3JNb2RpZnkoYnVpbGRlciwgb3duZXIpIHtcbiAgICBsZXQgb3duZXJJZCA9IG93bmVyLiR2YWx1ZXModGhpcy5vd25lclByb3ApO1xuXG4gICAgbGV0IGlkUXVlcnkgPSB0aGlzLmpvaW5UYWJsZU1vZGVsQ2xhc3MoYnVpbGRlci5rbmV4KCkpXG4gICAgICAucXVlcnkoKVxuICAgICAgLmNoaWxkUXVlcnlPZihidWlsZGVyKVxuICAgICAgLnNlbGVjdCh0aGlzLmZ1bGxKb2luVGFibGVSZWxhdGVkQ29sKCkpXG4gICAgICAud2hlcmVDb21wb3NpdGUodGhpcy5mdWxsSm9pblRhYmxlT3duZXJDb2woKSwgb3duZXJJZCk7XG5cbiAgICByZXR1cm4gYnVpbGRlci53aGVyZUluQ29tcG9zaXRlKHRoaXMuZnVsbFJlbGF0ZWRDb2woKSwgaWRRdWVyeSk7XG4gIH1cblxuICBzZWxlY3RGb3JNb2RpZnlTcWxpdGUoYnVpbGRlciwgb3duZXIpIHtcbiAgICBjb25zdCByZWxhdGVkVGFibGUgPSB0aGlzLnJlbGF0ZWRNb2RlbENsYXNzLnRhYmxlTmFtZTtcbiAgICBjb25zdCByZWxhdGVkVGFibGVBbGlhcyA9IHRoaXMucmVsYXRlZFRhYmxlQWxpYXMoKTtcbiAgICBjb25zdCByZWxhdGVkVGFibGVBc0FsaWFzID0gcmVsYXRlZFRhYmxlICsgJyBhcyAnICsgcmVsYXRlZFRhYmxlQWxpYXM7XG4gICAgY29uc3QgcmVsYXRlZFRhYmxlQWxpYXNSb3dJZCA9IHJlbGF0ZWRUYWJsZUFsaWFzICsgJy4nICsgc3FsaXRlQnVpbHRJblJvd0lkO1xuICAgIGNvbnN0IHJlbGF0ZWRUYWJsZVJvd0lkID0gcmVsYXRlZFRhYmxlICsgJy4nICsgc3FsaXRlQnVpbHRJblJvd0lkO1xuXG4gICAgY29uc3Qgc2VsZWN0UmVsYXRlZFF1ZXJ5ID0gdGhpcy5qb2luVGFibGVNb2RlbENsYXNzKGJ1aWxkZXIua25leCgpKVxuICAgICAgLnF1ZXJ5KClcbiAgICAgIC5jaGlsZFF1ZXJ5T2YoYnVpbGRlcilcbiAgICAgIC5zZWxlY3QocmVsYXRlZFRhYmxlQWxpYXNSb3dJZClcbiAgICAgIC53aGVyZUNvbXBvc2l0ZSh0aGlzLmZ1bGxKb2luVGFibGVPd25lckNvbCgpLCBvd25lci4kdmFsdWVzKHRoaXMub3duZXJQcm9wKSlcbiAgICAgIC5qb2luKHJlbGF0ZWRUYWJsZUFzQWxpYXMsIGpvaW4gPT4ge1xuICAgICAgICBjb25zdCBmdWxsSm9pblRhYmxlUmVsYXRlZENvbHMgPSB0aGlzLmZ1bGxKb2luVGFibGVSZWxhdGVkQ29sKCk7XG4gICAgICAgIGNvbnN0IGZ1bGxSZWxhdGVkQ29sID0gdGhpcy5mdWxsUmVsYXRlZENvbCgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gZnVsbEpvaW5UYWJsZVJlbGF0ZWRDb2xzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgIGpvaW4ub24oZnVsbEpvaW5UYWJsZVJlbGF0ZWRDb2xzW2ldLCBmdWxsUmVsYXRlZENvbFtpXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgcmV0dXJuIGJ1aWxkZXIud2hlcmVJbkNvbXBvc2l0ZShyZWxhdGVkVGFibGVSb3dJZCwgc2VsZWN0UmVsYXRlZFF1ZXJ5KTtcbiAgfVxuXG4gIGNyZWF0ZUpvaW5Nb2RlbHMob3duZXJJZCwgcmVsYXRlZCkge1xuICAgIGNvbnN0IGpvaW5Nb2RlbHMgPSBuZXcgQXJyYXkocmVsYXRlZC5sZW5ndGgpO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGxyID0gcmVsYXRlZC5sZW5ndGg7IGkgPCBscjsgKytpKSB7XG4gICAgICBjb25zdCByZWwgPSByZWxhdGVkW2ldO1xuICAgICAgbGV0IGpvaW5Nb2RlbCA9IHt9O1xuXG4gICAgICBmb3IgKGxldCBqID0gMCwgbHAgPSB0aGlzLmpvaW5UYWJsZU93bmVyUHJvcC5sZW5ndGg7IGogPCBscDsgKytqKSB7XG4gICAgICAgIGpvaW5Nb2RlbFt0aGlzLmpvaW5UYWJsZU93bmVyUHJvcFtqXV0gPSBvd25lcklkW2pdO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGxldCBqID0gMCwgbHAgPSB0aGlzLmpvaW5UYWJsZVJlbGF0ZWRQcm9wLmxlbmd0aDsgaiA8IGxwOyArK2opIHtcbiAgICAgICAgam9pbk1vZGVsW3RoaXMuam9pblRhYmxlUmVsYXRlZFByb3Bbal1dID0gcmVsW3RoaXMucmVsYXRlZFByb3Bbal1dO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGxldCBqID0gMCwgbHAgPSB0aGlzLmpvaW5UYWJsZUV4dHJhcy5sZW5ndGg7IGogPCBscDsgKytqKSB7XG4gICAgICAgIGNvbnN0IGV4dHJhID0gdGhpcy5qb2luVGFibGVFeHRyYXNbal07XG4gICAgICAgIGNvbnN0IGV4dHJhVmFsdWUgPSByZWxbZXh0cmEuYWxpYXNQcm9wXTtcblxuICAgICAgICBpZiAoIV8uaXNVbmRlZmluZWQoZXh0cmFWYWx1ZSkpIHtcbiAgICAgICAgICBqb2luTW9kZWxbZXh0cmEuam9pblRhYmxlUHJvcF0gPSBleHRyYVZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGpvaW5Nb2RlbHNbaV0gPSBqb2luTW9kZWw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGpvaW5Nb2RlbHM7XG4gIH1cblxuICBvbWl0RXh0cmFQcm9wcyhtb2RlbHMpIHtcbiAgICBpZiAoIV8uaXNFbXB0eSh0aGlzLmpvaW5UYWJsZUV4dHJhcykpIHtcbiAgICAgIGNvbnN0IHByb3BzID0gdGhpcy5qb2luVGFibGVFeHRyYXMubWFwKGV4dHJhID0+IGV4dHJhLmFsaWFzUHJvcCk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gbW9kZWxzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICBtb2RlbHNbaV0uJG9taXRGcm9tRGF0YWJhc2VKc29uKHByb3BzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgcGFyc2VFeHRyYXMoZXh0cmFzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZXh0cmFzKSkge1xuICAgICAgZXh0cmFzID0gZXh0cmFzLnJlZHVjZSgoZXh0cmFzLCBjb2wpID0+IHtcbiAgICAgICAgZXh0cmFzW2NvbF0gPSBjb2w7XG4gICAgICAgIHJldHVybiBleHRyYXM7XG4gICAgICB9LCB7fSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGV4dHJhcykubWFwKGtleSA9PiB7XG4gICAgICBjb25zdCB2YWwgPSBleHRyYXNba2V5XTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgam9pblRhYmxlQ29sOiB2YWwsXG4gICAgICAgIGpvaW5UYWJsZVByb3A6IHRoaXMuX2pvaW5UYWJsZU1vZGVsQ2xhc3MuY29sdW1uTmFtZVRvUHJvcGVydHlOYW1lKHZhbCksXG4gICAgICAgIGFsaWFzQ29sOiBrZXksXG4gICAgICAgIGFsaWFzUHJvcDogdGhpcy5fam9pblRhYmxlTW9kZWxDbGFzcy5jb2x1bW5OYW1lVG9Qcm9wZXJ0eU5hbWUoa2V5KVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxufVxuIl19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/model/inheritModel.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _create = require('babel-runtime/core-js/object/create');\n\nvar _create2 = _interopRequireDefault(_create);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar cache = (0, _create2.default)(null);\nvar createInheritor = void 0;\n\nif (isClassKeywordSupported()) {\n  createInheritor = createClassInheritor;\n} else {\n  createInheritor = createFunctionInheritor;\n}\n\nexports.default = function (ModelClass) {\n  var inherit = cache[ModelClass.name];\n\n  if (!inherit) {\n    inherit = createInheritor(ModelClass.name);\n    cache[ModelClass.name] = inherit;\n  }\n\n  return inherit(ModelClass);\n};\n\nfunction createFunctionInheritor(className) {\n  return new Function('BaseClass', '\\n    function ' + className + '() { \\n      BaseClass.apply(this, arguments); \\n    }\\n    \\n    BaseClass.extend(' + className + ');\\n    return ' + className + ';\\n  ');\n}\n\nfunction createClassInheritor(className) {\n  return new Function('BaseClass', '\\n    return class ' + className + ' extends BaseClass {\\n    \\n    }\\n  ');\n}\n\nfunction isClassKeywordSupported() {\n  try {\n    createClassInheritor('Test');\n    return true;\n  } catch (err) {\n    return false;\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluaGVyaXRNb2RlbC5qcyJdLCJuYW1lcyI6WyJjYWNoZSIsImNyZWF0ZUluaGVyaXRvciIsImlzQ2xhc3NLZXl3b3JkU3VwcG9ydGVkIiwiY3JlYXRlQ2xhc3NJbmhlcml0b3IiLCJjcmVhdGVGdW5jdGlvbkluaGVyaXRvciIsIk1vZGVsQ2xhc3MiLCJpbmhlcml0IiwibmFtZSIsImNsYXNzTmFtZSIsIkZ1bmN0aW9uIiwiZXJyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQSxJQUFNQSxRQUFRLHNCQUFjLElBQWQsQ0FBZDtBQUNBLElBQUlDLHdCQUFKOztBQUVBLElBQUlDLHlCQUFKLEVBQStCO0FBQzdCRCxvQkFBa0JFLG9CQUFsQjtBQUNELENBRkQsTUFFTztBQUNMRixvQkFBa0JHLHVCQUFsQjtBQUNEOztrQkFFYyxVQUFDQyxVQUFELEVBQWdCO0FBQzdCLE1BQUlDLFVBQVVOLE1BQU1LLFdBQVdFLElBQWpCLENBQWQ7O0FBRUEsTUFBSSxDQUFDRCxPQUFMLEVBQWM7QUFDWkEsY0FBVUwsZ0JBQWdCSSxXQUFXRSxJQUEzQixDQUFWO0FBQ0FQLFVBQU1LLFdBQVdFLElBQWpCLElBQXlCRCxPQUF6QjtBQUNEOztBQUVELFNBQU9BLFFBQVFELFVBQVIsQ0FBUDtBQUNELEM7O0FBRUQsU0FBU0QsdUJBQVQsQ0FBaUNJLFNBQWpDLEVBQTRDO0FBQzFDLFNBQU8sSUFBSUMsUUFBSixDQUFhLFdBQWIsc0JBQ01ELFNBRE4sMkZBS2NBLFNBTGQsdUJBTUlBLFNBTkosV0FBUDtBQVFEOztBQUVELFNBQVNMLG9CQUFULENBQThCSyxTQUE5QixFQUF5QztBQUN2QyxTQUFPLElBQUlDLFFBQUosQ0FBYSxXQUFiLDBCQUNVRCxTQURWLDJDQUFQO0FBS0Q7O0FBRUQsU0FBU04sdUJBQVQsR0FBbUM7QUFDakMsTUFBSTtBQUNGQyx5QkFBcUIsTUFBckI7QUFDQSxXQUFPLElBQVA7QUFDRCxHQUhELENBR0UsT0FBT08sR0FBUCxFQUFZO0FBQ1osV0FBTyxLQUFQO0FBQ0Q7QUFDRiIsImZpbGUiOiJpbmhlcml0TW9kZWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5sZXQgY3JlYXRlSW5oZXJpdG9yO1xuXG5pZiAoaXNDbGFzc0tleXdvcmRTdXBwb3J0ZWQoKSkge1xuICBjcmVhdGVJbmhlcml0b3IgPSBjcmVhdGVDbGFzc0luaGVyaXRvcjtcbn0gZWxzZSB7XG4gIGNyZWF0ZUluaGVyaXRvciA9IGNyZWF0ZUZ1bmN0aW9uSW5oZXJpdG9yO1xufVxuXG5leHBvcnQgZGVmYXVsdCAoTW9kZWxDbGFzcykgPT4ge1xuICBsZXQgaW5oZXJpdCA9IGNhY2hlW01vZGVsQ2xhc3MubmFtZV07XG5cbiAgaWYgKCFpbmhlcml0KSB7XG4gICAgaW5oZXJpdCA9IGNyZWF0ZUluaGVyaXRvcihNb2RlbENsYXNzLm5hbWUpO1xuICAgIGNhY2hlW01vZGVsQ2xhc3MubmFtZV0gPSBpbmhlcml0O1xuICB9XG5cbiAgcmV0dXJuIGluaGVyaXQoTW9kZWxDbGFzcyk7XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVGdW5jdGlvbkluaGVyaXRvcihjbGFzc05hbWUpIHtcbiAgcmV0dXJuIG5ldyBGdW5jdGlvbignQmFzZUNsYXNzJywgYFxuICAgIGZ1bmN0aW9uICR7Y2xhc3NOYW1lfSgpIHsgXG4gICAgICBCYXNlQ2xhc3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgXG4gICAgfVxuICAgIFxuICAgIEJhc2VDbGFzcy5leHRlbmQoJHtjbGFzc05hbWV9KTtcbiAgICByZXR1cm4gJHtjbGFzc05hbWV9O1xuICBgKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ2xhc3NJbmhlcml0b3IoY2xhc3NOYW1lKSB7XG4gIHJldHVybiBuZXcgRnVuY3Rpb24oJ0Jhc2VDbGFzcycsIGBcbiAgICByZXR1cm4gY2xhc3MgJHtjbGFzc05hbWV9IGV4dGVuZHMgQmFzZUNsYXNzIHtcbiAgICBcbiAgICB9XG4gIGApO1xufVxuXG5mdW5jdGlvbiBpc0NsYXNzS2V5d29yZFN1cHBvcnRlZCgpIHtcbiAgdHJ5IHtcbiAgICBjcmVhdGVDbGFzc0luaGVyaXRvcignVGVzdCcpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuXG5cbiJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/relations/manyToMany/ManyToManyFindOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _create = require('babel-runtime/core-js/object/create');\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _RelationFindOperation = require('../RelationFindOperation');\n\nvar _RelationFindOperation2 = _interopRequireDefault(_RelationFindOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ownerJoinColumnAliasPrefix = 'objectiontmpjoin';\n\nvar ManyToManyFindOperation = function (_RelationFindOperatio) {\n  (0, _inherits3.default)(ManyToManyFindOperation, _RelationFindOperatio);\n\n  function ManyToManyFindOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, ManyToManyFindOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _RelationFindOperatio.call(this, name, opt));\n\n    _this.ownerJoinColumnAlias = new Array(_this.relation.joinTableOwnerCol.length);\n\n    for (var i = 0, l = _this.relation.joinTableOwnerCol.length; i < l; ++i) {\n      _this.ownerJoinColumnAlias[i] = ownerJoinColumnAliasPrefix + i;\n    }\n    return _this;\n  }\n\n  ManyToManyFindOperation.prototype.clone = function clone() {\n    var _RelationFindOperatio2;\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var copy = (_RelationFindOperatio2 = _RelationFindOperatio.prototype.clone).call.apply(_RelationFindOperatio2, [this].concat(args));\n\n    copy.ownerJoinColumnAlias = this.ownerJoinColumnAlias;\n\n    return copy;\n  };\n\n  ManyToManyFindOperation.prototype.onBeforeBuild = function onBeforeBuild(builder) {\n    var relatedModelClass = this.relation.relatedModelClass;\n    var ids = new Array(this.owners.length);\n\n    for (var i = 0, l = this.owners.length; i < l; ++i) {\n      ids[i] = this.owners[i].$values(this.relation.ownerProp);\n    }\n\n    if (!builder.has(builder.constructor.SelectSelector)) {\n      // If the user hasn't specified a select clause, select the related model's columns.\n      // If we don't do this we also get the join table's columns.\n      builder.select(relatedModelClass.tableName + '.*');\n\n      // Also select all extra columns.\n      for (var _i = 0, _l = this.relation.joinTableExtras.length; _i < _l; ++_i) {\n        var extra = this.relation.joinTableExtras[_i];\n        var joinTable = this.relation.joinTable;\n\n        builder.select(joinTable + '.' + extra.joinTableCol + ' as ' + extra.aliasCol);\n      }\n    }\n\n    this.relation.findQuery(builder, {\n      ownerIds: _lodash2.default.uniqBy(ids, join)\n    });\n\n    var fullJoinTableOwnerCol = this.relation.fullJoinTableOwnerCol();\n    // We must select the owner join columns so that we know for which owner model the related\n    // models belong to after the requests.\n    for (var _i2 = 0, _l2 = fullJoinTableOwnerCol.length; _i2 < _l2; ++_i2) {\n      builder.select(fullJoinTableOwnerCol[_i2] + ' as ' + this.ownerJoinColumnAlias[_i2]);\n\n      // Mark them to be omitted later.\n      this.omitProps.push(relatedModelClass.columnNameToPropertyName(this.ownerJoinColumnAlias[_i2]));\n    }\n\n    this.selectMissingJoinColumns(builder);\n  };\n\n  ManyToManyFindOperation.prototype.onAfterInternal = function onAfterInternal(builder, related) {\n    var isOneToOne = this.relation.isOneToOne();\n    var relatedByOwnerId = (0, _create2.default)(null);\n\n    for (var i = 0, l = related.length; i < l; ++i) {\n      var rel = related[i];\n      var key = rel.$propKey(this.ownerJoinColumnAlias);\n      var arr = relatedByOwnerId[key];\n\n      if (!arr) {\n        arr = [];\n        relatedByOwnerId[key] = arr;\n      }\n\n      arr.push(rel);\n    }\n\n    for (var _i3 = 0, _l3 = this.owners.length; _i3 < _l3; ++_i3) {\n      var own = this.owners[_i3];\n      var _key2 = own.$propKey(this.relation.ownerProp);\n      var _related = relatedByOwnerId[_key2];\n\n      if (isOneToOne) {\n        own[this.relation.name] = _related && _related[0] || null;\n      } else {\n        own[this.relation.name] = _related || [];\n      }\n    }\n\n    if (this.alwaysReturnArray) {\n      return related;\n    } else {\n      return isOneToOne ? related[0] || undefined : related;\n    }\n  };\n\n  return ManyToManyFindOperation;\n}(_RelationFindOperation2.default);\n\nexports.default = ManyToManyFindOperation;\n\n\nfunction join(arr) {\n  return arr.join();\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1hbnlUb01hbnlGaW5kT3BlcmF0aW9uLmpzIl0sIm5hbWVzIjpbIm93bmVySm9pbkNvbHVtbkFsaWFzUHJlZml4IiwiTWFueVRvTWFueUZpbmRPcGVyYXRpb24iLCJuYW1lIiwib3B0Iiwib3duZXJKb2luQ29sdW1uQWxpYXMiLCJBcnJheSIsInJlbGF0aW9uIiwiam9pblRhYmxlT3duZXJDb2wiLCJsZW5ndGgiLCJpIiwibCIsImNsb25lIiwiYXJncyIsImNvcHkiLCJvbkJlZm9yZUJ1aWxkIiwiYnVpbGRlciIsInJlbGF0ZWRNb2RlbENsYXNzIiwiaWRzIiwib3duZXJzIiwiJHZhbHVlcyIsIm93bmVyUHJvcCIsImhhcyIsImNvbnN0cnVjdG9yIiwiU2VsZWN0U2VsZWN0b3IiLCJzZWxlY3QiLCJ0YWJsZU5hbWUiLCJqb2luVGFibGVFeHRyYXMiLCJleHRyYSIsImpvaW5UYWJsZSIsImpvaW5UYWJsZUNvbCIsImFsaWFzQ29sIiwiZmluZFF1ZXJ5Iiwib3duZXJJZHMiLCJ1bmlxQnkiLCJqb2luIiwiZnVsbEpvaW5UYWJsZU93bmVyQ29sIiwib21pdFByb3BzIiwicHVzaCIsImNvbHVtbk5hbWVUb1Byb3BlcnR5TmFtZSIsInNlbGVjdE1pc3NpbmdKb2luQ29sdW1ucyIsIm9uQWZ0ZXJJbnRlcm5hbCIsInJlbGF0ZWQiLCJpc09uZVRvT25lIiwicmVsYXRlZEJ5T3duZXJJZCIsInJlbCIsImtleSIsIiRwcm9wS2V5IiwiYXJyIiwib3duIiwiYWx3YXlzUmV0dXJuQXJyYXkiLCJ1bmRlZmluZWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBRUEsSUFBTUEsNkJBQTZCLGtCQUFuQzs7SUFFcUJDLHVCOzs7QUFFbkIsbUNBQVlDLElBQVosRUFBa0JDLEdBQWxCLEVBQXVCO0FBQUE7O0FBQUEsK0RBQ3JCLGlDQUFNRCxJQUFOLEVBQVlDLEdBQVosQ0FEcUI7O0FBR3JCLFVBQUtDLG9CQUFMLEdBQTRC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dUI7OztBQWdHckIsU0FBU2lDLElBQVQsQ0FBY2EsR0FBZCxFQUFtQjtBQUNqQixTQUFPQSxJQUFJYixJQUFKLEVBQVA7QUFDRCIsImZpbGUiOiJNYW55VG9NYW55RmluZE9wZXJhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUmVsYXRpb25GaW5kT3BlcmF0aW9uIGZyb20gJy4uL1JlbGF0aW9uRmluZE9wZXJhdGlvbic7XG5cbmNvbnN0IG93bmVySm9pbkNvbHVtbkFsaWFzUHJlZml4ID0gJ29iamVjdGlvbnRtcGpvaW4nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYW55VG9NYW55RmluZE9wZXJhdGlvbiBleHRlbmRzIFJlbGF0aW9uRmluZE9wZXJhdGlvbiB7XG5cbiAgY29uc3RydWN0b3IobmFtZSwgb3B0KSB7XG4gICAgc3VwZXIobmFtZSwgb3B0KTtcblxuICAgIHRoaXMub3duZXJKb2luQ29sdW1uQWxpYXMgPSBuZXcgQXJyYXkodGhpcy5yZWxhdGlvbi5qb2luVGFibGVPd25lckNvbC5sZW5ndGgpO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLnJlbGF0aW9uLmpvaW5UYWJsZU93bmVyQ29sLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgdGhpcy5vd25lckpvaW5Db2x1bW5BbGlhc1tpXSA9IG93bmVySm9pbkNvbHVtbkFsaWFzUHJlZml4ICsgaTtcbiAgICB9XG4gIH1cblxuICBjbG9uZSguLi5hcmdzKSB7XG4gICAgY29uc3QgY29weSA9IHN1cGVyLmNsb25lKC4uLmFyZ3MpO1xuXG4gICAgY29weS5vd25lckpvaW5Db2x1bW5BbGlhcyA9IHRoaXMub3duZXJKb2luQ29sdW1uQWxpYXM7XG5cbiAgICByZXR1cm4gY29weTtcbiAgfVxuXG4gIG9uQmVmb3JlQnVpbGQoYnVpbGRlcikge1xuICAgIGNvbnN0IHJlbGF0ZWRNb2RlbENsYXNzID0gdGhpcy5yZWxhdGlvbi5yZWxhdGVkTW9kZWxDbGFzcztcbiAgICBjb25zdCBpZHMgPSBuZXcgQXJyYXkodGhpcy5vd25lcnMubGVuZ3RoKTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gdGhpcy5vd25lcnMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICBpZHNbaV0gPSB0aGlzLm93bmVyc1tpXS4kdmFsdWVzKHRoaXMucmVsYXRpb24ub3duZXJQcm9wKTtcbiAgICB9XG5cbiAgICBpZiAoIWJ1aWxkZXIuaGFzKGJ1aWxkZXIuY29uc3RydWN0b3IuU2VsZWN0U2VsZWN0b3IpKSB7XG4gICAgICAvLyBJZiB0aGUgdXNlciBoYXNuJ3Qgc3BlY2lmaWVkIGEgc2VsZWN0IGNsYXVzZSwgc2VsZWN0IHRoZSByZWxhdGVkIG1vZGVsJ3MgY29sdW1ucy5cbiAgICAgIC8vIElmIHdlIGRvbid0IGRvIHRoaXMgd2UgYWxzbyBnZXQgdGhlIGpvaW4gdGFibGUncyBjb2x1bW5zLlxuICAgICAgYnVpbGRlci5zZWxlY3QocmVsYXRlZE1vZGVsQ2xhc3MudGFibGVOYW1lICsgJy4qJyk7XG5cbiAgICAgIC8vIEFsc28gc2VsZWN0IGFsbCBleHRyYSBjb2x1bW5zLlxuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLnJlbGF0aW9uLmpvaW5UYWJsZUV4dHJhcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgY29uc3QgZXh0cmEgPSB0aGlzLnJlbGF0aW9uLmpvaW5UYWJsZUV4dHJhc1tpXTtcbiAgICAgICAgY29uc3Qgam9pblRhYmxlID0gdGhpcy5yZWxhdGlvbi5qb2luVGFibGU7XG5cbiAgICAgICAgYnVpbGRlci5zZWxlY3QoYCR7am9pblRhYmxlfS4ke2V4dHJhLmpvaW5UYWJsZUNvbH0gYXMgJHtleHRyYS5hbGlhc0NvbH1gKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnJlbGF0aW9uLmZpbmRRdWVyeShidWlsZGVyLCB7XG4gICAgICBvd25lcklkczogXy51bmlxQnkoaWRzLCBqb2luKVxuICAgIH0pO1xuXG4gICAgY29uc3QgZnVsbEpvaW5UYWJsZU93bmVyQ29sID0gdGhpcy5yZWxhdGlvbi5mdWxsSm9pblRhYmxlT3duZXJDb2woKTtcbiAgICAvLyBXZSBtdXN0IHNlbGVjdCB0aGUgb3duZXIgam9pbiBjb2x1bW5zIHNvIHRoYXQgd2Uga25vdyBmb3Igd2hpY2ggb3duZXIgbW9kZWwgdGhlIHJlbGF0ZWRcbiAgICAvLyBtb2RlbHMgYmVsb25nIHRvIGFmdGVyIHRoZSByZXF1ZXN0cy5cbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IGZ1bGxKb2luVGFibGVPd25lckNvbC5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgIGJ1aWxkZXIuc2VsZWN0KGZ1bGxKb2luVGFibGVPd25lckNvbFtpXSArICcgYXMgJyArIHRoaXMub3duZXJKb2luQ29sdW1uQWxpYXNbaV0pO1xuXG4gICAgICAvLyBNYXJrIHRoZW0gdG8gYmUgb21pdHRlZCBsYXRlci5cbiAgICAgIHRoaXMub21pdFByb3BzLnB1c2gocmVsYXRlZE1vZGVsQ2xhc3MuY29sdW1uTmFtZVRvUHJvcGVydHlOYW1lKHRoaXMub3duZXJKb2luQ29sdW1uQWxpYXNbaV0pKTtcbiAgICB9XG5cbiAgICB0aGlzLnNlbGVjdE1pc3NpbmdKb2luQ29sdW1ucyhidWlsZGVyKTtcbiAgfVxuXG4gIG9uQWZ0ZXJJbnRlcm5hbChidWlsZGVyLCByZWxhdGVkKSB7XG4gICAgY29uc3QgaXNPbmVUb09uZSA9IHRoaXMucmVsYXRpb24uaXNPbmVUb09uZSgpO1xuICAgIGNvbnN0IHJlbGF0ZWRCeU93bmVySWQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSByZWxhdGVkLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgY29uc3QgcmVsID0gcmVsYXRlZFtpXTtcbiAgICAgIGNvbnN0IGtleSA9IHJlbC4kcHJvcEtleSh0aGlzLm93bmVySm9pbkNvbHVtbkFsaWFzKTtcbiAgICAgIGxldCBhcnIgPSByZWxhdGVkQnlPd25lcklkW2tleV07XG5cbiAgICAgIGlmICghYXJyKSB7XG4gICAgICAgIGFyciA9IFtdO1xuICAgICAgICByZWxhdGVkQnlPd25lcklkW2tleV0gPSBhcnI7XG4gICAgICB9XG5cbiAgICAgIGFyci5wdXNoKHJlbCk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLm93bmVycy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgIGNvbnN0IG93biA9IHRoaXMub3duZXJzW2ldO1xuICAgICAgY29uc3Qga2V5ID0gb3duLiRwcm9wS2V5KHRoaXMucmVsYXRpb24ub3duZXJQcm9wKTtcbiAgICAgIGNvbnN0IHJlbGF0ZWQgPSByZWxhdGVkQnlPd25lcklkW2tleV07XG5cbiAgICAgIGlmIChpc09uZVRvT25lKSB7XG4gICAgICAgIG93blt0aGlzLnJlbGF0aW9uLm5hbWVdID0gKHJlbGF0ZWQgJiYgcmVsYXRlZFswXSkgfHwgbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG93blt0aGlzLnJlbGF0aW9uLm5hbWVdID0gcmVsYXRlZCB8fCBbXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5hbHdheXNSZXR1cm5BcnJheSkge1xuICAgICAgcmV0dXJuIHJlbGF0ZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpc09uZVRvT25lID8gcmVsYXRlZFswXSB8fCB1bmRlZmluZWQgOiByZWxhdGVkO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBqb2luKGFycikge1xuICByZXR1cm4gYXJyLmpvaW4oKTtcbn0iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/relations/manyToMany/ManyToManyInsertOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _InsertOperation2 = require('../../queryBuilder/operations/InsertOperation');\n\nvar _InsertOperation3 = _interopRequireDefault(_InsertOperation2);\n\nvar _promiseUtils = require('../../utils/promiseUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ManyToManyInsertOperation = function (_InsertOperation) {\n  (0, _inherits3.default)(ManyToManyInsertOperation, _InsertOperation);\n\n  function ManyToManyInsertOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, ManyToManyInsertOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _InsertOperation.call(this, name, opt));\n\n    _this.relation = opt.relation;\n    _this.owner = opt.owner;\n    return _this;\n  }\n\n  ManyToManyInsertOperation.prototype.call = function call(builder, args) {\n    var retVal = _InsertOperation.prototype.call.call(this, builder, args);\n\n    this.relation.omitExtraProps(this.models);\n\n    return retVal;\n  };\n\n  ManyToManyInsertOperation.prototype.onAfterQuery = function onAfterQuery(builder, inserted) {\n    var _this2 = this;\n\n    var maybePromise = _InsertOperation.prototype.onAfterQuery.call(this, builder, inserted);\n\n    var isOneToOne = this.relation.isOneToOne();\n    var relName = this.relation.name;\n    var owner = this.owner;\n\n    return (0, _promiseUtils.after)(maybePromise, function (inserted) {\n      var ownerId = _this2.owner.$values(_this2.relation.ownerProp);\n      var joinModels = _this2.relation.createJoinModels(ownerId, inserted);\n\n      if (isOneToOne) {\n        owner[relName] = inserted[0] || null;\n      } else {\n        owner[relName] = _this2.relation.mergeModels(owner[relName], inserted);\n      }\n\n      // Insert the join rows to the join table.\n      return _this2.relation.joinTableModelClass(builder.knex()).query().childQueryOf(builder).insert(joinModels).return(inserted);\n    });\n  };\n\n  return ManyToManyInsertOperation;\n}(_InsertOperation3.default);\n\nexports.default = ManyToManyInsertOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1hbnlUb01hbnlJbnNlcnRPcGVyYXRpb24uanMiXSwibmFtZXMiOlsiTWFueVRvTWFueUluc2VydE9wZXJhdGlvbiIsIm5hbWUiLCJvcHQiLCJyZWxhdGlvbiIsIm93bmVyIiwiY2FsbCIsImJ1aWxkZXIiLCJhcmdzIiwicmV0VmFsIiwib21pdEV4dHJhUHJvcHMiLCJtb2RlbHMiLCJvbkFmdGVyUXVlcnkiLCJpbnNlcnRlZCIsIm1heWJlUHJvbWlzZSIsImlzT25lVG9PbmUiLCJyZWxOYW1lIiwib3duZXJJZCIsIiR2YWx1ZXMiLCJvd25lclByb3AiLCJqb2luTW9kZWxzIiwiY3JlYXRlSm9pbk1vZGVscyIsIm1lcmdlTW9kZWxzIiwiam9pblRhYmxlTW9kZWxDbGFzcyIsImtuZXgiLCJxdWVyeSIsImNoaWxkUXVlcnlPZiIsImluc2VydCIsInJldHVybiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7SUFFcUJBLHlCOzs7QUFFbkIscUNBQVlDLElBQVosRUFBa0JDLEdBQWxCLEVBQXVCO0FBQUE7O0FBQUEsK0RBQ3JCLDRCQUFNRCxJQUFOLEVBQVlDLEdBQVosQ0FEcUI7O0FBR3JCLFVBQUtDLFFBQUwsR0FBZ0JELElBQUlDLFFBQXBCO0FBQ0EsVUFBS0MsS0FBTCxHQUFhRixJQUFJRSxLQUFqQjtBQUpxQjtBQUt0Qjs7c0NBRURDLEksaUJBQUtDLE8sRUFBU0MsSSxFQUFNO0FBQ2xCLFFBQU1DLFNBQVMsMkJBQU1ILElBQU4sWUFBV0MsT0FBWCxFQUFvQkMsSUFBcEIsQ0FBZjs7QUFFQSxTQUFLSixRQUFMLENBQWNNLGNBQWQsQ0FBNkIsS0FBS0MsTUFBbEM7O0FBRUEsV0FBT0YsTUFBUDtBQUNELEc7O3NDQUVERyxZLHlCQUFhTCxPLEVBQVNNLFEsRUFBVTtBQUFBOztBQUM5QixRQUFNQyxlQUFlLDJCQUFNRixZQUFOLFlBQW1CTCxPQUFuQixFQUE0Qk0sUUFBNUIsQ0FBckI7O0FBRUEsUUFBTUUsYUFBYSxLQUFLWCxRQUFMLENBQWNXLFVBQWQsRUFBbkI7QUFDQSxRQUFNQyxVQUFVLEtBQUtaLFFBQUwsQ0FBY0YsSUFBOUI7QUFDQSxRQUFNRyxRQUFRLEtBQUtBLEtBQW5COztBQUVBLFdBQU8seUJBQU1TLFlBQU4sRUFBb0Isb0JBQVk7QUFDckMsVUFBSUcsVUFBVSxPQUFLWixLQUFMLENBQVdhLE9BQVgsQ0FBbUIsT0FBS2QsUUFBTCxDQUFjZSxTQUFqQyxDQUFkO0FBQ0EsVUFBSUMsYUFBYSxPQUFLaEIsUUFBTCxDQUFjaUIsZ0JBQWQsQ0FBK0JKLE9BQS9CLEVBQXdDSixRQUF4QyxDQUFqQjs7QUFFQSxVQUFJRSxVQUFKLEVBQWdCO0FBQ2RWLGNBQU1XLE9BQU4sSUFBaUJILFNBQVMsQ0FBVCxLQUFlLElBQWhDO0FBQ0QsT0FGRCxNQUVPO0FBQ0xSLGNBQU1XLE9BQU4sSUFBaUIsT0FBS1osUUFBTCxDQUFja0IsV0FBZCxDQUEwQmpCLE1BQU1XLE9BQU4sQ0FBMUIsRUFBMENILFFBQTFDLENBQWpCO0FBQ0Q7O0FBRUQ7QUFDQSxhQUFPLE9BQUtULFFBQUwsQ0FBY21CLG1CQUFkLENBQWtDaEIsUUFBUWlCLElBQVIsRUFBbEMsRUFDSkMsS0FESSxHQUVKQyxZQUZJLENBRVNuQixPQUZULEVBR0pvQixNQUhJLENBR0dQLFVBSEgsRUFJSlEsTUFKSSxDQUlHZixRQUpILENBQVA7QUFLRCxLQWhCTSxDQUFQO0FBaUJELEc7Ozs7O2tCQXpDa0JaLHlCIiwiZmlsZSI6Ik1hbnlUb01hbnlJbnNlcnRPcGVyYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSW5zZXJ0T3BlcmF0aW9uIGZyb20gJy4uLy4uL3F1ZXJ5QnVpbGRlci9vcGVyYXRpb25zL0luc2VydE9wZXJhdGlvbic7XG5pbXBvcnQge2FmdGVyfSBmcm9tICcuLi8uLi91dGlscy9wcm9taXNlVXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYW55VG9NYW55SW5zZXJ0T3BlcmF0aW9uIGV4dGVuZHMgSW5zZXJ0T3BlcmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcihuYW1lLCBvcHQpIHtcbiAgICBzdXBlcihuYW1lLCBvcHQpO1xuXG4gICAgdGhpcy5yZWxhdGlvbiA9IG9wdC5yZWxhdGlvbjtcbiAgICB0aGlzLm93bmVyID0gb3B0Lm93bmVyO1xuICB9XG5cbiAgY2FsbChidWlsZGVyLCBhcmdzKSB7XG4gICAgY29uc3QgcmV0VmFsID0gc3VwZXIuY2FsbChidWlsZGVyLCBhcmdzKTtcblxuICAgIHRoaXMucmVsYXRpb24ub21pdEV4dHJhUHJvcHModGhpcy5tb2RlbHMpO1xuXG4gICAgcmV0dXJuIHJldFZhbDtcbiAgfVxuXG4gIG9uQWZ0ZXJRdWVyeShidWlsZGVyLCBpbnNlcnRlZCkge1xuICAgIGNvbnN0IG1heWJlUHJvbWlzZSA9IHN1cGVyLm9uQWZ0ZXJRdWVyeShidWlsZGVyLCBpbnNlcnRlZCk7XG5cbiAgICBjb25zdCBpc09uZVRvT25lID0gdGhpcy5yZWxhdGlvbi5pc09uZVRvT25lKCk7XG4gICAgY29uc3QgcmVsTmFtZSA9IHRoaXMucmVsYXRpb24ubmFtZTtcbiAgICBjb25zdCBvd25lciA9IHRoaXMub3duZXI7XG5cbiAgICByZXR1cm4gYWZ0ZXIobWF5YmVQcm9taXNlLCBpbnNlcnRlZCA9PiB7XG4gICAgICBsZXQgb3duZXJJZCA9IHRoaXMub3duZXIuJHZhbHVlcyh0aGlzLnJlbGF0aW9uLm93bmVyUHJvcCk7XG4gICAgICBsZXQgam9pbk1vZGVscyA9IHRoaXMucmVsYXRpb24uY3JlYXRlSm9pbk1vZGVscyhvd25lcklkLCBpbnNlcnRlZCk7XG5cbiAgICAgIGlmIChpc09uZVRvT25lKSB7XG4gICAgICAgIG93bmVyW3JlbE5hbWVdID0gaW5zZXJ0ZWRbMF0gfHwgbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG93bmVyW3JlbE5hbWVdID0gdGhpcy5yZWxhdGlvbi5tZXJnZU1vZGVscyhvd25lcltyZWxOYW1lXSwgaW5zZXJ0ZWQpO1xuICAgICAgfVxuXG4gICAgICAvLyBJbnNlcnQgdGhlIGpvaW4gcm93cyB0byB0aGUgam9pbiB0YWJsZS5cbiAgICAgIHJldHVybiB0aGlzLnJlbGF0aW9uLmpvaW5UYWJsZU1vZGVsQ2xhc3MoYnVpbGRlci5rbmV4KCkpXG4gICAgICAgIC5xdWVyeSgpXG4gICAgICAgIC5jaGlsZFF1ZXJ5T2YoYnVpbGRlcilcbiAgICAgICAgLmluc2VydChqb2luTW9kZWxzKVxuICAgICAgICAucmV0dXJuKGluc2VydGVkKTtcbiAgICB9KTtcbiAgfVxuXG59XG4iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/relations/manyToMany/ManyToManyRelateOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _normalizeIds = require('../../utils/normalizeIds');\n\nvar _normalizeIds2 = _interopRequireDefault(_normalizeIds);\n\nvar _QueryBuilderOperation = require('../../queryBuilder/operations/QueryBuilderOperation');\n\nvar _QueryBuilderOperation2 = _interopRequireDefault(_QueryBuilderOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ManyToManyRelateOperation = function (_QueryBuilderOperatio) {\n  (0, _inherits3.default)(ManyToManyRelateOperation, _QueryBuilderOperatio);\n\n  function ManyToManyRelateOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, ManyToManyRelateOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _QueryBuilderOperatio.call(this, name, opt));\n\n    _this.isWriteOperation = true;\n    _this.relation = opt.relation;\n    _this.owner = opt.owner;\n    _this.input = null;\n    _this.ids = null;\n    return _this;\n  }\n\n  ManyToManyRelateOperation.prototype.call = function call(builder, args) {\n    this.input = args[0];\n    this.ids = (0, _normalizeIds2.default)(args[0], this.relation.relatedProp);\n    return true;\n  };\n\n  ManyToManyRelateOperation.prototype.queryExecutor = function queryExecutor(builder) {\n    var joinModels = this.relation.createJoinModels(this.owner.$values(this.relation.ownerProp), this.ids);\n\n    return this.relation.joinTableModelClass(builder.knex()).query().childQueryOf(builder).insert(joinModels);\n  };\n\n  ManyToManyRelateOperation.prototype.onAfterInternal = function onAfterInternal() {\n    return this.input;\n  };\n\n  return ManyToManyRelateOperation;\n}(_QueryBuilderOperation2.default);\n\nexports.default = ManyToManyRelateOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1hbnlUb01hbnlSZWxhdGVPcGVyYXRpb24uanMiXSwibmFtZXMiOlsiTWFueVRvTWFueVJlbGF0ZU9wZXJhdGlvbiIsIm5hbWUiLCJvcHQiLCJpc1dyaXRlT3BlcmF0aW9uIiwicmVsYXRpb24iLCJvd25lciIsImlucHV0IiwiaWRzIiwiY2FsbCIsImJ1aWxkZXIiLCJhcmdzIiwicmVsYXRlZFByb3AiLCJxdWVyeUV4ZWN1dG9yIiwiam9pbk1vZGVscyIsImNyZWF0ZUpvaW5Nb2RlbHMiLCIkdmFsdWVzIiwib3duZXJQcm9wIiwiam9pblRhYmxlTW9kZWxDbGFzcyIsImtuZXgiLCJxdWVyeSIsImNoaWxkUXVlcnlPZiIsImluc2VydCIsIm9uQWZ0ZXJJbnRlcm5hbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7OztJQUVxQkEseUI7OztBQUVuQixxQ0FBWUMsSUFBWixFQUFrQkMsR0FBbEIsRUFBdUI7QUFBQTs7QUFBQSwrREFDckIsaUNBQU1ELElBQU4sRUFBWUMsR0FBWixDQURxQjs7QUFHckIsVUFBS0MsZ0JBQUwsR0FBd0IsSUFBeEI7QUFDQSxVQUFLQyxRQUFMLEdBQWdCRixJQUFJRSxRQUFwQjtBQUNBLFVBQUtDLEtBQUwsR0FBYUgsSUFBSUcsS0FBakI7QUFDQSxVQUFLQyxLQUFMLEdBQWEsSUFBYjtBQUNBLFVBQUtDLEdBQUwsR0FBVyxJQUFYO0FBUHFCO0FBUXRCOztzQ0FFREMsSSxpQkFBS0MsTyxFQUFTQyxJLEVBQU07QUFDbEIsU0FBS0osS0FBTCxHQUFhSSxLQUFLLENBQUwsQ0FBYjtBQUNBLFNBQUtILEdBQUwsR0FBVyw0QkFBYUcsS0FBSyxDQUFMLENBQWIsRUFBc0IsS0FBS04sUUFBTCxDQUFjTyxXQUFwQyxDQUFYO0FBQ0EsV0FBTyxJQUFQO0FBQ0QsRzs7c0NBRURDLGEsMEJBQWNILE8sRUFBUztBQUNyQixRQUFJSSxhQUFhLEtBQUtULFFBQUwsQ0FBY1UsZ0JBQWQsQ0FBK0IsS0FBS1QsS0FBTCxDQUFXVSxPQUFYLENBQW1CLEtBQUtYLFFBQUwsQ0FBY1ksU0FBakMsQ0FBL0IsRUFBNEUsS0FBS1QsR0FBakYsQ0FBakI7O0FBRUEsV0FBTyxLQUFLSCxRQUFMLENBQWNhLG1CQUFkLENBQWtDUixRQUFRUyxJQUFSLEVBQWxDLEVBQ0pDLEtBREksR0FFSkMsWUFGSSxDQUVTWCxPQUZULEVBR0pZLE1BSEksQ0FHR1IsVUFISCxDQUFQO0FBSUQsRzs7c0NBRURTLGUsOEJBQWtCO0FBQ2hCLFdBQU8sS0FBS2hCLEtBQVo7QUFDRCxHOzs7OztrQkE3QmtCTix5QiIsImZpbGUiOiJNYW55VG9NYW55UmVsYXRlT3BlcmF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG5vcm1hbGl6ZUlkcyBmcm9tICcuLi8uLi91dGlscy9ub3JtYWxpemVJZHMnO1xuaW1wb3J0IFF1ZXJ5QnVpbGRlck9wZXJhdGlvbiBmcm9tICcuLi8uLi9xdWVyeUJ1aWxkZXIvb3BlcmF0aW9ucy9RdWVyeUJ1aWxkZXJPcGVyYXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYW55VG9NYW55UmVsYXRlT3BlcmF0aW9uIGV4dGVuZHMgUXVlcnlCdWlsZGVyT3BlcmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcihuYW1lLCBvcHQpIHtcbiAgICBzdXBlcihuYW1lLCBvcHQpO1xuXG4gICAgdGhpcy5pc1dyaXRlT3BlcmF0aW9uID0gdHJ1ZTtcbiAgICB0aGlzLnJlbGF0aW9uID0gb3B0LnJlbGF0aW9uO1xuICAgIHRoaXMub3duZXIgPSBvcHQub3duZXI7XG4gICAgdGhpcy5pbnB1dCA9IG51bGw7XG4gICAgdGhpcy5pZHMgPSBudWxsO1xuICB9XG5cbiAgY2FsbChidWlsZGVyLCBhcmdzKSB7XG4gICAgdGhpcy5pbnB1dCA9IGFyZ3NbMF07XG4gICAgdGhpcy5pZHMgPSBub3JtYWxpemVJZHMoYXJnc1swXSwgdGhpcy5yZWxhdGlvbi5yZWxhdGVkUHJvcCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBxdWVyeUV4ZWN1dG9yKGJ1aWxkZXIpIHtcbiAgICBsZXQgam9pbk1vZGVscyA9IHRoaXMucmVsYXRpb24uY3JlYXRlSm9pbk1vZGVscyh0aGlzLm93bmVyLiR2YWx1ZXModGhpcy5yZWxhdGlvbi5vd25lclByb3ApLCB0aGlzLmlkcyk7XG5cbiAgICByZXR1cm4gdGhpcy5yZWxhdGlvbi5qb2luVGFibGVNb2RlbENsYXNzKGJ1aWxkZXIua25leCgpKVxuICAgICAgLnF1ZXJ5KClcbiAgICAgIC5jaGlsZFF1ZXJ5T2YoYnVpbGRlcilcbiAgICAgIC5pbnNlcnQoam9pbk1vZGVscyk7XG4gIH1cblxuICBvbkFmdGVySW50ZXJuYWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXQ7XG4gIH1cbn1cbiJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/relations/manyToMany/ManyToManyUnrelateOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _QueryBuilderOperation = require('../../queryBuilder/operations/QueryBuilderOperation');\n\nvar _QueryBuilderOperation2 = _interopRequireDefault(_QueryBuilderOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ManyToManyUnrelateOperation = function (_QueryBuilderOperatio) {\n  (0, _inherits3.default)(ManyToManyUnrelateOperation, _QueryBuilderOperatio);\n\n  function ManyToManyUnrelateOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, ManyToManyUnrelateOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _QueryBuilderOperatio.call(this, name, opt));\n\n    _this.isWriteOperation = true;\n    _this.relation = opt.relation;\n    _this.owner = opt.owner;\n    return _this;\n  }\n\n  ManyToManyUnrelateOperation.prototype.queryExecutor = function queryExecutor(builder) {\n    var selectRelatedColQuery = this.relation.relatedModelClass.query().childQueryOf(builder).copyFrom(builder, /where/i).select(this.relation.fullRelatedCol()).modify(this.relation.modify);\n\n    return this.relation.joinTableModelClass(builder.knex()).query().childQueryOf(builder).delete().whereComposite(this.relation.fullJoinTableOwnerCol(), this.owner.$values(this.relation.ownerProp)).whereInComposite(this.relation.fullJoinTableRelatedCol(), selectRelatedColQuery).runAfter(_lodash2.default.constant({}));\n  };\n\n  return ManyToManyUnrelateOperation;\n}(_QueryBuilderOperation2.default);\n\nexports.default = ManyToManyUnrelateOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1hbnlUb01hbnlVbnJlbGF0ZU9wZXJhdGlvbi5qcyJdLCJuYW1lcyI6WyJNYW55VG9NYW55VW5yZWxhdGVPcGVyYXRpb24iLCJuYW1lIiwib3B0IiwiaXNXcml0ZU9wZXJhdGlvbiIsInJlbGF0aW9uIiwib3duZXIiLCJxdWVyeUV4ZWN1dG9yIiwiYnVpbGRlciIsInNlbGVjdFJlbGF0ZWRDb2xRdWVyeSIsInJlbGF0ZWRNb2RlbENsYXNzIiwicXVlcnkiLCJjaGlsZFF1ZXJ5T2YiLCJjb3B5RnJvbSIsInNlbGVjdCIsImZ1bGxSZWxhdGVkQ29sIiwibW9kaWZ5Iiwiam9pblRhYmxlTW9kZWxDbGFzcyIsImtuZXgiLCJkZWxldGUiLCJ3aGVyZUNvbXBvc2l0ZSIsImZ1bGxKb2luVGFibGVPd25lckNvbCIsIiR2YWx1ZXMiLCJvd25lclByb3AiLCJ3aGVyZUluQ29tcG9zaXRlIiwiZnVsbEpvaW5UYWJsZVJlbGF0ZWRDb2wiLCJydW5BZnRlciIsImNvbnN0YW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0lBRXFCQSwyQjs7O0FBRW5CLHVDQUFZQyxJQUFaLEVBQWtCQyxHQUFsQixFQUF1QjtBQUFBOztBQUFBLCtEQUNyQixpQ0FBTUQsSUFBTixFQUFZQyxHQUFaLENBRHFCOztBQUdyQixVQUFLQyxnQkFBTCxHQUF3QixJQUF4QjtBQUNBLFVBQUtDLFFBQUwsR0FBZ0JGLElBQUlFLFFBQXBCO0FBQ0EsVUFBS0MsS0FBTCxHQUFhSCxJQUFJRyxLQUFqQjtBQUxxQjtBQU10Qjs7d0NBRURDLGEsMEJBQWNDLE8sRUFBUztBQUNyQixRQUFJQyx3QkFBd0IsS0FBS0osUUFBTCxDQUFjSyxpQkFBZCxDQUN6QkMsS0FEeUIsR0FFekJDLFlBRnlCLENBRVpKLE9BRlksRUFHekJLLFFBSHlCLENBR2hCTCxPQUhnQixFQUdQLFFBSE8sRUFJekJNLE1BSnlCLENBSWxCLEtBQUtULFFBQUwsQ0FBY1UsY0FBZCxFQUprQixFQUt6QkMsTUFMeUIsQ0FLbEIsS0FBS1gsUUFBTCxDQUFjVyxNQUxJLENBQTVCOztBQU9BLFdBQU8sS0FBS1gsUUFBTCxDQUFjWSxtQkFBZCxDQUFrQ1QsUUFBUVUsSUFBUixFQUFsQyxFQUNKUCxLQURJLEdBRUpDLFlBRkksQ0FFU0osT0FGVCxFQUdKVyxNQUhJLEdBSUpDLGNBSkksQ0FJVyxLQUFLZixRQUFMLENBQWNnQixxQkFBZCxFQUpYLEVBSWtELEtBQUtmLEtBQUwsQ0FBV2dCLE9BQVgsQ0FBbUIsS0FBS2pCLFFBQUwsQ0FBY2tCLFNBQWpDLENBSmxELEVBS0pDLGdCQUxJLENBS2EsS0FBS25CLFFBQUwsQ0FBY29CLHVCQUFkLEVBTGIsRUFLc0RoQixxQkFMdEQsRUFNSmlCLFFBTkksQ0FNSyxpQkFBRUMsUUFBRixDQUFXLEVBQVgsQ0FOTCxDQUFQO0FBT0QsRzs7Ozs7a0JBekJrQjFCLDJCIiwiZmlsZSI6Ik1hbnlUb01hbnlVbnJlbGF0ZU9wZXJhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUXVlcnlCdWlsZGVyT3BlcmF0aW9uIGZyb20gJy4uLy4uL3F1ZXJ5QnVpbGRlci9vcGVyYXRpb25zL1F1ZXJ5QnVpbGRlck9wZXJhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hbnlUb01hbnlVbnJlbGF0ZU9wZXJhdGlvbiBleHRlbmRzIFF1ZXJ5QnVpbGRlck9wZXJhdGlvbiB7XG5cbiAgY29uc3RydWN0b3IobmFtZSwgb3B0KSB7XG4gICAgc3VwZXIobmFtZSwgb3B0KTtcblxuICAgIHRoaXMuaXNXcml0ZU9wZXJhdGlvbiA9IHRydWU7XG4gICAgdGhpcy5yZWxhdGlvbiA9IG9wdC5yZWxhdGlvbjtcbiAgICB0aGlzLm93bmVyID0gb3B0Lm93bmVyO1xuICB9XG5cbiAgcXVlcnlFeGVjdXRvcihidWlsZGVyKSB7XG4gICAgbGV0IHNlbGVjdFJlbGF0ZWRDb2xRdWVyeSA9IHRoaXMucmVsYXRpb24ucmVsYXRlZE1vZGVsQ2xhc3NcbiAgICAgIC5xdWVyeSgpXG4gICAgICAuY2hpbGRRdWVyeU9mKGJ1aWxkZXIpXG4gICAgICAuY29weUZyb20oYnVpbGRlciwgL3doZXJlL2kpXG4gICAgICAuc2VsZWN0KHRoaXMucmVsYXRpb24uZnVsbFJlbGF0ZWRDb2woKSlcbiAgICAgIC5tb2RpZnkodGhpcy5yZWxhdGlvbi5tb2RpZnkpO1xuXG4gICAgcmV0dXJuIHRoaXMucmVsYXRpb24uam9pblRhYmxlTW9kZWxDbGFzcyhidWlsZGVyLmtuZXgoKSlcbiAgICAgIC5xdWVyeSgpXG4gICAgICAuY2hpbGRRdWVyeU9mKGJ1aWxkZXIpXG4gICAgICAuZGVsZXRlKClcbiAgICAgIC53aGVyZUNvbXBvc2l0ZSh0aGlzLnJlbGF0aW9uLmZ1bGxKb2luVGFibGVPd25lckNvbCgpLCB0aGlzLm93bmVyLiR2YWx1ZXModGhpcy5yZWxhdGlvbi5vd25lclByb3ApKVxuICAgICAgLndoZXJlSW5Db21wb3NpdGUodGhpcy5yZWxhdGlvbi5mdWxsSm9pblRhYmxlUmVsYXRlZENvbCgpLCBzZWxlY3RSZWxhdGVkQ29sUXVlcnkpXG4gICAgICAucnVuQWZ0ZXIoXy5jb25zdGFudCh7fSkpO1xuICB9XG59XG4iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/relations/manyToMany/ManyToManyUnrelateSqliteOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _QueryBuilderOperation = require('../../queryBuilder/operations/QueryBuilderOperation');\n\nvar _QueryBuilderOperation2 = _interopRequireDefault(_QueryBuilderOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar sqliteBuiltInRowId = '_rowid_';\n\nvar ManyToManyUnrelateSqliteOperation = function (_QueryBuilderOperatio) {\n  (0, _inherits3.default)(ManyToManyUnrelateSqliteOperation, _QueryBuilderOperatio);\n\n  function ManyToManyUnrelateSqliteOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, ManyToManyUnrelateSqliteOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _QueryBuilderOperatio.call(this, name, opt));\n\n    _this.isWriteOperation = true;\n    _this.relation = opt.relation;\n    _this.owner = opt.owner;\n    return _this;\n  }\n\n  ManyToManyUnrelateSqliteOperation.prototype.queryExecutor = function queryExecutor(builder) {\n    var _this2 = this;\n\n    var joinTableAlias = this.relation.joinTableAlias();\n    var joinTableAsAlias = this.relation.joinTable + ' as ' + joinTableAlias;\n    var joinTableAliasRowId = joinTableAlias + '.' + sqliteBuiltInRowId;\n    var joinTableRowId = this.relation.joinTable + '.' + sqliteBuiltInRowId;\n\n    var ownerId = this.owner.$values(this.relation.ownerProp);\n    var fullRelatedCol = this.relation.fullRelatedCol();\n\n    var selectRelatedQuery = this.relation.relatedModelClass.query().childQueryOf(builder).copyFrom(builder, /where/i).select(joinTableAliasRowId).modify(this.relation.modify).whereComposite(this.relation.fullJoinTableOwnerCol(), ownerId).join(joinTableAsAlias, function (join) {\n      var fullJoinTableRelatedCol = _this2.relation.fullJoinTableRelatedCol();\n\n      for (var i = 0, l = fullJoinTableRelatedCol.length; i < l; ++i) {\n        join.on(fullJoinTableRelatedCol[i], fullRelatedCol[i]);\n      }\n    });\n\n    return this.relation.joinTableModelClass(builder.knex()).query().childQueryOf(builder).delete().whereIn(joinTableRowId, selectRelatedQuery).runAfter(_lodash2.default.constant({}));\n  };\n\n  return ManyToManyUnrelateSqliteOperation;\n}(_QueryBuilderOperation2.default);\n\nexports.default = ManyToManyUnrelateSqliteOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1hbnlUb01hbnlVbnJlbGF0ZVNxbGl0ZU9wZXJhdGlvbi5qcyJdLCJuYW1lcyI6WyJzcWxpdGVCdWlsdEluUm93SWQiLCJNYW55VG9NYW55VW5yZWxhdGVTcWxpdGVPcGVyYXRpb24iLCJuYW1lIiwib3B0IiwiaXNXcml0ZU9wZXJhdGlvbiIsInJlbGF0aW9uIiwib3duZXIiLCJxdWVyeUV4ZWN1dG9yIiwiYnVpbGRlciIsImpvaW5UYWJsZUFsaWFzIiwiam9pblRhYmxlQXNBbGlhcyIsImpvaW5UYWJsZSIsImpvaW5UYWJsZUFsaWFzUm93SWQiLCJqb2luVGFibGVSb3dJZCIsIm93bmVySWQiLCIkdmFsdWVzIiwib3duZXJQcm9wIiwiZnVsbFJlbGF0ZWRDb2wiLCJzZWxlY3RSZWxhdGVkUXVlcnkiLCJyZWxhdGVkTW9kZWxDbGFzcyIsInF1ZXJ5IiwiY2hpbGRRdWVyeU9mIiwiY29weUZyb20iLCJzZWxlY3QiLCJtb2RpZnkiLCJ3aGVyZUNvbXBvc2l0ZSIsImZ1bGxKb2luVGFibGVPd25lckNvbCIsImpvaW4iLCJmdWxsSm9pblRhYmxlUmVsYXRlZENvbCIsImkiLCJsIiwibGVuZ3RoIiwib24iLCJqb2luVGFibGVNb2RlbENsYXNzIiwia25leCIsImRlbGV0ZSIsIndoZXJlSW4iLCJydW5BZnRlciIsImNvbnN0YW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBRUEsSUFBTUEscUJBQXFCLFNBQTNCOztJQUVxQkMsaUM7OztBQUVuQiw2Q0FBWUMsSUFBWixFQUFrQkMsR0FBbEIsRUFBdUI7QUFBQTs7QUFBQSwrREFDckIsaUNBQU1ELElBQU4sRUFBWUMsR0FBWixDQURxQjs7QUFHckIsVUFBS0MsZ0JBQUwsR0FBd0IsSUFBeEI7QUFDQSxVQUFLQyxRQUFMLEdBQWdCRixJQUFJRSxRQUFwQjtBQUNBLFVBQUtDLEtBQUwsR0FBYUgsSUFBSUcsS0FBakI7QUFMcUI7QUFNdEI7OzhDQUVEQyxhLDBCQUFjQyxPLEVBQVM7QUFBQTs7QUFDckIsUUFBSUMsaUJBQWlCLEtBQUtKLFFBQUwsQ0FBY0ksY0FBZCxFQUFyQjtBQUNBLFFBQUlDLG1CQUFtQixLQUFLTCxRQUFMLENBQWNNLFNBQWQsR0FBMEIsTUFBMUIsR0FBbUNGLGNBQTFEO0FBQ0EsUUFBSUcsc0JBQXNCSCxpQkFBaUIsR0FBakIsR0FBdUJULGtCQUFqRDtBQUNBLFFBQUlhLGlCQUFpQixLQUFLUixRQUFMLENBQWNNLFNBQWQsR0FBMEIsR0FBMUIsR0FBZ0NYLGtCQUFyRDs7QUFFQSxRQUFJYyxVQUFVLEtBQUtSLEtBQUwsQ0FBV1MsT0FBWCxDQUFtQixLQUFLVixRQUFMLENBQWNXLFNBQWpDLENBQWQ7QUFDQSxRQUFJQyxpQkFBaUIsS0FBS1osUUFBTCxDQUFjWSxjQUFkLEVBQXJCOztBQUVBLFFBQUlDLHFCQUFxQixLQUFLYixRQUFMLENBQWNjLGlCQUFkLENBQ3RCQyxLQURzQixHQUV0QkMsWUFGc0IsQ0FFVGIsT0FGUyxFQUd0QmMsUUFIc0IsQ0FHYmQsT0FIYSxFQUdKLFFBSEksRUFJdEJlLE1BSnNCLENBSWZYLG1CQUplLEVBS3RCWSxNQUxzQixDQUtmLEtBQUtuQixRQUFMLENBQWNtQixNQUxDLEVBTXRCQyxjQU5zQixDQU1QLEtBQUtwQixRQUFMLENBQWNxQixxQkFBZCxFQU5PLEVBTWdDWixPQU5oQyxFQU90QmEsSUFQc0IsQ0FPakJqQixnQkFQaUIsRUFPQyxnQkFBUTtBQUM5QixVQUFNa0IsMEJBQTBCLE9BQUt2QixRQUFMLENBQWN1Qix1QkFBZCxFQUFoQzs7QUFFQSxXQUFLLElBQUlDLElBQUksQ0FBUixFQUFXQyxJQUFJRix3QkFBd0JHLE1BQTVDLEVBQW9ERixJQUFJQyxDQUF4RCxFQUEyRCxFQUFFRCxDQUE3RCxFQUFnRTtBQUM5REYsYUFBS0ssRUFBTCxDQUFRSix3QkFBd0JDLENBQXhCLENBQVIsRUFBb0NaLGVBQWVZLENBQWYsQ0FBcEM7QUFDRDtBQUNGLEtBYnNCLENBQXpCOztBQWVBLFdBQU8sS0FBS3hCLFFBQUwsQ0FBYzRCLG1CQUFkLENBQWtDekIsUUFBUTBCLElBQVIsRUFBbEMsRUFDSmQsS0FESSxHQUVKQyxZQUZJLENBRVNiLE9BRlQsRUFHSjJCLE1BSEksR0FJSkMsT0FKSSxDQUlJdkIsY0FKSixFQUlvQkssa0JBSnBCLEVBS0ptQixRQUxJLENBS0ssaUJBQUVDLFFBQUYsQ0FBVyxFQUFYLENBTEwsQ0FBUDtBQU1ELEc7Ozs7O2tCQXhDa0JyQyxpQyIsImZpbGUiOiJNYW55VG9NYW55VW5yZWxhdGVTcWxpdGVPcGVyYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFF1ZXJ5QnVpbGRlck9wZXJhdGlvbiBmcm9tICcuLi8uLi9xdWVyeUJ1aWxkZXIvb3BlcmF0aW9ucy9RdWVyeUJ1aWxkZXJPcGVyYXRpb24nO1xuXG5jb25zdCBzcWxpdGVCdWlsdEluUm93SWQgPSAnX3Jvd2lkXyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hbnlUb01hbnlVbnJlbGF0ZVNxbGl0ZU9wZXJhdGlvbiBleHRlbmRzIFF1ZXJ5QnVpbGRlck9wZXJhdGlvbiB7XG5cbiAgY29uc3RydWN0b3IobmFtZSwgb3B0KSB7XG4gICAgc3VwZXIobmFtZSwgb3B0KTtcblxuICAgIHRoaXMuaXNXcml0ZU9wZXJhdGlvbiA9IHRydWU7XG4gICAgdGhpcy5yZWxhdGlvbiA9IG9wdC5yZWxhdGlvbjtcbiAgICB0aGlzLm93bmVyID0gb3B0Lm93bmVyO1xuICB9XG5cbiAgcXVlcnlFeGVjdXRvcihidWlsZGVyKSB7XG4gICAgbGV0IGpvaW5UYWJsZUFsaWFzID0gdGhpcy5yZWxhdGlvbi5qb2luVGFibGVBbGlhcygpO1xuICAgIGxldCBqb2luVGFibGVBc0FsaWFzID0gdGhpcy5yZWxhdGlvbi5qb2luVGFibGUgKyAnIGFzICcgKyBqb2luVGFibGVBbGlhcztcbiAgICBsZXQgam9pblRhYmxlQWxpYXNSb3dJZCA9IGpvaW5UYWJsZUFsaWFzICsgJy4nICsgc3FsaXRlQnVpbHRJblJvd0lkO1xuICAgIGxldCBqb2luVGFibGVSb3dJZCA9IHRoaXMucmVsYXRpb24uam9pblRhYmxlICsgJy4nICsgc3FsaXRlQnVpbHRJblJvd0lkO1xuXG4gICAgbGV0IG93bmVySWQgPSB0aGlzLm93bmVyLiR2YWx1ZXModGhpcy5yZWxhdGlvbi5vd25lclByb3ApO1xuICAgIGxldCBmdWxsUmVsYXRlZENvbCA9IHRoaXMucmVsYXRpb24uZnVsbFJlbGF0ZWRDb2woKTtcblxuICAgIGxldCBzZWxlY3RSZWxhdGVkUXVlcnkgPSB0aGlzLnJlbGF0aW9uLnJlbGF0ZWRNb2RlbENsYXNzXG4gICAgICAucXVlcnkoKVxuICAgICAgLmNoaWxkUXVlcnlPZihidWlsZGVyKVxuICAgICAgLmNvcHlGcm9tKGJ1aWxkZXIsIC93aGVyZS9pKVxuICAgICAgLnNlbGVjdChqb2luVGFibGVBbGlhc1Jvd0lkKVxuICAgICAgLm1vZGlmeSh0aGlzLnJlbGF0aW9uLm1vZGlmeSlcbiAgICAgIC53aGVyZUNvbXBvc2l0ZSh0aGlzLnJlbGF0aW9uLmZ1bGxKb2luVGFibGVPd25lckNvbCgpLCBvd25lcklkKVxuICAgICAgLmpvaW4oam9pblRhYmxlQXNBbGlhcywgam9pbiA9PiB7XG4gICAgICAgIGNvbnN0IGZ1bGxKb2luVGFibGVSZWxhdGVkQ29sID0gdGhpcy5yZWxhdGlvbi5mdWxsSm9pblRhYmxlUmVsYXRlZENvbCgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gZnVsbEpvaW5UYWJsZVJlbGF0ZWRDb2wubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgam9pbi5vbihmdWxsSm9pblRhYmxlUmVsYXRlZENvbFtpXSwgZnVsbFJlbGF0ZWRDb2xbaV0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLnJlbGF0aW9uLmpvaW5UYWJsZU1vZGVsQ2xhc3MoYnVpbGRlci5rbmV4KCkpXG4gICAgICAucXVlcnkoKVxuICAgICAgLmNoaWxkUXVlcnlPZihidWlsZGVyKVxuICAgICAgLmRlbGV0ZSgpXG4gICAgICAud2hlcmVJbihqb2luVGFibGVSb3dJZCwgc2VsZWN0UmVsYXRlZFF1ZXJ5KVxuICAgICAgLnJ1bkFmdGVyKF8uY29uc3RhbnQoe30pKTtcbiAgfVxufVxuIl19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/relations/manyToMany/ManyToManyUpdateOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _UpdateOperation2 = require('../../queryBuilder/operations/UpdateOperation');\n\nvar _UpdateOperation3 = _interopRequireDefault(_UpdateOperation2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ManyToManyUpdateOperation = function (_UpdateOperation) {\n  (0, _inherits3.default)(ManyToManyUpdateOperation, _UpdateOperation);\n\n  function ManyToManyUpdateOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, ManyToManyUpdateOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _UpdateOperation.call(this, name, opt));\n\n    _this.relation = opt.relation;\n    _this.owner = opt.owner;\n    return _this;\n  }\n\n  ManyToManyUpdateOperation.prototype.onBeforeBuild = function onBeforeBuild(builder) {\n    _UpdateOperation.prototype.onBeforeBuild.call(this, builder);\n    this.relation.selectForModify(builder, this.owner).modify(this.relation.modify);\n  };\n\n  return ManyToManyUpdateOperation;\n}(_UpdateOperation3.default);\n\nexports.default = ManyToManyUpdateOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1hbnlUb01hbnlVcGRhdGVPcGVyYXRpb24uanMiXSwibmFtZXMiOlsiTWFueVRvTWFueVVwZGF0ZU9wZXJhdGlvbiIsIm5hbWUiLCJvcHQiLCJyZWxhdGlvbiIsIm93bmVyIiwib25CZWZvcmVCdWlsZCIsImJ1aWxkZXIiLCJzZWxlY3RGb3JNb2RpZnkiLCJtb2RpZnkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7O0lBRXFCQSx5Qjs7O0FBRW5CLHFDQUFZQyxJQUFaLEVBQWtCQyxHQUFsQixFQUF1QjtBQUFBOztBQUFBLCtEQUNyQiw0QkFBTUQsSUFBTixFQUFZQyxHQUFaLENBRHFCOztBQUdyQixVQUFLQyxRQUFMLEdBQWdCRCxJQUFJQyxRQUFwQjtBQUNBLFVBQUtDLEtBQUwsR0FBYUYsSUFBSUUsS0FBakI7QUFKcUI7QUFLdEI7O3NDQUVEQyxhLDBCQUFjQyxPLEVBQVM7QUFDckIsK0JBQU1ELGFBQU4sWUFBb0JDLE9BQXBCO0FBQ0EsU0FBS0gsUUFBTCxDQUFjSSxlQUFkLENBQThCRCxPQUE5QixFQUF1QyxLQUFLRixLQUE1QyxFQUFtREksTUFBbkQsQ0FBMEQsS0FBS0wsUUFBTCxDQUFjSyxNQUF4RTtBQUNELEc7Ozs7O2tCQVprQlIseUIiLCJmaWxlIjoiTWFueVRvTWFueVVwZGF0ZU9wZXJhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVcGRhdGVPcGVyYXRpb24gZnJvbSAnLi4vLi4vcXVlcnlCdWlsZGVyL29wZXJhdGlvbnMvVXBkYXRlT3BlcmF0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFueVRvTWFueVVwZGF0ZU9wZXJhdGlvbiBleHRlbmRzIFVwZGF0ZU9wZXJhdGlvbiB7XG5cbiAgY29uc3RydWN0b3IobmFtZSwgb3B0KSB7XG4gICAgc3VwZXIobmFtZSwgb3B0KTtcblxuICAgIHRoaXMucmVsYXRpb24gPSBvcHQucmVsYXRpb247XG4gICAgdGhpcy5vd25lciA9IG9wdC5vd25lcjtcbiAgfVxuXG4gIG9uQmVmb3JlQnVpbGQoYnVpbGRlcikge1xuICAgIHN1cGVyLm9uQmVmb3JlQnVpbGQoYnVpbGRlcik7XG4gICAgdGhpcy5yZWxhdGlvbi5zZWxlY3RGb3JNb2RpZnkoYnVpbGRlciwgdGhpcy5vd25lcikubW9kaWZ5KHRoaXMucmVsYXRpb24ubW9kaWZ5KTtcbiAgfVxufVxuIl19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/relations/manyToMany/ManyToManyUpdateSqliteOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _UpdateOperation2 = require('../../queryBuilder/operations/UpdateOperation');\n\nvar _UpdateOperation3 = _interopRequireDefault(_UpdateOperation2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ManyToManyUpdateSqliteOperation = function (_UpdateOperation) {\n  (0, _inherits3.default)(ManyToManyUpdateSqliteOperation, _UpdateOperation);\n\n  function ManyToManyUpdateSqliteOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, ManyToManyUpdateSqliteOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _UpdateOperation.call(this, name, opt));\n\n    _this.relation = opt.relation;\n    _this.owner = opt.owner;\n    return _this;\n  }\n\n  ManyToManyUpdateSqliteOperation.prototype.onBeforeBuild = function onBeforeBuild(builder) {\n    _UpdateOperation.prototype.onBeforeBuild.call(this, builder);\n    this.relation.selectForModifySqlite(builder, this.owner).modify(this.relation.modify);\n  };\n\n  return ManyToManyUpdateSqliteOperation;\n}(_UpdateOperation3.default);\n\nexports.default = ManyToManyUpdateSqliteOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1hbnlUb01hbnlVcGRhdGVTcWxpdGVPcGVyYXRpb24uanMiXSwibmFtZXMiOlsiTWFueVRvTWFueVVwZGF0ZVNxbGl0ZU9wZXJhdGlvbiIsIm5hbWUiLCJvcHQiLCJyZWxhdGlvbiIsIm93bmVyIiwib25CZWZvcmVCdWlsZCIsImJ1aWxkZXIiLCJzZWxlY3RGb3JNb2RpZnlTcWxpdGUiLCJtb2RpZnkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7O0lBRXFCQSwrQjs7O0FBRW5CLDJDQUFZQyxJQUFaLEVBQWtCQyxHQUFsQixFQUF1QjtBQUFBOztBQUFBLCtEQUNyQiw0QkFBTUQsSUFBTixFQUFZQyxHQUFaLENBRHFCOztBQUdyQixVQUFLQyxRQUFMLEdBQWdCRCxJQUFJQyxRQUFwQjtBQUNBLFVBQUtDLEtBQUwsR0FBYUYsSUFBSUUsS0FBakI7QUFKcUI7QUFLdEI7OzRDQUVEQyxhLDBCQUFjQyxPLEVBQVM7QUFDckIsK0JBQU1ELGFBQU4sWUFBb0JDLE9BQXBCO0FBQ0EsU0FBS0gsUUFBTCxDQUFjSSxxQkFBZCxDQUFvQ0QsT0FBcEMsRUFBNkMsS0FBS0YsS0FBbEQsRUFBeURJLE1BQXpELENBQWdFLEtBQUtMLFFBQUwsQ0FBY0ssTUFBOUU7QUFDRCxHOzs7OztrQkFaa0JSLCtCIiwiZmlsZSI6Ik1hbnlUb01hbnlVcGRhdGVTcWxpdGVPcGVyYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXBkYXRlT3BlcmF0aW9uIGZyb20gJy4uLy4uL3F1ZXJ5QnVpbGRlci9vcGVyYXRpb25zL1VwZGF0ZU9wZXJhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hbnlUb01hbnlVcGRhdGVTcWxpdGVPcGVyYXRpb24gZXh0ZW5kcyBVcGRhdGVPcGVyYXRpb24ge1xuXG4gIGNvbnN0cnVjdG9yKG5hbWUsIG9wdCkge1xuICAgIHN1cGVyKG5hbWUsIG9wdCk7XG5cbiAgICB0aGlzLnJlbGF0aW9uID0gb3B0LnJlbGF0aW9uO1xuICAgIHRoaXMub3duZXIgPSBvcHQub3duZXI7XG4gIH1cblxuICBvbkJlZm9yZUJ1aWxkKGJ1aWxkZXIpIHtcbiAgICBzdXBlci5vbkJlZm9yZUJ1aWxkKGJ1aWxkZXIpO1xuICAgIHRoaXMucmVsYXRpb24uc2VsZWN0Rm9yTW9kaWZ5U3FsaXRlKGJ1aWxkZXIsIHRoaXMub3duZXIpLm1vZGlmeSh0aGlzLnJlbGF0aW9uLm1vZGlmeSk7XG4gIH1cbn1cbiJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/relations/manyToMany/ManyToManyDeleteOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _DeleteOperation2 = require('../../queryBuilder/operations/DeleteOperation');\n\nvar _DeleteOperation3 = _interopRequireDefault(_DeleteOperation2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ManyToManyDeleteOperation = function (_DeleteOperation) {\n  (0, _inherits3.default)(ManyToManyDeleteOperation, _DeleteOperation);\n\n  function ManyToManyDeleteOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, ManyToManyDeleteOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _DeleteOperation.call(this, name, opt));\n\n    _this.relation = opt.relation;\n    _this.owner = opt.owner;\n    return _this;\n  }\n\n  ManyToManyDeleteOperation.prototype.onBeforeBuild = function onBeforeBuild(builder) {\n    _DeleteOperation.prototype.onBeforeBuild.call(this, builder);\n    this.relation.selectForModify(builder, this.owner).modify(this.relation.modify);\n  };\n\n  return ManyToManyDeleteOperation;\n}(_DeleteOperation3.default);\n\nexports.default = ManyToManyDeleteOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1hbnlUb01hbnlEZWxldGVPcGVyYXRpb24uanMiXSwibmFtZXMiOlsiTWFueVRvTWFueURlbGV0ZU9wZXJhdGlvbiIsIm5hbWUiLCJvcHQiLCJyZWxhdGlvbiIsIm93bmVyIiwib25CZWZvcmVCdWlsZCIsImJ1aWxkZXIiLCJzZWxlY3RGb3JNb2RpZnkiLCJtb2RpZnkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7O0lBRXFCQSx5Qjs7O0FBRW5CLHFDQUFZQyxJQUFaLEVBQWtCQyxHQUFsQixFQUF1QjtBQUFBOztBQUFBLCtEQUNyQiw0QkFBTUQsSUFBTixFQUFZQyxHQUFaLENBRHFCOztBQUdyQixVQUFLQyxRQUFMLEdBQWdCRCxJQUFJQyxRQUFwQjtBQUNBLFVBQUtDLEtBQUwsR0FBYUYsSUFBSUUsS0FBakI7QUFKcUI7QUFLdEI7O3NDQUVEQyxhLDBCQUFjQyxPLEVBQVM7QUFDckIsK0JBQU1ELGFBQU4sWUFBb0JDLE9BQXBCO0FBQ0EsU0FBS0gsUUFBTCxDQUFjSSxlQUFkLENBQThCRCxPQUE5QixFQUF1QyxLQUFLRixLQUE1QyxFQUFtREksTUFBbkQsQ0FBMEQsS0FBS0wsUUFBTCxDQUFjSyxNQUF4RTtBQUNELEc7Ozs7O2tCQVprQlIseUIiLCJmaWxlIjoiTWFueVRvTWFueURlbGV0ZU9wZXJhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEZWxldGVPcGVyYXRpb24gZnJvbSAnLi4vLi4vcXVlcnlCdWlsZGVyL29wZXJhdGlvbnMvRGVsZXRlT3BlcmF0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFueVRvTWFueURlbGV0ZU9wZXJhdGlvbiBleHRlbmRzIERlbGV0ZU9wZXJhdGlvbiB7XG5cbiAgY29uc3RydWN0b3IobmFtZSwgb3B0KSB7XG4gICAgc3VwZXIobmFtZSwgb3B0KTtcblxuICAgIHRoaXMucmVsYXRpb24gPSBvcHQucmVsYXRpb247XG4gICAgdGhpcy5vd25lciA9IG9wdC5vd25lcjtcbiAgfVxuXG4gIG9uQmVmb3JlQnVpbGQoYnVpbGRlcikge1xuICAgIHN1cGVyLm9uQmVmb3JlQnVpbGQoYnVpbGRlcik7XG4gICAgdGhpcy5yZWxhdGlvbi5zZWxlY3RGb3JNb2RpZnkoYnVpbGRlciwgdGhpcy5vd25lcikubW9kaWZ5KHRoaXMucmVsYXRpb24ubW9kaWZ5KTtcbiAgfVxufVxuIl19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/relations/manyToMany/ManyToManyDeleteSqliteOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _DeleteOperation2 = require('../../queryBuilder/operations/DeleteOperation');\n\nvar _DeleteOperation3 = _interopRequireDefault(_DeleteOperation2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ManyToManyDeleteSqliteOperation = function (_DeleteOperation) {\n  (0, _inherits3.default)(ManyToManyDeleteSqliteOperation, _DeleteOperation);\n\n  function ManyToManyDeleteSqliteOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, ManyToManyDeleteSqliteOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _DeleteOperation.call(this, name, opt));\n\n    _this.relation = opt.relation;\n    _this.owner = opt.owner;\n    return _this;\n  }\n\n  ManyToManyDeleteSqliteOperation.prototype.onBeforeBuild = function onBeforeBuild(builder) {\n    _DeleteOperation.prototype.onBeforeBuild.call(this, builder);\n    this.relation.selectForModifySqlite(builder, this.owner).modify(this.relation.modify);\n  };\n\n  return ManyToManyDeleteSqliteOperation;\n}(_DeleteOperation3.default);\n\nexports.default = ManyToManyDeleteSqliteOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1hbnlUb01hbnlEZWxldGVTcWxpdGVPcGVyYXRpb24uanMiXSwibmFtZXMiOlsiTWFueVRvTWFueURlbGV0ZVNxbGl0ZU9wZXJhdGlvbiIsIm5hbWUiLCJvcHQiLCJyZWxhdGlvbiIsIm93bmVyIiwib25CZWZvcmVCdWlsZCIsImJ1aWxkZXIiLCJzZWxlY3RGb3JNb2RpZnlTcWxpdGUiLCJtb2RpZnkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7O0lBRXFCQSwrQjs7O0FBRW5CLDJDQUFZQyxJQUFaLEVBQWtCQyxHQUFsQixFQUF1QjtBQUFBOztBQUFBLCtEQUNyQiw0QkFBTUQsSUFBTixFQUFZQyxHQUFaLENBRHFCOztBQUdyQixVQUFLQyxRQUFMLEdBQWdCRCxJQUFJQyxRQUFwQjtBQUNBLFVBQUtDLEtBQUwsR0FBYUYsSUFBSUUsS0FBakI7QUFKcUI7QUFLdEI7OzRDQUVEQyxhLDBCQUFjQyxPLEVBQVM7QUFDckIsK0JBQU1ELGFBQU4sWUFBb0JDLE9BQXBCO0FBQ0EsU0FBS0gsUUFBTCxDQUFjSSxxQkFBZCxDQUFvQ0QsT0FBcEMsRUFBNkMsS0FBS0YsS0FBbEQsRUFBeURJLE1BQXpELENBQWdFLEtBQUtMLFFBQUwsQ0FBY0ssTUFBOUU7QUFDRCxHOzs7OztrQkFaa0JSLCtCIiwiZmlsZSI6Ik1hbnlUb01hbnlEZWxldGVTcWxpdGVPcGVyYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGVsZXRlT3BlcmF0aW9uIGZyb20gJy4uLy4uL3F1ZXJ5QnVpbGRlci9vcGVyYXRpb25zL0RlbGV0ZU9wZXJhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hbnlUb01hbnlEZWxldGVTcWxpdGVPcGVyYXRpb24gZXh0ZW5kcyBEZWxldGVPcGVyYXRpb24ge1xuXG4gIGNvbnN0cnVjdG9yKG5hbWUsIG9wdCkge1xuICAgIHN1cGVyKG5hbWUsIG9wdCk7XG5cbiAgICB0aGlzLnJlbGF0aW9uID0gb3B0LnJlbGF0aW9uO1xuICAgIHRoaXMub3duZXIgPSBvcHQub3duZXI7XG4gIH1cblxuICBvbkJlZm9yZUJ1aWxkKGJ1aWxkZXIpIHtcbiAgICBzdXBlci5vbkJlZm9yZUJ1aWxkKGJ1aWxkZXIpO1xuICAgIHRoaXMucmVsYXRpb24uc2VsZWN0Rm9yTW9kaWZ5U3FsaXRlKGJ1aWxkZXIsIHRoaXMub3duZXIpLm1vZGlmeSh0aGlzLnJlbGF0aW9uLm1vZGlmeSk7XG4gIH1cbn1cbiJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/relations/belongsToOne/BelongsToOneRelation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _Relation2 = require('../Relation');\n\nvar _Relation3 = _interopRequireDefault(_Relation2);\n\nvar _BelongsToOneInsertOperation = require('./BelongsToOneInsertOperation');\n\nvar _BelongsToOneInsertOperation2 = _interopRequireDefault(_BelongsToOneInsertOperation);\n\nvar _BelongsToOneRelateOperation = require('./BelongsToOneRelateOperation');\n\nvar _BelongsToOneRelateOperation2 = _interopRequireDefault(_BelongsToOneRelateOperation);\n\nvar _BelongsToOneUnrelateOperation = require('./BelongsToOneUnrelateOperation');\n\nvar _BelongsToOneUnrelateOperation2 = _interopRequireDefault(_BelongsToOneUnrelateOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar BelongsToOneRelation = function (_Relation) {\n  (0, _inherits3.default)(BelongsToOneRelation, _Relation);\n\n  function BelongsToOneRelation() {\n    (0, _classCallCheck3.default)(this, BelongsToOneRelation);\n    return (0, _possibleConstructorReturn3.default)(this, _Relation.apply(this, arguments));\n  }\n\n  BelongsToOneRelation.prototype.isOneToOne = function isOneToOne() {\n    return true;\n  };\n\n  BelongsToOneRelation.prototype.insert = function insert(builder, owner) {\n    return new _BelongsToOneInsertOperation2.default('insert', {\n      relation: this,\n      owner: owner\n    });\n  };\n\n  BelongsToOneRelation.prototype.relate = function relate(builder, owner) {\n    return new _BelongsToOneRelateOperation2.default('relate', {\n      relation: this,\n      owner: owner\n    });\n  };\n\n  BelongsToOneRelation.prototype.unrelate = function unrelate(builder, owner) {\n    return new _BelongsToOneUnrelateOperation2.default('unrelate', {\n      relation: this,\n      owner: owner\n    });\n  };\n\n  return BelongsToOneRelation;\n}(_Relation3.default);\n\nexports.default = BelongsToOneRelation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkJlbG9uZ3NUb09uZVJlbGF0aW9uLmpzIl0sIm5hbWVzIjpbIkJlbG9uZ3NUb09uZVJlbGF0aW9uIiwiaXNPbmVUb09uZSIsImluc2VydCIsImJ1aWxkZXIiLCJvd25lciIsInJlbGF0aW9uIiwicmVsYXRlIiwidW5yZWxhdGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0lBRXFCQSxvQjs7Ozs7Ozs7aUNBRW5CQyxVLHlCQUFhO0FBQ1gsV0FBTyxJQUFQO0FBQ0QsRzs7aUNBRURDLE0sbUJBQU9DLE8sRUFBU0MsSyxFQUFPO0FBQ3JCLFdBQU8sMENBQWdDLFFBQWhDLEVBQTBDO0FBQy9DQyxnQkFBVSxJQURxQztBQUUvQ0QsYUFBT0E7QUFGd0MsS0FBMUMsQ0FBUDtBQUlELEc7O2lDQUVERSxNLG1CQUFPSCxPLEVBQVNDLEssRUFBTztBQUNyQixXQUFPLDBDQUFnQyxRQUFoQyxFQUEwQztBQUMvQ0MsZ0JBQVUsSUFEcUM7QUFFL0NELGFBQU9BO0FBRndDLEtBQTFDLENBQVA7QUFJRCxHOztpQ0FFREcsUSxxQkFBU0osTyxFQUFTQyxLLEVBQU87QUFDdkIsV0FBTyw0Q0FBa0MsVUFBbEMsRUFBOEM7QUFDbkRDLGdCQUFVLElBRHlDO0FBRW5ERCxhQUFPQTtBQUY0QyxLQUE5QyxDQUFQO0FBSUQsRzs7Ozs7a0JBekJrQkosb0IiLCJmaWxlIjoiQmVsb25nc1RvT25lUmVsYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVsYXRpb24gZnJvbSAnLi4vUmVsYXRpb24nO1xuaW1wb3J0IEJlbG9uZ3NUb09uZUluc2VydE9wZXJhdGlvbiBmcm9tICcuL0JlbG9uZ3NUb09uZUluc2VydE9wZXJhdGlvbic7XG5pbXBvcnQgQmVsb25nc1RvT25lUmVsYXRlT3BlcmF0aW9uIGZyb20gJy4vQmVsb25nc1RvT25lUmVsYXRlT3BlcmF0aW9uJztcbmltcG9ydCBCZWxvbmdzVG9PbmVVbnJlbGF0ZU9wZXJhdGlvbiBmcm9tICcuL0JlbG9uZ3NUb09uZVVucmVsYXRlT3BlcmF0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmVsb25nc1RvT25lUmVsYXRpb24gZXh0ZW5kcyBSZWxhdGlvbiB7XG5cbiAgaXNPbmVUb09uZSgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGluc2VydChidWlsZGVyLCBvd25lcikge1xuICAgIHJldHVybiBuZXcgQmVsb25nc1RvT25lSW5zZXJ0T3BlcmF0aW9uKCdpbnNlcnQnLCB7XG4gICAgICByZWxhdGlvbjogdGhpcyxcbiAgICAgIG93bmVyOiBvd25lclxuICAgIH0pO1xuICB9XG5cbiAgcmVsYXRlKGJ1aWxkZXIsIG93bmVyKSB7XG4gICAgcmV0dXJuIG5ldyBCZWxvbmdzVG9PbmVSZWxhdGVPcGVyYXRpb24oJ3JlbGF0ZScsIHtcbiAgICAgIHJlbGF0aW9uOiB0aGlzLFxuICAgICAgb3duZXI6IG93bmVyXG4gICAgfSk7XG4gIH1cblxuICB1bnJlbGF0ZShidWlsZGVyLCBvd25lcikge1xuICAgIHJldHVybiBuZXcgQmVsb25nc1RvT25lVW5yZWxhdGVPcGVyYXRpb24oJ3VucmVsYXRlJywge1xuICAgICAgcmVsYXRpb246IHRoaXMsXG4gICAgICBvd25lcjogb3duZXJcbiAgICB9KTtcbiAgfVxufSJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/relations/belongsToOne/BelongsToOneInsertOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _InsertOperation2 = require('../../queryBuilder/operations/InsertOperation');\n\nvar _InsertOperation3 = _interopRequireDefault(_InsertOperation2);\n\nvar _promiseUtils = require('../../utils/promiseUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar BelongsToOneInsertOperation = function (_InsertOperation) {\n  (0, _inherits3.default)(BelongsToOneInsertOperation, _InsertOperation);\n\n  function BelongsToOneInsertOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, BelongsToOneInsertOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _InsertOperation.call(this, name, opt));\n\n    _this.relation = opt.relation;\n    _this.owner = opt.owner;\n    return _this;\n  }\n\n  BelongsToOneInsertOperation.prototype.call = function call(builder, args) {\n    var retVal = _InsertOperation.prototype.call.call(this, builder, args);\n\n    if (this.models.length > 1) {\n      this.relation.throwError('can only insert one model to a BelongsToOneRelation');\n    }\n\n    return retVal;\n  };\n\n  BelongsToOneInsertOperation.prototype.onAfterQuery = function onAfterQuery(builder, inserted) {\n    var _this2 = this;\n\n    var maybePromise = _InsertOperation.prototype.onAfterQuery.call(this, builder, inserted);\n\n    return (0, _promiseUtils.after)(maybePromise, function (inserted) {\n      _this2.owner[_this2.relation.name] = inserted[0] || null;\n      var patch = {};\n\n      for (var i = 0, l = _this2.relation.ownerProp.length; i < l; ++i) {\n        var ownerProp = _this2.relation.ownerProp[i];\n        var relatedProp = _this2.relation.relatedProp[i];\n        var relatedValue = inserted[0][relatedProp];\n\n        _this2.owner[ownerProp] = inserted[0][relatedProp];\n        patch[ownerProp] = relatedValue;\n      }\n\n      return _this2.relation.ownerModelClass.query().childQueryOf(builder).patch(patch).whereComposite(_this2.relation.ownerModelClass.getFullIdColumn(), _this2.owner.$id()).return(inserted);\n    });\n  };\n\n  return BelongsToOneInsertOperation;\n}(_InsertOperation3.default);\n\nexports.default = BelongsToOneInsertOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkJlbG9uZ3NUb09uZUluc2VydE9wZXJhdGlvbi5qcyJdLCJuYW1lcyI6WyJCZWxvbmdzVG9PbmVJbnNlcnRPcGVyYXRpb24iLCJuYW1lIiwib3B0IiwicmVsYXRpb24iLCJvd25lciIsImNhbGwiLCJidWlsZGVyIiwiYXJncyIsInJldFZhbCIsIm1vZGVscyIsImxlbmd0aCIsInRocm93RXJyb3IiLCJvbkFmdGVyUXVlcnkiLCJpbnNlcnRlZCIsIm1heWJlUHJvbWlzZSIsInBhdGNoIiwiaSIsImwiLCJvd25lclByb3AiLCJyZWxhdGVkUHJvcCIsInJlbGF0ZWRWYWx1ZSIsIm93bmVyTW9kZWxDbGFzcyIsInF1ZXJ5IiwiY2hpbGRRdWVyeU9mIiwid2hlcmVDb21wb3NpdGUiLCJnZXRGdWxsSWRDb2x1bW4iLCIkaWQiLCJyZXR1cm4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0lBRXFCQSwyQjs7O0FBRW5CLHVDQUFZQyxJQUFaLEVBQWtCQyxHQUFsQixFQUF1QjtBQUFBOztBQUFBLCtEQUNyQiw0QkFBTUQsSUFBTixFQUFZQyxHQUFaLENBRHFCOztBQUdyQixVQUFLQyxRQUFMLEdBQWdCRCxJQUFJQyxRQUFwQjtBQUNBLFVBQUtDLEtBQUwsR0FBYUYsSUFBSUUsS0FBakI7QUFKcUI7QUFLdEI7O3dDQUVEQyxJLGlCQUFLQyxPLEVBQVNDLEksRUFBTTtBQUNsQixRQUFNQyxTQUFTLDJCQUFNSCxJQUFOLFlBQVdDLE9BQVgsRUFBb0JDLElBQXBCLENBQWY7O0FBRUEsUUFBSSxLQUFLRSxNQUFMLENBQVlDLE1BQVosR0FBcUIsQ0FBekIsRUFBNEI7QUFDMUIsV0FBS1AsUUFBTCxDQUFjUSxVQUFkLENBQXlCLHFEQUF6QjtBQUNEOztBQUVELFdBQU9ILE1BQVA7QUFDRCxHOzt3Q0FFREksWSx5QkFBYU4sTyxFQUFTTyxRLEVBQVU7QUFBQTs7QUFDOUIsUUFBTUMsZUFBZSwyQkFBTUYsWUFBTixZQUFtQk4sT0FBbkIsRUFBNEJPLFFBQTVCLENBQXJCOztBQUVBLFdBQU8seUJBQU1DLFlBQU4sRUFBb0Isb0JBQVk7QUFDckMsYUFBS1YsS0FBTCxDQUFXLE9BQUtELFFBQUwsQ0FBY0YsSUFBekIsSUFBaUNZLFNBQVMsQ0FBVCxLQUFlLElBQWhEO0FBQ0EsVUFBSUUsUUFBUSxFQUFaOztBQUVBLFdBQUssSUFBSUMsSUFBSSxDQUFSLEVBQVdDLElBQUksT0FBS2QsUUFBTCxDQUFjZSxTQUFkLENBQXdCUixNQUE1QyxFQUFvRE0sSUFBSUMsQ0FBeEQsRUFBMkQsRUFBRUQsQ0FBN0QsRUFBZ0U7QUFDOUQsWUFBTUUsWUFBWSxPQUFLZixRQUFMLENBQWNlLFNBQWQsQ0FBd0JGLENBQXhCLENBQWxCO0FBQ0EsWUFBTUcsY0FBYyxPQUFLaEIsUUFBTCxDQUFjZ0IsV0FBZCxDQUEwQkgsQ0FBMUIsQ0FBcEI7QUFDQSxZQUFNSSxlQUFlUCxTQUFTLENBQVQsRUFBWU0sV0FBWixDQUFyQjs7QUFFQSxlQUFLZixLQUFMLENBQVdjLFNBQVgsSUFBd0JMLFNBQVMsQ0FBVCxFQUFZTSxXQUFaLENBQXhCO0FBQ0FKLGNBQU1HLFNBQU4sSUFBbUJFLFlBQW5CO0FBQ0Q7O0FBRUQsYUFBTyxPQUFLakIsUUFBTCxDQUFja0IsZUFBZCxDQUNKQyxLQURJLEdBRUpDLFlBRkksQ0FFU2pCLE9BRlQsRUFHSlMsS0FISSxDQUdFQSxLQUhGLEVBSUpTLGNBSkksQ0FJVyxPQUFLckIsUUFBTCxDQUFja0IsZUFBZCxDQUE4QkksZUFBOUIsRUFKWCxFQUk0RCxPQUFLckIsS0FBTCxDQUFXc0IsR0FBWCxFQUo1RCxFQUtKQyxNQUxJLENBS0dkLFFBTEgsQ0FBUDtBQU1ELEtBbkJNLENBQVA7QUFxQkQsRzs7Ozs7a0JBM0NrQmIsMkIiLCJmaWxlIjoiQmVsb25nc1RvT25lSW5zZXJ0T3BlcmF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEluc2VydE9wZXJhdGlvbiBmcm9tICcuLi8uLi9xdWVyeUJ1aWxkZXIvb3BlcmF0aW9ucy9JbnNlcnRPcGVyYXRpb24nO1xuaW1wb3J0IHthZnRlcn0gZnJvbSAnLi4vLi4vdXRpbHMvcHJvbWlzZVV0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmVsb25nc1RvT25lSW5zZXJ0T3BlcmF0aW9uIGV4dGVuZHMgSW5zZXJ0T3BlcmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcihuYW1lLCBvcHQpIHtcbiAgICBzdXBlcihuYW1lLCBvcHQpO1xuXG4gICAgdGhpcy5yZWxhdGlvbiA9IG9wdC5yZWxhdGlvbjtcbiAgICB0aGlzLm93bmVyID0gb3B0Lm93bmVyO1xuICB9XG5cbiAgY2FsbChidWlsZGVyLCBhcmdzKSB7XG4gICAgY29uc3QgcmV0VmFsID0gc3VwZXIuY2FsbChidWlsZGVyLCBhcmdzKTtcblxuICAgIGlmICh0aGlzLm1vZGVscy5sZW5ndGggPiAxKSB7XG4gICAgICB0aGlzLnJlbGF0aW9uLnRocm93RXJyb3IoJ2NhbiBvbmx5IGluc2VydCBvbmUgbW9kZWwgdG8gYSBCZWxvbmdzVG9PbmVSZWxhdGlvbicpO1xuICAgIH1cblxuICAgIHJldHVybiByZXRWYWw7XG4gIH1cblxuICBvbkFmdGVyUXVlcnkoYnVpbGRlciwgaW5zZXJ0ZWQpIHtcbiAgICBjb25zdCBtYXliZVByb21pc2UgPSBzdXBlci5vbkFmdGVyUXVlcnkoYnVpbGRlciwgaW5zZXJ0ZWQpO1xuXG4gICAgcmV0dXJuIGFmdGVyKG1heWJlUHJvbWlzZSwgaW5zZXJ0ZWQgPT4ge1xuICAgICAgdGhpcy5vd25lclt0aGlzLnJlbGF0aW9uLm5hbWVdID0gaW5zZXJ0ZWRbMF0gfHwgbnVsbDtcbiAgICAgIGxldCBwYXRjaCA9IHt9O1xuXG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMucmVsYXRpb24ub3duZXJQcm9wLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICBjb25zdCBvd25lclByb3AgPSB0aGlzLnJlbGF0aW9uLm93bmVyUHJvcFtpXTtcbiAgICAgICAgY29uc3QgcmVsYXRlZFByb3AgPSB0aGlzLnJlbGF0aW9uLnJlbGF0ZWRQcm9wW2ldO1xuICAgICAgICBjb25zdCByZWxhdGVkVmFsdWUgPSBpbnNlcnRlZFswXVtyZWxhdGVkUHJvcF07XG5cbiAgICAgICAgdGhpcy5vd25lcltvd25lclByb3BdID0gaW5zZXJ0ZWRbMF1bcmVsYXRlZFByb3BdO1xuICAgICAgICBwYXRjaFtvd25lclByb3BdID0gcmVsYXRlZFZhbHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5yZWxhdGlvbi5vd25lck1vZGVsQ2xhc3NcbiAgICAgICAgLnF1ZXJ5KClcbiAgICAgICAgLmNoaWxkUXVlcnlPZihidWlsZGVyKVxuICAgICAgICAucGF0Y2gocGF0Y2gpXG4gICAgICAgIC53aGVyZUNvbXBvc2l0ZSh0aGlzLnJlbGF0aW9uLm93bmVyTW9kZWxDbGFzcy5nZXRGdWxsSWRDb2x1bW4oKSwgdGhpcy5vd25lci4kaWQoKSlcbiAgICAgICAgLnJldHVybihpbnNlcnRlZCk7XG4gICAgfSk7XG5cbiAgfVxuXG59XG4iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/relations/belongsToOne/BelongsToOneRelateOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _normalizeIds = require('../../utils/normalizeIds');\n\nvar _normalizeIds2 = _interopRequireDefault(_normalizeIds);\n\nvar _QueryBuilderOperation = require('../../queryBuilder/operations/QueryBuilderOperation');\n\nvar _QueryBuilderOperation2 = _interopRequireDefault(_QueryBuilderOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar BelongsToOneRelateOperation = function (_QueryBuilderOperatio) {\n  (0, _inherits3.default)(BelongsToOneRelateOperation, _QueryBuilderOperatio);\n\n  function BelongsToOneRelateOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, BelongsToOneRelateOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _QueryBuilderOperatio.call(this, name, opt));\n\n    _this.isWriteOperation = true;\n    _this.relation = opt.relation;\n    _this.owner = opt.owner;\n    _this.input = null;\n    _this.ids = null;\n    return _this;\n  }\n\n  BelongsToOneRelateOperation.prototype.call = function call(builder, args) {\n    this.input = args[0];\n    this.ids = (0, _normalizeIds2.default)(args[0], this.relation.relatedProp, { arrayOutput: true });\n\n    if (this.ids.length > 1) {\n      this.relation.throwError('can only relate one model to a BelongsToOneRelation');\n    }\n\n    return true;\n  };\n\n  BelongsToOneRelateOperation.prototype.queryExecutor = function queryExecutor(builder) {\n    var patch = {};\n\n    for (var i = 0, l = this.relation.ownerProp.length; i < l; ++i) {\n      var prop = this.relation.ownerProp[i];\n\n      this.owner[prop] = this.ids[0][i];\n      patch[prop] = this.ids[0][i];\n    }\n\n    return this.relation.ownerModelClass.query().childQueryOf(builder).copyFrom(builder, /where/i).patch(patch).whereComposite(this.relation.ownerModelClass.getFullIdColumn(), this.owner.$id());\n  };\n\n  BelongsToOneRelateOperation.prototype.onAfterInternal = function onAfterInternal(builder) {\n    return this.input;\n  };\n\n  return BelongsToOneRelateOperation;\n}(_QueryBuilderOperation2.default);\n\nexports.default = BelongsToOneRelateOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkJlbG9uZ3NUb09uZVJlbGF0ZU9wZXJhdGlvbi5qcyJdLCJuYW1lcyI6WyJCZWxvbmdzVG9PbmVSZWxhdGVPcGVyYXRpb24iLCJuYW1lIiwib3B0IiwiaXNXcml0ZU9wZXJhdGlvbiIsInJlbGF0aW9uIiwib3duZXIiLCJpbnB1dCIsImlkcyIsImNhbGwiLCJidWlsZGVyIiwiYXJncyIsInJlbGF0ZWRQcm9wIiwiYXJyYXlPdXRwdXQiLCJsZW5ndGgiLCJ0aHJvd0Vycm9yIiwicXVlcnlFeGVjdXRvciIsInBhdGNoIiwiaSIsImwiLCJvd25lclByb3AiLCJwcm9wIiwib3duZXJNb2RlbENsYXNzIiwicXVlcnkiLCJjaGlsZFF1ZXJ5T2YiLCJjb3B5RnJvbSIsIndoZXJlQ29tcG9zaXRlIiwiZ2V0RnVsbElkQ29sdW1uIiwiJGlkIiwib25BZnRlckludGVybmFsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0lBRXFCQSwyQjs7O0FBRW5CLHVDQUFZQyxJQUFaLEVBQWtCQyxHQUFsQixFQUF1QjtBQUFBOztBQUFBLCtEQUNyQixpQ0FBTUQsSUFBTixFQUFZQyxHQUFaLENBRHFCOztBQUdyQixVQUFLQyxnQkFBTCxHQUF3QixJQUF4QjtBQUNBLFVBQUtDLFFBQUwsR0FBZ0JGLElBQUlFLFFBQXBCO0FBQ0EsVUFBS0MsS0FBTCxHQUFhSCxJQUFJRyxLQUFqQjtBQUNBLFVBQUtDLEtBQUwsR0FBYSxJQUFiO0FBQ0EsVUFBS0MsR0FBTCxHQUFXLElBQVg7QUFQcUI7QUFRdEI7O3dDQUVEQyxJLGlCQUFLQyxPLEVBQVNDLEksRUFBTTtBQUNsQixTQUFLSixLQUFMLEdBQWFJLEtBQUssQ0FBTCxDQUFiO0FBQ0EsU0FBS0gsR0FBTCxHQUFXLDRCQUFhRyxLQUFLLENBQUwsQ0FBYixFQUFzQixLQUFLTixRQUFMLENBQWNPLFdBQXBDLEVBQWlELEVBQUNDLGFBQWEsSUFBZCxFQUFqRCxDQUFYOztBQUVBLFFBQUksS0FBS0wsR0FBTCxDQUFTTSxNQUFULEdBQWtCLENBQXRCLEVBQXlCO0FBQ3ZCLFdBQUtULFFBQUwsQ0FBY1UsVUFBZCxDQUF5QixxREFBekI7QUFDRDs7QUFFRCxXQUFPLElBQVA7QUFDRCxHOzt3Q0FFREMsYSwwQkFBY04sTyxFQUFTO0FBQ3JCLFFBQUlPLFFBQVEsRUFBWjs7QUFFQSxTQUFLLElBQUlDLElBQUksQ0FBUixFQUFXQyxJQUFJLEtBQUtkLFFBQUwsQ0FBY2UsU0FBZCxDQUF3Qk4sTUFBNUMsRUFBb0RJLElBQUlDLENBQXhELEVBQTJELEVBQUVELENBQTdELEVBQWdFO0FBQzlELFVBQU1HLE9BQU8sS0FBS2hCLFFBQUwsQ0FBY2UsU0FBZCxDQUF3QkYsQ0FBeEIsQ0FBYjs7QUFFQSxXQUFLWixLQUFMLENBQVdlLElBQVgsSUFBbUIsS0FBS2IsR0FBTCxDQUFTLENBQVQsRUFBWVUsQ0FBWixDQUFuQjtBQUNBRCxZQUFNSSxJQUFOLElBQWMsS0FBS2IsR0FBTCxDQUFTLENBQVQsRUFBWVUsQ0FBWixDQUFkO0FBQ0Q7O0FBRUQsV0FBTyxLQUFLYixRQUFMLENBQWNpQixlQUFkLENBQ0pDLEtBREksR0FFSkMsWUFGSSxDQUVTZCxPQUZULEVBR0plLFFBSEksQ0FHS2YsT0FITCxFQUdjLFFBSGQsRUFJSk8sS0FKSSxDQUlFQSxLQUpGLEVBS0pTLGNBTEksQ0FLVyxLQUFLckIsUUFBTCxDQUFjaUIsZUFBZCxDQUE4QkssZUFBOUIsRUFMWCxFQUs0RCxLQUFLckIsS0FBTCxDQUFXc0IsR0FBWCxFQUw1RCxDQUFQO0FBTUQsRzs7d0NBRURDLGUsNEJBQWdCbkIsTyxFQUFTO0FBQ3ZCLFdBQU8sS0FBS0gsS0FBWjtBQUNELEc7Ozs7O2tCQTNDa0JOLDJCIiwiZmlsZSI6IkJlbG9uZ3NUb09uZVJlbGF0ZU9wZXJhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBub3JtYWxpemVJZHMgZnJvbSAnLi4vLi4vdXRpbHMvbm9ybWFsaXplSWRzJztcbmltcG9ydCBRdWVyeUJ1aWxkZXJPcGVyYXRpb24gZnJvbSAnLi4vLi4vcXVlcnlCdWlsZGVyL29wZXJhdGlvbnMvUXVlcnlCdWlsZGVyT3BlcmF0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmVsb25nc1RvT25lUmVsYXRlT3BlcmF0aW9uIGV4dGVuZHMgUXVlcnlCdWlsZGVyT3BlcmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcihuYW1lLCBvcHQpIHtcbiAgICBzdXBlcihuYW1lLCBvcHQpO1xuXG4gICAgdGhpcy5pc1dyaXRlT3BlcmF0aW9uID0gdHJ1ZTtcbiAgICB0aGlzLnJlbGF0aW9uID0gb3B0LnJlbGF0aW9uO1xuICAgIHRoaXMub3duZXIgPSBvcHQub3duZXI7XG4gICAgdGhpcy5pbnB1dCA9IG51bGw7XG4gICAgdGhpcy5pZHMgPSBudWxsO1xuICB9XG5cbiAgY2FsbChidWlsZGVyLCBhcmdzKSB7XG4gICAgdGhpcy5pbnB1dCA9IGFyZ3NbMF07XG4gICAgdGhpcy5pZHMgPSBub3JtYWxpemVJZHMoYXJnc1swXSwgdGhpcy5yZWxhdGlvbi5yZWxhdGVkUHJvcCwge2FycmF5T3V0cHV0OiB0cnVlfSk7XG5cbiAgICBpZiAodGhpcy5pZHMubGVuZ3RoID4gMSkge1xuICAgICAgdGhpcy5yZWxhdGlvbi50aHJvd0Vycm9yKCdjYW4gb25seSByZWxhdGUgb25lIG1vZGVsIHRvIGEgQmVsb25nc1RvT25lUmVsYXRpb24nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHF1ZXJ5RXhlY3V0b3IoYnVpbGRlcikge1xuICAgIGxldCBwYXRjaCA9IHt9O1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLnJlbGF0aW9uLm93bmVyUHJvcC5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgIGNvbnN0IHByb3AgPSB0aGlzLnJlbGF0aW9uLm93bmVyUHJvcFtpXTtcblxuICAgICAgdGhpcy5vd25lcltwcm9wXSA9IHRoaXMuaWRzWzBdW2ldO1xuICAgICAgcGF0Y2hbcHJvcF0gPSB0aGlzLmlkc1swXVtpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5yZWxhdGlvbi5vd25lck1vZGVsQ2xhc3NcbiAgICAgIC5xdWVyeSgpXG4gICAgICAuY2hpbGRRdWVyeU9mKGJ1aWxkZXIpXG4gICAgICAuY29weUZyb20oYnVpbGRlciwgL3doZXJlL2kpXG4gICAgICAucGF0Y2gocGF0Y2gpXG4gICAgICAud2hlcmVDb21wb3NpdGUodGhpcy5yZWxhdGlvbi5vd25lck1vZGVsQ2xhc3MuZ2V0RnVsbElkQ29sdW1uKCksIHRoaXMub3duZXIuJGlkKCkpO1xuICB9XG5cbiAgb25BZnRlckludGVybmFsKGJ1aWxkZXIpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dDtcbiAgfVxufVxuIl19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/relations/belongsToOne/BelongsToOneUnrelateOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _BelongsToOneRelateOperation = require('./BelongsToOneRelateOperation');\n\nvar _BelongsToOneRelateOperation2 = _interopRequireDefault(_BelongsToOneRelateOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar BelongsToOneUnrelateOperation = function (_BelongsToOneRelateOp) {\n  (0, _inherits3.default)(BelongsToOneUnrelateOperation, _BelongsToOneRelateOp);\n\n  function BelongsToOneUnrelateOperation() {\n    (0, _classCallCheck3.default)(this, BelongsToOneUnrelateOperation);\n    return (0, _possibleConstructorReturn3.default)(this, _BelongsToOneRelateOp.apply(this, arguments));\n  }\n\n  BelongsToOneUnrelateOperation.prototype.call = function call(builder, args) {\n    var ids = new Array(this.relation.ownerProp.length);\n\n    for (var i = 0, l = this.relation.ownerProp.length; i < l; ++i) {\n      ids[i] = null;\n    }\n\n    this.ids = [ids];\n    return true;\n  };\n\n  BelongsToOneUnrelateOperation.prototype.onAfterInternal = function onAfterInternal(builder, result) {\n    return result;\n  };\n\n  return BelongsToOneUnrelateOperation;\n}(_BelongsToOneRelateOperation2.default);\n\nexports.default = BelongsToOneUnrelateOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkJlbG9uZ3NUb09uZVVucmVsYXRlT3BlcmF0aW9uLmpzIl0sIm5hbWVzIjpbIkJlbG9uZ3NUb09uZVVucmVsYXRlT3BlcmF0aW9uIiwiY2FsbCIsImJ1aWxkZXIiLCJhcmdzIiwiaWRzIiwiQXJyYXkiLCJyZWxhdGlvbiIsIm93bmVyUHJvcCIsImxlbmd0aCIsImkiLCJsIiwib25BZnRlckludGVybmFsIiwicmVzdWx0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7OztJQUVxQkEsNkI7Ozs7Ozs7OzBDQUVuQkMsSSxpQkFBS0MsTyxFQUFTQyxJLEVBQU07QUFDbEIsUUFBTUMsTUFBTSxJQUFJQyxLQUFKLENBQVUsS0FBS0MsUUFBTCxDQUFjQyxTQUFkLENBQXdCQyxNQUFsQyxDQUFaOztBQUVBLFNBQUssSUFBSUMsSUFBSSxDQUFSLEVBQVdDLElBQUksS0FBS0osUUFBTCxDQUFjQyxTQUFkLENBQXdCQyxNQUE1QyxFQUFvREMsSUFBSUMsQ0FBeEQsRUFBMkQsRUFBRUQsQ0FBN0QsRUFBZ0U7QUFDOURMLFVBQUlLLENBQUosSUFBUyxJQUFUO0FBQ0Q7O0FBRUQsU0FBS0wsR0FBTCxHQUFXLENBQUNBLEdBQUQsQ0FBWDtBQUNBLFdBQU8sSUFBUDtBQUNELEc7OzBDQUVETyxlLDRCQUFnQlQsTyxFQUFTVSxNLEVBQVE7QUFDL0IsV0FBT0EsTUFBUDtBQUNELEc7Ozs7O2tCQWZrQlosNkIiLCJmaWxlIjoiQmVsb25nc1RvT25lVW5yZWxhdGVPcGVyYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmVsb25nc1RvT25lUmVsYXRlT3BlcmF0aW9uIGZyb20gJy4vQmVsb25nc1RvT25lUmVsYXRlT3BlcmF0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmVsb25nc1RvT25lVW5yZWxhdGVPcGVyYXRpb24gZXh0ZW5kcyBCZWxvbmdzVG9PbmVSZWxhdGVPcGVyYXRpb24ge1xuXG4gIGNhbGwoYnVpbGRlciwgYXJncykge1xuICAgIGNvbnN0IGlkcyA9IG5ldyBBcnJheSh0aGlzLnJlbGF0aW9uLm93bmVyUHJvcC5sZW5ndGgpO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLnJlbGF0aW9uLm93bmVyUHJvcC5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgIGlkc1tpXSA9IG51bGw7XG4gICAgfVxuXG4gICAgdGhpcy5pZHMgPSBbaWRzXTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIG9uQWZ0ZXJJbnRlcm5hbChidWlsZGVyLCByZXN1bHQpIHtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59XG4iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/graphInserter/DependencyNode.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DependencyNode = function DependencyNode(model, modelClass) {\n  (0, _classCallCheck3.default)(this, DependencyNode);\n\n  this.id = model[modelClass.uidProp];\n\n  /**\n   * @type {Model}\n   */\n  this.model = model;\n\n  /**\n   * @type {Constructor.<Model>}\n   */\n  this.modelClass = modelClass;\n\n  /**\n   * @type {Array.<Dependency>}\n   */\n  this.needs = [];\n\n  /**\n   * @type {Array.<Dependency>}\n   */\n  this.isNeededBy = [];\n\n  /**\n   * @type {Array.<ManyToManyConnection>}\n   */\n  this.manyToManyConnections = [];\n\n  this.numHandledNeeds = 0;\n  this.handled = false;\n  this.visited = false;\n  this.recursion = false;\n};\n\nexports.default = DependencyNode;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkRlcGVuZGVuY3lOb2RlLmpzIl0sIm5hbWVzIjpbIkRlcGVuZGVuY3lOb2RlIiwibW9kZWwiLCJtb2RlbENsYXNzIiwiaWQiLCJ1aWRQcm9wIiwibmVlZHMiLCJpc05lZWRlZEJ5IiwibWFueVRvTWFueUNvbm5lY3Rpb25zIiwibnVtSGFuZGxlZE5lZWRzIiwiaGFuZGxlZCIsInZpc2l0ZWQiLCJyZWN1cnNpb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7SUFBcUJBLGMsR0FFbkIsd0JBQVlDLEtBQVosRUFBbUJDLFVBQW5CLEVBQStCO0FBQUE7O0FBQzdCLE9BQUtDLEVBQUwsR0FBVUYsTUFBTUMsV0FBV0UsT0FBakIsQ0FBVjs7QUFFQTs7O0FBR0EsT0FBS0gsS0FBTCxHQUFhQSxLQUFiOztBQUVBOzs7QUFHQSxPQUFLQyxVQUFMLEdBQWtCQSxVQUFsQjs7QUFFQTs7O0FBR0EsT0FBS0csS0FBTCxHQUFhLEVBQWI7O0FBRUE7OztBQUdBLE9BQUtDLFVBQUwsR0FBa0IsRUFBbEI7O0FBRUE7OztBQUdBLE9BQUtDLHFCQUFMLEdBQTZCLEVBQTdCOztBQUVBLE9BQUtDLGVBQUwsR0FBdUIsQ0FBdkI7QUFDQSxPQUFLQyxPQUFMLEdBQWUsS0FBZjtBQUNBLE9BQUtDLE9BQUwsR0FBZSxLQUFmO0FBQ0EsT0FBS0MsU0FBTCxHQUFpQixLQUFqQjtBQUNELEM7O2tCQWxDa0JYLGMiLCJmaWxlIjoiRGVwZW5kZW5jeU5vZGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBEZXBlbmRlbmN5Tm9kZSB7XG5cbiAgY29uc3RydWN0b3IobW9kZWwsIG1vZGVsQ2xhc3MpIHtcbiAgICB0aGlzLmlkID0gbW9kZWxbbW9kZWxDbGFzcy51aWRQcm9wXTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtNb2RlbH1cbiAgICAgKi9cbiAgICB0aGlzLm1vZGVsID0gbW9kZWw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Q29uc3RydWN0b3IuPE1vZGVsPn1cbiAgICAgKi9cbiAgICB0aGlzLm1vZGVsQ2xhc3MgPSBtb2RlbENsYXNzO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5LjxEZXBlbmRlbmN5Pn1cbiAgICAgKi9cbiAgICB0aGlzLm5lZWRzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXkuPERlcGVuZGVuY3k+fVxuICAgICAqL1xuICAgIHRoaXMuaXNOZWVkZWRCeSA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5LjxNYW55VG9NYW55Q29ubmVjdGlvbj59XG4gICAgICovXG4gICAgdGhpcy5tYW55VG9NYW55Q29ubmVjdGlvbnMgPSBbXTtcblxuICAgIHRoaXMubnVtSGFuZGxlZE5lZWRzID0gMDtcbiAgICB0aGlzLmhhbmRsZWQgPSBmYWxzZTtcbiAgICB0aGlzLnZpc2l0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJlY3Vyc2lvbiA9IGZhbHNlO1xuICB9XG5cbn0iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/graphInserter/HasManyDependency.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _Dependency2 = require('./Dependency');\n\nvar _Dependency3 = _interopRequireDefault(_Dependency2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar HasManyDependency = function (_Dependency) {\n  (0, _inherits3.default)(HasManyDependency, _Dependency);\n\n  function HasManyDependency(node, relation) {\n    (0, _classCallCheck3.default)(this, HasManyDependency);\n\n    /**\n     * @type {Relation}\n     */\n    var _this = (0, _possibleConstructorReturn3.default)(this, _Dependency.call(this, node));\n\n    _this.relation = relation;\n    return _this;\n  }\n\n  HasManyDependency.prototype.resolve = function resolve(model) {\n    for (var i = 0; i < this.relation.relatedProp.length; ++i) {\n      this.node.model[this.relation.relatedProp[i]] = model[this.relation.ownerProp[i]];\n    }\n  };\n\n  return HasManyDependency;\n}(_Dependency3.default);\n\nexports.default = HasManyDependency;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkhhc01hbnlEZXBlbmRlbmN5LmpzIl0sIm5hbWVzIjpbIkhhc01hbnlEZXBlbmRlbmN5Iiwibm9kZSIsInJlbGF0aW9uIiwicmVzb2x2ZSIsIm1vZGVsIiwiaSIsInJlbGF0ZWRQcm9wIiwibGVuZ3RoIiwib3duZXJQcm9wIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7OztJQUVxQkEsaUI7OztBQUVuQiw2QkFBWUMsSUFBWixFQUFrQkMsUUFBbEIsRUFBNEI7QUFBQTs7QUFHMUI7OztBQUgwQiwrREFDMUIsdUJBQU1ELElBQU4sQ0FEMEI7O0FBTTFCLFVBQUtDLFFBQUwsR0FBZ0JBLFFBQWhCO0FBTjBCO0FBTzNCOzs4QkFFREMsTyxvQkFBUUMsSyxFQUFPO0FBQ2IsU0FBSyxJQUFJQyxJQUFJLENBQWIsRUFBZ0JBLElBQUksS0FBS0gsUUFBTCxDQUFjSSxXQUFkLENBQTBCQyxNQUE5QyxFQUFzRCxFQUFFRixDQUF4RCxFQUEyRDtBQUN6RCxXQUFLSixJQUFMLENBQVVHLEtBQVYsQ0FBZ0IsS0FBS0YsUUFBTCxDQUFjSSxXQUFkLENBQTBCRCxDQUExQixDQUFoQixJQUFnREQsTUFBTSxLQUFLRixRQUFMLENBQWNNLFNBQWQsQ0FBd0JILENBQXhCLENBQU4sQ0FBaEQ7QUFDRDtBQUNGLEc7Ozs7O2tCQWZrQkwsaUIiLCJmaWxlIjoiSGFzTWFueURlcGVuZGVuY3kuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGVwZW5kZW5jeSBmcm9tICcuL0RlcGVuZGVuY3knO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIYXNNYW55RGVwZW5kZW5jeSBleHRlbmRzIERlcGVuZGVuY3kge1xuXG4gIGNvbnN0cnVjdG9yKG5vZGUsIHJlbGF0aW9uKSB7XG4gICAgc3VwZXIobm9kZSk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7UmVsYXRpb259XG4gICAgICovXG4gICAgdGhpcy5yZWxhdGlvbiA9IHJlbGF0aW9uO1xuICB9XG5cbiAgcmVzb2x2ZShtb2RlbCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yZWxhdGlvbi5yZWxhdGVkUHJvcC5sZW5ndGg7ICsraSkge1xuICAgICAgdGhpcy5ub2RlLm1vZGVsW3RoaXMucmVsYXRpb24ucmVsYXRlZFByb3BbaV1dID0gbW9kZWxbdGhpcy5yZWxhdGlvbi5vd25lclByb3BbaV1dO1xuICAgIH1cbiAgfVxufSJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/graphInserter/Dependency.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Dependency = function () {\n  function Dependency(node) {\n    (0, _classCallCheck3.default)(this, Dependency);\n\n    /**\n     * @type {DependencyNode}\n     */\n    this.node = node;\n  }\n\n  Dependency.prototype.resolve = function resolve(model) {\n    throw new Error('not implemented');\n  };\n\n  return Dependency;\n}();\n\nexports.default = Dependency;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkRlcGVuZGVuY3kuanMiXSwibmFtZXMiOlsiRGVwZW5kZW5jeSIsIm5vZGUiLCJyZXNvbHZlIiwibW9kZWwiLCJFcnJvciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztJQUFxQkEsVTtBQUVuQixzQkFBWUMsSUFBWixFQUFrQjtBQUFBOztBQUNoQjs7O0FBR0EsU0FBS0EsSUFBTCxHQUFZQSxJQUFaO0FBQ0Q7O3VCQUVEQyxPLG9CQUFRQyxLLEVBQU87QUFDYixVQUFNLElBQUlDLEtBQUosQ0FBVSxpQkFBVixDQUFOO0FBQ0QsRzs7Ozs7a0JBWGtCSixVIiwiZmlsZSI6IkRlcGVuZGVuY3kuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBEZXBlbmRlbmN5IHtcblxuICBjb25zdHJ1Y3Rvcihub2RlKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0RlcGVuZGVuY3lOb2RlfVxuICAgICAqL1xuICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gIH1cblxuICByZXNvbHZlKG1vZGVsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxufSJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/graphInserter/ManyToManyConnection.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ManyToManyConnection = function ManyToManyConnection(node, relation) {\n  (0, _classCallCheck3.default)(this, ManyToManyConnection);\n\n  /**\n   * @type {DependencyNode}\n   */\n  this.node = node;\n\n  /**\n   * @type {DependencyNode}\n   */\n  this.refNode = null;\n\n  /**\n   * @type {Relation}\n   */\n  this.relation = relation;\n\n  relation.omitExtraProps([node.model]);\n};\n\nexports.default = ManyToManyConnection;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1hbnlUb01hbnlDb25uZWN0aW9uLmpzIl0sIm5hbWVzIjpbIk1hbnlUb01hbnlDb25uZWN0aW9uIiwibm9kZSIsInJlbGF0aW9uIiwicmVmTm9kZSIsIm9taXRFeHRyYVByb3BzIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7SUFBcUJBLG9CLEdBRW5CLDhCQUFZQyxJQUFaLEVBQWtCQyxRQUFsQixFQUE0QjtBQUFBOztBQUMxQjs7O0FBR0EsT0FBS0QsSUFBTCxHQUFZQSxJQUFaOztBQUVBOzs7QUFHQSxPQUFLRSxPQUFMLEdBQWUsSUFBZjs7QUFFQTs7O0FBR0EsT0FBS0QsUUFBTCxHQUFnQkEsUUFBaEI7O0FBRUFBLFdBQVNFLGNBQVQsQ0FBd0IsQ0FBQ0gsS0FBS0ksS0FBTixDQUF4QjtBQUNELEM7O2tCQW5Ca0JMLG9CIiwiZmlsZSI6Ik1hbnlUb01hbnlDb25uZWN0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFueVRvTWFueUNvbm5lY3Rpb24ge1xuXG4gIGNvbnN0cnVjdG9yKG5vZGUsIHJlbGF0aW9uKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0RlcGVuZGVuY3lOb2RlfVxuICAgICAqL1xuICAgIHRoaXMubm9kZSA9IG5vZGU7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7RGVwZW5kZW5jeU5vZGV9XG4gICAgICovXG4gICAgdGhpcy5yZWZOb2RlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtSZWxhdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbGF0aW9uID0gcmVsYXRpb247XG5cbiAgICByZWxhdGlvbi5vbWl0RXh0cmFQcm9wcyhbbm9kZS5tb2RlbF0pO1xuICB9XG5cbn0iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/graphInserter/ReplaceValueDependency.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _Dependency2 = require('./Dependency');\n\nvar _Dependency3 = _interopRequireDefault(_Dependency2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ReplaceValueDependency = function (_Dependency) {\n  (0, _inherits3.default)(ReplaceValueDependency, _Dependency);\n\n  function ReplaceValueDependency(node, path, refProp, inverse) {\n    (0, _classCallCheck3.default)(this, ReplaceValueDependency);\n\n    /**\n     * @type {Array.<string>}\n     */\n    var _this = (0, _possibleConstructorReturn3.default)(this, _Dependency.call(this, node));\n\n    _this.path = path.slice();\n\n    /**\n     * @type {string}\n     */\n    _this.refProp = refProp;\n\n    /**\n     * @type boolean\n     */\n    _this.inverse = inverse;\n    return _this;\n  }\n\n  ReplaceValueDependency.prototype.resolve = function resolve(model) {\n    if (!this.inverse) {\n      _lodash2.default.set(model, this.path, this.node.model[this.refProp]);\n    } else {\n      _lodash2.default.set(this.node.model, this.path, model[this.refProp]);\n    }\n  };\n\n  return ReplaceValueDependency;\n}(_Dependency3.default);\n\nexports.default = ReplaceValueDependency;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlcGxhY2VWYWx1ZURlcGVuZGVuY3kuanMiXSwibmFtZXMiOlsiUmVwbGFjZVZhbHVlRGVwZW5kZW5jeSIsIm5vZGUiLCJwYXRoIiwicmVmUHJvcCIsImludmVyc2UiLCJzbGljZSIsInJlc29sdmUiLCJtb2RlbCIsInNldCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7OztJQUVxQkEsc0I7OztBQUVuQixrQ0FBWUMsSUFBWixFQUFrQkMsSUFBbEIsRUFBd0JDLE9BQXhCLEVBQWdDQyxPQUFoQyxFQUF5QztBQUFBOztBQUd2Qzs7O0FBSHVDLCtEQUN2Qyx1QkFBTUgsSUFBTixDQUR1Qzs7QUFNdkMsVUFBS0MsSUFBTCxHQUFZQSxLQUFLRyxLQUFMLEVBQVo7O0FBRUE7OztBQUdBLFVBQUtGLE9BQUwsR0FBZUEsT0FBZjs7QUFFQTs7O0FBR0EsVUFBS0MsT0FBTCxHQUFlQSxPQUFmO0FBaEJ1QztBQWlCeEM7O21DQUVERSxPLG9CQUFRQyxLLEVBQU87QUFDYixRQUFJLENBQUMsS0FBS0gsT0FBVixFQUFtQjtBQUNqQix1QkFBRUksR0FBRixDQUFNRCxLQUFOLEVBQWEsS0FBS0wsSUFBbEIsRUFBd0IsS0FBS0QsSUFBTCxDQUFVTSxLQUFWLENBQWdCLEtBQUtKLE9BQXJCLENBQXhCO0FBQ0QsS0FGRCxNQUVPO0FBQ0wsdUJBQUVLLEdBQUYsQ0FBTSxLQUFLUCxJQUFMLENBQVVNLEtBQWhCLEVBQXVCLEtBQUtMLElBQTVCLEVBQWtDSyxNQUFNLEtBQUtKLE9BQVgsQ0FBbEM7QUFDRDtBQUNGLEc7Ozs7O2tCQTNCa0JILHNCIiwiZmlsZSI6IlJlcGxhY2VWYWx1ZURlcGVuZGVuY3kuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IERlcGVuZGVuY3kgZnJvbSAnLi9EZXBlbmRlbmN5JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVwbGFjZVZhbHVlRGVwZW5kZW5jeSBleHRlbmRzIERlcGVuZGVuY3kge1xuXG4gIGNvbnN0cnVjdG9yKG5vZGUsIHBhdGgsIHJlZlByb3AsaW52ZXJzZSkge1xuICAgIHN1cGVyKG5vZGUpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5LjxzdHJpbmc+fVxuICAgICAqL1xuICAgIHRoaXMucGF0aCA9IHBhdGguc2xpY2UoKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5yZWZQcm9wID0gcmVmUHJvcDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKi9cbiAgICB0aGlzLmludmVyc2UgPSBpbnZlcnNlO1xuICB9XG5cbiAgcmVzb2x2ZShtb2RlbCkge1xuICAgIGlmICghdGhpcy5pbnZlcnNlKSB7XG4gICAgICBfLnNldChtb2RlbCwgdGhpcy5wYXRoLCB0aGlzLm5vZGUubW9kZWxbdGhpcy5yZWZQcm9wXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF8uc2V0KHRoaXMubm9kZS5tb2RlbCwgdGhpcy5wYXRoLCBtb2RlbFt0aGlzLnJlZlByb3BdKTtcbiAgICB9XG4gIH1cbn0iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/graphInserter/BelongsToOneDependency.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _Dependency2 = require('./Dependency');\n\nvar _Dependency3 = _interopRequireDefault(_Dependency2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar BelongsToOneDependency = function (_Dependency) {\n  (0, _inherits3.default)(BelongsToOneDependency, _Dependency);\n\n  function BelongsToOneDependency(node, relation) {\n    (0, _classCallCheck3.default)(this, BelongsToOneDependency);\n\n    /**\n     * @type {Relation}\n     */\n    var _this = (0, _possibleConstructorReturn3.default)(this, _Dependency.call(this, node));\n\n    _this.relation = relation;\n    return _this;\n  }\n\n  BelongsToOneDependency.prototype.resolve = function resolve(model) {\n    for (var i = 0; i < this.relation.relatedProp.length; ++i) {\n      this.node.model[this.relation.ownerProp[i]] = model[this.relation.relatedProp[i]];\n    }\n  };\n\n  return BelongsToOneDependency;\n}(_Dependency3.default);\n\nexports.default = BelongsToOneDependency;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkJlbG9uZ3NUb09uZURlcGVuZGVuY3kuanMiXSwibmFtZXMiOlsiQmVsb25nc1RvT25lRGVwZW5kZW5jeSIsIm5vZGUiLCJyZWxhdGlvbiIsInJlc29sdmUiLCJtb2RlbCIsImkiLCJyZWxhdGVkUHJvcCIsImxlbmd0aCIsIm93bmVyUHJvcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7SUFFcUJBLHNCOzs7QUFFbkIsa0NBQVlDLElBQVosRUFBa0JDLFFBQWxCLEVBQTRCO0FBQUE7O0FBRzFCOzs7QUFIMEIsK0RBQzFCLHVCQUFNRCxJQUFOLENBRDBCOztBQU0xQixVQUFLQyxRQUFMLEdBQWdCQSxRQUFoQjtBQU4wQjtBQU8zQjs7bUNBRURDLE8sb0JBQVFDLEssRUFBTztBQUNiLFNBQUssSUFBSUMsSUFBSSxDQUFiLEVBQWdCQSxJQUFJLEtBQUtILFFBQUwsQ0FBY0ksV0FBZCxDQUEwQkMsTUFBOUMsRUFBc0QsRUFBRUYsQ0FBeEQsRUFBMkQ7QUFDekQsV0FBS0osSUFBTCxDQUFVRyxLQUFWLENBQWdCLEtBQUtGLFFBQUwsQ0FBY00sU0FBZCxDQUF3QkgsQ0FBeEIsQ0FBaEIsSUFBOENELE1BQU0sS0FBS0YsUUFBTCxDQUFjSSxXQUFkLENBQTBCRCxDQUExQixDQUFOLENBQTlDO0FBQ0Q7QUFDRixHOzs7OztrQkFma0JMLHNCIiwiZmlsZSI6IkJlbG9uZ3NUb09uZURlcGVuZGVuY3kuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGVwZW5kZW5jeSBmcm9tICcuL0RlcGVuZGVuY3knO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCZWxvbmdzVG9PbmVEZXBlbmRlbmN5IGV4dGVuZHMgRGVwZW5kZW5jeSB7XG5cbiAgY29uc3RydWN0b3Iobm9kZSwgcmVsYXRpb24pIHtcbiAgICBzdXBlcihub2RlKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtSZWxhdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbGF0aW9uID0gcmVsYXRpb247XG4gIH1cblxuICByZXNvbHZlKG1vZGVsKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlbGF0aW9uLnJlbGF0ZWRQcm9wLmxlbmd0aDsgKytpKSB7XG4gICAgICB0aGlzLm5vZGUubW9kZWxbdGhpcy5yZWxhdGlvbi5vd25lclByb3BbaV1dID0gbW9kZWxbdGhpcy5yZWxhdGlvbi5yZWxhdGVkUHJvcFtpXV07XG4gICAgfVxuICB9XG59Il19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/graphInserter/InterpolateValueDependency.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _Dependency2 = require('./Dependency');\n\nvar _Dependency3 = _interopRequireDefault(_Dependency2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InterpolateValueDependency = function (_Dependency) {\n  (0, _inherits3.default)(InterpolateValueDependency, _Dependency);\n\n  function InterpolateValueDependency(node, path, refProp, match, inverse) {\n    (0, _classCallCheck3.default)(this, InterpolateValueDependency);\n\n    /**\n     * @type {Array.<string>}\n     */\n    var _this = (0, _possibleConstructorReturn3.default)(this, _Dependency.call(this, node));\n\n    _this.path = path.slice();\n\n    /**\n     * @type {string}\n     */\n    _this.refProp = refProp;\n\n    /**\n     * @type {string}\n     */\n    _this.match = match;\n\n    /**\n     * @type boolean\n     */\n    _this.inverse = inverse;\n    return _this;\n  }\n\n  InterpolateValueDependency.prototype.resolve = function resolve(model) {\n    if (!this.inverse) {\n      var value = _lodash2.default.get(model, this.path);\n      value = value.replace(this.match, this.node.model[this.refProp]);\n      _lodash2.default.set(model, this.path, value);\n    } else {\n      var _value = _lodash2.default.get(this.node.model, this.path);\n      _value = _value.replace(this.match, model[this.refProp]);\n      _lodash2.default.set(this.node.model, this.path, _value);\n    }\n  };\n\n  return InterpolateValueDependency;\n}(_Dependency3.default);\n\nexports.default = InterpolateValueDependency;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkludGVycG9sYXRlVmFsdWVEZXBlbmRlbmN5LmpzIl0sIm5hbWVzIjpbIkludGVycG9sYXRlVmFsdWVEZXBlbmRlbmN5Iiwibm9kZSIsInBhdGgiLCJyZWZQcm9wIiwibWF0Y2giLCJpbnZlcnNlIiwic2xpY2UiLCJyZXNvbHZlIiwibW9kZWwiLCJ2YWx1ZSIsImdldCIsInJlcGxhY2UiLCJzZXQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7SUFFcUJBLDBCOzs7QUFFbkIsc0NBQVlDLElBQVosRUFBa0JDLElBQWxCLEVBQXdCQyxPQUF4QixFQUFpQ0MsS0FBakMsRUFBd0NDLE9BQXhDLEVBQWlEO0FBQUE7O0FBRy9DOzs7QUFIK0MsK0RBQy9DLHVCQUFNSixJQUFOLENBRCtDOztBQU0vQyxVQUFLQyxJQUFMLEdBQVlBLEtBQUtJLEtBQUwsRUFBWjs7QUFFQTs7O0FBR0EsVUFBS0gsT0FBTCxHQUFlQSxPQUFmOztBQUVBOzs7QUFHQSxVQUFLQyxLQUFMLEdBQWFBLEtBQWI7O0FBRUE7OztBQUdBLFVBQUtDLE9BQUwsR0FBZUEsT0FBZjtBQXJCK0M7QUFzQmhEOzt1Q0FFREUsTyxvQkFBUUMsSyxFQUFPO0FBQ2IsUUFBSSxDQUFDLEtBQUtILE9BQVYsRUFBbUI7QUFDakIsVUFBSUksUUFBUSxpQkFBRUMsR0FBRixDQUFNRixLQUFOLEVBQWEsS0FBS04sSUFBbEIsQ0FBWjtBQUNBTyxjQUFRQSxNQUFNRSxPQUFOLENBQWMsS0FBS1AsS0FBbkIsRUFBMEIsS0FBS0gsSUFBTCxDQUFVTyxLQUFWLENBQWdCLEtBQUtMLE9BQXJCLENBQTFCLENBQVI7QUFDQSx1QkFBRVMsR0FBRixDQUFNSixLQUFOLEVBQWEsS0FBS04sSUFBbEIsRUFBd0JPLEtBQXhCO0FBQ0QsS0FKRCxNQUlPO0FBQ0wsVUFBSUEsU0FBUSxpQkFBRUMsR0FBRixDQUFNLEtBQUtULElBQUwsQ0FBVU8sS0FBaEIsRUFBdUIsS0FBS04sSUFBNUIsQ0FBWjtBQUNBTyxlQUFRQSxPQUFNRSxPQUFOLENBQWMsS0FBS1AsS0FBbkIsRUFBMEJJLE1BQU0sS0FBS0wsT0FBWCxDQUExQixDQUFSO0FBQ0EsdUJBQUVTLEdBQUYsQ0FBTSxLQUFLWCxJQUFMLENBQVVPLEtBQWhCLEVBQXVCLEtBQUtOLElBQTVCLEVBQWtDTyxNQUFsQztBQUNEO0FBQ0YsRzs7Ozs7a0JBcENrQlQsMEIiLCJmaWxlIjoiSW50ZXJwb2xhdGVWYWx1ZURlcGVuZGVuY3kuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IERlcGVuZGVuY3kgZnJvbSAnLi9EZXBlbmRlbmN5JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW50ZXJwb2xhdGVWYWx1ZURlcGVuZGVuY3kgZXh0ZW5kcyBEZXBlbmRlbmN5IHtcblxuICBjb25zdHJ1Y3Rvcihub2RlLCBwYXRoLCByZWZQcm9wLCBtYXRjaCwgaW52ZXJzZSkge1xuICAgIHN1cGVyKG5vZGUpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5LjxzdHJpbmc+fVxuICAgICAqL1xuICAgIHRoaXMucGF0aCA9IHBhdGguc2xpY2UoKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5yZWZQcm9wID0gcmVmUHJvcDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5tYXRjaCA9IG1hdGNoO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqL1xuICAgIHRoaXMuaW52ZXJzZSA9IGludmVyc2U7XG4gIH1cblxuICByZXNvbHZlKG1vZGVsKSB7XG4gICAgaWYgKCF0aGlzLmludmVyc2UpIHtcbiAgICAgIGxldCB2YWx1ZSA9IF8uZ2V0KG1vZGVsLCB0aGlzLnBhdGgpO1xuICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHRoaXMubWF0Y2gsIHRoaXMubm9kZS5tb2RlbFt0aGlzLnJlZlByb3BdKTtcbiAgICAgIF8uc2V0KG1vZGVsLCB0aGlzLnBhdGgsIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHZhbHVlID0gXy5nZXQodGhpcy5ub2RlLm1vZGVsLCB0aGlzLnBhdGgpO1xuICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHRoaXMubWF0Y2gsIG1vZGVsW3RoaXMucmVmUHJvcF0pO1xuICAgICAgXy5zZXQodGhpcy5ub2RlLm1vZGVsLCB0aGlzLnBhdGgsIHZhbHVlKTtcbiAgICB9XG4gIH1cbn0iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/graphInserter/TableInsertion.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TableInsertion = function TableInsertion(modelClass, isJoinTableInsertion) {\n  (0, _classCallCheck3.default)(this, TableInsertion);\n\n  /**\n   * @type {Constructor.<Model>}\n   */\n  this.modelClass = modelClass;\n\n  /**\n   * @type {boolean}\n   */\n  this.isJoinTableInsertion = isJoinTableInsertion;\n\n  /**\n   * @type {Array.<Model>}\n   */\n  this.models = [];\n\n  /**\n   * @type {Array.<Boolean>}\n   */\n  this.isInputModel = [];\n};\n\nexports.default = TableInsertion;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRhYmxlSW5zZXJ0aW9uLmpzIl0sIm5hbWVzIjpbIlRhYmxlSW5zZXJ0aW9uIiwibW9kZWxDbGFzcyIsImlzSm9pblRhYmxlSW5zZXJ0aW9uIiwibW9kZWxzIiwiaXNJbnB1dE1vZGVsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0lBQXFCQSxjLEdBRW5CLHdCQUFZQyxVQUFaLEVBQXdCQyxvQkFBeEIsRUFBOEM7QUFBQTs7QUFDNUM7OztBQUdBLE9BQUtELFVBQUwsR0FBa0JBLFVBQWxCOztBQUVBOzs7QUFHQSxPQUFLQyxvQkFBTCxHQUE0QkEsb0JBQTVCOztBQUVBOzs7QUFHQSxPQUFLQyxNQUFMLEdBQWMsRUFBZDs7QUFFQTs7O0FBR0EsT0FBS0MsWUFBTCxHQUFvQixFQUFwQjtBQUNELEM7O2tCQXRCa0JKLGMiLCJmaWxlIjoiVGFibGVJbnNlcnRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJsZUluc2VydGlvbiB7XG5cbiAgY29uc3RydWN0b3IobW9kZWxDbGFzcywgaXNKb2luVGFibGVJbnNlcnRpb24pIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Q29uc3RydWN0b3IuPE1vZGVsPn1cbiAgICAgKi9cbiAgICB0aGlzLm1vZGVsQ2xhc3MgPSBtb2RlbENsYXNzO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5pc0pvaW5UYWJsZUluc2VydGlvbiA9IGlzSm9pblRhYmxlSW5zZXJ0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5LjxNb2RlbD59XG4gICAgICovXG4gICAgdGhpcy5tb2RlbHMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheS48Qm9vbGVhbj59XG4gICAgICovXG4gICAgdGhpcy5pc0lucHV0TW9kZWwgPSBbXTtcbiAgfVxufSJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/InsertAndFetchOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _InsertOperation = require('./InsertOperation');\n\nvar _InsertOperation2 = _interopRequireDefault(_InsertOperation);\n\nvar _DelegateOperation2 = require('./DelegateOperation');\n\nvar _DelegateOperation3 = _interopRequireDefault(_DelegateOperation2);\n\nvar _promiseUtils = require('../../utils/promiseUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InsertAndFetchOperation = function (_DelegateOperation) {\n  (0, _inherits3.default)(InsertAndFetchOperation, _DelegateOperation);\n\n  function InsertAndFetchOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, InsertAndFetchOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _DelegateOperation.call(this, name, opt));\n\n    if (!_this.delegate.is(_InsertOperation2.default)) {\n      throw new Error('Invalid delegate');\n    }\n    return _this;\n  }\n\n  InsertAndFetchOperation.prototype.onAfterInternal = function onAfterInternal(builder, inserted) {\n    var maybePromise = _DelegateOperation.prototype.onAfterInternal.call(this, builder, inserted);\n\n    return (0, _promiseUtils.after)(maybePromise, function (insertedModels) {\n      var insertedModelArray = Array.isArray(insertedModels) ? insertedModels : [insertedModels];\n      var idProps = builder.modelClass().getIdPropertyArray();\n\n      return builder.modelClass().query().childQueryOf(builder).whereInComposite(builder.modelClass().getFullIdColumn(), insertedModelArray.map(function (model) {\n        return model.$id();\n      })).then(function (fetchedModels) {\n        fetchedModels = _lodash2.default.keyBy(fetchedModels, function (model) {\n          return model.$propKey(idProps);\n        });\n\n        // Instead of returning the freshly fetched models, update the input\n        // models with the fresh values.\n        insertedModelArray.forEach(function (insertedModel) {\n          insertedModel.$set(fetchedModels[insertedModel.$propKey(idProps)]);\n        });\n\n        return insertedModels;\n      });\n    });\n  };\n\n  return InsertAndFetchOperation;\n}(_DelegateOperation3.default);\n\nexports.default = InsertAndFetchOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkluc2VydEFuZEZldGNoT3BlcmF0aW9uLmpzIl0sIm5hbWVzIjpbIkluc2VydEFuZEZldGNoT3BlcmF0aW9uIiwibmFtZSIsIm9wdCIsImRlbGVnYXRlIiwiaXMiLCJFcnJvciIsIm9uQWZ0ZXJJbnRlcm5hbCIsImJ1aWxkZXIiLCJpbnNlcnRlZCIsIm1heWJlUHJvbWlzZSIsImluc2VydGVkTW9kZWxBcnJheSIsIkFycmF5IiwiaXNBcnJheSIsImluc2VydGVkTW9kZWxzIiwiaWRQcm9wcyIsIm1vZGVsQ2xhc3MiLCJnZXRJZFByb3BlcnR5QXJyYXkiLCJxdWVyeSIsImNoaWxkUXVlcnlPZiIsIndoZXJlSW5Db21wb3NpdGUiLCJnZXRGdWxsSWRDb2x1bW4iLCJtYXAiLCJtb2RlbCIsIiRpZCIsInRoZW4iLCJmZXRjaGVkTW9kZWxzIiwia2V5QnkiLCIkcHJvcEtleSIsImZvckVhY2giLCJpbnNlcnRlZE1vZGVsIiwiJHNldCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0lBRXFCQSx1Qjs7O0FBRW5CLG1DQUFZQyxJQUFaLEVBQWtCQyxHQUFsQixFQUF1QjtBQUFBOztBQUFBLCtEQUNyQiw4QkFBTUQsSUFBTixFQUFZQyxHQUFaLENBRHFCOztBQUdyQixRQUFJLENBQUMsTUFBS0MsUUFBTCxDQUFjQyxFQUFkLDJCQUFMLEVBQXdDO0FBQ3RDLFlBQU0sSUFBSUMsS0FBSixDQUFVLGtCQUFWLENBQU47QUFDRDtBQUxvQjtBQU10Qjs7b0NBRURDLGUsNEJBQWdCQyxPLEVBQVNDLFEsRUFBVTtBQUNqQyxRQUFNQyxlQUFlLDZCQUFNSCxlQUFOLFlBQXNCQyxPQUF0QixFQUErQkMsUUFBL0IsQ0FBckI7O0FBRUEsV0FBTyx5QkFBTUMsWUFBTixFQUFvQiwwQkFBa0I7QUFDM0MsVUFBTUMscUJBQXFCQyxNQUFNQyxPQUFOLENBQWNDLGNBQWQsSUFBZ0NBLGNBQWhDLEdBQWlELENBQUNBLGNBQUQsQ0FBNUU7QUFDQSxVQUFNQyxVQUFVUCxRQUFRUSxVQUFSLEdBQXFCQyxrQkFBckIsRUFBaEI7O0FBRUEsYUFBT1QsUUFBUVEsVUFBUixHQUNKRSxLQURJLEdBRUpDLFlBRkksQ0FFU1gsT0FGVCxFQUdKWSxnQkFISSxDQUdhWixRQUFRUSxVQUFSLEdBQXFCSyxlQUFyQixFQUhiLEVBR3FEVixtQkFBbUJXLEdBQW5CLENBQXVCO0FBQUEsZUFBU0MsTUFBTUMsR0FBTixFQUFUO0FBQUEsT0FBdkIsQ0FIckQsRUFJSkMsSUFKSSxDQUlDLHlCQUFpQjtBQUNyQkMsd0JBQWdCLGlCQUFFQyxLQUFGLENBQVFELGFBQVIsRUFBdUI7QUFBQSxpQkFBU0gsTUFBTUssUUFBTixDQUFlYixPQUFmLENBQVQ7QUFBQSxTQUF2QixDQUFoQjs7QUFFQTtBQUNBO0FBQ0FKLDJCQUFtQmtCLE9BQW5CLENBQTJCLHlCQUFpQjtBQUMxQ0Msd0JBQWNDLElBQWQsQ0FBbUJMLGNBQWNJLGNBQWNGLFFBQWQsQ0FBdUJiLE9BQXZCLENBQWQsQ0FBbkI7QUFDRCxTQUZEOztBQUlBLGVBQU9ELGNBQVA7QUFDRCxPQWRJLENBQVA7QUFlRCxLQW5CTSxDQUFQO0FBb0JELEc7Ozs7O2tCQWpDa0JiLHVCIiwiZmlsZSI6Ikluc2VydEFuZEZldGNoT3BlcmF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBJbnNlcnRPcGVyYXRpb24gZnJvbSAnLi9JbnNlcnRPcGVyYXRpb24nO1xuaW1wb3J0IERlbGVnYXRlT3BlcmF0aW9uIGZyb20gJy4vRGVsZWdhdGVPcGVyYXRpb24nO1xuaW1wb3J0IHthZnRlcn0gZnJvbSAnLi4vLi4vdXRpbHMvcHJvbWlzZVV0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5zZXJ0QW5kRmV0Y2hPcGVyYXRpb24gZXh0ZW5kcyBEZWxlZ2F0ZU9wZXJhdGlvbiB7XG5cbiAgY29uc3RydWN0b3IobmFtZSwgb3B0KSB7XG4gICAgc3VwZXIobmFtZSwgb3B0KTtcblxuICAgIGlmICghdGhpcy5kZWxlZ2F0ZS5pcyhJbnNlcnRPcGVyYXRpb24pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZGVsZWdhdGUnKTtcbiAgICB9XG4gIH1cblxuICBvbkFmdGVySW50ZXJuYWwoYnVpbGRlciwgaW5zZXJ0ZWQpIHtcbiAgICBjb25zdCBtYXliZVByb21pc2UgPSBzdXBlci5vbkFmdGVySW50ZXJuYWwoYnVpbGRlciwgaW5zZXJ0ZWQpO1xuXG4gICAgcmV0dXJuIGFmdGVyKG1heWJlUHJvbWlzZSwgaW5zZXJ0ZWRNb2RlbHMgPT4ge1xuICAgICAgY29uc3QgaW5zZXJ0ZWRNb2RlbEFycmF5ID0gQXJyYXkuaXNBcnJheShpbnNlcnRlZE1vZGVscykgPyBpbnNlcnRlZE1vZGVscyA6IFtpbnNlcnRlZE1vZGVsc107XG4gICAgICBjb25zdCBpZFByb3BzID0gYnVpbGRlci5tb2RlbENsYXNzKCkuZ2V0SWRQcm9wZXJ0eUFycmF5KCk7XG5cbiAgICAgIHJldHVybiBidWlsZGVyLm1vZGVsQ2xhc3MoKVxuICAgICAgICAucXVlcnkoKVxuICAgICAgICAuY2hpbGRRdWVyeU9mKGJ1aWxkZXIpXG4gICAgICAgIC53aGVyZUluQ29tcG9zaXRlKGJ1aWxkZXIubW9kZWxDbGFzcygpLmdldEZ1bGxJZENvbHVtbigpLCBpbnNlcnRlZE1vZGVsQXJyYXkubWFwKG1vZGVsID0+IG1vZGVsLiRpZCgpKSlcbiAgICAgICAgLnRoZW4oZmV0Y2hlZE1vZGVscyA9PiB7XG4gICAgICAgICAgZmV0Y2hlZE1vZGVscyA9IF8ua2V5QnkoZmV0Y2hlZE1vZGVscywgbW9kZWwgPT4gbW9kZWwuJHByb3BLZXkoaWRQcm9wcykpO1xuXG4gICAgICAgICAgLy8gSW5zdGVhZCBvZiByZXR1cm5pbmcgdGhlIGZyZXNobHkgZmV0Y2hlZCBtb2RlbHMsIHVwZGF0ZSB0aGUgaW5wdXRcbiAgICAgICAgICAvLyBtb2RlbHMgd2l0aCB0aGUgZnJlc2ggdmFsdWVzLlxuICAgICAgICAgIGluc2VydGVkTW9kZWxBcnJheS5mb3JFYWNoKGluc2VydGVkTW9kZWwgPT4ge1xuICAgICAgICAgICAgaW5zZXJ0ZWRNb2RlbC4kc2V0KGZldGNoZWRNb2RlbHNbaW5zZXJ0ZWRNb2RlbC4kcHJvcEtleShpZFByb3BzKV0pO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIGluc2VydGVkTW9kZWxzO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuIl19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/UpdateAndFetchOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _DelegateOperation2 = require('./DelegateOperation');\n\nvar _DelegateOperation3 = _interopRequireDefault(_DelegateOperation2);\n\nvar _UpdateOperation = require('./UpdateOperation');\n\nvar _UpdateOperation2 = _interopRequireDefault(_UpdateOperation);\n\nvar _promiseUtils = require('../../utils/promiseUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar UpdateAndFetchOperation = function (_DelegateOperation) {\n  (0, _inherits3.default)(UpdateAndFetchOperation, _DelegateOperation);\n\n  function UpdateAndFetchOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, UpdateAndFetchOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _DelegateOperation.call(this, name, opt));\n\n    if (!_this.delegate.is(_UpdateOperation2.default)) {\n      throw new Error('Invalid delegate');\n    }\n\n    _this.id = null;\n    return _this;\n  }\n\n  UpdateAndFetchOperation.prototype.call = function call(builder, args) {\n    this.id = args[0];\n    return this.delegate.call(builder, args.slice(1));\n  };\n\n  UpdateAndFetchOperation.prototype.onBeforeBuild = function onBeforeBuild(builder) {\n    _DelegateOperation.prototype.onBeforeBuild.call(this, builder);\n    builder.whereComposite(builder.modelClass().getFullIdColumn(), this.id);\n  };\n\n  UpdateAndFetchOperation.prototype.onAfterInternal = function onAfterInternal(builder, numUpdated) {\n    var _this2 = this;\n\n    if (numUpdated == 0) {\n      // If nothing was updated, we should fetch nothing.\n      return (0, _promiseUtils.afterReturn)(_DelegateOperation.prototype.onAfterInternal.call(this, builder, numUpdated), undefined);\n    }\n\n    return builder.modelClass().query().childQueryOf(builder).whereComposite(builder.modelClass().getFullIdColumn(), this.id).first().then(function (fetched) {\n      var retVal = null;\n\n      if (fetched) {\n        _this2.model.$set(fetched);\n        retVal = _this2.model;\n      }\n\n      return (0, _promiseUtils.afterReturn)(_DelegateOperation.prototype.onAfterInternal.call(_this2, builder, numUpdated), retVal);\n    });\n  };\n\n  (0, _createClass3.default)(UpdateAndFetchOperation, [{\n    key: 'model',\n    get: function get() {\n      return this.delegate.model;\n    }\n  }]);\n  return UpdateAndFetchOperation;\n}(_DelegateOperation3.default);\n\nexports.default = UpdateAndFetchOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVwZGF0ZUFuZEZldGNoT3BlcmF0aW9uLmpzIl0sIm5hbWVzIjpbIlVwZGF0ZUFuZEZldGNoT3BlcmF0aW9uIiwibmFtZSIsIm9wdCIsImRlbGVnYXRlIiwiaXMiLCJFcnJvciIsImlkIiwiY2FsbCIsImJ1aWxkZXIiLCJhcmdzIiwic2xpY2UiLCJvbkJlZm9yZUJ1aWxkIiwid2hlcmVDb21wb3NpdGUiLCJtb2RlbENsYXNzIiwiZ2V0RnVsbElkQ29sdW1uIiwib25BZnRlckludGVybmFsIiwibnVtVXBkYXRlZCIsInVuZGVmaW5lZCIsInF1ZXJ5IiwiY2hpbGRRdWVyeU9mIiwiZmlyc3QiLCJ0aGVuIiwicmV0VmFsIiwiZmV0Y2hlZCIsIm1vZGVsIiwiJHNldCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7SUFFcUJBLHVCOzs7QUFFbkIsbUNBQVlDLElBQVosRUFBa0JDLEdBQWxCLEVBQXVCO0FBQUE7O0FBQUEsK0RBQ3JCLDhCQUFNRCxJQUFOLEVBQVlDLEdBQVosQ0FEcUI7O0FBR3JCLFFBQUksQ0FBQyxNQUFLQyxRQUFMLENBQWNDLEVBQWQsMkJBQUwsRUFBd0M7QUFDdEMsWUFBTSxJQUFJQyxLQUFKLENBQVUsa0JBQVYsQ0FBTjtBQUNEOztBQUVELFVBQUtDLEVBQUwsR0FBVSxJQUFWO0FBUHFCO0FBUXRCOztvQ0FNREMsSSxpQkFBS0MsTyxFQUFTQyxJLEVBQU07QUFDbEIsU0FBS0gsRUFBTCxHQUFVRyxLQUFLLENBQUwsQ0FBVjtBQUNBLFdBQU8sS0FBS04sUUFBTCxDQUFjSSxJQUFkLENBQW1CQyxPQUFuQixFQUE0QkMsS0FBS0MsS0FBTCxDQUFXLENBQVgsQ0FBNUIsQ0FBUDtBQUNELEc7O29DQUVEQyxhLDBCQUFjSCxPLEVBQVM7QUFDckIsaUNBQU1HLGFBQU4sWUFBb0JILE9BQXBCO0FBQ0FBLFlBQVFJLGNBQVIsQ0FBdUJKLFFBQVFLLFVBQVIsR0FBcUJDLGVBQXJCLEVBQXZCLEVBQStELEtBQUtSLEVBQXBFO0FBQ0QsRzs7b0NBRURTLGUsNEJBQWdCUCxPLEVBQVNRLFUsRUFBWTtBQUFBOztBQUNuQyxRQUFJQSxjQUFjLENBQWxCLEVBQXFCO0FBQ25CO0FBQ0EsYUFBTywrQkFBWSw2QkFBTUQsZUFBTixZQUFzQlAsT0FBdEIsRUFBK0JRLFVBQS9CLENBQVosRUFBd0RDLFNBQXhELENBQVA7QUFDRDs7QUFFRCxXQUFPVCxRQUFRSyxVQUFSLEdBQ0pLLEtBREksR0FFSkMsWUFGSSxDQUVTWCxPQUZULEVBR0pJLGNBSEksQ0FHV0osUUFBUUssVUFBUixHQUFxQkMsZUFBckIsRUFIWCxFQUdtRCxLQUFLUixFQUh4RCxFQUlKYyxLQUpJLEdBS0pDLElBTEksQ0FLQyxtQkFBVztBQUNmLFVBQUlDLFNBQVMsSUFBYjs7QUFFQSxVQUFJQyxPQUFKLEVBQWE7QUFDWCxlQUFLQyxLQUFMLENBQVdDLElBQVgsQ0FBZ0JGLE9BQWhCO0FBQ0FELGlCQUFTLE9BQUtFLEtBQWQ7QUFDRDs7QUFFRCxhQUFPLCtCQUFZLDZCQUFNVCxlQUFOLGNBQXNCUCxPQUF0QixFQUErQlEsVUFBL0IsQ0FBWixFQUF3RE0sTUFBeEQsQ0FBUDtBQUNELEtBZEksQ0FBUDtBQWVELEc7Ozs7d0JBbkNXO0FBQ1YsYUFBTyxLQUFLbkIsUUFBTCxDQUFjcUIsS0FBckI7QUFDRDs7Ozs7a0JBZGtCeEIsdUIiLCJmaWxlIjoiVXBkYXRlQW5kRmV0Y2hPcGVyYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGVsZWdhdGVPcGVyYXRpb24gZnJvbSAnLi9EZWxlZ2F0ZU9wZXJhdGlvbic7XG5pbXBvcnQgVXBkYXRlT3BlcmF0aW9uIGZyb20gJy4vVXBkYXRlT3BlcmF0aW9uJztcbmltcG9ydCB7YWZ0ZXJSZXR1cm59IGZyb20gJy4uLy4uL3V0aWxzL3Byb21pc2VVdGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVwZGF0ZUFuZEZldGNoT3BlcmF0aW9uIGV4dGVuZHMgRGVsZWdhdGVPcGVyYXRpb24ge1xuXG4gIGNvbnN0cnVjdG9yKG5hbWUsIG9wdCkge1xuICAgIHN1cGVyKG5hbWUsIG9wdCk7XG5cbiAgICBpZiAoIXRoaXMuZGVsZWdhdGUuaXMoVXBkYXRlT3BlcmF0aW9uKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGRlbGVnYXRlJyk7XG4gICAgfVxuXG4gICAgdGhpcy5pZCA9IG51bGw7XG4gIH1cblxuICBnZXQgbW9kZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUubW9kZWw7XG4gIH1cblxuICBjYWxsKGJ1aWxkZXIsIGFyZ3MpIHtcbiAgICB0aGlzLmlkID0gYXJnc1swXTtcbiAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5jYWxsKGJ1aWxkZXIsIGFyZ3Muc2xpY2UoMSkpO1xuICB9XG5cbiAgb25CZWZvcmVCdWlsZChidWlsZGVyKSB7XG4gICAgc3VwZXIub25CZWZvcmVCdWlsZChidWlsZGVyKTtcbiAgICBidWlsZGVyLndoZXJlQ29tcG9zaXRlKGJ1aWxkZXIubW9kZWxDbGFzcygpLmdldEZ1bGxJZENvbHVtbigpLCB0aGlzLmlkKTtcbiAgfVxuXG4gIG9uQWZ0ZXJJbnRlcm5hbChidWlsZGVyLCBudW1VcGRhdGVkKSB7XG4gICAgaWYgKG51bVVwZGF0ZWQgPT0gMCkge1xuICAgICAgLy8gSWYgbm90aGluZyB3YXMgdXBkYXRlZCwgd2Ugc2hvdWxkIGZldGNoIG5vdGhpbmcuXG4gICAgICByZXR1cm4gYWZ0ZXJSZXR1cm4oc3VwZXIub25BZnRlckludGVybmFsKGJ1aWxkZXIsIG51bVVwZGF0ZWQpLCB1bmRlZmluZWQpO1xuICAgIH1cblxuICAgIHJldHVybiBidWlsZGVyLm1vZGVsQ2xhc3MoKVxuICAgICAgLnF1ZXJ5KClcbiAgICAgIC5jaGlsZFF1ZXJ5T2YoYnVpbGRlcilcbiAgICAgIC53aGVyZUNvbXBvc2l0ZShidWlsZGVyLm1vZGVsQ2xhc3MoKS5nZXRGdWxsSWRDb2x1bW4oKSwgdGhpcy5pZClcbiAgICAgIC5maXJzdCgpXG4gICAgICAudGhlbihmZXRjaGVkID0+IHtcbiAgICAgICAgbGV0IHJldFZhbCA9IG51bGw7XG5cbiAgICAgICAgaWYgKGZldGNoZWQpIHtcbiAgICAgICAgICB0aGlzLm1vZGVsLiRzZXQoZmV0Y2hlZCk7XG4gICAgICAgICAgcmV0VmFsID0gdGhpcy5tb2RlbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhZnRlclJldHVybihzdXBlci5vbkFmdGVySW50ZXJuYWwoYnVpbGRlciwgbnVtVXBkYXRlZCksIHJldFZhbCk7XG4gICAgICB9KTtcbiAgfVxufVxuIl19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/JoinRelationOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _QueryBuilderOperation = require('./QueryBuilderOperation');\n\nvar _QueryBuilderOperation2 = _interopRequireDefault(_QueryBuilderOperation);\n\nvar _RelationJoinBuilder = require('./eager/RelationJoinBuilder');\n\nvar _RelationJoinBuilder2 = _interopRequireDefault(_RelationJoinBuilder);\n\nvar _RelationExpression = require('../RelationExpression');\n\nvar _RelationExpression2 = _interopRequireDefault(_RelationExpression);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar JoinRelationOperation = function (_QueryBuilderOperatio) {\n  (0, _inherits3.default)(JoinRelationOperation, _QueryBuilderOperatio);\n\n  function JoinRelationOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, JoinRelationOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _QueryBuilderOperatio.call(this, name, opt));\n\n    _this.expression = null;\n    _this.callOpt = null;\n    return _this;\n  }\n\n  JoinRelationOperation.prototype.call = function call(builder, args) {\n    this.expression = _RelationExpression2.default.parse(args[0]);\n    this.callOpt = args[1] || {};\n    return true;\n  };\n\n  JoinRelationOperation.prototype.onBeforeBuild = function onBeforeBuild(builder) {\n    var modelClass = builder.modelClass();\n    var opt = (0, _assign2.default)({}, this.callOpt);\n\n    opt.aliases = (0, _assign2.default)({}, opt.aliases);\n    opt.joinOperation = this.opt.joinOperation;\n\n    // Special case for one single relation.\n    if (this.expression.numChildren === 1) {\n      var relationName = void 0;\n\n      // A bit crappy way to get the only child.\n      this.expression.forEachChild(function (child, childName) {\n        relationName = childName;\n      });\n\n      var relation = modelClass.getRelation(relationName);\n      var alias = null;\n\n      if (opt.alias === false) {\n        alias = relation.relatedModelClass.tableName;\n      } else if (opt.alias === true || !opt.alias) {\n        alias = relation.name;\n      } else if (_lodash2.default.isString(opt.alias)) {\n        alias = opt.alias;\n      }\n\n      if (alias) {\n        opt.aliases[relationName] = alias;\n      }\n    }\n\n    var joinBuilder = new _RelationJoinBuilder2.default({\n      modelClass: modelClass,\n      expression: this.expression,\n      opt: opt\n    });\n\n    joinBuilder.buildJoinOnly(builder);\n  };\n\n  return JoinRelationOperation;\n}(_QueryBuilderOperation2.default);\n\nexports.default = JoinRelationOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkpvaW5SZWxhdGlvbk9wZXJhdGlvbi5qcyJdLCJuYW1lcyI6WyJKb2luUmVsYXRpb25PcGVyYXRpb24iLCJuYW1lIiwib3B0IiwiZXhwcmVzc2lvbiIsImNhbGxPcHQiLCJjYWxsIiwiYnVpbGRlciIsImFyZ3MiLCJwYXJzZSIsIm9uQmVmb3JlQnVpbGQiLCJtb2RlbENsYXNzIiwiYWxpYXNlcyIsImpvaW5PcGVyYXRpb24iLCJudW1DaGlsZHJlbiIsInJlbGF0aW9uTmFtZSIsImZvckVhY2hDaGlsZCIsImNoaWxkIiwiY2hpbGROYW1lIiwicmVsYXRpb24iLCJnZXRSZWxhdGlvbiIsImFsaWFzIiwicmVsYXRlZE1vZGVsQ2xhc3MiLCJ0YWJsZU5hbWUiLCJpc1N0cmluZyIsImpvaW5CdWlsZGVyIiwiYnVpbGRKb2luT25seSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0lBRXFCQSxxQjs7O0FBRW5CLGlDQUFZQyxJQUFaLEVBQWtCQyxHQUFsQixFQUF1QjtBQUFBOztBQUFBLCtEQUNyQixpQ0FBTUQsSUFBTixFQUFZQyxHQUFaLENBRHFCOztBQUdyQixVQUFLQyxVQUFMLEdBQWtCLElBQWxCO0FBQ0EsVUFBS0MsT0FBTCxHQUFlLElBQWY7QUFKcUI7QUFLdEI7O2tDQUVEQyxJLGlCQUFLQyxPLEVBQVNDLEksRUFBTTtBQUNsQixTQUFLSixVQUFMLEdBQWtCLDZCQUFtQkssS0FBbkIsQ0FBeUJELEtBQUssQ0FBTCxDQUF6QixDQUFsQjtBQUNBLFNBQUtILE9BQUwsR0FBZUcsS0FBSyxDQUFMLEtBQVcsRUFBMUI7QUFDQSxXQUFPLElBQVA7QUFDRCxHOztrQ0FFREUsYSwwQkFBY0gsTyxFQUFTO0FBQ3JCLFFBQU1JLGFBQWFKLFFBQVFJLFVBQVIsRUFBbkI7QUFDQSxRQUFNUixNQUFNLHNCQUFjLEVBQWQsRUFBa0IsS0FBS0UsT0FBdkIsQ0FBWjs7QUFFQUYsUUFBSVMsT0FBSixHQUFjLHNCQUFjLEVBQWQsRUFBa0JULElBQUlTLE9BQXRCLENBQWQ7QUFDQVQsUUFBSVUsYUFBSixHQUFvQixLQUFLVixHQUFMLENBQVNVLGFBQTdCOztBQUVBO0FBQ0EsUUFBSSxLQUFLVCxVQUFMLENBQWdCVSxXQUFoQixLQUFnQyxDQUFwQyxFQUF1QztBQUNyQyxVQUFJQyxxQkFBSjs7QUFFQTtBQUNBLFdBQUtYLFVBQUwsQ0FBZ0JZLFlBQWhCLENBQTZCLFVBQUNDLEtBQUQsRUFBUUMsU0FBUixFQUFzQjtBQUNqREgsdUJBQWVHLFNBQWY7QUFDRCxPQUZEOztBQUlBLFVBQU1DLFdBQVdSLFdBQVdTLFdBQVgsQ0FBdUJMLFlBQXZCLENBQWpCO0FBQ0EsVUFBSU0sUUFBUSxJQUFaOztBQUVBLFVBQUlsQixJQUFJa0IsS0FBSixLQUFjLEtBQWxCLEVBQXlCO0FBQ3ZCQSxnQkFBUUYsU0FBU0csaUJBQVQsQ0FBMkJDLFNBQW5DO0FBQ0QsT0FGRCxNQUVPLElBQUlwQixJQUFJa0IsS0FBSixLQUFjLElBQWQsSUFBc0IsQ0FBQ2xCLElBQUlrQixLQUEvQixFQUFzQztBQUMzQ0EsZ0JBQVFGLFNBQVNqQixJQUFqQjtBQUNELE9BRk0sTUFFQSxJQUFJLGlCQUFFc0IsUUFBRixDQUFXckIsSUFBSWtCLEtBQWYsQ0FBSixFQUEyQjtBQUNoQ0EsZ0JBQVFsQixJQUFJa0IsS0FBWjtBQUNEOztBQUVELFVBQUlBLEtBQUosRUFBVztBQUNUbEIsWUFBSVMsT0FBSixDQUFZRyxZQUFaLElBQTRCTSxLQUE1QjtBQUNEO0FBQ0Y7O0FBRUQsUUFBTUksY0FBYyxrQ0FBd0I7QUFDMUNkLDRCQUQwQztBQUUxQ1Asa0JBQVksS0FBS0EsVUFGeUI7QUFHMUNELFdBQUtBO0FBSHFDLEtBQXhCLENBQXBCOztBQU1Bc0IsZ0JBQVlDLGFBQVosQ0FBMEJuQixPQUExQjtBQUNELEc7Ozs7O2tCQXREa0JOLHFCIiwiZmlsZSI6IkpvaW5SZWxhdGlvbk9wZXJhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUXVlcnlCdWlsZGVyT3BlcmF0aW9uIGZyb20gJy4vUXVlcnlCdWlsZGVyT3BlcmF0aW9uJztcbmltcG9ydCBSZWxhdGlvbkpvaW5CdWlsZGVyIGZyb20gJy4vZWFnZXIvUmVsYXRpb25Kb2luQnVpbGRlcic7XG5pbXBvcnQgUmVsYXRpb25FeHByZXNzaW9uIGZyb20gJy4uL1JlbGF0aW9uRXhwcmVzc2lvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEpvaW5SZWxhdGlvbk9wZXJhdGlvbiBleHRlbmRzIFF1ZXJ5QnVpbGRlck9wZXJhdGlvbiB7XG5cbiAgY29uc3RydWN0b3IobmFtZSwgb3B0KSB7XG4gICAgc3VwZXIobmFtZSwgb3B0KTtcblxuICAgIHRoaXMuZXhwcmVzc2lvbiA9IG51bGw7XG4gICAgdGhpcy5jYWxsT3B0ID0gbnVsbDtcbiAgfVxuXG4gIGNhbGwoYnVpbGRlciwgYXJncykge1xuICAgIHRoaXMuZXhwcmVzc2lvbiA9IFJlbGF0aW9uRXhwcmVzc2lvbi5wYXJzZShhcmdzWzBdKTtcbiAgICB0aGlzLmNhbGxPcHQgPSBhcmdzWzFdIHx8IHt9O1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgb25CZWZvcmVCdWlsZChidWlsZGVyKSB7XG4gICAgY29uc3QgbW9kZWxDbGFzcyA9IGJ1aWxkZXIubW9kZWxDbGFzcygpO1xuICAgIGNvbnN0IG9wdCA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY2FsbE9wdCk7XG5cbiAgICBvcHQuYWxpYXNlcyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdC5hbGlhc2VzKTtcbiAgICBvcHQuam9pbk9wZXJhdGlvbiA9IHRoaXMub3B0LmpvaW5PcGVyYXRpb247XG5cbiAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIG9uZSBzaW5nbGUgcmVsYXRpb24uXG4gICAgaWYgKHRoaXMuZXhwcmVzc2lvbi5udW1DaGlsZHJlbiA9PT0gMSkge1xuICAgICAgbGV0IHJlbGF0aW9uTmFtZTtcblxuICAgICAgLy8gQSBiaXQgY3JhcHB5IHdheSB0byBnZXQgdGhlIG9ubHkgY2hpbGQuXG4gICAgICB0aGlzLmV4cHJlc3Npb24uZm9yRWFjaENoaWxkKChjaGlsZCwgY2hpbGROYW1lKSA9PiB7XG4gICAgICAgIHJlbGF0aW9uTmFtZSA9IGNoaWxkTmFtZTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZWxhdGlvbiA9IG1vZGVsQ2xhc3MuZ2V0UmVsYXRpb24ocmVsYXRpb25OYW1lKTtcbiAgICAgIGxldCBhbGlhcyA9IG51bGw7XG5cbiAgICAgIGlmIChvcHQuYWxpYXMgPT09IGZhbHNlKSB7XG4gICAgICAgIGFsaWFzID0gcmVsYXRpb24ucmVsYXRlZE1vZGVsQ2xhc3MudGFibGVOYW1lO1xuICAgICAgfSBlbHNlIGlmIChvcHQuYWxpYXMgPT09IHRydWUgfHwgIW9wdC5hbGlhcykge1xuICAgICAgICBhbGlhcyA9IHJlbGF0aW9uLm5hbWU7XG4gICAgICB9IGVsc2UgaWYgKF8uaXNTdHJpbmcob3B0LmFsaWFzKSkge1xuICAgICAgICBhbGlhcyA9IG9wdC5hbGlhcztcbiAgICAgIH1cblxuICAgICAgaWYgKGFsaWFzKSB7XG4gICAgICAgIG9wdC5hbGlhc2VzW3JlbGF0aW9uTmFtZV0gPSBhbGlhcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBqb2luQnVpbGRlciA9IG5ldyBSZWxhdGlvbkpvaW5CdWlsZGVyKHtcbiAgICAgIG1vZGVsQ2xhc3MsXG4gICAgICBleHByZXNzaW9uOiB0aGlzLmV4cHJlc3Npb24sXG4gICAgICBvcHQ6IG9wdFxuICAgIH0pO1xuXG4gICAgam9pbkJ1aWxkZXIuYnVpbGRKb2luT25seShidWlsZGVyKTtcbiAgfVxufVxuIl19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/eager/RelationJoinBuilder.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _create = require('babel-runtime/core-js/object/create');\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _bluebird = require('bluebird');\n\nvar _bluebird2 = _interopRequireDefault(_bluebird);\n\nvar _ValidationError = require('../../../model/ValidationError');\n\nvar _ValidationError2 = _interopRequireDefault(_ValidationError);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar columnInfo = (0, _create2.default)(null);\nvar idLengthLimit = 63;\nvar relationRecursionLimit = 64;\n\nvar RelationJoinBuilder = function () {\n  function RelationJoinBuilder(_ref) {\n    var modelClass = _ref.modelClass,\n        expression = _ref.expression,\n        opt = _ref.opt;\n    (0, _classCallCheck3.default)(this, RelationJoinBuilder);\n\n    this.rootModelClass = modelClass;\n    this.expression = expression;\n    this.allRelations = null;\n\n    this.pathInfo = (0, _create2.default)(null);\n    this.encodings = (0, _create2.default)(null);\n    this.decodings = (0, _create2.default)(null);\n    this.encIdx = 0;\n\n    this.opt = _lodash2.default.defaults(opt, {\n      minimize: false,\n      separator: ':',\n      aliases: {}\n    });\n  }\n\n  RelationJoinBuilder.prototype.clone = function clone(props) {\n    props = props || {};\n\n    var copy = new RelationJoinBuilder({\n      modelClass: this.rootModelClass,\n      expression: props.expression || this.expression,\n      opt: props.opt || this.opt\n    });\n\n    copy.allRelations = this.allRelations;\n    copy.pathInfo = this.pathInfo;\n    copy.encodings = this.encodings;\n    copy.decodings = this.decodings;\n    copy.encIdx = this.encIdx;\n\n    return copy;\n  };\n\n  /**\n   * Fetches the column information needed for building the select clauses.\n   * This must be called before calling `build`. `buildJoinOnly` can be called\n   * without this since it doesn't build joins.\n   */\n\n\n  RelationJoinBuilder.prototype.fetchColumnInfo = function fetchColumnInfo(knex) {\n    var allModelClasses = findAllModels(this.expression, this.rootModelClass);\n\n    return _bluebird2.default.all(allModelClasses.map(function (ModelClass) {\n      var table = ModelClass.tableName;\n\n      if (columnInfo[table]) {\n        return columnInfo[table];\n      } else {\n        columnInfo[table] = knex(table).columnInfo().then(function (info) {\n          var result = {\n            columns: (0, _keys2.default)(info)\n          };\n\n          columnInfo[table] = result;\n          return result;\n        });\n\n        return columnInfo[table];\n      }\n    }));\n  };\n\n  RelationJoinBuilder.prototype.buildJoinOnly = function buildJoinOnly(builder) {\n    this.doBuild({\n      expr: this.expression,\n      builder: builder,\n      modelClass: builder.modelClass(),\n      joinOperation: this.opt.joinOperation || 'leftJoin',\n      parentInfo: null,\n      relation: null,\n      noSelects: true,\n      path: ''\n    });\n  };\n\n  RelationJoinBuilder.prototype.build = function build(builder) {\n    var builderClone = builder.clone();\n\n    builder.table(this.rootModelClass.tableName + ' as ' + this.rootModelClass.tableName);\n    builder.findOptions({ callAfterGetDeeply: true });\n\n    this.doBuild({\n      expr: this.expression,\n      builder: builder,\n      modelClass: builder.modelClass(),\n      joinOperation: this.opt.joinOperation || 'leftJoin',\n      parentInfo: null,\n      relation: null,\n      path: '',\n      selectFilter: function selectFilter(col) {\n        return builderClone.hasSelection(col);\n      }\n    });\n  };\n\n  RelationJoinBuilder.prototype.rowsToTree = function rowsToTree(rows) {\n    if (_lodash2.default.isEmpty(rows)) {\n      return rows;\n    }\n\n    var keyInfoByPath = this.createKeyInfo(rows);\n    var pathInfo = _lodash2.default.values(this.pathInfo);\n\n    var tree = (0, _create2.default)(null);\n    var stack = (0, _create2.default)(null);\n\n    for (var i = 0, lr = rows.length; i < lr; ++i) {\n      var row = rows[i];\n      var curBranch = tree;\n\n      for (var j = 0, lp = pathInfo.length; j < lp; ++j) {\n        var pInfo = pathInfo[j];\n        var id = pInfo.idGetter(row);\n\n        if (!id) {\n          continue;\n        }\n\n        if (pInfo.relation) {\n          var parentModel = stack[pInfo.encParentPath];\n\n          curBranch = pInfo.getBranch(parentModel);\n\n          if (!curBranch) {\n            curBranch = pInfo.createBranch(parentModel);\n          }\n        }\n\n        var model = pInfo.getModelFromBranch(curBranch, id);\n\n        if (!model) {\n          model = createModel(row, pInfo, keyInfoByPath);\n          pInfo.setModelToBranch(curBranch, id, model);\n        }\n\n        stack[pInfo.encPath] = model;\n      }\n    }\n\n    return this.finalize(pathInfo[0], _lodash2.default.values(tree));\n  };\n\n  RelationJoinBuilder.prototype.createKeyInfo = function createKeyInfo(rows) {\n    var keys = (0, _keys2.default)(rows[0]);\n    var keyInfo = [];\n\n    for (var i = 0, l = keys.length; i < l; ++i) {\n      var key = keys[i];\n      var sepIdx = key.lastIndexOf(this.sep);\n\n      if (sepIdx === -1) {\n        var pInfo = this.pathInfo[''];\n        var col = key;\n\n        if (!pInfo.omitCols[col]) {\n          keyInfo.push({\n            pInfo: pInfo,\n            key: key,\n            col: col\n          });\n        }\n      } else {\n        var encPath = key.substr(0, sepIdx);\n        var path = this.decode(encPath);\n        var _col = key.substr(sepIdx + 1);\n        var _pInfo = this.pathInfo[path];\n\n        if (!_pInfo.omitCols[_col]) {\n          keyInfo.push({\n            pInfo: _pInfo,\n            key: key,\n            col: _col\n          });\n        }\n      }\n    }\n\n    return _lodash2.default.groupBy(keyInfo, function (kInfo) {\n      return kInfo.pInfo.encPath;\n    });\n  };\n\n  RelationJoinBuilder.prototype.finalize = function finalize(pInfo, models) {\n    var relNames = (0, _keys2.default)(pInfo.children);\n\n    if (Array.isArray(models)) {\n      for (var m = 0, lm = models.length; m < lm; ++m) {\n        this.finalizeOne(pInfo, relNames, models[m]);\n      }\n    } else if (models) {\n      this.finalizeOne(pInfo, relNames, models);\n    }\n\n    return models;\n  };\n\n  RelationJoinBuilder.prototype.finalizeOne = function finalizeOne(pInfo, relNames, model) {\n    for (var r = 0, lr = relNames.length; r < lr; ++r) {\n      var relName = relNames[r];\n      var branch = model[relName];\n      var childPathInfo = pInfo.children[relName];\n\n      var finalized = childPathInfo.finalizeBranch(branch, model);\n      this.finalize(childPathInfo, finalized);\n    }\n  };\n\n  RelationJoinBuilder.prototype.doBuild = function doBuild(_ref2) {\n    var _this = this;\n\n    var expr = _ref2.expr,\n        builder = _ref2.builder,\n        selectFilter = _ref2.selectFilter,\n        modelClass = _ref2.modelClass,\n        relation = _ref2.relation,\n        path = _ref2.path,\n        parentInfo = _ref2.parentInfo,\n        joinOperation = _ref2.joinOperation,\n        noSelects = _ref2.noSelects;\n\n    if (!this.allRelations) {\n      this.allRelations = findAllRelations(this.expression, this.rootModelClass);\n    }\n\n    var info = this.createPathInfo({\n      modelClass: modelClass,\n      path: path,\n      relation: relation,\n      parentInfo: parentInfo\n    });\n\n    this.pathInfo[path] = info;\n\n    if (!noSelects) {\n      this.buildSelects({\n        builder: builder,\n        selectFilter: selectFilter,\n        modelClass: modelClass,\n        relation: relation,\n        info: info\n      });\n    }\n\n    forEachExpr(expr, modelClass, function (childExpr, relation) {\n      var nextPath = _this.joinPath(path, relation.name);\n      var encNextPath = _this.encode(nextPath);\n      var encJoinTablePath = relation.joinTable ? _this.encode(joinTableForPath(nextPath)) : null;\n\n      var filterQuery = createFilterQuery({\n        builder: builder,\n        relation: relation,\n        expr: childExpr\n      });\n\n      var relatedJoinSelectQuery = createRelatedJoinFromQuery({\n        filterQuery: filterQuery,\n        relation: relation,\n        allRelations: _this.allRelations\n      });\n\n      relation.join(builder, {\n        joinOperation: joinOperation,\n        ownerTable: info.encPath,\n        relatedTableAlias: encNextPath,\n        joinTableAlias: encJoinTablePath,\n        relatedJoinSelectQuery: relatedJoinSelectQuery\n      });\n\n      // Apply relation.modify since it may also contains selections. Don't move this\n      // to the createFilterQuery function because relatedJoinSelectQuery is cloned\n      // From the return value of that function and we don't want relation.modify\n      // to be called twice for it.\n      filterQuery.modify(relation.modify);\n\n      _this.doBuild({\n        expr: childExpr,\n        builder: builder,\n        modelClass: relation.relatedModelClass,\n        joinOperation: joinOperation,\n        relation: relation,\n        parentInfo: info,\n        noSelects: noSelects,\n        path: nextPath,\n        selectFilter: function selectFilter(col) {\n          return filterQuery.hasSelection(col);\n        }\n      });\n    });\n  };\n\n  RelationJoinBuilder.prototype.createPathInfo = function createPathInfo(_ref3) {\n    var modelClass = _ref3.modelClass,\n        path = _ref3.path,\n        relation = _ref3.relation,\n        parentInfo = _ref3.parentInfo;\n\n    var encPath = this.encode(path);\n    var info = void 0;\n\n    if (relation && relation.isOneToOne()) {\n      info = new OneToOnePathInfo();\n    } else {\n      info = new PathInfo();\n    }\n\n    info.path = path;\n    info.encPath = encPath;\n    info.parentPath = parentInfo && parentInfo.path;\n    info.encParentPath = parentInfo && parentInfo.encPath;\n    info.modelClass = modelClass;\n    info.relation = relation;\n    info.idGetter = this.createIdGetter(modelClass, encPath);\n\n    if (parentInfo) {\n      parentInfo.children[relation.name] = info;\n    }\n\n    return info;\n  };\n\n  RelationJoinBuilder.prototype.buildSelects = function buildSelects(_ref4) {\n    var _this2 = this;\n\n    var builder = _ref4.builder,\n        selectFilter = _ref4.selectFilter,\n        modelClass = _ref4.modelClass,\n        relation = _ref4.relation,\n        info = _ref4.info;\n\n    var selects = [];\n    var idCols = modelClass.getIdColumnArray();\n    var rootTable = this.rootModelClass.tableName;\n\n    columnInfo[modelClass.tableName].columns.forEach(function (col) {\n      var filterPassed = selectFilter(col);\n      var isIdColumn = idCols.indexOf(col) !== -1;\n\n      if (filterPassed || isIdColumn) {\n        selects.push({\n          col: (info.encPath || rootTable) + '.' + col,\n          alias: _this2.joinPath(info.encPath, col)\n        });\n\n        if (!filterPassed) {\n          info.omitCols[col] = true;\n        }\n      }\n    });\n\n    if (relation && relation.joinTableExtras) {\n      var joinTable = this.encode(joinTableForPath(info.path));\n\n      relation.joinTableExtras.forEach(function (extra) {\n        if (selectFilter(extra.joinTableCol)) {\n          selects.push({\n            col: joinTable + '.' + extra.joinTableCol,\n            alias: _this2.joinPath(info.encPath, extra.aliasCol)\n          });\n        }\n      });\n    }\n\n    var tooLongAliases = selects.filter(function (select) {\n      return select.alias.length > idLengthLimit;\n    });\n\n    if (tooLongAliases.length) {\n      throw new _ValidationError2.default({\n        eager: 'identifier ' + tooLongAliases[0].alias + ' is over ' + idLengthLimit + ' characters long ' + 'and would be truncated by the database engine.'\n      });\n    }\n\n    builder.select(selects.filter(function (select) {\n      return !builder.hasSelection(select.col, true);\n    }).map(function (select) {\n      return select.col + ' as ' + select.alias;\n    }));\n  };\n\n  RelationJoinBuilder.prototype.encode = function encode(path) {\n    var _this3 = this;\n\n    if (!this.opt.minimize) {\n      var encPath = this.encodings[path];\n\n      if (!encPath) {\n        var parts = path.split(this.sep);\n\n        // Don't encode the root.\n        if (!path) {\n          encPath = path;\n        } else {\n          encPath = parts.map(function (part) {\n            return _this3.opt.aliases[part] || part;\n          }).join(this.sep);\n        }\n\n        this.encodings[path] = encPath;\n        this.decodings[encPath] = path;\n      }\n\n      return encPath;\n    } else {\n      var _encPath = this.encodings[path];\n\n      if (!_encPath) {\n        // Don't encode the root.\n        if (!path) {\n          _encPath = path;\n        } else {\n          _encPath = this.nextEncodedPath();\n        }\n\n        this.encodings[path] = _encPath;\n        this.decodings[_encPath] = path;\n      }\n\n      return _encPath;\n    }\n  };\n\n  RelationJoinBuilder.prototype.decode = function decode(path) {\n    return this.decodings[path];\n  };\n\n  RelationJoinBuilder.prototype.nextEncodedPath = function nextEncodedPath() {\n    return '_t' + ++this.encIdx;\n  };\n\n  RelationJoinBuilder.prototype.createIdGetter = function createIdGetter(modelClass, path) {\n    var _this4 = this;\n\n    var idCols = modelClass.getIdColumnArray().map(function (col) {\n      return _this4.joinPath(path, col);\n    });\n\n    if (idCols.length === 1) {\n      return createSingleIdGetter(idCols);\n    } else if (idCols.length === 2) {\n      return createTwoIdGetter(idCols);\n    } else if (idCols.length === 3) {\n      return createThreeIdGetter(idCols);\n    } else {\n      return createNIdGetter(idCols);\n    }\n  };\n\n  RelationJoinBuilder.prototype.joinPath = function joinPath(path, nextPart) {\n    if (path) {\n      return '' + path + this.sep + nextPart;\n    } else {\n      return nextPart;\n    }\n  };\n\n  (0, _createClass3.default)(RelationJoinBuilder, [{\n    key: 'sep',\n    get: function get() {\n      return this.opt.separator;\n    }\n  }]);\n  return RelationJoinBuilder;\n}();\n\nexports.default = RelationJoinBuilder;\n\n\nfunction findAllModels(expr, modelClass) {\n  var models = [];\n\n  findAllModelsImpl(expr, modelClass, models);\n\n  return _lodash2.default.uniqBy(models, 'tableName');\n}\n\nfunction findAllModelsImpl(expr, modelClass, models) {\n  models.push(modelClass);\n\n  forEachExpr(expr, modelClass, function (childExpr, relation) {\n    findAllModelsImpl(childExpr, relation.relatedModelClass, models);\n  });\n}\n\nfunction findAllRelations(expr, modelClass) {\n  var relations = [];\n\n  findAllRelationsImpl(expr, modelClass, relations);\n\n  return _lodash2.default.uniqWith(relations, function (lhs, rhs) {\n    return lhs === rhs;\n  });\n}\n\nfunction findAllRelationsImpl(expr, modelClass, relations) {\n  forEachExpr(expr, modelClass, function (childExpr, relation) {\n    relations.push(relation);\n\n    findAllRelationsImpl(childExpr, relation.relatedModelClass, relations);\n  });\n}\n\nfunction forEachExpr(expr, modelClass, callback) {\n  var relations = modelClass.getRelationArray();\n\n  if (expr.isAllRecursive() || expr.maxRecursionDepth() > relationRecursionLimit) {\n    throw new _ValidationError2.default({\n      eager: 'recursion depth of eager expression ' + expr.toString() + ' too big for JoinEagerAlgorithm'\n    });\n  }\n\n  for (var i = 0, l = relations.length; i < l; ++i) {\n    var relation = relations[i];\n    var childExpr = expr.childExpression(relation.name);\n\n    if (childExpr) {\n      callback(childExpr, relation, relation.name);\n    }\n  }\n}\n\nfunction createSingleIdGetter(idCols) {\n  var idCol = idCols[0];\n\n  return function (row) {\n    var val = row[idCol];\n\n    if (!val) {\n      return null;\n    } else {\n      return 'id:' + val;\n    }\n  };\n}\n\nfunction createTwoIdGetter(idCols) {\n  var idCol1 = idCols[0];\n  var idCol2 = idCols[1];\n\n  return function (row) {\n    var val1 = row[idCol1];\n    var val2 = row[idCol2];\n\n    if (!val1 || !val2) {\n      return null;\n    } else {\n      return 'id:' + val1 + ',' + val2;\n    }\n  };\n}\n\nfunction createThreeIdGetter(idCols) {\n  var idCol1 = idCols[0];\n  var idCol2 = idCols[1];\n  var idCol3 = idCols[2];\n\n  return function (row) {\n    var val1 = row[idCol1];\n    var val2 = row[idCol2];\n    var val3 = row[idCol3];\n\n    if (!val1 || !val2 || !val3) {\n      return null;\n    } else {\n      return 'id:' + val1 + ',' + val2 + ',' + val3;\n    }\n  };\n}\n\nfunction createNIdGetter(idCols) {\n  return function (row) {\n    var id = 'id:';\n\n    for (var i = 0, l = idCols.length; i < l; ++i) {\n      var val = row[idCols[i]];\n\n      if (!val) {\n        return null;\n      }\n\n      id += (i > 0 ? ',' : '') + val;\n    }\n\n    return id;\n  };\n}\n\nfunction createFilterQuery(_ref5) {\n  var builder = _ref5.builder,\n      expr = _ref5.expr,\n      relation = _ref5.relation;\n\n  var filterQuery = relation.relatedModelClass.query().childQueryOf(builder);\n\n  for (var i = 0, l = expr.args.length; i < l; ++i) {\n    var filterName = expr.args[i];\n    var filter = expr.filters[filterName];\n\n    if (typeof filter !== 'function') {\n      throw new _ValidationError2.default({ eager: 'could not find filter \"' + filterName + '\" for relation \"' + relation.name + '\"' });\n    }\n\n    filter(filterQuery);\n  }\n\n  return filterQuery;\n}\n\nfunction createRelatedJoinFromQuery(_ref6) {\n  var filterQuery = _ref6.filterQuery,\n      relation = _ref6.relation,\n      allRelations = _ref6.allRelations;\n\n  var relatedJoinFromQuery = filterQuery.clone();\n\n  var allForeignKeys = findAllForeignKeysForModel({\n    modelClass: relation.relatedModelClass,\n    allRelations: allRelations\n  });\n\n  return relatedJoinFromQuery.select(allForeignKeys.filter(function (col) {\n    return !relatedJoinFromQuery.hasSelection(col);\n  }));\n}\n\nfunction findAllForeignKeysForModel(_ref7) {\n  var modelClass = _ref7.modelClass,\n      allRelations = _ref7.allRelations;\n\n  var foreignKeys = modelClass.getIdColumnArray().slice();\n\n  allRelations.forEach(function (rel) {\n    if (rel.relatedModelClass.tableName === modelClass.tableName) {\n      rel.relatedCol.forEach(function (col) {\n        return foreignKeys.push(col);\n      });\n    }\n\n    if (rel.ownerModelClass.tableName === modelClass.tableName) {\n      rel.ownerCol.forEach(function (col) {\n        return foreignKeys.push(col);\n      });\n    }\n  });\n\n  return _lodash2.default.uniq(foreignKeys);\n}\n\nfunction createModel(row, pInfo, keyInfoByPath) {\n  var keyInfo = keyInfoByPath[pInfo.encPath];\n  var json = {};\n\n  for (var k = 0, lk = keyInfo.length; k < lk; ++k) {\n    var kInfo = keyInfo[k];\n    json[kInfo.col] = row[kInfo.key];\n  }\n\n  return pInfo.modelClass.fromDatabaseJson(json);\n}\n\nfunction joinTableForPath(path) {\n  return path + '_join';\n}\n\nvar PathInfo = function () {\n  function PathInfo() {\n    (0, _classCallCheck3.default)(this, PathInfo);\n\n    this.path = null;\n    this.encPath = null;\n    this.encParentPath = null;\n    this.modelClass = null;\n    this.relation = null;\n    this.omitCols = (0, _create2.default)(null);\n    this.children = (0, _create2.default)(null);\n    this.idGetter = null;\n  }\n\n  PathInfo.prototype.createBranch = function createBranch(parentModel) {\n    var branch = (0, _create2.default)(null);\n    parentModel[this.relation.name] = branch;\n    return branch;\n  };\n\n  PathInfo.prototype.getBranch = function getBranch(parentModel) {\n    return parentModel[this.relation.name];\n  };\n\n  PathInfo.prototype.getModelFromBranch = function getModelFromBranch(branch, id) {\n    return branch[id];\n  };\n\n  PathInfo.prototype.setModelToBranch = function setModelToBranch(branch, id, model) {\n    branch[id] = model;\n  };\n\n  PathInfo.prototype.finalizeBranch = function finalizeBranch(branch, parentModel) {\n    var relModels = _lodash2.default.values(branch);\n    parentModel[this.relation.name] = relModels;\n    return relModels;\n  };\n\n  return PathInfo;\n}();\n\nvar OneToOnePathInfo = function (_PathInfo) {\n  (0, _inherits3.default)(OneToOnePathInfo, _PathInfo);\n\n  function OneToOnePathInfo() {\n    (0, _classCallCheck3.default)(this, OneToOnePathInfo);\n    return (0, _possibleConstructorReturn3.default)(this, _PathInfo.apply(this, arguments));\n  }\n\n  OneToOnePathInfo.prototype.createBranch = function createBranch(parentModel) {\n    return parentModel;\n  };\n\n  OneToOnePathInfo.prototype.getBranch = function getBranch(parentModel) {\n    return parentModel;\n  };\n\n  OneToOnePathInfo.prototype.getModelFromBranch = function getModelFromBranch(branch, id) {\n    return branch[this.relation.name];\n  };\n\n  OneToOnePathInfo.prototype.setModelToBranch = function setModelToBranch(branch, id, model) {\n    branch[this.relation.name] = model;\n  };\n\n  OneToOnePathInfo.prototype.finalizeBranch = function finalizeBranch(branch, parentModel) {\n    parentModel[this.relation.name] = branch || null;\n    return branch || null;\n  };\n\n  return OneToOnePathInfo;\n}(PathInfo);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlbGF0aW9uSm9pbkJ1aWxkZXIuanMiXSwibmFtZXMiOlsiY29sdW1uSW5mbyIsImlkTGVuZ3RoTGltaXQiLCJyZWxhdGlvblJlY3Vyc2lvbkxpbWl0IiwiUmVsYXRpb25Kb2luQnVpbGRlciIsIm1vZGVsQ2xhc3MiLCJleHByZXNzaW9uIiwib3B0Iiwicm9vdE1vZGVsQ2xhc3MiLCJhbGxSZWxhdGlvbnMiLCJwYXRoSW5mbyIsImVuY29kaW5ncyIsImRlY29kaW5ncyIsImVuY0lkeCIsImRlZmF1bHRzIiwibWluaW1pemUiLCJzZXBhcmF0b3IiLCJhbGlhc2VzIiwiY2xvbmUiLCJwcm9wcyIsImNvcHkiLCJmZXRjaENvbHVtbkluZm8iLCJrbmV4IiwiYWxsTW9kZWxDbGFzc2VzIiwiZmluZEFsbE1vZGVscyIsImFsbCIsIm1hcCIsInRhYmxlIiwiTW9kZWxDbGFzcyIsInRhYmxlTmFtZSIsInRoZW4iLCJyZXN1bHQiLCJjb2x1bW5zIiwiaW5mbyIsImJ1aWxkSm9pbk9ubHkiLCJidWlsZGVyIiwiZG9CdWlsZCIsImV4cHIiLCJqb2luT3BlcmF0aW9uIiwicGFyZW50SW5mbyIsInJlbGF0aW9uIiwibm9TZWxlY3RzIiwicGF0aCIsImJ1aWxkIiwiYnVpbGRlckNsb25lIiwiZmluZE9wdGlvbnMiLCJjYWxsQWZ0ZXJHZXREZWVwbHkiLCJzZWxlY3RGaWx0ZXIiLCJjb2wiLCJoYXNTZWxlY3Rpb24iLCJyb3dzVG9UcmVlIiwicm93cyIsImlzRW1wdHkiLCJrZXlJbmZvQnlQYXRoIiwiY3JlYXRlS2V5SW5mbyIsInZhbHVlcyIsInRyZWUiLCJzdGFjayIsImkiLCJsciIsImxlbmd0aCIsInJvdyIsImN1ckJyYW5jaCIsImoiLCJscCIsInBJbmZvIiwiaWQiLCJpZEdldHRlciIsInBhcmVudE1vZGVsIiwiZW5jUGFyZW50UGF0aCIsImdldEJyYW5jaCIsImNyZWF0ZUJyYW5jaCIsIm1vZGVsIiwiZ2V0TW9kZWxGcm9tQnJhbmNoIiwiY3JlYXRlTW9kZWwiLCJzZXRNb2RlbFRvQnJhbmNoIiwiZW5jUGF0aCIsImZpbmFsaXplIiwia2V5cyIsImtleUluZm8iLCJsIiwia2V5Iiwic2VwSWR4IiwibGFzdEluZGV4T2YiLCJzZXAiLCJvbWl0Q29scyIsInB1c2giLCJzdWJzdHIiLCJkZWNvZGUiLCJncm91cEJ5Iiwia0luZm8iLCJtb2RlbHMiLCJyZWxOYW1lcyIsImNoaWxkcmVuIiwiQXJyYXkiLCJpc0FycmF5IiwibSIsImxtIiwiZmluYWxpemVPbmUiLCJyIiwicmVsTmFtZSIsImJyYW5jaCIsImNoaWxkUGF0aEluZm8iLCJmaW5hbGl6ZWQiLCJmaW5hbGl6ZUJyYW5jaCIsImZpbmRBbGxSZWxhdGlvbnMiLCJjcmVhdGVQYXRoSW5mbyIsImJ1aWxkU2VsZWN0cyIsImZvckVhY2hFeHByIiwiY2hpbGRFeHByIiwibmV4dFBhdGgiLCJqb2luUGF0aCIsIm5hbWUiLCJlbmNOZXh0UGF0aCIsImVuY29kZSIsImVuY0pvaW5UYWJsZVBhdGgiLCJqb2luVGFibGUiLCJqb2luVGFibGVGb3JQYXRoIiwiZmlsdGVyUXVlcnkiLCJjcmVhdGVGaWx0ZXJRdWVyeSIsInJlbGF0ZWRKb2luU2VsZWN0UXVlcnkiLCJjcmVhdGVSZWxhdGVkSm9pbkZyb21RdWVyeSIsImpvaW4iLCJvd25lclRhYmxlIiwicmVsYXRlZFRhYmxlQWxpYXMiLCJqb2luVGFibGVBbGlhcyIsIm1vZGlmeSIsInJlbGF0ZWRNb2RlbENsYXNzIiwiaXNPbmVUb09uZSIsIk9uZVRvT25lUGF0aEluZm8iLCJQYXRoSW5mbyIsInBhcmVudFBhdGgiLCJjcmVhdGVJZEdldHRlciIsInNlbGVjdHMiLCJpZENvbHMiLCJnZXRJZENvbHVtbkFycmF5Iiwicm9vdFRhYmxlIiwiZm9yRWFjaCIsImZpbHRlclBhc3NlZCIsImlzSWRDb2x1bW4iLCJpbmRleE9mIiwiYWxpYXMiLCJqb2luVGFibGVFeHRyYXMiLCJleHRyYSIsImpvaW5UYWJsZUNvbCIsImFsaWFzQ29sIiwidG9vTG9uZ0FsaWFzZXMiLCJmaWx0ZXIiLCJzZWxlY3QiLCJlYWdlciIsInBhcnRzIiwic3BsaXQiLCJwYXJ0IiwibmV4dEVuY29kZWRQYXRoIiwiY3JlYXRlU2luZ2xlSWRHZXR0ZXIiLCJjcmVhdGVUd29JZEdldHRlciIsImNyZWF0ZVRocmVlSWRHZXR0ZXIiLCJjcmVhdGVOSWRHZXR0ZXIiLCJuZXh0UGFydCIsImZpbmRBbGxNb2RlbHNJbXBsIiwidW5pcUJ5IiwicmVsYXRpb25zIiwiZmluZEFsbFJlbGF0aW9uc0ltcGwiLCJ1bmlxV2l0aCIsImxocyIsInJocyIsImNhbGxiYWNrIiwiZ2V0UmVsYXRpb25BcnJheSIsImlzQWxsUmVjdXJzaXZlIiwibWF4UmVjdXJzaW9uRGVwdGgiLCJ0b1N0cmluZyIsImNoaWxkRXhwcmVzc2lvbiIsImlkQ29sIiwidmFsIiwiaWRDb2wxIiwiaWRDb2wyIiwidmFsMSIsInZhbDIiLCJpZENvbDMiLCJ2YWwzIiwicXVlcnkiLCJjaGlsZFF1ZXJ5T2YiLCJhcmdzIiwiZmlsdGVyTmFtZSIsImZpbHRlcnMiLCJyZWxhdGVkSm9pbkZyb21RdWVyeSIsImFsbEZvcmVpZ25LZXlzIiwiZmluZEFsbEZvcmVpZ25LZXlzRm9yTW9kZWwiLCJmb3JlaWduS2V5cyIsInNsaWNlIiwicmVsIiwicmVsYXRlZENvbCIsIm93bmVyTW9kZWxDbGFzcyIsIm93bmVyQ29sIiwidW5pcSIsImpzb24iLCJrIiwibGsiLCJmcm9tRGF0YWJhc2VKc29uIiwicmVsTW9kZWxzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQSxJQUFNQSxhQUFhLHNCQUFjLElBQWQsQ0FBbkI7QUFDQSxJQUFNQyxnQkFBZ0IsRUFBdEI7QUFDQSxJQUFNQyx5QkFBeUIsRUFBL0I7O0lBRXFCQyxtQjtBQUVuQixxQ0FBMkM7QUFBQSxRQUE5QkMsVUFBOEIsUUFBOUJBLFVBQThCO0FBQUEsUUFBbEJDLFVBQWtCLFFBQWxCQSxVQUFrQjtBQUFBLFFBQU5DLEdBQU0sUUFBTkEs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SzdELFFBQUwsQ0FBY3dFLElBQXJCLENBQVA7QUFDRCxHOzs2QkFFRHJDLGdCLDZCQUFpQjBCLE0sRUFBUW5DLEUsRUFBSU0sSyxFQUFPO0FBQ2xDNkIsV0FBTyxLQUFLN0QsUUFBTCxDQUFjd0UsSUFBckIsSUFBNkJ4QyxLQUE3QjtBQUNELEc7OzZCQUdEZ0MsYywyQkFBZUgsTSxFQUFRakMsVyxFQUFhO0FBQ2xDQSxnQkFBWSxLQUFLNUIsUUFBTCxDQUFjd0UsSUFBMUIsSUFBa0NYLFVBQVUsSUFBNUM7QUFDQSxXQUFPQSxVQUFVLElBQWpCO0FBQ0QsRzs7O0VBdEI0QjZCLFEiLCJmaWxlIjoiUmVsYXRpb25Kb2luQnVpbGRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUHJvbWlzZSBmcm9tICdibHVlYmlyZCc7XG5pbXBvcnQgVmFsaWRhdGlvbkVycm9yIGZyb20gJy4uLy4uLy4uL21vZGVsL1ZhbGlkYXRpb25FcnJvcic7XG5cbmNvbnN0IGNvbHVtbkluZm8gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuY29uc3QgaWRMZW5ndGhMaW1pdCA9IDYzO1xuY29uc3QgcmVsYXRpb25SZWN1cnNpb25MaW1pdCA9IDY0O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWxhdGlvbkpvaW5CdWlsZGVyIHtcblxuICBjb25zdHJ1Y3Rvcih7bW9kZWxDbGFzcywgZXhwcmVzc2lvbiwgb3B0fSkge1xuICAgIHRoaXMucm9vdE1vZGVsQ2xhc3MgPSBtb2RlbENsYXNzO1xuICAgIHRoaXMuZXhwcmVzc2lvbiA9IGV4cHJlc3Npb247XG4gICAgdGhpcy5hbGxSZWxhdGlvbnMgPSBudWxsO1xuXG4gICAgdGhpcy5wYXRoSW5mbyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5lbmNvZGluZ3MgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuZGVjb2RpbmdzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLmVuY0lkeCA9IDA7XG5cbiAgICB0aGlzLm9wdCA9IF8uZGVmYXVsdHMob3B0LCB7XG4gICAgICBtaW5pbWl6ZTogZmFsc2UsXG4gICAgICBzZXBhcmF0b3I6ICc6JyxcbiAgICAgIGFsaWFzZXM6IHt9XG4gICAgfSk7XG4gIH1cblxuICBjbG9uZShwcm9wcykge1xuICAgIHByb3BzID0gcHJvcHMgfHwge307XG5cbiAgICBjb25zdCBjb3B5ID0gbmV3IFJlbGF0aW9uSm9pbkJ1aWxkZXIoe1xuICAgICAgbW9kZWxDbGFzczogdGhpcy5yb290TW9kZWxDbGFzcyxcbiAgICAgIGV4cHJlc3Npb246IHByb3BzLmV4cHJlc3Npb24gfHwgdGhpcy5leHByZXNzaW9uLFxuICAgICAgb3B0OiBwcm9wcy5vcHQgfHwgdGhpcy5vcHRcbiAgICB9KTtcblxuICAgIGNvcHkuYWxsUmVsYXRpb25zID0gdGhpcy5hbGxSZWxhdGlvbnM7XG4gICAgY29weS5wYXRoSW5mbyA9IHRoaXMucGF0aEluZm87XG4gICAgY29weS5lbmNvZGluZ3MgPSB0aGlzLmVuY29kaW5ncztcbiAgICBjb3B5LmRlY29kaW5ncyA9IHRoaXMuZGVjb2RpbmdzO1xuICAgIGNvcHkuZW5jSWR4ID0gdGhpcy5lbmNJZHg7XG5cbiAgICByZXR1cm4gY29weTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaGVzIHRoZSBjb2x1bW4gaW5mb3JtYXRpb24gbmVlZGVkIGZvciBidWlsZGluZyB0aGUgc2VsZWN0IGNsYXVzZXMuXG4gICAqIFRoaXMgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIGNhbGxpbmcgYGJ1aWxkYC4gYGJ1aWxkSm9pbk9ubHlgIGNhbiBiZSBjYWxsZWRcbiAgICogd2l0aG91dCB0aGlzIHNpbmNlIGl0IGRvZXNuJ3QgYnVpbGQgam9pbnMuXG4gICAqL1xuICBmZXRjaENvbHVtbkluZm8oa25leCkge1xuICAgIGNvbnN0IGFsbE1vZGVsQ2xhc3NlcyA9IGZpbmRBbGxNb2RlbHModGhpcy5leHByZXNzaW9uLCB0aGlzLnJvb3RNb2RlbENsYXNzKTtcblxuICAgIHJldHVybiBQcm9taXNlLmFsbChhbGxNb2RlbENsYXNzZXMubWFwKE1vZGVsQ2xhc3MgPT4ge1xuICAgICAgY29uc3QgdGFibGUgPSBNb2RlbENsYXNzLnRhYmxlTmFtZTtcblxuICAgICAgaWYgKGNvbHVtbkluZm9bdGFibGVdKSB7XG4gICAgICAgIHJldHVybiBjb2x1bW5JbmZvW3RhYmxlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbHVtbkluZm9bdGFibGVdID0ga25leCh0YWJsZSkuY29sdW1uSW5mbygpLnRoZW4oaW5mbyA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgY29sdW1uczogT2JqZWN0LmtleXMoaW5mbylcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgY29sdW1uSW5mb1t0YWJsZV0gPSByZXN1bHQ7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbHVtbkluZm9bdGFibGVdO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfVxuXG4gIGJ1aWxkSm9pbk9ubHkoYnVpbGRlcikge1xuICAgIHRoaXMuZG9CdWlsZCh7XG4gICAgICBleHByOiB0aGlzLmV4cHJlc3Npb24sXG4gICAgICBidWlsZGVyOiBidWlsZGVyLFxuICAgICAgbW9kZWxDbGFzczogYnVpbGRlci5tb2RlbENsYXNzKCksXG4gICAgICBqb2luT3BlcmF0aW9uOiB0aGlzLm9wdC5qb2luT3BlcmF0aW9uIHx8ICdsZWZ0Sm9pbicsXG4gICAgICBwYXJlbnRJbmZvOiBudWxsLFxuICAgICAgcmVsYXRpb246IG51bGwsXG4gICAgICBub1NlbGVjdHM6IHRydWUsXG4gICAgICBwYXRoOiAnJyxcbiAgICB9KTtcbiAgfVxuXG4gIGJ1aWxkKGJ1aWxkZXIpIHtcbiAgICBjb25zdCBidWlsZGVyQ2xvbmUgPSBidWlsZGVyLmNsb25lKCk7XG5cbiAgICBidWlsZGVyLnRhYmxlKGAke3RoaXMucm9vdE1vZGVsQ2xhc3MudGFibGVOYW1lfSBhcyAke3RoaXMucm9vdE1vZGVsQ2xhc3MudGFibGVOYW1lfWApO1xuICAgIGJ1aWxkZXIuZmluZE9wdGlvbnMoe2NhbGxBZnRlckdldERlZXBseTogdHJ1ZX0pO1xuXG4gICAgdGhpcy5kb0J1aWxkKHtcbiAgICAgIGV4cHI6IHRoaXMuZXhwcmVzc2lvbixcbiAgICAgIGJ1aWxkZXI6IGJ1aWxkZXIsXG4gICAgICBtb2RlbENsYXNzOiBidWlsZGVyLm1vZGVsQ2xhc3MoKSxcbiAgICAgIGpvaW5PcGVyYXRpb246IHRoaXMub3B0LmpvaW5PcGVyYXRpb24gfHwgJ2xlZnRKb2luJyxcbiAgICAgIHBhcmVudEluZm86IG51bGwsXG4gICAgICByZWxhdGlvbjogbnVsbCxcbiAgICAgIHBhdGg6ICcnLFxuICAgICAgc2VsZWN0RmlsdGVyOiAoY29sKSA9PiB7XG4gICAgICAgIHJldHVybiBidWlsZGVyQ2xvbmUuaGFzU2VsZWN0aW9uKGNvbCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByb3dzVG9UcmVlKHJvd3MpIHtcbiAgICBpZiAoXy5pc0VtcHR5KHJvd3MpKSB7XG4gICAgICByZXR1cm4gcm93cztcbiAgICB9XG5cbiAgICBjb25zdCBrZXlJbmZvQnlQYXRoID0gdGhpcy5jcmVhdGVLZXlJbmZvKHJvd3MpO1xuICAgIGNvbnN0IHBhdGhJbmZvID0gXy52YWx1ZXModGhpcy5wYXRoSW5mbyk7XG5cbiAgICBjb25zdCB0cmVlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBjb25zdCBzdGFjayA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbHIgPSByb3dzLmxlbmd0aDsgaSA8IGxyOyArK2kpIHtcbiAgICAgIGNvbnN0IHJvdyA9IHJvd3NbaV07XG4gICAgICBsZXQgY3VyQnJhbmNoID0gdHJlZTtcblxuICAgICAgZm9yIChsZXQgaiA9IDAsIGxwID0gcGF0aEluZm8ubGVuZ3RoOyBqIDwgbHA7ICsraikge1xuICAgICAgICBjb25zdCBwSW5mbyA9IHBhdGhJbmZvW2pdO1xuICAgICAgICBjb25zdCBpZCA9IHBJbmZvLmlkR2V0dGVyKHJvdyk7XG5cbiAgICAgICAgaWYgKCFpZCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBJbmZvLnJlbGF0aW9uKSB7XG4gICAgICAgICAgY29uc3QgcGFyZW50TW9kZWwgPSBzdGFja1twSW5mby5lbmNQYXJlbnRQYXRoXTtcblxuICAgICAgICAgIGN1ckJyYW5jaCA9IHBJbmZvLmdldEJyYW5jaChwYXJlbnRNb2RlbCk7XG5cbiAgICAgICAgICBpZiAoIWN1ckJyYW5jaCkge1xuICAgICAgICAgICAgY3VyQnJhbmNoID0gcEluZm8uY3JlYXRlQnJhbmNoKHBhcmVudE1vZGVsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbW9kZWwgPSBwSW5mby5nZXRNb2RlbEZyb21CcmFuY2goY3VyQnJhbmNoLCBpZCk7XG5cbiAgICAgICAgaWYgKCFtb2RlbCkge1xuICAgICAgICAgIG1vZGVsID0gY3JlYXRlTW9kZWwocm93LCBwSW5mbywga2V5SW5mb0J5UGF0aCk7XG4gICAgICAgICAgcEluZm8uc2V0TW9kZWxUb0JyYW5jaChjdXJCcmFuY2gsIGlkLCBtb2RlbCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGFja1twSW5mby5lbmNQYXRoXSA9IG1vZGVsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmZpbmFsaXplKHBhdGhJbmZvWzBdLCBfLnZhbHVlcyh0cmVlKSk7XG4gIH1cblxuICBjcmVhdGVLZXlJbmZvKHJvd3MpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocm93c1swXSk7XG4gICAgY29uc3Qga2V5SW5mbyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICAgIGNvbnN0IHNlcElkeCA9IGtleS5sYXN0SW5kZXhPZih0aGlzLnNlcCk7XG5cbiAgICAgIGlmIChzZXBJZHggPT09IC0xKSB7XG4gICAgICAgIGNvbnN0IHBJbmZvID0gdGhpcy5wYXRoSW5mb1snJ107XG4gICAgICAgIGNvbnN0IGNvbCA9IGtleTtcblxuICAgICAgICBpZiAoIXBJbmZvLm9taXRDb2xzW2NvbF0pIHtcbiAgICAgICAgICBrZXlJbmZvLnB1c2goe1xuICAgICAgICAgICAgcEluZm86IHBJbmZvLFxuICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICBjb2w6IGNvbFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBlbmNQYXRoID0ga2V5LnN1YnN0cigwLCBzZXBJZHgpO1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5kZWNvZGUoZW5jUGF0aCk7XG4gICAgICAgIGNvbnN0IGNvbCA9IGtleS5zdWJzdHIoc2VwSWR4ICsgMSk7XG4gICAgICAgIGNvbnN0IHBJbmZvID0gdGhpcy5wYXRoSW5mb1twYXRoXTtcblxuICAgICAgICBpZiAoIXBJbmZvLm9taXRDb2xzW2NvbF0pIHtcbiAgICAgICAgICBrZXlJbmZvLnB1c2goe1xuICAgICAgICAgICAgcEluZm86IHBJbmZvLFxuICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICBjb2w6IGNvbFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIF8uZ3JvdXBCeShrZXlJbmZvLCBrSW5mbyA9PiBrSW5mby5wSW5mby5lbmNQYXRoKTtcbiAgfVxuXG4gIGZpbmFsaXplKHBJbmZvLCBtb2RlbHMpIHtcbiAgICBjb25zdCByZWxOYW1lcyA9IE9iamVjdC5rZXlzKHBJbmZvLmNoaWxkcmVuKTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KG1vZGVscykpIHtcbiAgICAgIGZvciAobGV0IG0gPSAwLCBsbSA9IG1vZGVscy5sZW5ndGg7IG0gPCBsbTsgKyttKSB7XG4gICAgICAgIHRoaXMuZmluYWxpemVPbmUocEluZm8sIHJlbE5hbWVzLCBtb2RlbHNbbV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobW9kZWxzKSB7XG4gICAgICB0aGlzLmZpbmFsaXplT25lKHBJbmZvLCByZWxOYW1lcywgbW9kZWxzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9kZWxzO1xuICB9XG5cbiAgZmluYWxpemVPbmUocEluZm8sIHJlbE5hbWVzLCBtb2RlbCkge1xuICAgIGZvciAobGV0IHIgPSAwLCBsciA9IHJlbE5hbWVzLmxlbmd0aDsgciA8IGxyOyArK3IpIHtcbiAgICAgIGNvbnN0IHJlbE5hbWUgPSByZWxOYW1lc1tyXTtcbiAgICAgIGNvbnN0IGJyYW5jaCA9IG1vZGVsW3JlbE5hbWVdO1xuICAgICAgY29uc3QgY2hpbGRQYXRoSW5mbyA9IHBJbmZvLmNoaWxkcmVuW3JlbE5hbWVdO1xuXG4gICAgICBjb25zdCBmaW5hbGl6ZWQgPSBjaGlsZFBhdGhJbmZvLmZpbmFsaXplQnJhbmNoKGJyYW5jaCwgbW9kZWwpO1xuICAgICAgdGhpcy5maW5hbGl6ZShjaGlsZFBhdGhJbmZvLCBmaW5hbGl6ZWQpO1xuICAgIH1cbiAgfVxuXG4gIGRvQnVpbGQoe2V4cHIsIGJ1aWxkZXIsIHNlbGVjdEZpbHRlciwgbW9kZWxDbGFzcywgcmVsYXRpb24sIHBhdGgsIHBhcmVudEluZm8sIGpvaW5PcGVyYXRpb24sIG5vU2VsZWN0c30pIHtcbiAgICBpZiAoIXRoaXMuYWxsUmVsYXRpb25zKSB7XG4gICAgICB0aGlzLmFsbFJlbGF0aW9ucyA9IGZpbmRBbGxSZWxhdGlvbnModGhpcy5leHByZXNzaW9uLCB0aGlzLnJvb3RNb2RlbENsYXNzKTtcbiAgICB9XG5cbiAgICBjb25zdCBpbmZvID0gdGhpcy5jcmVhdGVQYXRoSW5mbyh7XG4gICAgICBtb2RlbENsYXNzLFxuICAgICAgcGF0aCxcbiAgICAgIHJlbGF0aW9uLFxuICAgICAgcGFyZW50SW5mb1xuICAgIH0pO1xuXG4gICAgdGhpcy5wYXRoSW5mb1twYXRoXSA9IGluZm87XG5cbiAgICBpZiAoIW5vU2VsZWN0cykge1xuICAgICAgdGhpcy5idWlsZFNlbGVjdHMoe1xuICAgICAgICBidWlsZGVyLFxuICAgICAgICBzZWxlY3RGaWx0ZXIsXG4gICAgICAgIG1vZGVsQ2xhc3MsXG4gICAgICAgIHJlbGF0aW9uLFxuICAgICAgICBpbmZvXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmb3JFYWNoRXhwcihleHByLCBtb2RlbENsYXNzLCAoY2hpbGRFeHByLCByZWxhdGlvbikgPT4ge1xuICAgICAgY29uc3QgbmV4dFBhdGggPSB0aGlzLmpvaW5QYXRoKHBhdGgsIHJlbGF0aW9uLm5hbWUpO1xuICAgICAgY29uc3QgZW5jTmV4dFBhdGggPSB0aGlzLmVuY29kZShuZXh0UGF0aCk7XG4gICAgICBjb25zdCBlbmNKb2luVGFibGVQYXRoID0gcmVsYXRpb24uam9pblRhYmxlXG4gICAgICAgID8gdGhpcy5lbmNvZGUoam9pblRhYmxlRm9yUGF0aChuZXh0UGF0aCkpXG4gICAgICAgIDogbnVsbDtcblxuICAgICAgY29uc3QgZmlsdGVyUXVlcnkgPSBjcmVhdGVGaWx0ZXJRdWVyeSh7XG4gICAgICAgIGJ1aWxkZXIsXG4gICAgICAgIHJlbGF0aW9uLFxuICAgICAgICBleHByOiBjaGlsZEV4cHJcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZWxhdGVkSm9pblNlbGVjdFF1ZXJ5ID0gY3JlYXRlUmVsYXRlZEpvaW5Gcm9tUXVlcnkoe1xuICAgICAgICBmaWx0ZXJRdWVyeSxcbiAgICAgICAgcmVsYXRpb24sXG4gICAgICAgIGFsbFJlbGF0aW9uczogdGhpcy5hbGxSZWxhdGlvbnNcbiAgICAgIH0pO1xuXG4gICAgICByZWxhdGlvbi5qb2luKGJ1aWxkZXIsIHtcbiAgICAgICAgam9pbk9wZXJhdGlvbixcbiAgICAgICAgb3duZXJUYWJsZTogaW5mby5lbmNQYXRoLFxuICAgICAgICByZWxhdGVkVGFibGVBbGlhczogZW5jTmV4dFBhdGgsXG4gICAgICAgIGpvaW5UYWJsZUFsaWFzOiBlbmNKb2luVGFibGVQYXRoLFxuICAgICAgICByZWxhdGVkSm9pblNlbGVjdFF1ZXJ5OiByZWxhdGVkSm9pblNlbGVjdFF1ZXJ5XG4gICAgICB9KTtcblxuICAgICAgLy8gQXBwbHkgcmVsYXRpb24ubW9kaWZ5IHNpbmNlIGl0IG1heSBhbHNvIGNvbnRhaW5zIHNlbGVjdGlvbnMuIERvbid0IG1vdmUgdGhpc1xuICAgICAgLy8gdG8gdGhlIGNyZWF0ZUZpbHRlclF1ZXJ5IGZ1bmN0aW9uIGJlY2F1c2UgcmVsYXRlZEpvaW5TZWxlY3RRdWVyeSBpcyBjbG9uZWRcbiAgICAgIC8vIEZyb20gdGhlIHJldHVybiB2YWx1ZSBvZiB0aGF0IGZ1bmN0aW9uIGFuZCB3ZSBkb24ndCB3YW50IHJlbGF0aW9uLm1vZGlmeVxuICAgICAgLy8gdG8gYmUgY2FsbGVkIHR3aWNlIGZvciBpdC5cbiAgICAgIGZpbHRlclF1ZXJ5Lm1vZGlmeShyZWxhdGlvbi5tb2RpZnkpO1xuXG4gICAgICB0aGlzLmRvQnVpbGQoe1xuICAgICAgICBleHByOiBjaGlsZEV4cHIsXG4gICAgICAgIGJ1aWxkZXI6IGJ1aWxkZXIsXG4gICAgICAgIG1vZGVsQ2xhc3M6IHJlbGF0aW9uLnJlbGF0ZWRNb2RlbENsYXNzLFxuICAgICAgICBqb2luT3BlcmF0aW9uOiBqb2luT3BlcmF0aW9uLFxuICAgICAgICByZWxhdGlvbjogcmVsYXRpb24sXG4gICAgICAgIHBhcmVudEluZm86IGluZm8sXG4gICAgICAgIG5vU2VsZWN0czogbm9TZWxlY3RzLFxuICAgICAgICBwYXRoOiBuZXh0UGF0aCxcbiAgICAgICAgc2VsZWN0RmlsdGVyOiAoY29sKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGZpbHRlclF1ZXJ5Lmhhc1NlbGVjdGlvbihjb2wpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGNyZWF0ZVBhdGhJbmZvKHttb2RlbENsYXNzLCBwYXRoLCByZWxhdGlvbiwgcGFyZW50SW5mb30pIHtcbiAgICBjb25zdCBlbmNQYXRoID0gdGhpcy5lbmNvZGUocGF0aCk7XG4gICAgbGV0IGluZm87XG5cbiAgICBpZiAocmVsYXRpb24gJiYgcmVsYXRpb24uaXNPbmVUb09uZSgpKSB7XG4gICAgICBpbmZvID0gbmV3IE9uZVRvT25lUGF0aEluZm8oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5mbyA9IG5ldyBQYXRoSW5mbygpO1xuICAgIH1cblxuICAgIGluZm8ucGF0aCA9IHBhdGg7XG4gICAgaW5mby5lbmNQYXRoID0gZW5jUGF0aDtcbiAgICBpbmZvLnBhcmVudFBhdGggPSBwYXJlbnRJbmZvICYmIHBhcmVudEluZm8ucGF0aDtcbiAgICBpbmZvLmVuY1BhcmVudFBhdGggPSBwYXJlbnRJbmZvICYmIHBhcmVudEluZm8uZW5jUGF0aDtcbiAgICBpbmZvLm1vZGVsQ2xhc3MgPSBtb2RlbENsYXNzO1xuICAgIGluZm8ucmVsYXRpb24gPSByZWxhdGlvbjtcbiAgICBpbmZvLmlkR2V0dGVyID0gdGhpcy5jcmVhdGVJZEdldHRlcihtb2RlbENsYXNzLCBlbmNQYXRoKTtcblxuICAgIGlmIChwYXJlbnRJbmZvKSB7XG4gICAgICBwYXJlbnRJbmZvLmNoaWxkcmVuW3JlbGF0aW9uLm5hbWVdID0gaW5mbztcbiAgICB9XG5cbiAgICByZXR1cm4gaW5mbztcbiAgfVxuXG4gIGJ1aWxkU2VsZWN0cyh7YnVpbGRlciwgc2VsZWN0RmlsdGVyLCBtb2RlbENsYXNzLCByZWxhdGlvbiwgaW5mb30pIHtcbiAgICBjb25zdCBzZWxlY3RzID0gW107XG4gICAgY29uc3QgaWRDb2xzID0gbW9kZWxDbGFzcy5nZXRJZENvbHVtbkFycmF5KCk7XG4gICAgY29uc3Qgcm9vdFRhYmxlID0gdGhpcy5yb290TW9kZWxDbGFzcy50YWJsZU5hbWU7XG5cbiAgICBjb2x1bW5JbmZvW21vZGVsQ2xhc3MudGFibGVOYW1lXS5jb2x1bW5zLmZvckVhY2goY29sID0+IHtcbiAgICAgIGNvbnN0IGZpbHRlclBhc3NlZCA9IHNlbGVjdEZpbHRlcihjb2wpO1xuICAgICAgY29uc3QgaXNJZENvbHVtbiA9IGlkQ29scy5pbmRleE9mKGNvbCkgIT09IC0xO1xuXG4gICAgICBpZiAoZmlsdGVyUGFzc2VkIHx8IGlzSWRDb2x1bW4pIHtcbiAgICAgICAgc2VsZWN0cy5wdXNoKHtcbiAgICAgICAgICBjb2w6IGAke2luZm8uZW5jUGF0aCB8fCByb290VGFibGV9LiR7Y29sfWAsXG4gICAgICAgICAgYWxpYXM6IHRoaXMuam9pblBhdGgoaW5mby5lbmNQYXRoLCBjb2wpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghZmlsdGVyUGFzc2VkKSB7XG4gICAgICAgICAgaW5mby5vbWl0Q29sc1tjb2xdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHJlbGF0aW9uICYmIHJlbGF0aW9uLmpvaW5UYWJsZUV4dHJhcykge1xuICAgICAgY29uc3Qgam9pblRhYmxlID0gdGhpcy5lbmNvZGUoam9pblRhYmxlRm9yUGF0aChpbmZvLnBhdGgpKTtcblxuICAgICAgcmVsYXRpb24uam9pblRhYmxlRXh0cmFzLmZvckVhY2goZXh0cmEgPT4ge1xuICAgICAgICBpZiAoc2VsZWN0RmlsdGVyKGV4dHJhLmpvaW5UYWJsZUNvbCkpIHtcbiAgICAgICAgICBzZWxlY3RzLnB1c2goe1xuICAgICAgICAgICAgY29sOiBgJHtqb2luVGFibGV9LiR7ZXh0cmEuam9pblRhYmxlQ29sfWAsXG4gICAgICAgICAgICBhbGlhczogdGhpcy5qb2luUGF0aChpbmZvLmVuY1BhdGgsIGV4dHJhLmFsaWFzQ29sKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCB0b29Mb25nQWxpYXNlcyA9IHNlbGVjdHMuZmlsdGVyKHNlbGVjdCA9PiBzZWxlY3QuYWxpYXMubGVuZ3RoID4gaWRMZW5ndGhMaW1pdCk7XG5cbiAgICBpZiAodG9vTG9uZ0FsaWFzZXMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKHtcbiAgICAgICAgZWFnZXI6IGBpZGVudGlmaWVyICR7dG9vTG9uZ0FsaWFzZXNbMF0uYWxpYXN9IGlzIG92ZXIgJHtpZExlbmd0aExpbWl0fSBjaGFyYWN0ZXJzIGxvbmcgYFxuICAgICAgICArIGBhbmQgd291bGQgYmUgdHJ1bmNhdGVkIGJ5IHRoZSBkYXRhYmFzZSBlbmdpbmUuYFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgYnVpbGRlci5zZWxlY3Qoc2VsZWN0c1xuICAgICAgLmZpbHRlcihzZWxlY3QgPT4gIWJ1aWxkZXIuaGFzU2VsZWN0aW9uKHNlbGVjdC5jb2wsIHRydWUpKVxuICAgICAgLm1hcChzZWxlY3QgPT4gYCR7c2VsZWN0LmNvbH0gYXMgJHtzZWxlY3QuYWxpYXN9YClcbiAgICApO1xuICB9XG5cbiAgZW5jb2RlKHBhdGgpIHtcbiAgICBpZiAoIXRoaXMub3B0Lm1pbmltaXplKSB7XG4gICAgICBsZXQgZW5jUGF0aCA9IHRoaXMuZW5jb2RpbmdzW3BhdGhdO1xuXG4gICAgICBpZiAoIWVuY1BhdGgpIHtcbiAgICAgICAgY29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KHRoaXMuc2VwKTtcblxuICAgICAgICAvLyBEb24ndCBlbmNvZGUgdGhlIHJvb3QuXG4gICAgICAgIGlmICghcGF0aCkge1xuICAgICAgICAgIGVuY1BhdGggPSBwYXRoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVuY1BhdGggPSBwYXJ0cy5tYXAocGFydCA9PiB0aGlzLm9wdC5hbGlhc2VzW3BhcnRdIHx8IHBhcnQpLmpvaW4odGhpcy5zZXApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbmNvZGluZ3NbcGF0aF0gPSBlbmNQYXRoO1xuICAgICAgICB0aGlzLmRlY29kaW5nc1tlbmNQYXRoXSA9IHBhdGg7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlbmNQYXRoO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgZW5jUGF0aCA9IHRoaXMuZW5jb2RpbmdzW3BhdGhdO1xuXG4gICAgICBpZiAoIWVuY1BhdGgpIHtcbiAgICAgICAgLy8gRG9uJ3QgZW5jb2RlIHRoZSByb290LlxuICAgICAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgICBlbmNQYXRoID0gcGF0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbmNQYXRoID0gdGhpcy5uZXh0RW5jb2RlZFBhdGgoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZW5jb2RpbmdzW3BhdGhdID0gZW5jUGF0aDtcbiAgICAgICAgdGhpcy5kZWNvZGluZ3NbZW5jUGF0aF0gPSBwYXRoO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZW5jUGF0aDtcbiAgICB9XG4gIH1cblxuICBkZWNvZGUocGF0aCkge1xuICAgIHJldHVybiB0aGlzLmRlY29kaW5nc1twYXRoXTtcbiAgfVxuXG4gIG5leHRFbmNvZGVkUGF0aCgpIHtcbiAgICByZXR1cm4gYF90JHsrK3RoaXMuZW5jSWR4fWA7XG4gIH1cblxuICBjcmVhdGVJZEdldHRlcihtb2RlbENsYXNzLCBwYXRoKSB7XG4gICAgY29uc3QgaWRDb2xzID0gbW9kZWxDbGFzcy5nZXRJZENvbHVtbkFycmF5KCkubWFwKGNvbCA9PiB0aGlzLmpvaW5QYXRoKHBhdGgsIGNvbCkpO1xuXG4gICAgaWYgKGlkQ29scy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHJldHVybiBjcmVhdGVTaW5nbGVJZEdldHRlcihpZENvbHMpO1xuICAgIH0gZWxzZSBpZiAoaWRDb2xzLmxlbmd0aCA9PT0gMikge1xuICAgICAgcmV0dXJuIGNyZWF0ZVR3b0lkR2V0dGVyKGlkQ29scyk7XG4gICAgfSBlbHNlIGlmIChpZENvbHMubGVuZ3RoID09PSAzKSB7XG4gICAgICByZXR1cm4gY3JlYXRlVGhyZWVJZEdldHRlcihpZENvbHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY3JlYXRlTklkR2V0dGVyKGlkQ29scyk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IHNlcCgpIHtcbiAgICByZXR1cm4gdGhpcy5vcHQuc2VwYXJhdG9yO1xuICB9XG5cbiAgam9pblBhdGgocGF0aCwgbmV4dFBhcnQpIHtcbiAgICBpZiAocGF0aCkge1xuICAgICAgcmV0dXJuIGAke3BhdGh9JHt0aGlzLnNlcH0ke25leHRQYXJ0fWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXh0UGFydDtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZmluZEFsbE1vZGVscyhleHByLCBtb2RlbENsYXNzKSB7XG4gIGNvbnN0IG1vZGVscyA9IFtdO1xuXG4gIGZpbmRBbGxNb2RlbHNJbXBsKGV4cHIsIG1vZGVsQ2xhc3MsIG1vZGVscyk7XG5cbiAgcmV0dXJuIF8udW5pcUJ5KG1vZGVscywgJ3RhYmxlTmFtZScpO1xufVxuXG5mdW5jdGlvbiBmaW5kQWxsTW9kZWxzSW1wbChleHByLCBtb2RlbENsYXNzLCBtb2RlbHMpIHtcbiAgbW9kZWxzLnB1c2gobW9kZWxDbGFzcyk7XG5cbiAgZm9yRWFjaEV4cHIoZXhwciwgbW9kZWxDbGFzcywgKGNoaWxkRXhwciwgcmVsYXRpb24pID0+IHtcbiAgICBmaW5kQWxsTW9kZWxzSW1wbChjaGlsZEV4cHIsIHJlbGF0aW9uLnJlbGF0ZWRNb2RlbENsYXNzLCBtb2RlbHMpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZmluZEFsbFJlbGF0aW9ucyhleHByLCBtb2RlbENsYXNzKSB7XG4gIGNvbnN0IHJlbGF0aW9ucyA9IFtdO1xuXG4gIGZpbmRBbGxSZWxhdGlvbnNJbXBsKGV4cHIsIG1vZGVsQ2xhc3MsIHJlbGF0aW9ucyk7XG5cbiAgcmV0dXJuIF8udW5pcVdpdGgocmVsYXRpb25zLCAobGhzLCByaHMpID0+IGxocyA9PT0gcmhzKTtcbn1cblxuZnVuY3Rpb24gZmluZEFsbFJlbGF0aW9uc0ltcGwoZXhwciwgbW9kZWxDbGFzcywgcmVsYXRpb25zKSB7XG4gIGZvckVhY2hFeHByKGV4cHIsIG1vZGVsQ2xhc3MsIChjaGlsZEV4cHIsIHJlbGF0aW9uKSA9PiB7XG4gICAgcmVsYXRpb25zLnB1c2gocmVsYXRpb24pO1xuXG4gICAgZmluZEFsbFJlbGF0aW9uc0ltcGwoY2hpbGRFeHByLCByZWxhdGlvbi5yZWxhdGVkTW9kZWxDbGFzcywgcmVsYXRpb25zKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGZvckVhY2hFeHByKGV4cHIsIG1vZGVsQ2xhc3MsIGNhbGxiYWNrKSB7XG4gIGNvbnN0IHJlbGF0aW9ucyA9IG1vZGVsQ2xhc3MuZ2V0UmVsYXRpb25BcnJheSgpO1xuXG4gIGlmIChleHByLmlzQWxsUmVjdXJzaXZlKCkgfHwgZXhwci5tYXhSZWN1cnNpb25EZXB0aCgpID4gcmVsYXRpb25SZWN1cnNpb25MaW1pdCkge1xuICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3Ioe1xuICAgICAgZWFnZXI6IGByZWN1cnNpb24gZGVwdGggb2YgZWFnZXIgZXhwcmVzc2lvbiAke2V4cHIudG9TdHJpbmcoKX0gdG9vIGJpZyBmb3IgSm9pbkVhZ2VyQWxnb3JpdGhtYFxuICAgIH0pO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSByZWxhdGlvbnMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgY29uc3QgcmVsYXRpb24gPSByZWxhdGlvbnNbaV07XG4gICAgY29uc3QgY2hpbGRFeHByID0gZXhwci5jaGlsZEV4cHJlc3Npb24ocmVsYXRpb24ubmFtZSk7XG5cbiAgICBpZiAoY2hpbGRFeHByKSB7XG4gICAgICBjYWxsYmFjayhjaGlsZEV4cHIsIHJlbGF0aW9uLCByZWxhdGlvbi5uYW1lKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU2luZ2xlSWRHZXR0ZXIoaWRDb2xzKSB7XG4gIGNvbnN0IGlkQ29sID0gaWRDb2xzWzBdO1xuXG4gIHJldHVybiAocm93KSA9PiB7XG4gICAgY29uc3QgdmFsID0gcm93W2lkQ29sXTtcblxuICAgIGlmICghdmFsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGBpZDoke3ZhbH1gO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVHdvSWRHZXR0ZXIoaWRDb2xzKSB7XG4gIGNvbnN0IGlkQ29sMSA9IGlkQ29sc1swXTtcbiAgY29uc3QgaWRDb2wyID0gaWRDb2xzWzFdO1xuXG4gIHJldHVybiAocm93KSA9PiB7XG4gICAgY29uc3QgdmFsMSA9IHJvd1tpZENvbDFdO1xuICAgIGNvbnN0IHZhbDIgPSByb3dbaWRDb2wyXTtcblxuICAgIGlmICghdmFsMSB8fCAhdmFsMikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBgaWQ6JHt2YWwxfSwke3ZhbDJ9YDtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRocmVlSWRHZXR0ZXIoaWRDb2xzKSB7XG4gIGNvbnN0IGlkQ29sMSA9IGlkQ29sc1swXTtcbiAgY29uc3QgaWRDb2wyID0gaWRDb2xzWzFdO1xuICBjb25zdCBpZENvbDMgPSBpZENvbHNbMl07XG5cbiAgcmV0dXJuIChyb3cpID0+IHtcbiAgICBjb25zdCB2YWwxID0gcm93W2lkQ29sMV07XG4gICAgY29uc3QgdmFsMiA9IHJvd1tpZENvbDJdO1xuICAgIGNvbnN0IHZhbDMgPSByb3dbaWRDb2wzXTtcblxuICAgIGlmICghdmFsMSB8fCAhdmFsMiB8fCAhdmFsMykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBgaWQ6JHt2YWwxfSwke3ZhbDJ9LCR7dmFsM31gO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTklkR2V0dGVyKGlkQ29scykge1xuICByZXR1cm4gKHJvdykgPT4ge1xuICAgIGxldCBpZCA9ICdpZDonO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBpZENvbHMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICBjb25zdCB2YWwgPSByb3dbaWRDb2xzW2ldXTtcblxuICAgICAgaWYgKCF2YWwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlkICs9IChpID4gMCA/ICcsJyA6ICcnKSArIHZhbDtcbiAgICB9XG5cbiAgICByZXR1cm4gaWQ7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZpbHRlclF1ZXJ5KHtidWlsZGVyLCBleHByLCByZWxhdGlvbn0pIHtcbiAgY29uc3QgZmlsdGVyUXVlcnkgPSByZWxhdGlvbi5yZWxhdGVkTW9kZWxDbGFzc1xuICAgIC5xdWVyeSgpXG4gICAgLmNoaWxkUXVlcnlPZihidWlsZGVyKTtcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IGV4cHIuYXJncy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBjb25zdCBmaWx0ZXJOYW1lID0gZXhwci5hcmdzW2ldO1xuICAgIGNvbnN0IGZpbHRlciA9IGV4cHIuZmlsdGVyc1tmaWx0ZXJOYW1lXTtcblxuICAgIGlmICh0eXBlb2YgZmlsdGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKHtlYWdlcjogYGNvdWxkIG5vdCBmaW5kIGZpbHRlciBcIiR7ZmlsdGVyTmFtZX1cIiBmb3IgcmVsYXRpb24gXCIke3JlbGF0aW9uLm5hbWV9XCJgfSk7XG4gICAgfVxuXG4gICAgZmlsdGVyKGZpbHRlclF1ZXJ5KTtcbiAgfVxuXG4gIHJldHVybiBmaWx0ZXJRdWVyeTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUmVsYXRlZEpvaW5Gcm9tUXVlcnkoe2ZpbHRlclF1ZXJ5LCByZWxhdGlvbiwgYWxsUmVsYXRpb25zfSkge1xuICBjb25zdCByZWxhdGVkSm9pbkZyb21RdWVyeSA9IGZpbHRlclF1ZXJ5LmNsb25lKCk7XG5cbiAgY29uc3QgYWxsRm9yZWlnbktleXMgPSBmaW5kQWxsRm9yZWlnbktleXNGb3JNb2RlbCh7XG4gICAgbW9kZWxDbGFzczogcmVsYXRpb24ucmVsYXRlZE1vZGVsQ2xhc3MsXG4gICAgYWxsUmVsYXRpb25zXG4gIH0pO1xuXG4gIHJldHVybiByZWxhdGVkSm9pbkZyb21RdWVyeS5zZWxlY3QoYWxsRm9yZWlnbktleXMuZmlsdGVyKGNvbCA9PiB7XG4gICAgcmV0dXJuICFyZWxhdGVkSm9pbkZyb21RdWVyeS5oYXNTZWxlY3Rpb24oY29sKTtcbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBmaW5kQWxsRm9yZWlnbktleXNGb3JNb2RlbCh7bW9kZWxDbGFzcywgYWxsUmVsYXRpb25zfSkge1xuICBsZXQgZm9yZWlnbktleXMgPSBtb2RlbENsYXNzLmdldElkQ29sdW1uQXJyYXkoKS5zbGljZSgpO1xuXG4gIGFsbFJlbGF0aW9ucy5mb3JFYWNoKHJlbCA9PiB7XG4gICAgaWYgKHJlbC5yZWxhdGVkTW9kZWxDbGFzcy50YWJsZU5hbWUgPT09IG1vZGVsQ2xhc3MudGFibGVOYW1lKSB7XG4gICAgICByZWwucmVsYXRlZENvbC5mb3JFYWNoKGNvbCA9PiBmb3JlaWduS2V5cy5wdXNoKGNvbCkpO1xuICAgIH1cblxuICAgIGlmIChyZWwub3duZXJNb2RlbENsYXNzLnRhYmxlTmFtZSA9PT0gbW9kZWxDbGFzcy50YWJsZU5hbWUpIHtcbiAgICAgIHJlbC5vd25lckNvbC5mb3JFYWNoKGNvbCA9PiBmb3JlaWduS2V5cy5wdXNoKGNvbCkpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIF8udW5pcShmb3JlaWduS2V5cyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU1vZGVsKHJvdywgcEluZm8sIGtleUluZm9CeVBhdGgpIHtcbiAgY29uc3Qga2V5SW5mbyA9IGtleUluZm9CeVBhdGhbcEluZm8uZW5jUGF0aF07XG4gIGNvbnN0IGpzb24gPSB7fTtcblxuICBmb3IgKGxldCBrID0gMCwgbGsgPSBrZXlJbmZvLmxlbmd0aDsgayA8IGxrOyArK2spIHtcbiAgICBjb25zdCBrSW5mbyA9IGtleUluZm9ba107XG4gICAganNvbltrSW5mby5jb2xdID0gcm93W2tJbmZvLmtleV07XG4gIH1cblxuICByZXR1cm4gcEluZm8ubW9kZWxDbGFzcy5mcm9tRGF0YWJhc2VKc29uKGpzb24pO1xufVxuXG5mdW5jdGlvbiBqb2luVGFibGVGb3JQYXRoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGggKyAnX2pvaW4nO1xufVxuXG5jbGFzcyBQYXRoSW5mbyB7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5wYXRoID0gbnVsbDtcbiAgICB0aGlzLmVuY1BhdGggPSBudWxsO1xuICAgIHRoaXMuZW5jUGFyZW50UGF0aCA9IG51bGw7XG4gICAgdGhpcy5tb2RlbENsYXNzID0gbnVsbDtcbiAgICB0aGlzLnJlbGF0aW9uID0gbnVsbDtcbiAgICB0aGlzLm9taXRDb2xzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLmNoaWxkcmVuID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLmlkR2V0dGVyID0gbnVsbDtcbiAgfVxuXG4gIGNyZWF0ZUJyYW5jaChwYXJlbnRNb2RlbCkge1xuICAgIGNvbnN0IGJyYW5jaCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgcGFyZW50TW9kZWxbdGhpcy5yZWxhdGlvbi5uYW1lXSA9IGJyYW5jaDtcbiAgICByZXR1cm4gYnJhbmNoO1xuICB9XG5cbiAgZ2V0QnJhbmNoKHBhcmVudE1vZGVsKSB7XG4gICAgcmV0dXJuIHBhcmVudE1vZGVsW3RoaXMucmVsYXRpb24ubmFtZV07XG4gIH1cblxuICBnZXRNb2RlbEZyb21CcmFuY2goYnJhbmNoLCBpZCkge1xuICAgIHJldHVybiBicmFuY2hbaWRdO1xuICB9XG5cbiAgc2V0TW9kZWxUb0JyYW5jaChicmFuY2gsIGlkLCBtb2RlbCkge1xuICAgIGJyYW5jaFtpZF0gPSBtb2RlbDtcbiAgfVxuXG4gIGZpbmFsaXplQnJhbmNoKGJyYW5jaCwgcGFyZW50TW9kZWwpIHtcbiAgICBjb25zdCByZWxNb2RlbHMgPSBfLnZhbHVlcyhicmFuY2gpO1xuICAgIHBhcmVudE1vZGVsW3RoaXMucmVsYXRpb24ubmFtZV0gPSByZWxNb2RlbHM7XG4gICAgcmV0dXJuIHJlbE1vZGVscztcbiAgfVxufVxuXG5jbGFzcyBPbmVUb09uZVBhdGhJbmZvIGV4dGVuZHMgUGF0aEluZm8ge1xuXG4gIGNyZWF0ZUJyYW5jaChwYXJlbnRNb2RlbCkge1xuICAgIHJldHVybiBwYXJlbnRNb2RlbDtcbiAgfVxuXG4gIGdldEJyYW5jaChwYXJlbnRNb2RlbCkge1xuICAgIHJldHVybiBwYXJlbnRNb2RlbDtcbiAgfVxuXG4gIGdldE1vZGVsRnJvbUJyYW5jaChicmFuY2gsIGlkKSB7XG4gICAgcmV0dXJuIGJyYW5jaFt0aGlzLnJlbGF0aW9uLm5hbWVdO1xuICB9XG5cbiAgc2V0TW9kZWxUb0JyYW5jaChicmFuY2gsIGlkLCBtb2RlbCkge1xuICAgIGJyYW5jaFt0aGlzLnJlbGF0aW9uLm5hbWVdID0gbW9kZWw7XG4gIH1cblxuXG4gIGZpbmFsaXplQnJhbmNoKGJyYW5jaCwgcGFyZW50TW9kZWwpIHtcbiAgICBwYXJlbnRNb2RlbFt0aGlzLnJlbGF0aW9uLm5hbWVdID0gYnJhbmNoIHx8IG51bGw7XG4gICAgcmV0dXJuIGJyYW5jaCB8fCBudWxsO1xuICB9XG59XG4iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/RunBeforeOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _QueryBuilderOperation = require('./QueryBuilderOperation');\n\nvar _QueryBuilderOperation2 = _interopRequireDefault(_QueryBuilderOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar RunBeforeOperation = function (_QueryBuilderOperatio) {\n  (0, _inherits3.default)(RunBeforeOperation, _QueryBuilderOperatio);\n\n  function RunBeforeOperation() {\n    (0, _classCallCheck3.default)(this, RunBeforeOperation);\n    return (0, _possibleConstructorReturn3.default)(this, _QueryBuilderOperatio.apply(this, arguments));\n  }\n\n  RunBeforeOperation.prototype.call = function call(builder, args) {\n    this.func = args[0];\n    return true;\n  };\n\n  RunBeforeOperation.prototype.onBefore = function onBefore(builder, result) {\n    return this.func.call(builder, result, builder);\n  };\n\n  return RunBeforeOperation;\n}(_QueryBuilderOperation2.default);\n\nexports.default = RunBeforeOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJ1bkJlZm9yZU9wZXJhdGlvbi5qcyJdLCJuYW1lcyI6WyJSdW5CZWZvcmVPcGVyYXRpb24iLCJjYWxsIiwiYnVpbGRlciIsImFyZ3MiLCJmdW5jIiwib25CZWZvcmUiLCJyZXN1bHQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7O0lBRXFCQSxrQjs7Ozs7Ozs7K0JBRW5CQyxJLGlCQUFLQyxPLEVBQVNDLEksRUFBTTtBQUNsQixTQUFLQyxJQUFMLEdBQVlELEtBQUssQ0FBTCxDQUFaO0FBQ0EsV0FBTyxJQUFQO0FBQ0QsRzs7K0JBRURFLFEscUJBQVNILE8sRUFBU0ksTSxFQUFRO0FBQ3hCLFdBQU8sS0FBS0YsSUFBTCxDQUFVSCxJQUFWLENBQWVDLE9BQWYsRUFBd0JJLE1BQXhCLEVBQWdDSixPQUFoQyxDQUFQO0FBQ0QsRzs7Ozs7a0JBVGtCRixrQiIsImZpbGUiOiJSdW5CZWZvcmVPcGVyYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUXVlcnlCdWlsZGVyT3BlcmF0aW9uIGZyb20gJy4vUXVlcnlCdWlsZGVyT3BlcmF0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUnVuQmVmb3JlT3BlcmF0aW9uIGV4dGVuZHMgUXVlcnlCdWlsZGVyT3BlcmF0aW9uIHtcblxuICBjYWxsKGJ1aWxkZXIsIGFyZ3MpIHtcbiAgICB0aGlzLmZ1bmMgPSBhcmdzWzBdO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgb25CZWZvcmUoYnVpbGRlciwgcmVzdWx0KSB7XG4gICAgcmV0dXJuIHRoaXMuZnVuYy5jYWxsKGJ1aWxkZXIsIHJlc3VsdCwgYnVpbGRlcik7XG4gIH1cbn1cbiJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/RunAfterOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _QueryBuilderOperation = require('./QueryBuilderOperation');\n\nvar _QueryBuilderOperation2 = _interopRequireDefault(_QueryBuilderOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar RunAfterOperation = function (_QueryBuilderOperatio) {\n  (0, _inherits3.default)(RunAfterOperation, _QueryBuilderOperatio);\n\n  function RunAfterOperation() {\n    (0, _classCallCheck3.default)(this, RunAfterOperation);\n    return (0, _possibleConstructorReturn3.default)(this, _QueryBuilderOperatio.apply(this, arguments));\n  }\n\n  RunAfterOperation.prototype.call = function call(builder, args) {\n    this.func = args[0];\n    return true;\n  };\n\n  RunAfterOperation.prototype.onAfter = function onAfter(builder, result) {\n    return this.func.call(builder, result, builder);\n  };\n\n  return RunAfterOperation;\n}(_QueryBuilderOperation2.default);\n\nexports.default = RunAfterOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJ1bkFmdGVyT3BlcmF0aW9uLmpzIl0sIm5hbWVzIjpbIlJ1bkFmdGVyT3BlcmF0aW9uIiwiY2FsbCIsImJ1aWxkZXIiLCJhcmdzIiwiZnVuYyIsIm9uQWZ0ZXIiLCJyZXN1bHQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7O0lBRXFCQSxpQjs7Ozs7Ozs7OEJBRW5CQyxJLGlCQUFLQyxPLEVBQVNDLEksRUFBTTtBQUNsQixTQUFLQyxJQUFMLEdBQVlELEtBQUssQ0FBTCxDQUFaO0FBQ0EsV0FBTyxJQUFQO0FBQ0QsRzs7OEJBRURFLE8sb0JBQVFILE8sRUFBU0ksTSxFQUFRO0FBQ3ZCLFdBQU8sS0FBS0YsSUFBTCxDQUFVSCxJQUFWLENBQWVDLE9BQWYsRUFBd0JJLE1BQXhCLEVBQWdDSixPQUFoQyxDQUFQO0FBQ0QsRzs7Ozs7a0JBVGtCRixpQiIsImZpbGUiOiJSdW5BZnRlck9wZXJhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBRdWVyeUJ1aWxkZXJPcGVyYXRpb24gZnJvbSAnLi9RdWVyeUJ1aWxkZXJPcGVyYXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSdW5BZnRlck9wZXJhdGlvbiBleHRlbmRzIFF1ZXJ5QnVpbGRlck9wZXJhdGlvbiB7XG5cbiAgY2FsbChidWlsZGVyLCBhcmdzKSB7XG4gICAgdGhpcy5mdW5jID0gYXJnc1swXTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIG9uQWZ0ZXIoYnVpbGRlciwgcmVzdWx0KSB7XG4gICAgcmV0dXJuIHRoaXMuZnVuYy5jYWxsKGJ1aWxkZXIsIHJlc3VsdCwgYnVpbGRlcik7XG4gIH1cbn1cbiJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/OnBuildOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _QueryBuilderOperation = require('./QueryBuilderOperation');\n\nvar _QueryBuilderOperation2 = _interopRequireDefault(_QueryBuilderOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar OnBuildOperation = function (_QueryBuilderOperatio) {\n  (0, _inherits3.default)(OnBuildOperation, _QueryBuilderOperatio);\n\n  function OnBuildOperation() {\n    (0, _classCallCheck3.default)(this, OnBuildOperation);\n    return (0, _possibleConstructorReturn3.default)(this, _QueryBuilderOperatio.apply(this, arguments));\n  }\n\n  OnBuildOperation.prototype.call = function call(builder, args) {\n    this.func = args[0];\n    return true;\n  };\n\n  OnBuildOperation.prototype.onBeforeBuild = function onBeforeBuild(builder) {\n    return this.func.call(builder, builder);\n  };\n\n  return OnBuildOperation;\n}(_QueryBuilderOperation2.default);\n\nexports.default = OnBuildOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk9uQnVpbGRPcGVyYXRpb24uanMiXSwibmFtZXMiOlsiT25CdWlsZE9wZXJhdGlvbiIsImNhbGwiLCJidWlsZGVyIiwiYXJncyIsImZ1bmMiLCJvbkJlZm9yZUJ1aWxkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7OztJQUVxQkEsZ0I7Ozs7Ozs7OzZCQUVuQkMsSSxpQkFBS0MsTyxFQUFTQyxJLEVBQU07QUFDbEIsU0FBS0MsSUFBTCxHQUFZRCxLQUFLLENBQUwsQ0FBWjtBQUNBLFdBQU8sSUFBUDtBQUNELEc7OzZCQUVERSxhLDBCQUFjSCxPLEVBQVM7QUFDckIsV0FBTyxLQUFLRSxJQUFMLENBQVVILElBQVYsQ0FBZUMsT0FBZixFQUF3QkEsT0FBeEIsQ0FBUDtBQUNELEc7Ozs7O2tCQVRrQkYsZ0IiLCJmaWxlIjoiT25CdWlsZE9wZXJhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBRdWVyeUJ1aWxkZXJPcGVyYXRpb24gZnJvbSAnLi9RdWVyeUJ1aWxkZXJPcGVyYXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPbkJ1aWxkT3BlcmF0aW9uIGV4dGVuZHMgUXVlcnlCdWlsZGVyT3BlcmF0aW9uIHtcblxuICBjYWxsKGJ1aWxkZXIsIGFyZ3MpIHtcbiAgICB0aGlzLmZ1bmMgPSBhcmdzWzBdO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgb25CZWZvcmVCdWlsZChidWlsZGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuZnVuYy5jYWxsKGJ1aWxkZXIsIGJ1aWxkZXIpO1xuICB9XG59XG4iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/eager/EagerOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _clone2 = require('lodash/clone');\n\nvar _clone3 = _interopRequireDefault(_clone2);\n\nvar _QueryBuilderOperation = require('../QueryBuilderOperation');\n\nvar _QueryBuilderOperation2 = _interopRequireDefault(_QueryBuilderOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar EagerOperation = function (_QueryBuilderOperatio) {\n  (0, _inherits3.default)(EagerOperation, _QueryBuilderOperatio);\n\n  function EagerOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, EagerOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _QueryBuilderOperatio.call(this, name, opt));\n\n    _this.expression = null;\n    _this.filters = null;\n    return _this;\n  }\n\n  EagerOperation.prototype.clone = function clone(props) {\n    props = props || {};\n    var copy = new this.constructor(this.name, props.opt || (0, _clone3.default)(this.opt));\n\n    copy.isWriteOperation = this.isWriteOperation;\n    copy.expression = this.expression.clone();\n    copy.filters = (0, _clone3.default)(this.filters);\n\n    return copy;\n  };\n\n  EagerOperation.prototype.call = function call(builder, args) {\n    this.expression = args[0].clone();\n    this.filters = args[1];\n\n    for (var i = 0, l = this.filters.length; i < l; ++i) {\n      var filter = this.filters[i];\n      this.expression.addAnonymousFilterAtPath(filter.path, filter.filter);\n    }\n\n    return true;\n  };\n\n  return EagerOperation;\n}(_QueryBuilderOperation2.default);\n\nexports.default = EagerOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkVhZ2VyT3BlcmF0aW9uLmpzIl0sIm5hbWVzIjpbIkVhZ2VyT3BlcmF0aW9uIiwibmFtZSIsIm9wdCIsImV4cHJlc3Npb24iLCJmaWx0ZXJzIiwiY2xvbmUiLCJwcm9wcyIsImNvcHkiLCJjb25zdHJ1Y3RvciIsImlzV3JpdGVPcGVyYXRpb24iLCJjYWxsIiwiYnVpbGRlciIsImFyZ3MiLCJpIiwibCIsImxlbmd0aCIsImZpbHRlciIsImFkZEFub255bW91c0ZpbHRlckF0UGF0aCIsInBhdGgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7SUFFcUJBLGM7OztBQUVuQiwwQkFBWUMsSUFBWixFQUFrQkMsR0FBbEIsRUFBdUI7QUFBQTs7QUFBQSwrREFDckIsaUNBQU1ELElBQU4sRUFBWUMsR0FBWixDQURxQjs7QUFHckIsVUFBS0MsVUFBTCxHQUFrQixJQUFsQjtBQUNBLFVBQUtDLE9BQUwsR0FBZSxJQUFmO0FBSnFCO0FBS3RCOzsyQkFFREMsSyxrQkFBTUMsSyxFQUFPO0FBQ1hBLFlBQVFBLFNBQVMsRUFBakI7QUFDQSxRQUFNQyxPQUFPLElBQUksS0FBS0MsV0FBVCxDQUFxQixLQUFLUCxJQUExQixFQUFnQ0ssTUFBTUosR0FBTixJQUFhLHFCQUFNLEtBQUtBLEdBQVgsQ0FBN0MsQ0FBYjs7QUFFQUssU0FBS0UsZ0JBQUwsR0FBd0IsS0FBS0EsZ0JBQTdCO0FBQ0FGLFNBQUtKLFVBQUwsR0FBa0IsS0FBS0EsVUFBTCxDQUFnQkUsS0FBaEIsRUFBbEI7QUFDQUUsU0FBS0gsT0FBTCxHQUFlLHFCQUFNLEtBQUtBLE9BQVgsQ0FBZjs7QUFFQSxXQUFPRyxJQUFQO0FBQ0QsRzs7MkJBRURHLEksaUJBQUtDLE8sRUFBU0MsSSxFQUFNO0FBQ2xCLFNBQUtULFVBQUwsR0FBa0JTLEtBQUssQ0FBTCxFQUFRUCxLQUFSLEVBQWxCO0FBQ0EsU0FBS0QsT0FBTCxHQUFlUSxLQUFLLENBQUwsQ0FBZjs7QUFFQSxTQUFLLElBQUlDLElBQUksQ0FBUixFQUFXQyxJQUFJLEtBQUtWLE9BQUwsQ0FBYVcsTUFBakMsRUFBeUNGLElBQUlDLENBQTdDLEVBQWdELEVBQUVELENBQWxELEVBQXFEO0FBQ25ELFVBQU1HLFNBQVMsS0FBS1osT0FBTCxDQUFhUyxDQUFiLENBQWY7QUFDQSxXQUFLVixVQUFMLENBQWdCYyx3QkFBaEIsQ0FBeUNELE9BQU9FLElBQWhELEVBQXNERixPQUFPQSxNQUE3RDtBQUNEOztBQUVELFdBQU8sSUFBUDtBQUNELEc7Ozs7O2tCQTlCa0JoQixjIiwiZmlsZSI6IkVhZ2VyT3BlcmF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNsb25lIGZyb20gJ2xvZGFzaC9jbG9uZSc7XG5pbXBvcnQgUXVlcnlCdWlsZGVyT3BlcmF0aW9uIGZyb20gJy4uL1F1ZXJ5QnVpbGRlck9wZXJhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVhZ2VyT3BlcmF0aW9uIGV4dGVuZHMgUXVlcnlCdWlsZGVyT3BlcmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcihuYW1lLCBvcHQpIHtcbiAgICBzdXBlcihuYW1lLCBvcHQpO1xuXG4gICAgdGhpcy5leHByZXNzaW9uID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlcnMgPSBudWxsO1xuICB9XG5cbiAgY2xvbmUocHJvcHMpIHtcbiAgICBwcm9wcyA9IHByb3BzIHx8IHt9O1xuICAgIGNvbnN0IGNvcHkgPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLm5hbWUsIHByb3BzLm9wdCB8fCBjbG9uZSh0aGlzLm9wdCkpO1xuXG4gICAgY29weS5pc1dyaXRlT3BlcmF0aW9uID0gdGhpcy5pc1dyaXRlT3BlcmF0aW9uO1xuICAgIGNvcHkuZXhwcmVzc2lvbiA9IHRoaXMuZXhwcmVzc2lvbi5jbG9uZSgpO1xuICAgIGNvcHkuZmlsdGVycyA9IGNsb25lKHRoaXMuZmlsdGVycyk7XG5cbiAgICByZXR1cm4gY29weTtcbiAgfVxuXG4gIGNhbGwoYnVpbGRlciwgYXJncykge1xuICAgIHRoaXMuZXhwcmVzc2lvbiA9IGFyZ3NbMF0uY2xvbmUoKTtcbiAgICB0aGlzLmZpbHRlcnMgPSBhcmdzWzFdO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLmZpbHRlcnMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICBjb25zdCBmaWx0ZXIgPSB0aGlzLmZpbHRlcnNbaV07XG4gICAgICB0aGlzLmV4cHJlc3Npb24uYWRkQW5vbnltb3VzRmlsdGVyQXRQYXRoKGZpbHRlci5wYXRoLCBmaWx0ZXIuZmlsdGVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/RangeOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _QueryBuilderOperation = require('./QueryBuilderOperation');\n\nvar _QueryBuilderOperation2 = _interopRequireDefault(_QueryBuilderOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar RangeOperation = function (_QueryBuilderOperatio) {\n  (0, _inherits3.default)(RangeOperation, _QueryBuilderOperatio);\n\n  function RangeOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, RangeOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _QueryBuilderOperatio.call(this, name, opt));\n\n    _this.resultSizePromise = null;\n    return _this;\n  }\n\n  RangeOperation.prototype.call = function call(builder, args) {\n    if (args.length === 2) {\n      var start = args[0];\n      var end = args[1];\n\n      // Need to set these here instead of `onBuild` so that they\n      // don't end up in the resultSize query.\n      builder.limit(end - start + 1).offset(start);\n    }\n\n    return true;\n  };\n\n  RangeOperation.prototype.onBefore = function onBefore(builder) {\n    // Don't return the promise so that it is executed\n    // in parallel with the actual query.\n    this.resultSizePromise = builder.resultSize();\n    return null;\n  };\n\n  RangeOperation.prototype.onAfter = function onAfter(builder, result) {\n    return this.resultSizePromise.then(function (count) {\n      return {\n        results: result,\n        total: parseInt(count, 10)\n      };\n    });\n  };\n\n  return RangeOperation;\n}(_QueryBuilderOperation2.default);\n\nexports.default = RangeOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJhbmdlT3BlcmF0aW9uLmpzIl0sIm5hbWVzIjpbIlJhbmdlT3BlcmF0aW9uIiwibmFtZSIsIm9wdCIsInJlc3VsdFNpemVQcm9taXNlIiwiY2FsbCIsImJ1aWxkZXIiLCJhcmdzIiwibGVuZ3RoIiwic3RhcnQiLCJlbmQiLCJsaW1pdCIsIm9mZnNldCIsIm9uQmVmb3JlIiwicmVzdWx0U2l6ZSIsIm9uQWZ0ZXIiLCJyZXN1bHQiLCJ0aGVuIiwicmVzdWx0cyIsInRvdGFsIiwicGFyc2VJbnQiLCJjb3VudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7SUFFcUJBLGM7OztBQUVuQiwwQkFBWUMsSUFBWixFQUFrQkMsR0FBbEIsRUFBdUI7QUFBQTs7QUFBQSwrREFDckIsaUNBQU1ELElBQU4sRUFBWUMsR0FBWixDQURxQjs7QUFFckIsVUFBS0MsaUJBQUwsR0FBeUIsSUFBekI7QUFGcUI7QUFHdEI7OzJCQUVEQyxJLGlCQUFLQyxPLEVBQVNDLEksRUFBTTtBQUNsQixRQUFJQSxLQUFLQyxNQUFMLEtBQWdCLENBQXBCLEVBQXVCO0FBQ3JCLFVBQU1DLFFBQVFGLEtBQUssQ0FBTCxDQUFkO0FBQ0EsVUFBTUcsTUFBTUgsS0FBSyxDQUFMLENBQVo7O0FBRUE7QUFDQTtBQUNBRCxjQUFRSyxLQUFSLENBQWNELE1BQU1ELEtBQU4sR0FBYyxDQUE1QixFQUErQkcsTUFBL0IsQ0FBc0NILEtBQXRDO0FBQ0Q7O0FBRUQsV0FBTyxJQUFQO0FBQ0QsRzs7MkJBRURJLFEscUJBQVNQLE8sRUFBUztBQUNoQjtBQUNBO0FBQ0EsU0FBS0YsaUJBQUwsR0FBeUJFLFFBQVFRLFVBQVIsRUFBekI7QUFDQSxXQUFPLElBQVA7QUFDRCxHOzsyQkFFREMsTyxvQkFBUVQsTyxFQUFTVSxNLEVBQVE7QUFDdkIsV0FBTyxLQUFLWixpQkFBTCxDQUF1QmEsSUFBdkIsQ0FBNEIsaUJBQVM7QUFDMUMsYUFBTztBQUNMQyxpQkFBU0YsTUFESjtBQUVMRyxlQUFPQyxTQUFTQyxLQUFULEVBQWdCLEVBQWhCO0FBRkYsT0FBUDtBQUlELEtBTE0sQ0FBUDtBQU1ELEc7Ozs7O2tCQWxDa0JwQixjIiwiZmlsZSI6IlJhbmdlT3BlcmF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFF1ZXJ5QnVpbGRlck9wZXJhdGlvbiBmcm9tICcuL1F1ZXJ5QnVpbGRlck9wZXJhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJhbmdlT3BlcmF0aW9uIGV4dGVuZHMgUXVlcnlCdWlsZGVyT3BlcmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcihuYW1lLCBvcHQpIHtcbiAgICBzdXBlcihuYW1lLCBvcHQpO1xuICAgIHRoaXMucmVzdWx0U2l6ZVByb21pc2UgPSBudWxsO1xuICB9XG5cbiAgY2FsbChidWlsZGVyLCBhcmdzKSB7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICBjb25zdCBzdGFydCA9IGFyZ3NbMF07XG4gICAgICBjb25zdCBlbmQgPSBhcmdzWzFdO1xuXG4gICAgICAvLyBOZWVkIHRvIHNldCB0aGVzZSBoZXJlIGluc3RlYWQgb2YgYG9uQnVpbGRgIHNvIHRoYXQgdGhleVxuICAgICAgLy8gZG9uJ3QgZW5kIHVwIGluIHRoZSByZXN1bHRTaXplIHF1ZXJ5LlxuICAgICAgYnVpbGRlci5saW1pdChlbmQgLSBzdGFydCArIDEpLm9mZnNldChzdGFydCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBvbkJlZm9yZShidWlsZGVyKSB7XG4gICAgLy8gRG9uJ3QgcmV0dXJuIHRoZSBwcm9taXNlIHNvIHRoYXQgaXQgaXMgZXhlY3V0ZWRcbiAgICAvLyBpbiBwYXJhbGxlbCB3aXRoIHRoZSBhY3R1YWwgcXVlcnkuXG4gICAgdGhpcy5yZXN1bHRTaXplUHJvbWlzZSA9IGJ1aWxkZXIucmVzdWx0U2l6ZSgpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgb25BZnRlcihidWlsZGVyLCByZXN1bHQpIHtcbiAgICByZXR1cm4gdGhpcy5yZXN1bHRTaXplUHJvbWlzZS50aGVuKGNvdW50ID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3VsdHM6IHJlc3VsdCxcbiAgICAgICAgdG90YWw6IHBhcnNlSW50KGNvdW50LCAxMClcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cbn1cbiJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/model/modelVisitor.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.visitModels = visitModels;\n/**\n * @param {Array.<Model|Object>|Model|Object} models\n * @param {Constructor.<Model>} modelClass\n * @param {function(model, modelClass, parent, relation)} visitor\n */\nfunction visitModels(models, modelClass, visitor) {\n  doVisit(models, modelClass, null, null, visitor);\n}\n\nfunction doVisit(models, modelClass, parent, rel, visitor) {\n  if (Array.isArray(models)) {\n    visitMany(models, modelClass, parent, rel, visitor);\n  } else if (models) {\n    visitOne(models, modelClass, parent, rel, visitor);\n  }\n}\n\nfunction visitMany(models, modelClass, parent, rel, visitor) {\n  for (var i = 0, l = models.length; i < l; ++i) {\n    visitOne(models[i], modelClass, parent, rel, visitor);\n  }\n}\n\nfunction visitOne(model, modelClass, parent, rel, visitor) {\n  if (model) {\n    visitor(model, modelClass, parent, rel);\n  }\n\n  var relations = modelClass.getRelationArray();\n\n  for (var i = 0, l = relations.length; i < l; ++i) {\n    var relation = relations[i];\n    doVisit(model[relation.name], relation.relatedModelClass, model, relation, visitor);\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGVsVmlzaXRvci5qcyJdLCJuYW1lcyI6WyJ2aXNpdE1vZGVscyIsIm1vZGVscyIsIm1vZGVsQ2xhc3MiLCJ2aXNpdG9yIiwiZG9WaXNpdCIsInBhcmVudCIsInJlbCIsIkFycmF5IiwiaXNBcnJheSIsInZpc2l0TWFueSIsInZpc2l0T25lIiwiaSIsImwiLCJsZW5ndGgiLCJtb2RlbCIsInJlbGF0aW9ucyIsImdldFJlbGF0aW9uQXJyYXkiLCJyZWxhdGlvbiIsIm5hbWUiLCJyZWxhdGVkTW9kZWxDbGFzcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7UUFLZ0JBLFcsR0FBQUEsVztBQUxoQjs7Ozs7QUFLTyxTQUFTQSxXQUFULENBQXFCQyxNQUFyQixFQUE2QkMsVUFBN0IsRUFBeUNDLE9BQXpDLEVBQWtEO0FBQ3ZEQyxVQUFRSCxNQUFSLEVBQWdCQyxVQUFoQixFQUE0QixJQUE1QixFQUFrQyxJQUFsQyxFQUF3Q0MsT0FBeEM7QUFDRDs7QUFFRCxTQUFTQyxPQUFULENBQWlCSCxNQUFqQixFQUF5QkMsVUFBekIsRUFBcUNHLE1BQXJDLEVBQTZDQyxHQUE3QyxFQUFrREgsT0FBbEQsRUFBMkQ7QUFDekQsTUFBSUksTUFBTUMsT0FBTixDQUFjUCxNQUFkLENBQUosRUFBMkI7QUFDekJRLGNBQVVSLE1BQVYsRUFBa0JDLFVBQWxCLEVBQThCRyxNQUE5QixFQUFzQ0MsR0FBdEMsRUFBMkNILE9BQTNDO0FBQ0QsR0FGRCxNQUVPLElBQUlGLE1BQUosRUFBWTtBQUNqQlMsYUFBU1QsTUFBVCxFQUFpQkMsVUFBakIsRUFBNkJHLE1BQTdCLEVBQXFDQyxHQUFyQyxFQUEwQ0gsT0FBMUM7QUFDRDtBQUNGOztBQUVELFNBQVNNLFNBQVQsQ0FBbUJSLE1BQW5CLEVBQTJCQyxVQUEzQixFQUF1Q0csTUFBdkMsRUFBK0NDLEdBQS9DLEVBQW9ESCxPQUFwRCxFQUE2RDtBQUMzRCxPQUFLLElBQUlRLElBQUksQ0FBUixFQUFXQyxJQUFJWCxPQUFPWSxNQUEzQixFQUFtQ0YsSUFBSUMsQ0FBdkMsRUFBMEMsRUFBRUQsQ0FBNUMsRUFBK0M7QUFDN0NELGFBQVNULE9BQU9VLENBQVAsQ0FBVCxFQUFvQlQsVUFBcEIsRUFBZ0NHLE1BQWhDLEVBQXdDQyxHQUF4QyxFQUE2Q0gsT0FBN0M7QUFDRDtBQUNGOztBQUVELFNBQVNPLFFBQVQsQ0FBa0JJLEtBQWxCLEVBQXlCWixVQUF6QixFQUFxQ0csTUFBckMsRUFBNkNDLEdBQTdDLEVBQWtESCxPQUFsRCxFQUEyRDtBQUN6RCxNQUFJVyxLQUFKLEVBQVc7QUFDVFgsWUFBUVcsS0FBUixFQUFlWixVQUFmLEVBQTJCRyxNQUEzQixFQUFtQ0MsR0FBbkM7QUFDRDs7QUFFRCxNQUFNUyxZQUFZYixXQUFXYyxnQkFBWCxFQUFsQjs7QUFFQSxPQUFLLElBQUlMLElBQUksQ0FBUixFQUFXQyxJQUFJRyxVQUFVRixNQUE5QixFQUFzQ0YsSUFBSUMsQ0FBMUMsRUFBNkMsRUFBRUQsQ0FBL0MsRUFBa0Q7QUFDaEQsUUFBTU0sV0FBV0YsVUFBVUosQ0FBVixDQUFqQjtBQUNBUCxZQUFRVSxNQUFNRyxTQUFTQyxJQUFmLENBQVIsRUFBOEJELFNBQVNFLGlCQUF2QyxFQUEwREwsS0FBMUQsRUFBaUVHLFFBQWpFLEVBQTJFZCxPQUEzRTtBQUNEO0FBQ0YiLCJmaWxlIjoibW9kZWxWaXNpdG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAcGFyYW0ge0FycmF5LjxNb2RlbHxPYmplY3Q+fE1vZGVsfE9iamVjdH0gbW9kZWxzXG4gKiBAcGFyYW0ge0NvbnN0cnVjdG9yLjxNb2RlbD59IG1vZGVsQ2xhc3NcbiAqIEBwYXJhbSB7ZnVuY3Rpb24obW9kZWwsIG1vZGVsQ2xhc3MsIHBhcmVudCwgcmVsYXRpb24pfSB2aXNpdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2aXNpdE1vZGVscyhtb2RlbHMsIG1vZGVsQ2xhc3MsIHZpc2l0b3IpIHtcbiAgZG9WaXNpdChtb2RlbHMsIG1vZGVsQ2xhc3MsIG51bGwsIG51bGwsIHZpc2l0b3IpO1xufVxuXG5mdW5jdGlvbiBkb1Zpc2l0KG1vZGVscywgbW9kZWxDbGFzcywgcGFyZW50LCByZWwsIHZpc2l0b3IpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkobW9kZWxzKSkge1xuICAgIHZpc2l0TWFueShtb2RlbHMsIG1vZGVsQ2xhc3MsIHBhcmVudCwgcmVsLCB2aXNpdG9yKTtcbiAgfSBlbHNlIGlmIChtb2RlbHMpIHtcbiAgICB2aXNpdE9uZShtb2RlbHMsIG1vZGVsQ2xhc3MsIHBhcmVudCwgcmVsLCB2aXNpdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB2aXNpdE1hbnkobW9kZWxzLCBtb2RlbENsYXNzLCBwYXJlbnQsIHJlbCwgdmlzaXRvcikge1xuICBmb3IgKGxldCBpID0gMCwgbCA9IG1vZGVscy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICB2aXNpdE9uZShtb2RlbHNbaV0sIG1vZGVsQ2xhc3MsIHBhcmVudCwgcmVsLCB2aXNpdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB2aXNpdE9uZShtb2RlbCwgbW9kZWxDbGFzcywgcGFyZW50LCByZWwsIHZpc2l0b3IpIHtcbiAgaWYgKG1vZGVsKSB7XG4gICAgdmlzaXRvcihtb2RlbCwgbW9kZWxDbGFzcywgcGFyZW50LCByZWwpO1xuICB9XG5cbiAgY29uc3QgcmVsYXRpb25zID0gbW9kZWxDbGFzcy5nZXRSZWxhdGlvbkFycmF5KCk7XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSByZWxhdGlvbnMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgY29uc3QgcmVsYXRpb24gPSByZWxhdGlvbnNbaV07XG4gICAgZG9WaXNpdChtb2RlbFtyZWxhdGlvbi5uYW1lXSwgcmVsYXRpb24ucmVsYXRlZE1vZGVsQ2xhc3MsIG1vZGVsLCByZWxhdGlvbiwgdmlzaXRvcik7XG4gIH1cbn0iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/utils/decorators/hiddenData.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.default = hiddenData;\n\nvar _hiddenData = require('../hiddenData');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction hiddenData(opt) {\n  return function (target, property, descriptor) {\n    var propName = void 0;\n    var append = void 0;\n\n    if ((typeof opt === 'undefined' ? 'undefined' : (0, _typeof3.default)(opt)) === 'object') {\n      propName = opt.name || property;\n      append = !!opt.append;\n    } else {\n      propName = opt || property;\n      append = false;\n    }\n\n    var get = (0, _hiddenData.createGetter)(propName);\n    var set = (0, _hiddenData.createSetter)(propName);\n\n    if (typeof descriptor.value === 'function') {\n      if (append) {\n        descriptor.value = function decorator$hiddenData() {\n          if (arguments.length === 0) {\n            return get(this);\n          } else {\n            return appendSet(this, arguments[0], get, set);\n          }\n        };\n      } else {\n        descriptor.value = function decorator$hiddenData() {\n          if (arguments.length === 0) {\n            return get(this);\n          } else {\n            set(this, arguments[0]);\n          }\n        };\n      }\n    }\n\n    if (typeof descriptor.get === 'function') {\n      descriptor.get = function decorator$hiddenDataGetter() {\n        return get(this);\n      };\n    }\n\n    if (typeof descriptor.set === 'function') {\n      descriptor.set = function decorator$hiddenDataSetter(value) {\n        return set(this, value);\n      };\n    }\n  };\n}\n\nfunction appendSet(self, value, get, set) {\n  var data = get(self);\n\n  if (Array.isArray(data) && Array.isArray(value)) {\n    for (var i = 0, l = value.length; i < l; ++i) {\n      data.push(value[i]);\n    }\n  } else {\n    set(self, value);\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhpZGRlbkRhdGEuanMiXSwibmFtZXMiOlsiaGlkZGVuRGF0YSIsIm9wdCIsInRhcmdldCIsInByb3BlcnR5IiwiZGVzY3JpcHRvciIsInByb3BOYW1lIiwiYXBwZW5kIiwibmFtZSIsImdldCIsInNldCIsInZhbHVlIiwiZGVjb3JhdG9yJGhpZGRlbkRhdGEiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcHBlbmRTZXQiLCJkZWNvcmF0b3IkaGlkZGVuRGF0YUdldHRlciIsImRlY29yYXRvciRoaWRkZW5EYXRhU2V0dGVyIiwic2VsZiIsImRhdGEiLCJBcnJheSIsImlzQXJyYXkiLCJpIiwibCIsInB1c2giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7a0JBRXdCQSxVOztBQUZ4Qjs7OztBQUVlLFNBQVNBLFVBQVQsQ0FBb0JDLEdBQXBCLEVBQXlCO0FBQ3RDLFNBQU8sVUFBVUMsTUFBVixFQUFrQkMsUUFBbEIsRUFBNEJDLFVBQTVCLEVBQXdDO0FBQzdDLFFBQUlDLGlCQUFKO0FBQ0EsUUFBSUMsZUFBSjs7QUFFQSxRQUFJLFFBQU9MLEdBQVAsdURBQU9BLEdBQVAsT0FBZSxRQUFuQixFQUE2QjtBQUMzQkksaUJBQVdKLElBQUlNLElBQUosSUFBWUosUUFBdkI7QUFDQUcsZUFBUyxDQUFDLENBQUNMLElBQUlLLE1BQWY7QUFDRCxLQUhELE1BR087QUFDTEQsaUJBQVdKLE9BQU9FLFFBQWxCO0FBQ0FHLGVBQVMsS0FBVDtBQUNEOztBQUVELFFBQU1FLE1BQU0sOEJBQWFILFFBQWIsQ0FBWjtBQUNBLFFBQU1JLE1BQU0sOEJBQWFKLFFBQWIsQ0FBWjs7QUFFQSxRQUFJLE9BQU9ELFdBQVdNLEtBQWxCLEtBQTRCLFVBQWhDLEVBQTRDO0FBQzFDLFVBQUlKLE1BQUosRUFBWTtBQUNWRixtQkFBV00sS0FBWCxHQUFtQixTQUFTQyxvQkFBVCxHQUFnQztBQUNqRCxjQUFJQyxVQUFVQyxNQUFWLEtBQXFCLENBQXpCLEVBQTRCO0FBQzFCLG1CQUFPTCxJQUFJLElBQUosQ0FBUDtBQUNELFdBRkQsTUFFTztBQUNMLG1CQUFPTSxVQUFVLElBQVYsRUFBZ0JGLFVBQVUsQ0FBVixDQUFoQixFQUE4QkosR0FBOUIsRUFBbUNDLEdBQW5DLENBQVA7QUFDRDtBQUNGLFNBTkQ7QUFPRCxPQVJELE1BUU87QUFDTEwsbUJBQVdNLEtBQVgsR0FBbUIsU0FBU0Msb0JBQVQsR0FBZ0M7QUFDakQsY0FBSUMsVUFBVUMsTUFBVixLQUFxQixDQUF6QixFQUE0QjtBQUMxQixtQkFBT0wsSUFBSSxJQUFKLENBQVA7QUFDRCxXQUZELE1BRU87QUFDTEMsZ0JBQUksSUFBSixFQUFVRyxVQUFVLENBQVYsQ0FBVjtBQUNEO0FBQ0YsU0FORDtBQU9EO0FBQ0Y7O0FBRUQsUUFBSSxPQUFPUixXQUFXSSxHQUFsQixLQUEwQixVQUE5QixFQUEwQztBQUN4Q0osaUJBQVdJLEdBQVgsR0FBaUIsU0FBU08sMEJBQVQsR0FBc0M7QUFDckQsZUFBT1AsSUFBSSxJQUFKLENBQVA7QUFDRCxPQUZEO0FBR0Q7O0FBRUQsUUFBSSxPQUFPSixXQUFXSyxHQUFsQixLQUEwQixVQUE5QixFQUEwQztBQUN4Q0wsaUJBQVdLLEdBQVgsR0FBaUIsU0FBU08sMEJBQVQsQ0FBb0NOLEtBQXBDLEVBQTJDO0FBQzFELGVBQU9ELElBQUksSUFBSixFQUFVQyxLQUFWLENBQVA7QUFDRCxPQUZEO0FBR0Q7QUFDRixHQTlDRDtBQStDRDs7QUFFRCxTQUFTSSxTQUFULENBQW1CRyxJQUFuQixFQUF5QlAsS0FBekIsRUFBZ0NGLEdBQWhDLEVBQXFDQyxHQUFyQyxFQUEwQztBQUN4QyxNQUFNUyxPQUFPVixJQUFJUyxJQUFKLENBQWI7O0FBRUEsTUFBSUUsTUFBTUMsT0FBTixDQUFjRixJQUFkLEtBQXVCQyxNQUFNQyxPQUFOLENBQWNWLEtBQWQsQ0FBM0IsRUFBaUQ7QUFDL0MsU0FBSyxJQUFJVyxJQUFJLENBQVIsRUFBV0MsSUFBSVosTUFBTUcsTUFBMUIsRUFBa0NRLElBQUlDLENBQXRDLEVBQXlDLEVBQUVELENBQTNDLEVBQThDO0FBQzVDSCxXQUFLSyxJQUFMLENBQVViLE1BQU1XLENBQU4sQ0FBVjtBQUNEO0FBQ0YsR0FKRCxNQUlPO0FBQ0xaLFFBQUlRLElBQUosRUFBVVAsS0FBVjtBQUNEO0FBQ0YiLCJmaWxlIjoiaGlkZGVuRGF0YS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Y3JlYXRlR2V0dGVyLCBjcmVhdGVTZXR0ZXJ9IGZyb20gJy4uL2hpZGRlbkRhdGEnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoaWRkZW5EYXRhKG9wdCkge1xuICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IpIHtcbiAgICBsZXQgcHJvcE5hbWU7XG4gICAgbGV0IGFwcGVuZDtcblxuICAgIGlmICh0eXBlb2Ygb3B0ID09PSAnb2JqZWN0Jykge1xuICAgICAgcHJvcE5hbWUgPSBvcHQubmFtZSB8fCBwcm9wZXJ0eTtcbiAgICAgIGFwcGVuZCA9ICEhb3B0LmFwcGVuZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvcE5hbWUgPSBvcHQgfHwgcHJvcGVydHk7XG4gICAgICBhcHBlbmQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBnZXQgPSBjcmVhdGVHZXR0ZXIocHJvcE5hbWUpO1xuICAgIGNvbnN0IHNldCA9IGNyZWF0ZVNldHRlcihwcm9wTmFtZSk7XG5cbiAgICBpZiAodHlwZW9mIGRlc2NyaXB0b3IudmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChhcHBlbmQpIHtcbiAgICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IGZ1bmN0aW9uIGRlY29yYXRvciRoaWRkZW5EYXRhKCkge1xuICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0KHRoaXMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYXBwZW5kU2V0KHRoaXMsIGFyZ3VtZW50c1swXSwgZ2V0LCBzZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiBkZWNvcmF0b3IkaGlkZGVuRGF0YSgpIHtcbiAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldCh0aGlzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0KHRoaXMsIGFyZ3VtZW50c1swXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZGVzY3JpcHRvci5nZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGRlc2NyaXB0b3IuZ2V0ID0gZnVuY3Rpb24gZGVjb3JhdG9yJGhpZGRlbkRhdGFHZXR0ZXIoKSB7XG4gICAgICAgIHJldHVybiBnZXQodGhpcyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZGVzY3JpcHRvci5zZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGRlc2NyaXB0b3Iuc2V0ID0gZnVuY3Rpb24gZGVjb3JhdG9yJGhpZGRlbkRhdGFTZXR0ZXIodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHNldCh0aGlzLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBhcHBlbmRTZXQoc2VsZiwgdmFsdWUsIGdldCwgc2V0KSB7XG4gIGNvbnN0IGRhdGEgPSBnZXQoc2VsZik7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgZGF0YS5wdXNoKHZhbHVlW2ldKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc2V0KHNlbGYsIHZhbHVlKTtcbiAgfVxufSJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/relations/hasOne/HasOneRelation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _HasManyRelation2 = require('../hasMany/HasManyRelation');\n\nvar _HasManyRelation3 = _interopRequireDefault(_HasManyRelation2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar HasOneRelation = function (_HasManyRelation) {\n  (0, _inherits3.default)(HasOneRelation, _HasManyRelation);\n\n  function HasOneRelation() {\n    (0, _classCallCheck3.default)(this, HasOneRelation);\n    return (0, _possibleConstructorReturn3.default)(this, _HasManyRelation.apply(this, arguments));\n  }\n\n  HasOneRelation.prototype.isOneToOne = function isOneToOne() {\n    return true;\n  };\n\n  return HasOneRelation;\n}(_HasManyRelation3.default);\n\nexports.default = HasOneRelation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkhhc09uZVJlbGF0aW9uLmpzIl0sIm5hbWVzIjpbIkhhc09uZVJlbGF0aW9uIiwiaXNPbmVUb09uZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7SUFFcUJBLGM7Ozs7Ozs7OzJCQUVuQkMsVSx5QkFBYTtBQUNYLFdBQU8sSUFBUDtBQUNELEc7Ozs7O2tCQUprQkQsYyIsImZpbGUiOiJIYXNPbmVSZWxhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBIYXNNYW55UmVsYXRpb24gZnJvbSAnLi4vaGFzTWFueS9IYXNNYW55UmVsYXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIYXNPbmVSZWxhdGlvbiBleHRlbmRzIEhhc01hbnlSZWxhdGlvbiB7XG5cbiAgaXNPbmVUb09uZSgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/relations/hasOneThrough/HasOneThroughRelation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _ManyToManyRelation2 = require('../manyToMany/ManyToManyRelation');\n\nvar _ManyToManyRelation3 = _interopRequireDefault(_ManyToManyRelation2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar HasOneThroughRelation = function (_ManyToManyRelation) {\n  (0, _inherits3.default)(HasOneThroughRelation, _ManyToManyRelation);\n\n  function HasOneThroughRelation() {\n    (0, _classCallCheck3.default)(this, HasOneThroughRelation);\n    return (0, _possibleConstructorReturn3.default)(this, _ManyToManyRelation.apply(this, arguments));\n  }\n\n  HasOneThroughRelation.prototype.isOneToOne = function isOneToOne() {\n    return true;\n  };\n\n  return HasOneThroughRelation;\n}(_ManyToManyRelation3.default);\n\nexports.default = HasOneThroughRelation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkhhc09uZVRocm91Z2hSZWxhdGlvbi5qcyJdLCJuYW1lcyI6WyJIYXNPbmVUaHJvdWdoUmVsYXRpb24iLCJpc09uZVRvT25lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7OztJQUVxQkEscUI7Ozs7Ozs7O2tDQUVuQkMsVSx5QkFBYTtBQUNYLFdBQU8sSUFBUDtBQUNELEc7Ozs7O2tCQUprQkQscUIiLCJmaWxlIjoiSGFzT25lVGhyb3VnaFJlbGF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE1hbnlUb01hbnlSZWxhdGlvbiBmcm9tICcuLi9tYW55VG9NYW55L01hbnlUb01hbnlSZWxhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhhc09uZVRocm91Z2hSZWxhdGlvbiBleHRlbmRzIE1hbnlUb01hbnlSZWxhdGlvbiB7XG5cbiAgaXNPbmVUb09uZSgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/InstanceFindOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _FindOperation2 = require('./FindOperation');\n\nvar _FindOperation3 = _interopRequireDefault(_FindOperation2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InstanceFindOperation = function (_FindOperation) {\n  (0, _inherits3.default)(InstanceFindOperation, _FindOperation);\n\n  function InstanceFindOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, InstanceFindOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _FindOperation.call(this, name, opt));\n\n    _this.instance = opt.instance;\n    return _this;\n  }\n\n  InstanceFindOperation.prototype.onBeforeBuild = function onBeforeBuild(builder) {\n    builder.whereComposite(builder.modelClass().getFullIdColumn(), this.instance.$id()).first();\n  };\n\n  return InstanceFindOperation;\n}(_FindOperation3.default);\n\nexports.default = InstanceFindOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkluc3RhbmNlRmluZE9wZXJhdGlvbi5qcyJdLCJuYW1lcyI6WyJJbnN0YW5jZUZpbmRPcGVyYXRpb24iLCJuYW1lIiwib3B0IiwiaW5zdGFuY2UiLCJvbkJlZm9yZUJ1aWxkIiwiYnVpbGRlciIsIndoZXJlQ29tcG9zaXRlIiwibW9kZWxDbGFzcyIsImdldEZ1bGxJZENvbHVtbiIsIiRpZCIsImZpcnN0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7OztJQUVxQkEscUI7OztBQUVuQixpQ0FBWUMsSUFBWixFQUFrQkMsR0FBbEIsRUFBdUI7QUFBQTs7QUFBQSwrREFDckIsMEJBQU1ELElBQU4sRUFBWUMsR0FBWixDQURxQjs7QUFFckIsVUFBS0MsUUFBTCxHQUFnQkQsSUFBSUMsUUFBcEI7QUFGcUI7QUFHdEI7O2tDQUVEQyxhLDBCQUFjQyxPLEVBQVM7QUFDckJBLFlBQVFDLGNBQVIsQ0FBdUJELFFBQVFFLFVBQVIsR0FBcUJDLGVBQXJCLEVBQXZCLEVBQStELEtBQUtMLFFBQUwsQ0FBY00sR0FBZCxFQUEvRCxFQUFvRkMsS0FBcEY7QUFDRCxHOzs7OztrQkFUa0JWLHFCIiwiZmlsZSI6Ikluc3RhbmNlRmluZE9wZXJhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBGaW5kT3BlcmF0aW9uIGZyb20gJy4vRmluZE9wZXJhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEluc3RhbmNlRmluZE9wZXJhdGlvbiBleHRlbmRzIEZpbmRPcGVyYXRpb24ge1xuXG4gIGNvbnN0cnVjdG9yKG5hbWUsIG9wdCkge1xuICAgIHN1cGVyKG5hbWUsIG9wdCk7XG4gICAgdGhpcy5pbnN0YW5jZSA9IG9wdC5pbnN0YW5jZTtcbiAgfVxuXG4gIG9uQmVmb3JlQnVpbGQoYnVpbGRlcikge1xuICAgIGJ1aWxkZXIud2hlcmVDb21wb3NpdGUoYnVpbGRlci5tb2RlbENsYXNzKCkuZ2V0RnVsbElkQ29sdW1uKCksIHRoaXMuaW5zdGFuY2UuJGlkKCkpLmZpcnN0KClcbiAgfVxufSJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/InstanceInsertOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _InsertOperation2 = require('./InsertOperation');\n\nvar _InsertOperation3 = _interopRequireDefault(_InsertOperation2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InstanceInsertOperation = function (_InsertOperation) {\n  (0, _inherits3.default)(InstanceInsertOperation, _InsertOperation);\n\n  function InstanceInsertOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, InstanceInsertOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _InsertOperation.call(this, name, opt));\n\n    _this.instance = opt.instance;\n    return _this;\n  }\n\n  InstanceInsertOperation.prototype.call = function call(builder, args) {\n    this.isArray = false;\n    this.models = [this.instance];\n    return true;\n  };\n\n  return InstanceInsertOperation;\n}(_InsertOperation3.default);\n\nexports.default = InstanceInsertOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkluc3RhbmNlSW5zZXJ0T3BlcmF0aW9uLmpzIl0sIm5hbWVzIjpbIkluc3RhbmNlSW5zZXJ0T3BlcmF0aW9uIiwibmFtZSIsIm9wdCIsImluc3RhbmNlIiwiY2FsbCIsImJ1aWxkZXIiLCJhcmdzIiwiaXNBcnJheSIsIm1vZGVscyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7SUFFcUJBLHVCOzs7QUFFbkIsbUNBQVlDLElBQVosRUFBa0JDLEdBQWxCLEVBQXVCO0FBQUE7O0FBQUEsK0RBQ3JCLDRCQUFNRCxJQUFOLEVBQVlDLEdBQVosQ0FEcUI7O0FBRXJCLFVBQUtDLFFBQUwsR0FBZ0JELElBQUlDLFFBQXBCO0FBRnFCO0FBR3RCOztvQ0FFREMsSSxpQkFBS0MsTyxFQUFTQyxJLEVBQU07QUFDbEIsU0FBS0MsT0FBTCxHQUFlLEtBQWY7QUFDQSxTQUFLQyxNQUFMLEdBQWMsQ0FBQyxLQUFLTCxRQUFOLENBQWQ7QUFDQSxXQUFPLElBQVA7QUFDRCxHOzs7OztrQkFYa0JILHVCIiwiZmlsZSI6Ikluc3RhbmNlSW5zZXJ0T3BlcmF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEluc2VydE9wZXJhdGlvbiBmcm9tICcuL0luc2VydE9wZXJhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEluc3RhbmNlSW5zZXJ0T3BlcmF0aW9uIGV4dGVuZHMgSW5zZXJ0T3BlcmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcihuYW1lLCBvcHQpIHtcbiAgICBzdXBlcihuYW1lLCBvcHQpO1xuICAgIHRoaXMuaW5zdGFuY2UgPSBvcHQuaW5zdGFuY2U7XG4gIH1cblxuICBjYWxsKGJ1aWxkZXIsIGFyZ3MpIHtcbiAgICB0aGlzLmlzQXJyYXkgPSBmYWxzZTtcbiAgICB0aGlzLm1vZGVscyA9IFt0aGlzLmluc3RhbmNlXTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/InstanceUpdateOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _UpdateOperation2 = require('./UpdateOperation');\n\nvar _UpdateOperation3 = _interopRequireDefault(_UpdateOperation2);\n\nvar _promiseUtils = require('../../utils/promiseUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InstanceUpdateOperation = function (_UpdateOperation) {\n  (0, _inherits3.default)(InstanceUpdateOperation, _UpdateOperation);\n\n  function InstanceUpdateOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, InstanceUpdateOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _UpdateOperation.call(this, name, opt));\n\n    _this.instance = opt.instance;\n    _this.modelOptions.old = opt.instance;\n    return _this;\n  }\n\n  InstanceUpdateOperation.prototype.call = function call(builder, args) {\n    var retVal = _UpdateOperation.prototype.call.call(this, builder, args);\n\n    if (!this.model) {\n      this.model = this.instance;\n    }\n\n    return retVal;\n  };\n\n  InstanceUpdateOperation.prototype.onBeforeBuild = function onBeforeBuild(builder) {\n    _UpdateOperation.prototype.onBeforeBuild.call(this, builder);\n    builder.whereComposite(builder.modelClass().getFullIdColumn(), this.instance.$id());\n  };\n\n  InstanceUpdateOperation.prototype.onAfterInternal = function onAfterInternal(builder, numUpdated) {\n    var _this2 = this;\n\n    var maybePromise = _UpdateOperation.prototype.onAfterInternal.call(this, builder, numUpdated);\n    return (0, _promiseUtils.after)(maybePromise, function (result) {\n      _this2.instance.$set(_this2.model);\n      return result;\n    });\n  };\n\n  return InstanceUpdateOperation;\n}(_UpdateOperation3.default);\n\nexports.default = InstanceUpdateOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkluc3RhbmNlVXBkYXRlT3BlcmF0aW9uLmpzIl0sIm5hbWVzIjpbIkluc3RhbmNlVXBkYXRlT3BlcmF0aW9uIiwibmFtZSIsIm9wdCIsImluc3RhbmNlIiwibW9kZWxPcHRpb25zIiwib2xkIiwiY2FsbCIsImJ1aWxkZXIiLCJhcmdzIiwicmV0VmFsIiwibW9kZWwiLCJvbkJlZm9yZUJ1aWxkIiwid2hlcmVDb21wb3NpdGUiLCJtb2RlbENsYXNzIiwiZ2V0RnVsbElkQ29sdW1uIiwiJGlkIiwib25BZnRlckludGVybmFsIiwibnVtVXBkYXRlZCIsIm1heWJlUHJvbWlzZSIsIiRzZXQiLCJyZXN1bHQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0lBRXFCQSx1Qjs7O0FBRW5CLG1DQUFZQyxJQUFaLEVBQWtCQyxHQUFsQixFQUF1QjtBQUFBOztBQUFBLCtEQUNyQiw0QkFBTUQsSUFBTixFQUFZQyxHQUFaLENBRHFCOztBQUdyQixVQUFLQyxRQUFMLEdBQWdCRCxJQUFJQyxRQUFwQjtBQUNBLFVBQUtDLFlBQUwsQ0FBa0JDLEdBQWxCLEdBQXdCSCxJQUFJQyxRQUE1QjtBQUpxQjtBQUt0Qjs7b0NBRURHLEksaUJBQUtDLE8sRUFBU0MsSSxFQUFNO0FBQ2xCLFFBQU1DLFNBQVMsMkJBQU1ILElBQU4sWUFBV0MsT0FBWCxFQUFvQkMsSUFBcEIsQ0FBZjs7QUFFQSxRQUFJLENBQUMsS0FBS0UsS0FBVixFQUFpQjtBQUNmLFdBQUtBLEtBQUwsR0FBYSxLQUFLUCxRQUFsQjtBQUNEOztBQUVELFdBQU9NLE1BQVA7QUFDRCxHOztvQ0FFREUsYSwwQkFBY0osTyxFQUFTO0FBQ3JCLCtCQUFNSSxhQUFOLFlBQW9CSixPQUFwQjtBQUNBQSxZQUFRSyxjQUFSLENBQXVCTCxRQUFRTSxVQUFSLEdBQXFCQyxlQUFyQixFQUF2QixFQUErRCxLQUFLWCxRQUFMLENBQWNZLEdBQWQsRUFBL0Q7QUFDRCxHOztvQ0FFREMsZSw0QkFBZ0JULE8sRUFBU1UsVSxFQUFZO0FBQUE7O0FBQ25DLFFBQU1DLGVBQWUsMkJBQU1GLGVBQU4sWUFBc0JULE9BQXRCLEVBQStCVSxVQUEvQixDQUFyQjtBQUNBLFdBQU8seUJBQU1DLFlBQU4sRUFBb0Isa0JBQVU7QUFDbkMsYUFBS2YsUUFBTCxDQUFjZ0IsSUFBZCxDQUFtQixPQUFLVCxLQUF4QjtBQUNBLGFBQU9VLE1BQVA7QUFDRCxLQUhNLENBQVA7QUFJRCxHOzs7OztrQkE5QmtCcEIsdUIiLCJmaWxlIjoiSW5zdGFuY2VVcGRhdGVPcGVyYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXBkYXRlT3BlcmF0aW9uIGZyb20gJy4vVXBkYXRlT3BlcmF0aW9uJztcbmltcG9ydCB7YWZ0ZXJ9IGZyb20gJy4uLy4uL3V0aWxzL3Byb21pc2VVdGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEluc3RhbmNlVXBkYXRlT3BlcmF0aW9uIGV4dGVuZHMgVXBkYXRlT3BlcmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcihuYW1lLCBvcHQpIHtcbiAgICBzdXBlcihuYW1lLCBvcHQpO1xuXG4gICAgdGhpcy5pbnN0YW5jZSA9IG9wdC5pbnN0YW5jZTtcbiAgICB0aGlzLm1vZGVsT3B0aW9ucy5vbGQgPSBvcHQuaW5zdGFuY2U7XG4gIH1cblxuICBjYWxsKGJ1aWxkZXIsIGFyZ3MpIHtcbiAgICBjb25zdCByZXRWYWwgPSBzdXBlci5jYWxsKGJ1aWxkZXIsIGFyZ3MpO1xuXG4gICAgaWYgKCF0aGlzLm1vZGVsKSB7XG4gICAgICB0aGlzLm1vZGVsID0gdGhpcy5pbnN0YW5jZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0VmFsO1xuICB9XG5cbiAgb25CZWZvcmVCdWlsZChidWlsZGVyKSB7XG4gICAgc3VwZXIub25CZWZvcmVCdWlsZChidWlsZGVyKTtcbiAgICBidWlsZGVyLndoZXJlQ29tcG9zaXRlKGJ1aWxkZXIubW9kZWxDbGFzcygpLmdldEZ1bGxJZENvbHVtbigpLCB0aGlzLmluc3RhbmNlLiRpZCgpKTtcbiAgfVxuXG4gIG9uQWZ0ZXJJbnRlcm5hbChidWlsZGVyLCBudW1VcGRhdGVkKSB7XG4gICAgY29uc3QgbWF5YmVQcm9taXNlID0gc3VwZXIub25BZnRlckludGVybmFsKGJ1aWxkZXIsIG51bVVwZGF0ZWQpO1xuICAgIHJldHVybiBhZnRlcihtYXliZVByb21pc2UsIHJlc3VsdCA9PiB7XG4gICAgICB0aGlzLmluc3RhbmNlLiRzZXQodGhpcy5tb2RlbCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuICB9XG59Il19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/InstanceDeleteOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _DeleteOperation2 = require('./DeleteOperation');\n\nvar _DeleteOperation3 = _interopRequireDefault(_DeleteOperation2);\n\nvar _promiseUtils = require('../../utils/promiseUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InstanceDeleteOperation = function (_DeleteOperation) {\n  (0, _inherits3.default)(InstanceDeleteOperation, _DeleteOperation);\n\n  function InstanceDeleteOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, InstanceDeleteOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _DeleteOperation.call(this, name, opt));\n\n    _this.instance = opt.instance;\n    return _this;\n  }\n\n  InstanceDeleteOperation.prototype.onBeforeInternal = function onBeforeInternal(builder, result) {\n    var maybePromise = this.instance.$beforeDelete(builder.context());\n    return (0, _promiseUtils.afterReturn)(maybePromise, result);\n  };\n\n  InstanceDeleteOperation.prototype.onBeforeBuild = function onBeforeBuild(builder) {\n    _DeleteOperation.prototype.onBeforeBuild.call(this, builder);\n    builder.whereComposite(builder.modelClass().getFullIdColumn(), this.instance.$id());\n  };\n\n  InstanceDeleteOperation.prototype.onAfterInternal = function onAfterInternal(builder, result) {\n    var maybePromise = this.instance.$afterDelete(builder.context());\n    return (0, _promiseUtils.afterReturn)(maybePromise, result);\n  };\n\n  return InstanceDeleteOperation;\n}(_DeleteOperation3.default);\n\nexports.default = InstanceDeleteOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkluc3RhbmNlRGVsZXRlT3BlcmF0aW9uLmpzIl0sIm5hbWVzIjpbIkluc3RhbmNlRGVsZXRlT3BlcmF0aW9uIiwibmFtZSIsIm9wdCIsImluc3RhbmNlIiwib25CZWZvcmVJbnRlcm5hbCIsImJ1aWxkZXIiLCJyZXN1bHQiLCJtYXliZVByb21pc2UiLCIkYmVmb3JlRGVsZXRlIiwiY29udGV4dCIsIm9uQmVmb3JlQnVpbGQiLCJ3aGVyZUNvbXBvc2l0ZSIsIm1vZGVsQ2xhc3MiLCJnZXRGdWxsSWRDb2x1bW4iLCIkaWQiLCJvbkFmdGVySW50ZXJuYWwiLCIkYWZ0ZXJEZWxldGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0lBRXFCQSx1Qjs7O0FBRW5CLG1DQUFZQyxJQUFaLEVBQWtCQyxHQUFsQixFQUF1QjtBQUFBOztBQUFBLCtEQUNyQiw0QkFBTUQsSUFBTixFQUFZQyxHQUFaLENBRHFCOztBQUVyQixVQUFLQyxRQUFMLEdBQWdCRCxJQUFJQyxRQUFwQjtBQUZxQjtBQUd0Qjs7b0NBRURDLGdCLDZCQUFpQkMsTyxFQUFTQyxNLEVBQVE7QUFDaEMsUUFBTUMsZUFBZSxLQUFLSixRQUFMLENBQWNLLGFBQWQsQ0FBNEJILFFBQVFJLE9BQVIsRUFBNUIsQ0FBckI7QUFDQSxXQUFPLCtCQUFZRixZQUFaLEVBQTBCRCxNQUExQixDQUFQO0FBQ0QsRzs7b0NBRURJLGEsMEJBQWNMLE8sRUFBUztBQUNyQiwrQkFBTUssYUFBTixZQUFvQkwsT0FBcEI7QUFDQUEsWUFBUU0sY0FBUixDQUF1Qk4sUUFBUU8sVUFBUixHQUFxQkMsZUFBckIsRUFBdkIsRUFBK0QsS0FBS1YsUUFBTCxDQUFjVyxHQUFkLEVBQS9EO0FBQ0QsRzs7b0NBRURDLGUsNEJBQWdCVixPLEVBQVNDLE0sRUFBUTtBQUMvQixRQUFNQyxlQUFlLEtBQUtKLFFBQUwsQ0FBY2EsWUFBZCxDQUEyQlgsUUFBUUksT0FBUixFQUEzQixDQUFyQjtBQUNBLFdBQU8sK0JBQVlGLFlBQVosRUFBMEJELE1BQTFCLENBQVA7QUFDRCxHOzs7OztrQkFwQmtCTix1QiIsImZpbGUiOiJJbnN0YW5jZURlbGV0ZU9wZXJhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEZWxldGVPcGVyYXRpb24gZnJvbSAnLi9EZWxldGVPcGVyYXRpb24nO1xuaW1wb3J0IHthZnRlclJldHVybn0gZnJvbSAnLi4vLi4vdXRpbHMvcHJvbWlzZVV0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5zdGFuY2VEZWxldGVPcGVyYXRpb24gZXh0ZW5kcyBEZWxldGVPcGVyYXRpb24ge1xuXG4gIGNvbnN0cnVjdG9yKG5hbWUsIG9wdCkge1xuICAgIHN1cGVyKG5hbWUsIG9wdCk7XG4gICAgdGhpcy5pbnN0YW5jZSA9IG9wdC5pbnN0YW5jZTtcbiAgfVxuXG4gIG9uQmVmb3JlSW50ZXJuYWwoYnVpbGRlciwgcmVzdWx0KSB7XG4gICAgY29uc3QgbWF5YmVQcm9taXNlID0gdGhpcy5pbnN0YW5jZS4kYmVmb3JlRGVsZXRlKGJ1aWxkZXIuY29udGV4dCgpKTtcbiAgICByZXR1cm4gYWZ0ZXJSZXR1cm4obWF5YmVQcm9taXNlLCByZXN1bHQpO1xuICB9XG5cbiAgb25CZWZvcmVCdWlsZChidWlsZGVyKSB7XG4gICAgc3VwZXIub25CZWZvcmVCdWlsZChidWlsZGVyKTtcbiAgICBidWlsZGVyLndoZXJlQ29tcG9zaXRlKGJ1aWxkZXIubW9kZWxDbGFzcygpLmdldEZ1bGxJZENvbHVtbigpLCB0aGlzLmluc3RhbmNlLiRpZCgpKTtcbiAgfVxuXG4gIG9uQWZ0ZXJJbnRlcm5hbChidWlsZGVyLCByZXN1bHQpIHtcbiAgICBjb25zdCBtYXliZVByb21pc2UgPSB0aGlzLmluc3RhbmNlLiRhZnRlckRlbGV0ZShidWlsZGVyLmNvbnRleHQoKSk7XG4gICAgcmV0dXJuIGFmdGVyUmV0dXJuKG1heWJlUHJvbWlzZSwgcmVzdWx0KTtcbiAgfVxufSJdfQ==","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/eager/JoinEagerOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _EagerOperation2 = require('./EagerOperation');\n\nvar _EagerOperation3 = _interopRequireDefault(_EagerOperation2);\n\nvar _RelationJoinBuilder = require('./RelationJoinBuilder');\n\nvar _RelationJoinBuilder2 = _interopRequireDefault(_RelationJoinBuilder);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar JoinEagerOperation = function (_EagerOperation) {\n  (0, _inherits3.default)(JoinEagerOperation, _EagerOperation);\n\n  function JoinEagerOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, JoinEagerOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _EagerOperation.call(this, name, opt));\n\n    _this.joinBuilder = null;\n    return _this;\n  }\n\n  JoinEagerOperation.prototype.clone = function clone() {\n    var _EagerOperation$proto;\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var copy = (_EagerOperation$proto = _EagerOperation.prototype.clone).call.apply(_EagerOperation$proto, [this].concat(args));\n\n    if (this.joinBuilder) {\n      copy.joinBuilder = this.joinBuilder.clone({\n        opt: copy.opt,\n        expression: copy.expression\n      });\n    }\n\n    return copy;\n  };\n\n  JoinEagerOperation.prototype.call = function call(builder, args) {\n    var ret = _EagerOperation.prototype.call.call(this, builder, args);\n    var modelClass = builder.modelClass();\n\n    if (ret) {\n      this.joinBuilder = new _RelationJoinBuilder2.default({\n        modelClass: modelClass,\n        expression: this.expression,\n        opt: this.opt\n      });\n    }\n\n    return ret;\n  };\n\n  JoinEagerOperation.prototype.onBeforeInternal = function onBeforeInternal(builder) {\n    return this.joinBuilder.fetchColumnInfo(builder.knex());\n  };\n\n  JoinEagerOperation.prototype.onBeforeBuild = function onBeforeBuild(builder) {\n    this.joinBuilder.build(builder);\n  };\n\n  JoinEagerOperation.prototype.onRawResult = function onRawResult(builder, rows) {\n    return this.joinBuilder.rowsToTree(rows);\n  };\n\n  return JoinEagerOperation;\n}(_EagerOperation3.default);\n\nexports.default = JoinEagerOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkpvaW5FYWdlck9wZXJhdGlvbi5qcyJdLCJuYW1lcyI6WyJKb2luRWFnZXJPcGVyYXRpb24iLCJuYW1lIiwib3B0Iiwiam9pbkJ1aWxkZXIiLCJjbG9uZSIsImFyZ3MiLCJjb3B5IiwiZXhwcmVzc2lvbiIsImNhbGwiLCJidWlsZGVyIiwicmV0IiwibW9kZWxDbGFzcyIsIm9uQmVmb3JlSW50ZXJuYWwiLCJmZXRjaENvbHVtbkluZm8iLCJrbmV4Iiwib25CZWZvcmVCdWlsZCIsImJ1aWxkIiwib25SYXdSZXN1bHQiLCJyb3dzIiwicm93c1RvVHJlZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7OztJQUVxQkEsa0I7OztBQUVuQiw4QkFBWUMsSUFBWixFQUFrQkMsR0FBbEIsRUFBdUI7QUFBQTs7QUFBQSwrREFDckIsMkJBQU1ELElBQU4sRUFBWUMsR0FBWixDQURxQjs7QUFFckIsVUFBS0MsV0FBTCxHQUFtQixJQUFuQjtBQUZxQjtBQUd0Qjs7K0JBRURDLEssb0JBQWU7QUFBQTs7QUFBQSxzQ0FBTkMsSUFBTTtBQUFOQSxVQUFNO0FBQUE7O0FBQ2IsUUFBTUMsT0FBTyxtREFBTUYsS0FBTixrREFBZUMsSUFBZixFQUFiOztBQUVBLFFBQUksS0FBS0YsV0FBVCxFQUFzQjtBQUNwQkcsV0FBS0gsV0FBTCxHQUFtQixLQUFLQSxXQUFMLENBQWlCQyxLQUFqQixDQUF1QjtBQUN4Q0YsYUFBS0ksS0FBS0osR0FEOEI7QUFFeENLLG9CQUFZRCxLQUFLQztBQUZ1QixPQUF2QixDQUFuQjtBQUlEOztBQUVELFdBQU9ELElBQVA7QUFDRCxHOzsrQkFFREUsSSxpQkFBS0MsTyxFQUFTSixJLEVBQU07QUFDbEIsUUFBTUssTUFBTSwwQkFBTUYsSUFBTixZQUFXQyxPQUFYLEVBQW9CSixJQUFwQixDQUFaO0FBQ0EsUUFBTU0sYUFBYUYsUUFBUUUsVUFBUixFQUFuQjs7QUFFQSxRQUFJRCxHQUFKLEVBQVM7QUFDUCxXQUFLUCxXQUFMLEdBQW1CLGtDQUF3QjtBQUN6Q1Esb0JBQVlBLFVBRDZCO0FBRXpDSixvQkFBWSxLQUFLQSxVQUZ3QjtBQUd6Q0wsYUFBSyxLQUFLQTtBQUgrQixPQUF4QixDQUFuQjtBQUtEOztBQUVELFdBQU9RLEdBQVA7QUFDRCxHOzsrQkFFREUsZ0IsNkJBQWlCSCxPLEVBQVM7QUFDeEIsV0FBTyxLQUFLTixXQUFMLENBQWlCVSxlQUFqQixDQUFpQ0osUUFBUUssSUFBUixFQUFqQyxDQUFQO0FBQ0QsRzs7K0JBRURDLGEsMEJBQWNOLE8sRUFBUztBQUNyQixTQUFLTixXQUFMLENBQWlCYSxLQUFqQixDQUF1QlAsT0FBdkI7QUFDRCxHOzsrQkFFRFEsVyx3QkFBWVIsTyxFQUFTUyxJLEVBQU07QUFDekIsV0FBTyxLQUFLZixXQUFMLENBQWlCZ0IsVUFBakIsQ0FBNEJELElBQTVCLENBQVA7QUFDRCxHOzs7OztrQkE3Q2tCbEIsa0IiLCJmaWxlIjoiSm9pbkVhZ2VyT3BlcmF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEVhZ2VyT3BlcmF0aW9uIGZyb20gJy4vRWFnZXJPcGVyYXRpb24nO1xuaW1wb3J0IFJlbGF0aW9uSm9pbkJ1aWxkZXIgZnJvbSAnLi9SZWxhdGlvbkpvaW5CdWlsZGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSm9pbkVhZ2VyT3BlcmF0aW9uIGV4dGVuZHMgRWFnZXJPcGVyYXRpb24ge1xuXG4gIGNvbnN0cnVjdG9yKG5hbWUsIG9wdCkge1xuICAgIHN1cGVyKG5hbWUsIG9wdCk7XG4gICAgdGhpcy5qb2luQnVpbGRlciA9IG51bGw7XG4gIH1cblxuICBjbG9uZSguLi5hcmdzKSB7XG4gICAgY29uc3QgY29weSA9IHN1cGVyLmNsb25lKC4uLmFyZ3MpO1xuXG4gICAgaWYgKHRoaXMuam9pbkJ1aWxkZXIpIHtcbiAgICAgIGNvcHkuam9pbkJ1aWxkZXIgPSB0aGlzLmpvaW5CdWlsZGVyLmNsb25lKHtcbiAgICAgICAgb3B0OiBjb3B5Lm9wdCxcbiAgICAgICAgZXhwcmVzc2lvbjogY29weS5leHByZXNzaW9uXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29weTtcbiAgfVxuXG4gIGNhbGwoYnVpbGRlciwgYXJncykge1xuICAgIGNvbnN0IHJldCA9IHN1cGVyLmNhbGwoYnVpbGRlciwgYXJncyk7XG4gICAgY29uc3QgbW9kZWxDbGFzcyA9IGJ1aWxkZXIubW9kZWxDbGFzcygpO1xuXG4gICAgaWYgKHJldCkge1xuICAgICAgdGhpcy5qb2luQnVpbGRlciA9IG5ldyBSZWxhdGlvbkpvaW5CdWlsZGVyKHtcbiAgICAgICAgbW9kZWxDbGFzczogbW9kZWxDbGFzcyxcbiAgICAgICAgZXhwcmVzc2lvbjogdGhpcy5leHByZXNzaW9uLFxuICAgICAgICBvcHQ6IHRoaXMub3B0XG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICBvbkJlZm9yZUludGVybmFsKGJ1aWxkZXIpIHtcbiAgICByZXR1cm4gdGhpcy5qb2luQnVpbGRlci5mZXRjaENvbHVtbkluZm8oYnVpbGRlci5rbmV4KCkpO1xuICB9XG5cbiAgb25CZWZvcmVCdWlsZChidWlsZGVyKSB7XG4gICAgdGhpcy5qb2luQnVpbGRlci5idWlsZChidWlsZGVyKTtcbiAgfVxuXG4gIG9uUmF3UmVzdWx0KGJ1aWxkZXIsIHJvd3MpIHtcbiAgICByZXR1cm4gdGhpcy5qb2luQnVpbGRlci5yb3dzVG9UcmVlKHJvd3MpO1xuICB9XG59Il19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/operations/eager/WhereInEagerOperation.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _chunk = require('lodash/chunk');\n\nvar _chunk2 = _interopRequireDefault(_chunk);\n\nvar _flatten = require('lodash/flatten');\n\nvar _flatten2 = _interopRequireDefault(_flatten);\n\nvar _bluebird = require('bluebird');\n\nvar _bluebird2 = _interopRequireDefault(_bluebird);\n\nvar _ValidationError = require('../../../model/ValidationError');\n\nvar _ValidationError2 = _interopRequireDefault(_ValidationError);\n\nvar _EagerOperation2 = require('./EagerOperation');\n\nvar _EagerOperation3 = _interopRequireDefault(_EagerOperation2);\n\nvar _knexUtils = require('../../../utils/knexUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar WhereInEagerOperation = function (_EagerOperation) {\n  (0, _inherits3.default)(WhereInEagerOperation, _EagerOperation);\n\n  function WhereInEagerOperation(name, opt) {\n    (0, _classCallCheck3.default)(this, WhereInEagerOperation);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _EagerOperation.call(this, name, opt));\n\n    _this.relationsToFetch = [];\n    _this.omitProps = [];\n    return _this;\n  }\n\n  WhereInEagerOperation.prototype.batchSize = function batchSize(knex) {\n    if ((0, _knexUtils.isMsSql)(knex)) {\n      // On MSSQL the parameter limit is actually 2100, but since I couldn't figure out\n      // if the limit is for all parameters in a query or for individual clauses, we set\n      // the limit to 2000 to leave 100 parameters for where clauses etc.\n      return 2000;\n    } else {\n      // I'm sure there is some kind of limit for other databases too, but let's lower\n      // this if someone ever hits those limits.\n      return 10000;\n    }\n  };\n\n  WhereInEagerOperation.prototype.clone = function clone(props) {\n    var copy = _EagerOperation.prototype.clone.call(this);\n\n    copy.relationsToFetch = this.relationsToFetch.slice();\n    copy.omitProps = this.omitProps.slice();\n\n    return copy;\n  };\n\n  WhereInEagerOperation.prototype.call = function call(builder, args) {\n    var ret = _EagerOperation.prototype.call.call(this, builder, args);\n\n    var modelClass = builder.modelClass();\n    var relations = modelClass.getRelationArray();\n\n    for (var i = 0, l = relations.length; i < l; ++i) {\n      var relation = relations[i];\n      var childExpression = this.expression.childExpression(relation.name);\n\n      if (childExpression) {\n        this.relationsToFetch.push({\n          relation: relation,\n          childExpression: childExpression\n        });\n      }\n    }\n\n    return ret;\n  };\n\n  WhereInEagerOperation.prototype.onBeforeBuild = function onBeforeBuild(builder) {\n    var addedSelects = {};\n\n    for (var i = 0, l = this.relationsToFetch.length; i < l; ++i) {\n      var relation = this.relationsToFetch[i].relation;\n      var _cols = relation.fullOwnerCol();\n\n      for (var c = 0, lc = _cols.length; c < lc; ++c) {\n        var col = _cols[c];\n\n        if (!builder.hasSelection(col) && !addedSelects[col]) {\n          this.omitProps.push(relation.ownerProp[c]);\n          addedSelects[col] = true;\n        }\n      }\n    }\n\n    var cols = (0, _keys2.default)(addedSelects);\n\n    if (cols.length) {\n      builder.select(cols);\n    }\n  };\n\n  WhereInEagerOperation.prototype.onAfterInternal = function onAfterInternal(builder, result) {\n    var _this2 = this;\n\n    var modelClass = builder.modelClass();\n\n    if (!result) {\n      return result;\n    }\n\n    var models = Array.isArray(result) ? result : [result];\n\n    if (!models.length || !(models[0] instanceof modelClass)) {\n      return result;\n    }\n\n    var promises = [];\n\n    this.expression.forEachChild(function (child) {\n      var relation = modelClass.getRelations()[child.name];\n\n      if (!relation) {\n        throw new _ValidationError2.default({ eager: 'unknown relation \"' + child.name + '\" in an eager expression' });\n      }\n    });\n\n    for (var i = 0, l = this.relationsToFetch.length; i < l; ++i) {\n      var relation = this.relationsToFetch[i].relation;\n      var childExpression = this.relationsToFetch[i].childExpression;\n\n      promises.push(this.fetchRelation(builder, models, relation, childExpression));\n    }\n\n    return _bluebird2.default.all(promises).then(function () {\n      if (!_this2.omitProps.length) {\n        return result;\n      }\n\n      for (var _i = 0, _l = result.length; _i < _l; ++_i) {\n        var model = result[_i];\n\n        for (var c = 0, lc = _this2.omitProps.length; c < lc; ++c) {\n          modelClass.omitImpl(model, _this2.omitProps[c]);\n        }\n      }\n\n      return result;\n    });\n  };\n\n  WhereInEagerOperation.prototype.fetchRelation = function fetchRelation(builder, models, relation, childExpression) {\n    var _this3 = this;\n\n    var batchSize = this.batchSize(builder.knex());\n    var modelBatches = (0, _chunk2.default)(models, batchSize);\n\n    return _bluebird2.default.map(modelBatches, function (batch) {\n      return _this3.fetchRelationBatch(builder, batch, relation, childExpression);\n    }).then(_flatten2.default);\n  };\n\n  WhereInEagerOperation.prototype.fetchRelationBatch = function fetchRelationBatch(builder, models, relation, childExpression) {\n    var queryBuilder = relation.ownerModelClass.RelatedQueryBuilder.forClass(relation.relatedModelClass).childQueryOf(builder).eager(childExpression);\n\n    var findOperation = relation.find(queryBuilder, models);\n    findOperation.alwaysReturnArray = true;\n\n    queryBuilder.callQueryBuilderOperation(findOperation, []);\n\n    for (var i = 0, l = childExpression.args.length; i < l; ++i) {\n      var filterName = childExpression.args[i];\n      var filter = childExpression.filters[filterName];\n\n      if (typeof filter !== 'function') {\n        throw new _ValidationError2.default({ eager: 'could not find filter \"' + filterName + '\" for relation \"' + relation.name + '\"' });\n      }\n\n      filter(queryBuilder);\n    }\n\n    return queryBuilder;\n  };\n\n  return WhereInEagerOperation;\n}(_EagerOperation3.default);\n\nexports.default = WhereInEagerOperation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIldoZXJlSW5FYWdlck9wZXJhdGlvbi5qcyJdLCJuYW1lcyI6WyJXaGVyZUluRWFnZXJPcGVyYXRpb24iLCJuYW1lIiwib3B0IiwicmVsYXRpb25zVG9GZXRjaCIsIm9taXRQcm9wcyIsImJhdGNoU2l6ZSIsImtuZXgiLCJjbG9uZSIsInByb3BzIiwiY29weSIsInNsaWNlIiwiY2FsbCIsImJ1aWxkZXIiLCJhcmdzIiwicmV0IiwibW9kZWxDbGFzcyIsInJlbGF0aW9ucyIsImdldFJlbGF0aW9uQXJyYXkiLCJpIiwibCIsImxlbmd0aCIsInJlbGF0aW9uIiwiY2hpbGRFeHByZXNzaW9uIiwiZXhwcmVzc2lvbiIsInB1c2giLCJvbkJlZm9yZUJ1aWxkIiwiYWRkZWRTZWxlY3RzIiwiY29scyIsImZ1bGxPd25lckNvbCIsImMiLCJsYyIsImNvbCIsImhhc1NlbGVjdGlvbiIsIm93bmVyUHJvcCIsInNlbGVjdCIsIm9uQWZ0ZXJJbnRlcm5hbCIsInJlc3VsdCIsIm1vZGVscyIsIkFycmF5IiwiaXNBcnJheSIsInByb21pc2VzIiwiZm9yRWFjaENoaWxkIiwiZ2V0UmVsYXRpb25zIiwiY2hpbGQiLCJlYWdlciIsImZldGNoUmVsYXRpb24iLCJhbGwiLCJ0aGVuIiwibW9kZWwiLCJvbWl0SW1wbCIsIm1vZGVsQmF0Y2hlcyIsIm1hcCIsImZldGNoUmVsYXRpb25CYXRjaCIsImJhdGNoIiwicXVlcnlCdWlsZGVyIiwib3duZXJNb2RlbENsYXNzIiwiUmVsYXRlZFF1ZXJ5QnVpbGRlciIsImZvckNsYXNzIiwicmVsYXRlZE1vZGVsQ2xhc3MiLCJjaGlsZFF1ZXJ5T2YiLCJmaW5kT3BlcmF0aW9uIiwiZmluZCIsImFsd2F5c1JldHVybkFycmF5IiwiY2FsbFF1ZXJ5QnVpbGRlck9wZXJhdGlvbiIsImZpbHRlck5hbWUiLCJmaWx0ZXIiLCJmaWx0ZXJzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztJQUVxQkEscUI7OztBQUVuQixpQ0FBWUMsSUFBWixFQUFrQkMsR0FBbEIsRUFBdUI7QUFBQTs7QUFBQSwrREFDckIsMkJBQU1ELElBQU4sRUFBWUMsR0FBWixDQURxQjs7QUFHckIsVUFBS0MsZ0JBQUwsR0FBd0IsRUFBeEI7QUFDQSxVQUFLQyxTQUFMLEdBQWlCLEVBQWpCO0FBSnFCO0FBS3RCOztrQ0FFREMsUyxzQkFBVUMsSSxFQUFNO0FBQ2QsUUFBSSx3QkFBUUEsSUFBUixDQUFKLEVBQW1CO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGFBQU8sSUFBUDtBQUNELEtBTEQsTUFLTztBQUNMO0FBQ0E7QUFDQSxhQUFPLEtBQVA7QUFDRDtBQUNGLEc7O2tDQUVEQyxLLGtCQUFNQyxLLEVBQU87QUFDWCxRQUFNQyxPQUFPLDBCQUFNRixLQUFOLFdBQWI7O0FBRUFFLFNBQUtOLGdCQUFMLEdBQXdCLEtBQUtBLGdCQUFMLENBQXNCTyxLQUF0QixFQUF4QjtBQUNBRCxTQUFLTCxTQUFMLEdBQWlCLEtBQUtBLFNBQUwsQ0FBZU0sS0FBZixFQUFqQjs7QUFFQSxXQUFPRCxJQUFQO0FBQ0QsRzs7a0NBRURFLEksaUJBQUtDLE8sRUFBU0MsSSxFQUFNO0FBQ2xCLFFBQU1DLE1BQU0sMEJBQU1ILElBQU4sWUFBV0MsT0FBWCxFQUFvQkMsSUFBcEIsQ0FBWjs7QUFFQSxRQUFNRSxhQUFhSCxRQUFRRyxVQUFSLEVBQW5CO0FBQ0EsUUFBTUMsWUFBWUQsV0FBV0UsZ0JBQVgsRUFBbEI7O0FBRUEsU0FBSyxJQUFJQyxJQUFJLENBQVIsRUFBV0MsSUFBSUgsVUFBVUksTUFBOUIsRUFBc0NGLElBQUlDLENBQTFDLEVBQTZDLEVBQUVELENBQS9DLEVBQWtEO0FBQ2hELFVBQU1HLFdBQVdMLFVBQVVFLENBQVYsQ0FBakI7QUFDQSxVQUFNSSxrQkFBa0IsS0FBS0MsVUFBTCxDQUFnQkQsZUFBaEIsQ0FBZ0NELFNBQVNwQixJQUF6QyxDQUF4Qjs7QUFFQSxVQUFJcUIsZUFBSixFQUFxQjtBQUNuQixhQUFLbkIsZ0JBQUwsQ0FBc0JxQixJQUF0QixDQUEyQjtBQUN6QkgsNEJBRHlCO0FBRXpCQztBQUZ5QixTQUEzQjtBQUlEO0FBQ0Y7O0FBRUQsV0FBT1IsR0FBUDtBQUNELEc7O2tDQUVEVyxhLDBCQUFjYixPLEVBQVM7QUFDckIsUUFBTWMsZUFBZSxFQUFyQjs7QUFFQSxTQUFLLElBQUlSLElBQUksQ0FBUixFQUFXQyxJQUFJLEtBQUtoQixnQkFBTCxDQUFzQmlCLE1BQTFDLEVBQWtERixJQUFJQyxDQUF0RCxFQUF5RCxFQUFFRCxDQUEzRCxFQUE4RDtBQUM1RCxVQUFNRyxXQUFXLEtBQUtsQixnQkFBTCxDQUFzQmUsQ0FBdEIsRUFBeUJHLFFBQTFDO0FBQ0EsVUFBTU0sUUFBT04sU0FBU08sWUFBVCxFQUFiOztBQUVBLFdBQUssSUFBSUMsSUFBSSxDQUFSLEVBQVdDLEtBQUtILE1BQUtQLE1BQTFCLEVBQWtDUyxJQUFJQyxFQUF0QyxFQUEwQyxFQUFFRCxDQUE1QyxFQUErQztBQUM3QyxZQUFNRSxNQUFNSixNQUFLRSxDQUFMLENBQVo7O0FBRUEsWUFBSSxDQUFDakIsUUFBUW9CLFlBQVIsQ0FBcUJELEdBQXJCLENBQUQsSUFBOEIsQ0FBQ0wsYUFBYUssR0FBYixDQUFuQyxFQUFzRDtBQUNwRCxlQUFLM0IsU0FBTCxDQUFlb0IsSUFBZixDQUFvQkgsU0FBU1ksU0FBVCxDQUFtQkosQ0FBbkIsQ0FBcEI7QUFDQUgsdUJBQWFLLEdBQWIsSUFBb0IsSUFBcEI7QUFDRDtBQUNGO0FBQ0Y7O0FBRUQsUUFBTUosT0FBTyxvQkFBWUQsWUFBWixDQUFiOztBQUVBLFFBQUlDLEtBQUtQLE1BQVQsRUFBaUI7QUFDZlIsY0FBUXNCLE1BQVIsQ0FBZVAsSUFBZjtBQUNEO0FBQ0YsRzs7a0NBRURRLGUsNEJBQWdCdkIsTyxFQUFTd0IsTSxFQUFRO0FBQUE7O0FBQy9CLFFBQU1yQixhQUFhSCxRQUFRRyxVQUFSLEVBQW5COztBQUVBLFFBQUksQ0FBQ3FCLE1BQUwsRUFBYTtBQUNYLGFBQU9BLE1BQVA7QUFDRDs7QUFFRCxRQUFNQyxTQUFTQyxNQUFNQyxPQUFOLENBQWNILE1BQWQsSUFBd0JBLE1BQXhCLEdBQWlDLENBQUNBLE1BQUQsQ0FBaEQ7O0FBRUEsUUFBSSxDQUFDQyxPQUFPakIsTUFBUixJQUFrQixFQUFFaUIsT0FBTyxDQUFQLGFBQXFCdEIsVUFBdkIsQ0FBdEIsRUFBMEQ7QUFDeEQsYUFBT3FCLE1BQVA7QUFDRDs7QUFFRCxRQUFNSSxXQUFXLEVBQWpCOztBQUVBLFNBQUtqQixVQUFMLENBQWdCa0IsWUFBaEIsQ0FBNkIsaUJBQVM7QUFDcEMsVUFBSXBCLFdBQVdOLFdBQVcyQixZQUFYLEdBQTBCQyxNQUFNMUMsSUFBaEMsQ0FBZjs7QUFFQSxVQUFJLENBQUNvQixRQUFMLEVBQWU7QUFDYixjQUFNLDhCQUFvQixFQUFDdUIsOEJBQTRCRCxNQUFNMUMsSUFBbEMsNkJBQUQsRUFBcEIsQ0FBTjtBQUNEO0FBQ0YsS0FORDs7QUFRQSxTQUFLLElBQUlpQixJQUFJLENBQVIsRUFBV0MsSUFBSSxLQUFLaEIsZ0JBQUwsQ0FBc0JpQixNQUExQyxFQUFrREYsSUFBSUMsQ0FBdEQsRUFBeUQsRUFBRUQsQ0FBM0QsRUFBOEQ7QUFDNUQsVUFBTUcsV0FBVyxLQUFLbEIsZ0JBQUwsQ0FBc0JlLENBQXRCLEVBQXlCRyxRQUExQztBQUNBLFVBQU1DLGtCQUFrQixLQUFLbkIsZ0JBQUwsQ0FBc0JlLENBQXRCLEVBQXlCSSxlQUFqRDs7QUFFQWtCLGVBQVNoQixJQUFULENBQWMsS0FBS3FCLGFBQUwsQ0FBbUJqQyxPQUFuQixFQUE0QnlCLE1BQTVCLEVBQW9DaEIsUUFBcEMsRUFBOENDLGVBQTlDLENBQWQ7QUFDRDs7QUFFRCxXQUFPLG1CQUFRd0IsR0FBUixDQUFZTixRQUFaLEVBQXNCTyxJQUF0QixDQUEyQixZQUFNO0FBQ3RDLFVBQUksQ0FBQyxPQUFLM0MsU0FBTCxDQUFlZ0IsTUFBcEIsRUFBNEI7QUFDMUIsZUFBT2dCLE1BQVA7QUFDRDs7QUFFRCxXQUFLLElBQUlsQixLQUFJLENBQVIsRUFBV0MsS0FBSWlCLE9BQU9oQixNQUEzQixFQUFtQ0YsS0FBSUMsRUFBdkMsRUFBMEMsRUFBRUQsRUFBNUMsRUFBK0M7QUFDN0MsWUFBTThCLFFBQVFaLE9BQU9sQixFQUFQLENBQWQ7O0FBRUEsYUFBSyxJQUFJVyxJQUFJLENBQVIsRUFBV0MsS0FBSyxPQUFLMUIsU0FBTCxDQUFlZ0IsTUFBcEMsRUFBNENTLElBQUlDLEVBQWhELEVBQW9ELEVBQUVELENBQXRELEVBQXlEO0FBQ3ZEZCxxQkFBV2tDLFFBQVgsQ0FBb0JELEtBQXBCLEVBQTJCLE9BQUs1QyxTQUFMLENBQWV5QixDQUFmLENBQTNCO0FBQ0Q7QUFDRjs7QUFFRCxhQUFPTyxNQUFQO0FBQ0QsS0FkTSxDQUFQO0FBZUQsRzs7a0NBRURTLGEsMEJBQWNqQyxPLEVBQVN5QixNLEVBQVFoQixRLEVBQVVDLGUsRUFBaUI7QUFBQTs7QUFDeEQsUUFBTWpCLFlBQVksS0FBS0EsU0FBTCxDQUFlTyxRQUFRTixJQUFSLEVBQWYsQ0FBbEI7QUFDQSxRQUFNNEMsZUFBZSxxQkFBTWIsTUFBTixFQUFjaEMsU0FBZCxDQUFyQjs7QUFFQSxXQUFPLG1CQUNKOEMsR0FESSxDQUNBRCxZQURBLEVBQ2M7QUFBQSxhQUFTLE9BQUtFLGtCQUFMLENBQXdCeEMsT0FBeEIsRUFBaUN5QyxLQUFqQyxFQUF3Q2hDLFFBQXhDLEVBQWtEQyxlQUFsRCxDQUFUO0FBQUEsS0FEZCxFQUVKeUIsSUFGSSxtQkFBUDtBQUdELEc7O2tDQUVESyxrQiwrQkFBbUJ4QyxPLEVBQVN5QixNLEVBQVFoQixRLEVBQVVDLGUsRUFBaUI7QUFDN0QsUUFBTWdDLGVBQWVqQyxTQUFTa0MsZUFBVCxDQUF5QkMsbUJBQXpCLENBQ2xCQyxRQURrQixDQUNUcEMsU0FBU3FDLGlCQURBLEVBRWxCQyxZQUZrQixDQUVML0MsT0FGSyxFQUdsQmdDLEtBSGtCLENBR1p0QixlQUhZLENBQXJCOztBQUtBLFFBQU1zQyxnQkFBZ0J2QyxTQUFTd0MsSUFBVCxDQUFjUCxZQUFkLEVBQTRCakIsTUFBNUIsQ0FBdEI7QUFDQXVCLGtCQUFjRSxpQkFBZCxHQUFrQyxJQUFsQzs7QUFFQVIsaUJBQWFTLHlCQUFiLENBQXVDSCxhQUF2QyxFQUFzRCxFQUF0RDs7QUFFQSxTQUFLLElBQUkxQyxJQUFJLENBQVIsRUFBV0MsSUFBSUcsZ0JBQWdCVCxJQUFoQixDQUFxQk8sTUFBekMsRUFBaURGLElBQUlDLENBQXJELEVBQXdELEVBQUVELENBQTFELEVBQTZEO0FBQzNELFVBQU04QyxhQUFhMUMsZ0JBQWdCVCxJQUFoQixDQUFxQkssQ0FBckIsQ0FBbkI7QUFDQSxVQUFNK0MsU0FBUzNDLGdCQUFnQjRDLE9BQWhCLENBQXdCRixVQUF4QixDQUFmOztBQUVBLFVBQUksT0FBT0MsTUFBUCxLQUFrQixVQUF0QixFQUFrQztBQUNoQyxjQUFNLDhCQUFvQixFQUFDckIsbUNBQWlDb0IsVUFBakMsd0JBQThEM0MsU0FBU3BCLElBQXZFLE1BQUQsRUFBcEIsQ0FBTjtBQUNEOztBQUVEZ0UsYUFBT1gsWUFBUDtBQUNEOztBQUVELFdBQU9BLFlBQVA7QUFDRCxHOzs7OztrQkEzSmtCdEQscUIiLCJmaWxlIjoiV2hlcmVJbkVhZ2VyT3BlcmF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNodW5rIGZyb20gJ2xvZGFzaC9jaHVuayc7XG5pbXBvcnQgZmxhdHRlbiBmcm9tICdsb2Rhc2gvZmxhdHRlbic7XG5pbXBvcnQgUHJvbWlzZSBmcm9tICdibHVlYmlyZCc7XG5pbXBvcnQgVmFsaWRhdGlvbkVycm9yIGZyb20gJy4uLy4uLy4uL21vZGVsL1ZhbGlkYXRpb25FcnJvcidcbmltcG9ydCBFYWdlck9wZXJhdGlvbiBmcm9tICcuL0VhZ2VyT3BlcmF0aW9uJztcbmltcG9ydCB7aXNNc1NxbH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMva25leFV0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2hlcmVJbkVhZ2VyT3BlcmF0aW9uIGV4dGVuZHMgRWFnZXJPcGVyYXRpb24ge1xuXG4gIGNvbnN0cnVjdG9yKG5hbWUsIG9wdCkge1xuICAgIHN1cGVyKG5hbWUsIG9wdCk7XG5cbiAgICB0aGlzLnJlbGF0aW9uc1RvRmV0Y2ggPSBbXTtcbiAgICB0aGlzLm9taXRQcm9wcyA9IFtdO1xuICB9XG5cbiAgYmF0Y2hTaXplKGtuZXgpIHtcbiAgICBpZiAoaXNNc1NxbChrbmV4KSkge1xuICAgICAgLy8gT24gTVNTUUwgdGhlIHBhcmFtZXRlciBsaW1pdCBpcyBhY3R1YWxseSAyMTAwLCBidXQgc2luY2UgSSBjb3VsZG4ndCBmaWd1cmUgb3V0XG4gICAgICAvLyBpZiB0aGUgbGltaXQgaXMgZm9yIGFsbCBwYXJhbWV0ZXJzIGluIGEgcXVlcnkgb3IgZm9yIGluZGl2aWR1YWwgY2xhdXNlcywgd2Ugc2V0XG4gICAgICAvLyB0aGUgbGltaXQgdG8gMjAwMCB0byBsZWF2ZSAxMDAgcGFyYW1ldGVycyBmb3Igd2hlcmUgY2xhdXNlcyBldGMuXG4gICAgICByZXR1cm4gMjAwMDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSSdtIHN1cmUgdGhlcmUgaXMgc29tZSBraW5kIG9mIGxpbWl0IGZvciBvdGhlciBkYXRhYmFzZXMgdG9vLCBidXQgbGV0J3MgbG93ZXJcbiAgICAgIC8vIHRoaXMgaWYgc29tZW9uZSBldmVyIGhpdHMgdGhvc2UgbGltaXRzLlxuICAgICAgcmV0dXJuIDEwMDAwO1xuICAgIH1cbiAgfVxuXG4gIGNsb25lKHByb3BzKSB7XG4gICAgY29uc3QgY29weSA9IHN1cGVyLmNsb25lKCk7XG5cbiAgICBjb3B5LnJlbGF0aW9uc1RvRmV0Y2ggPSB0aGlzLnJlbGF0aW9uc1RvRmV0Y2guc2xpY2UoKTtcbiAgICBjb3B5Lm9taXRQcm9wcyA9IHRoaXMub21pdFByb3BzLnNsaWNlKCk7XG5cbiAgICByZXR1cm4gY29weTtcbiAgfVxuXG4gIGNhbGwoYnVpbGRlciwgYXJncykge1xuICAgIGNvbnN0IHJldCA9IHN1cGVyLmNhbGwoYnVpbGRlciwgYXJncyk7XG5cbiAgICBjb25zdCBtb2RlbENsYXNzID0gYnVpbGRlci5tb2RlbENsYXNzKCk7XG4gICAgY29uc3QgcmVsYXRpb25zID0gbW9kZWxDbGFzcy5nZXRSZWxhdGlvbkFycmF5KCk7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHJlbGF0aW9ucy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgIGNvbnN0IHJlbGF0aW9uID0gcmVsYXRpb25zW2ldO1xuICAgICAgY29uc3QgY2hpbGRFeHByZXNzaW9uID0gdGhpcy5leHByZXNzaW9uLmNoaWxkRXhwcmVzc2lvbihyZWxhdGlvbi5uYW1lKTtcblxuICAgICAgaWYgKGNoaWxkRXhwcmVzc2lvbikge1xuICAgICAgICB0aGlzLnJlbGF0aW9uc1RvRmV0Y2gucHVzaCh7XG4gICAgICAgICAgcmVsYXRpb24sXG4gICAgICAgICAgY2hpbGRFeHByZXNzaW9uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICBvbkJlZm9yZUJ1aWxkKGJ1aWxkZXIpIHtcbiAgICBjb25zdCBhZGRlZFNlbGVjdHMgPSB7fTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gdGhpcy5yZWxhdGlvbnNUb0ZldGNoLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgY29uc3QgcmVsYXRpb24gPSB0aGlzLnJlbGF0aW9uc1RvRmV0Y2hbaV0ucmVsYXRpb247XG4gICAgICBjb25zdCBjb2xzID0gcmVsYXRpb24uZnVsbE93bmVyQ29sKCk7XG5cbiAgICAgIGZvciAobGV0IGMgPSAwLCBsYyA9IGNvbHMubGVuZ3RoOyBjIDwgbGM7ICsrYykge1xuICAgICAgICBjb25zdCBjb2wgPSBjb2xzW2NdO1xuXG4gICAgICAgIGlmICghYnVpbGRlci5oYXNTZWxlY3Rpb24oY29sKSAmJiAhYWRkZWRTZWxlY3RzW2NvbF0pIHtcbiAgICAgICAgICB0aGlzLm9taXRQcm9wcy5wdXNoKHJlbGF0aW9uLm93bmVyUHJvcFtjXSk7XG4gICAgICAgICAgYWRkZWRTZWxlY3RzW2NvbF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY29scyA9IE9iamVjdC5rZXlzKGFkZGVkU2VsZWN0cyk7XG5cbiAgICBpZiAoY29scy5sZW5ndGgpIHtcbiAgICAgIGJ1aWxkZXIuc2VsZWN0KGNvbHMpO1xuICAgIH1cbiAgfVxuXG4gIG9uQWZ0ZXJJbnRlcm5hbChidWlsZGVyLCByZXN1bHQpIHtcbiAgICBjb25zdCBtb2RlbENsYXNzID0gYnVpbGRlci5tb2RlbENsYXNzKCk7XG5cbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBjb25zdCBtb2RlbHMgPSBBcnJheS5pc0FycmF5KHJlc3VsdCkgPyByZXN1bHQgOiBbcmVzdWx0XTtcblxuICAgIGlmICghbW9kZWxzLmxlbmd0aCB8fCAhKG1vZGVsc1swXSBpbnN0YW5jZW9mIG1vZGVsQ2xhc3MpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGNvbnN0IHByb21pc2VzID0gW107XG5cbiAgICB0aGlzLmV4cHJlc3Npb24uZm9yRWFjaENoaWxkKGNoaWxkID0+IHtcbiAgICAgIGxldCByZWxhdGlvbiA9IG1vZGVsQ2xhc3MuZ2V0UmVsYXRpb25zKClbY2hpbGQubmFtZV07XG5cbiAgICAgIGlmICghcmVsYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcih7ZWFnZXI6IGB1bmtub3duIHJlbGF0aW9uIFwiJHtjaGlsZC5uYW1lfVwiIGluIGFuIGVhZ2VyIGV4cHJlc3Npb25gfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMucmVsYXRpb25zVG9GZXRjaC5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgIGNvbnN0IHJlbGF0aW9uID0gdGhpcy5yZWxhdGlvbnNUb0ZldGNoW2ldLnJlbGF0aW9uO1xuICAgICAgY29uc3QgY2hpbGRFeHByZXNzaW9uID0gdGhpcy5yZWxhdGlvbnNUb0ZldGNoW2ldLmNoaWxkRXhwcmVzc2lvbjtcblxuICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLmZldGNoUmVsYXRpb24oYnVpbGRlciwgbW9kZWxzLCByZWxhdGlvbiwgY2hpbGRFeHByZXNzaW9uKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IHtcbiAgICAgIGlmICghdGhpcy5vbWl0UHJvcHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gcmVzdWx0Lmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICBjb25zdCBtb2RlbCA9IHJlc3VsdFtpXTtcblxuICAgICAgICBmb3IgKGxldCBjID0gMCwgbGMgPSB0aGlzLm9taXRQcm9wcy5sZW5ndGg7IGMgPCBsYzsgKytjKSB7XG4gICAgICAgICAgbW9kZWxDbGFzcy5vbWl0SW1wbChtb2RlbCwgdGhpcy5vbWl0UHJvcHNbY10pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSlcbiAgfVxuXG4gIGZldGNoUmVsYXRpb24oYnVpbGRlciwgbW9kZWxzLCByZWxhdGlvbiwgY2hpbGRFeHByZXNzaW9uKSB7XG4gICAgY29uc3QgYmF0Y2hTaXplID0gdGhpcy5iYXRjaFNpemUoYnVpbGRlci5rbmV4KCkpO1xuICAgIGNvbnN0IG1vZGVsQmF0Y2hlcyA9IGNodW5rKG1vZGVscywgYmF0Y2hTaXplKTtcblxuICAgIHJldHVybiBQcm9taXNlXG4gICAgICAubWFwKG1vZGVsQmF0Y2hlcywgYmF0Y2ggPT4gdGhpcy5mZXRjaFJlbGF0aW9uQmF0Y2goYnVpbGRlciwgYmF0Y2gsIHJlbGF0aW9uLCBjaGlsZEV4cHJlc3Npb24pKVxuICAgICAgLnRoZW4oZmxhdHRlbik7XG4gIH1cblxuICBmZXRjaFJlbGF0aW9uQmF0Y2goYnVpbGRlciwgbW9kZWxzLCByZWxhdGlvbiwgY2hpbGRFeHByZXNzaW9uKSB7XG4gICAgY29uc3QgcXVlcnlCdWlsZGVyID0gcmVsYXRpb24ub3duZXJNb2RlbENsYXNzLlJlbGF0ZWRRdWVyeUJ1aWxkZXJcbiAgICAgIC5mb3JDbGFzcyhyZWxhdGlvbi5yZWxhdGVkTW9kZWxDbGFzcylcbiAgICAgIC5jaGlsZFF1ZXJ5T2YoYnVpbGRlcilcbiAgICAgIC5lYWdlcihjaGlsZEV4cHJlc3Npb24pO1xuXG4gICAgY29uc3QgZmluZE9wZXJhdGlvbiA9IHJlbGF0aW9uLmZpbmQocXVlcnlCdWlsZGVyLCBtb2RlbHMpO1xuICAgIGZpbmRPcGVyYXRpb24uYWx3YXlzUmV0dXJuQXJyYXkgPSB0cnVlO1xuXG4gICAgcXVlcnlCdWlsZGVyLmNhbGxRdWVyeUJ1aWxkZXJPcGVyYXRpb24oZmluZE9wZXJhdGlvbiwgW10pO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBjaGlsZEV4cHJlc3Npb24uYXJncy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgIGNvbnN0IGZpbHRlck5hbWUgPSBjaGlsZEV4cHJlc3Npb24uYXJnc1tpXTtcbiAgICAgIGNvbnN0IGZpbHRlciA9IGNoaWxkRXhwcmVzc2lvbi5maWx0ZXJzW2ZpbHRlck5hbWVdO1xuXG4gICAgICBpZiAodHlwZW9mIGZpbHRlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKHtlYWdlcjogYGNvdWxkIG5vdCBmaW5kIGZpbHRlciBcIiR7ZmlsdGVyTmFtZX1cIiBmb3IgcmVsYXRpb24gXCIke3JlbGF0aW9uLm5hbWV9XCJgfSk7XG4gICAgICB9XG5cbiAgICAgIGZpbHRlcihxdWVyeUJ1aWxkZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBxdWVyeUJ1aWxkZXI7XG4gIH1cbn0iXX0=","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/transaction.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = transaction;\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _bluebird = require('bluebird');\n\nvar _bluebird2 = _interopRequireDefault(_bluebird);\n\nvar _Model = require('./model/Model');\n\nvar _Model2 = _interopRequireDefault(_Model);\n\nvar _classUtils = require('./utils/classUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @returns {Promise}\n */\nfunction transaction() {\n  // There must be at least one model class and the callback.\n  if (arguments.length < 2) {\n    return _bluebird2.default.reject(new Error('objection.transaction: provide at least one Model class to bind to the transaction or a knex instance'));\n  }\n\n  var args = new Array(arguments.length);\n\n  for (var i = 0, l = args.length; i < l; ++i) {\n    args[i] = arguments[i];\n  }\n\n  if (!(0, _classUtils.isSubclassOf)(args[0], _Model2.default) && _lodash2.default.isFunction(args[0].transaction)) {\n    var knex = _lodash2.default.first(args);\n    args = args.slice(1);\n\n    // If the function is a generator, wrap it using Promise.coroutine.\n    if (isGenerator(args[0])) {\n      args[0] = _bluebird2.default.coroutine(args[0]);\n    }\n\n    return knex.transaction.apply(knex, args);\n  } else {\n    // The last argument should be the callback and all other Model subclasses.\n    var callback = _lodash2.default.last(args);\n    var modelClasses = _lodash2.default.take(args, args.length - 1);\n    var _i = void 0;\n\n    for (_i = 0; _i < modelClasses.length; ++_i) {\n      if (!(0, _classUtils.isSubclassOf)(modelClasses[_i], _Model2.default)) {\n        return _bluebird2.default.reject(new Error('objection.transaction: all but the last argument should be Model subclasses'));\n      }\n    }\n\n    var _knex = _lodash2.default.first(modelClasses).knex();\n    for (_i = 0; _i < modelClasses.length; ++_i) {\n      if (modelClasses[_i].knex() !== _knex) {\n        return _bluebird2.default.reject(new Error('objection.transaction: all Model subclasses must be bound to the same database'));\n      }\n    }\n\n    // If the function is a generator, wrap it using Promise.coroutine.\n    if (isGenerator(callback)) {\n      callback = _bluebird2.default.coroutine(callback);\n    }\n\n    return _knex.transaction(function (trx) {\n      var args = new Array(modelClasses.length + 1);\n\n      for (var _i2 = 0; _i2 < modelClasses.length; ++_i2) {\n        args[_i2] = modelClasses[_i2].bindTransaction(trx);\n      }\n\n      args[args.length - 1] = trx;\n\n      return _bluebird2.default.try(function () {\n        return callback.apply(trx, args);\n      });\n    });\n  }\n}\n\n/**\n * @param {Constructor.<Model>|knex} modelClassOrKnex\n * @returns {Promise}\n */\ntransaction.start = function (modelClassOrKnex) {\n  var knex = modelClassOrKnex;\n\n  if ((0, _classUtils.isSubclassOf)(modelClassOrKnex, _Model2.default)) {\n    knex = modelClassOrKnex.knex();\n  }\n\n  if (!knex || !_lodash2.default.isFunction(knex.transaction)) {\n    return _bluebird2.default.reject(new Error('objection.transaction.start: first argument must be a model class or a knex instance'));\n  }\n\n  return new _bluebird2.default(function (resolve, reject) {\n    knex.transaction(function (trx) {\n      resolve(trx);\n    }).catch(function (err) {\n      reject(err);\n    });\n  });\n};\n\nfunction isGenerator(fn) {\n  return fn && fn.constructor && fn.constructor.name === 'GeneratorFunction';\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYW5zYWN0aW9uLmpzIl0sIm5hbWVzIjpbInRyYW5zYWN0aW9uIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicmVqZWN0IiwiRXJyb3IiLCJhcmdzIiwiQXJyYXkiLCJpIiwibCIsImlzRnVuY3Rpb24iLCJrbmV4IiwiZmlyc3QiLCJzbGljZSIsImlzR2VuZXJhdG9yIiwiY29yb3V0aW5lIiwiYXBwbHkiLCJjYWxsYmFjayIsImxhc3QiLCJtb2RlbENsYXNzZXMiLCJ0YWtlIiwiYmluZFRyYW5zYWN0aW9uIiwidHJ4IiwidHJ5Iiwic3RhcnQiLCJtb2RlbENsYXNzT3JLbmV4IiwicmVzb2x2ZSIsImNhdGNoIiwiZXJyIiwiZm4iLCJjb25zdHJ1Y3RvciIsIm5hbWUiXSwibWFwcGluZ3MiOiI7Ozs7O2tCQVF3QkEsVzs7QUFSeEI7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFFQTs7O0FBR2UsU0FBU0EsV0FBVCxHQUF1QjtBQUNwQztBQUNBLE1BQUlDLFVBQVVDLE1BQVYsR0FBbUIsQ0FBdkIsRUFBMEI7QUFDeEIsV0FBTyxtQkFBUUMsTUFBUixDQUFlLElBQUlDLEtBQUosQ0FBVSx1R0FBVixDQUFmLENBQVA7QUFDRDs7QUFFRCxNQUFJQyxPQUFPLElBQUlDLEtBQUosQ0FBVUwsVUFBVUMsTUFBcEIsQ0FBWDs7QUFFQSxPQUFLLElBQUlLLElBQUksQ0FBUixFQUFXQyxJQUFJSCxLQUFLSCxNQUF6QixFQUFpQ0ssSUFBSUMsQ0FBckMsRUFBd0MsRUFBRUQsQ0FBMUMsRUFBNkM7QUFDM0NGLFNBQUtFLENBQUwsSUFBVU4sVUFBVU0sQ0FBVixDQUFWO0FBQ0Q7O0FBRUQsTUFBSSxDQUFDLDhCQUFhRixLQUFLLENBQUwsQ0FBYixrQkFBRCxJQUFpQyxpQkFBRUksVUFBRixDQUFhSixLQUFLLENBQUwsRUFBUUwsV0FBckIsQ0FBckMsRUFBd0U7QUFDdEUsUUFBSVUsT0FBTyxpQkFBRUMsS0FBRixDQUFRTixJQUFSLENBQVg7QUFDQUEsV0FBT0EsS0FBS08s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LEVBQXJCLEVBQXlCO0FBQ3ZCLFNBQU9BLE1BQU1BLEdBQUdDLFdBQVQsSUFBd0JELEdBQUdDLFdBQUgsQ0FBZUMsSUFBZixLQUF3QixtQkFBdkQ7QUFDRCIsImZpbGUiOiJ0cmFuc2FjdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUHJvbWlzZSBmcm9tICdibHVlYmlyZCc7XG5pbXBvcnQgTW9kZWwgZnJvbSAnLi9tb2RlbC9Nb2RlbCc7XG5pbXBvcnQge2lzU3ViY2xhc3NPZn0gZnJvbSAnLi91dGlscy9jbGFzc1V0aWxzJztcblxuLyoqXG4gKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdHJhbnNhY3Rpb24oKSB7XG4gIC8vIFRoZXJlIG11c3QgYmUgYXQgbGVhc3Qgb25lIG1vZGVsIGNsYXNzIGFuZCB0aGUgY2FsbGJhY2suXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ29iamVjdGlvbi50cmFuc2FjdGlvbjogcHJvdmlkZSBhdCBsZWFzdCBvbmUgTW9kZWwgY2xhc3MgdG8gYmluZCB0byB0aGUgdHJhbnNhY3Rpb24gb3IgYSBrbmV4IGluc3RhbmNlJykpO1xuICB9XG5cbiAgbGV0IGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBhcmdzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gIH1cblxuICBpZiAoIWlzU3ViY2xhc3NPZihhcmdzWzBdLCBNb2RlbCkgJiYgXy5pc0Z1bmN0aW9uKGFyZ3NbMF0udHJhbnNhY3Rpb24pKSB7XG4gICAgbGV0IGtuZXggPSBfLmZpcnN0KGFyZ3MpO1xuICAgIGFyZ3MgPSBhcmdzLnNsaWNlKDEpO1xuXG4gICAgLy8gSWYgdGhlIGZ1bmN0aW9uIGlzIGEgZ2VuZXJhdG9yLCB3cmFwIGl0IHVzaW5nIFByb21pc2UuY29yb3V0aW5lLlxuICAgIGlmIChpc0dlbmVyYXRvcihhcmdzWzBdKSkge1xuICAgICAgYXJnc1swXSA9IFByb21pc2UuY29yb3V0aW5lKGFyZ3NbMF0pO1xuICAgIH1cblxuICAgIHJldHVybiBrbmV4LnRyYW5zYWN0aW9uLmFwcGx5KGtuZXgsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIC8vIFRoZSBsYXN0IGFyZ3VtZW50IHNob3VsZCBiZSB0aGUgY2FsbGJhY2sgYW5kIGFsbCBvdGhlciBNb2RlbCBzdWJjbGFzc2VzLlxuICAgIGxldCBjYWxsYmFjayA9IF8ubGFzdChhcmdzKTtcbiAgICBsZXQgbW9kZWxDbGFzc2VzID0gXy50YWtlKGFyZ3MsIGFyZ3MubGVuZ3RoIC0gMSk7XG4gICAgbGV0IGk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbW9kZWxDbGFzc2VzLmxlbmd0aDsgKytpKSB7XG4gICAgICBpZiAoIWlzU3ViY2xhc3NPZihtb2RlbENsYXNzZXNbaV0sIE1vZGVsKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdvYmplY3Rpb24udHJhbnNhY3Rpb246IGFsbCBidXQgdGhlIGxhc3QgYXJndW1lbnQgc2hvdWxkIGJlIE1vZGVsIHN1YmNsYXNzZXMnKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IGtuZXggPSBfLmZpcnN0KG1vZGVsQ2xhc3Nlcykua25leCgpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBtb2RlbENsYXNzZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGlmIChtb2RlbENsYXNzZXNbaV0ua25leCgpICE9PSBrbmV4KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ29iamVjdGlvbi50cmFuc2FjdGlvbjogYWxsIE1vZGVsIHN1YmNsYXNzZXMgbXVzdCBiZSBib3VuZCB0byB0aGUgc2FtZSBkYXRhYmFzZScpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgZnVuY3Rpb24gaXMgYSBnZW5lcmF0b3IsIHdyYXAgaXQgdXNpbmcgUHJvbWlzZS5jb3JvdXRpbmUuXG4gICAgaWYgKGlzR2VuZXJhdG9yKGNhbGxiYWNrKSkge1xuICAgICAgY2FsbGJhY2sgPSBQcm9taXNlLmNvcm91dGluZShjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGtuZXgudHJhbnNhY3Rpb24odHJ4ID0+IHtcbiAgICAgIGxldCBhcmdzID0gbmV3IEFycmF5KG1vZGVsQ2xhc3Nlcy5sZW5ndGggKyAxKTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtb2RlbENsYXNzZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgYXJnc1tpXSA9IG1vZGVsQ2xhc3Nlc1tpXS5iaW5kVHJhbnNhY3Rpb24odHJ4KTtcbiAgICAgIH1cblxuICAgICAgYXJnc1thcmdzLmxlbmd0aCAtIDFdID0gdHJ4O1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS50cnkoKCkgPT4ge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkodHJ4LCBhcmdzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtDb25zdHJ1Y3Rvci48TW9kZWw+fGtuZXh9IG1vZGVsQ2xhc3NPcktuZXhcbiAqIEByZXR1cm5zIHtQcm9taXNlfVxuICovXG50cmFuc2FjdGlvbi5zdGFydCA9IGZ1bmN0aW9uIChtb2RlbENsYXNzT3JLbmV4KSB7XG4gIGxldCBrbmV4ID0gbW9kZWxDbGFzc09yS25leDtcblxuICBpZiAoaXNTdWJjbGFzc09mKG1vZGVsQ2xhc3NPcktuZXgsIE1vZGVsKSkge1xuICAgIGtuZXggPSBtb2RlbENsYXNzT3JLbmV4LmtuZXgoKTtcbiAgfVxuXG4gIGlmICgha25leCB8fCAhXy5pc0Z1bmN0aW9uKGtuZXgudHJhbnNhY3Rpb24pKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignb2JqZWN0aW9uLnRyYW5zYWN0aW9uLnN0YXJ0OiBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgbW9kZWwgY2xhc3Mgb3IgYSBrbmV4IGluc3RhbmNlJykpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBrbmV4LnRyYW5zYWN0aW9uKHRyeCA9PiB7XG4gICAgICByZXNvbHZlKHRyeCk7XG4gICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgIHJlamVjdChlcnIpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbmZ1bmN0aW9uIGlzR2VuZXJhdG9yKGZuKSB7XG4gIHJldHVybiBmbiAmJiBmbi5jb25zdHJ1Y3RvciAmJiBmbi5jb25zdHJ1Y3Rvci5uYW1lID09PSAnR2VuZXJhdG9yRnVuY3Rpb24nO1xufVxuIl19","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/src/objection.js":"import Model from './model/Model';\nimport QueryBuilderBase from './queryBuilder/QueryBuilderBase';\nimport QueryBuilder from './queryBuilder/QueryBuilder';\nimport QueryBuilderOperation from './queryBuilder/operations/QueryBuilderOperation'\nimport RelationExpression from './queryBuilder/RelationExpression';\nimport ValidationError from './model/ValidationError';\nimport AjvValidator from './model/AjvValidator';\nimport Validator from './model/Validator';\n\nimport Relation from './relations/Relation';\nimport HasOneRelation from './relations/hasOne/HasOneRelation';\nimport HasManyRelation from './relations/hasMany/HasManyRelation';\nimport BelongsToOneRelation from './relations/belongsToOne/BelongsToOneRelation';\nimport HasOneThroughRelation from './relations/hasOneThrough/HasOneThroughRelation';\nimport ManyToManyRelation from './relations/manyToMany/ManyToManyRelation';\n\nimport transaction from './transaction';\nimport { ref } from './queryBuilder/ReferenceBuilder';\nimport Promise from 'bluebird';\n\nexport {\n  Model,\n  QueryBuilder,\n  QueryBuilderBase,\n  QueryBuilderOperation,\n  RelationExpression,\n  ValidationError,\n  AjvValidator,\n  Validator,\n  Relation,\n  HasOneRelation,\n  HasManyRelation,\n  BelongsToOneRelation,\n  HasOneThroughRelation,\n  ManyToManyRelation,\n  transaction,\n  Promise,\n  ref\n};\n\n","/home/travis/build/npmtest/node-npmtest-objection/node_modules/objection/lib/queryBuilder/JoinBuilder.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _getOwnPropertyDescriptor = require('babel-runtime/core-js/object/get-own-property-descriptor');\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _dec21, _dec22, _dec23, _dec24, _dec25, _dec26, _dec27, _dec28, _dec29, _dec30, _desc, _value, _class;\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _QueryBuilderOperationSupport = require('./QueryBuilderOperationSupport');\n\nvar _QueryBuilderOperationSupport2 = _interopRequireDefault(_QueryBuilderOperationSupport);\n\nvar _queryBuilderOperation = require('./decorators/queryBuilderOperation');\n\nvar _queryBuilderOperation2 = _interopRequireDefault(_queryBuilderOperation);\n\nvar _classUtils = require('../utils/classUtils');\n\nvar _QueryBuilderContextBase = require('./QueryBuilderContextBase');\n\nvar _QueryBuilderContextBase2 = _interopRequireDefault(_QueryBuilderContextBase);\n\nvar _KnexOperation = require('./operations/KnexOperation');\n\nvar _KnexOperation2 = _interopRequireDefault(_KnexOperation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\nvar JoinBuilder = (_dec = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec2 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec3 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec4 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec5 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec6 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec7 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec8 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec9 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec10 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec11 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec12 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec13 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec14 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec15 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec16 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec17 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec18 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec19 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec20 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec21 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec22 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec23 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec24 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec25 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec26 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec27 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec28 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec29 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), _dec30 = (0, _queryBuilderOperation2.default)(_KnexOperation2.default), (_class = function (_QueryBuilderOperatio) {\n  (0, _inherits3.default)(JoinBuilder, _QueryBuilderOperatio);\n\n  function JoinBuilder() {\n    (0, _classCallCheck3.default)(this, JoinBuilder);\n    return (0, _possibleConstructorReturn3.default)(this, _QueryBuilderOperatio.apply(this, arguments));\n  }\n\n  JoinBuilder.prototype.using = function using() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.on = function on() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.orOn = function orOn() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.onBetween = function onBetween() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.onNotBetween = function onNotBetween() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.orOnBetween = function orOnBetween() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.orOnNotBetween = function orOnNotBetween() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.onIn = function onIn() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.onNotIn = function onNotIn() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.orOnIn = function orOnIn() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.orOnNotIn = function orOnNotIn() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.onNull = function onNull() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.orOnNull = function orOnNull() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.onNotNull = function onNotNull() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.orOnNotNull = function orOnNotNull() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.onExists = function onExists() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.orOnExists = function orOnExists() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.onNotExists = function onNotExists() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.orOnNotExists = function orOnNotExists() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.type = function type() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.or = function or() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.andOn = function andOn() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.andOnIn = function andOnIn() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.andOnNotIn = function andOnNotIn() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.andOnNull = function andOnNull() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.andOnNotNull = function andOnNotNull() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.andOnExists = function andOnExists() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.andOnNotExists = function andOnNotExists() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.andOnBetween = function andOnBetween() {};\n\n  /**\n   * @returns {JoinBuilderBase}\n   */\n\n\n  JoinBuilder.prototype.andOnNotBetween = function andOnNotBetween() {};\n\n  return JoinBuilder;\n}(_QueryBuilderOperationSupport2.default), (_applyDecoratedDescriptor(_class.prototype, 'using', [_dec], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'using'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'on', [_dec2], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'on'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orOn', [_dec3], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orOn'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'onBetween', [_dec4], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'onBetween'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'onNotBetween', [_dec5], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'onNotBetween'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orOnBetween', [_dec6], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orOnBetween'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orOnNotBetween', [_dec7], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orOnNotBetween'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'onIn', [_dec8], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'onIn'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'onNotIn', [_dec9], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'onNotIn'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orOnIn', [_dec10], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orOnIn'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orOnNotIn', [_dec11], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orOnNotIn'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'onNull', [_dec12], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'onNull'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orOnNull', [_dec13], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orOnNull'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'onNotNull', [_dec14], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'onNotNull'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orOnNotNull', [_dec15], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orOnNotNull'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'onExists', [_dec16], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'onExists'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orOnExists', [_dec17], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orOnExists'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'onNotExists', [_dec18], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'onNotExists'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'orOnNotExists', [_dec19], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'orOnNotExists'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'type', [_dec20], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'type'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'or', [_dec21], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'or'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'andOn', [_dec22], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'andOn'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'andOnIn', [_dec23], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'andOnIn'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'andOnNotIn', [_dec24], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'andOnNotIn'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'andOnNull', [_dec25], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'andOnNull'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'andOnNotNull', [_dec26], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'andOnNotNull'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'andOnExists', [_dec27], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'andOnExists'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'andOnNotExists', [_dec28], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'andOnNotExists'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'andOnBetween', [_dec29], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'andOnBetween'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'andOnNotBetween', [_dec30], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'andOnNotBetween'), _class.prototype)), _class));\nexports.default = JoinBuilder;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkpvaW5CdWlsZGVyLmpzIl0sIm5hbWVzIjpbIkpvaW5CdWlsZGVyIiwidXNpbmciLCJvbiIsIm9yT24iLCJvbkJldHdlZW4iLCJvbk5vdEJldHdlZW4iLCJvck9uQmV0d2VlbiIsIm9yT25Ob3RCZXR3ZWVuIiwib25JbiIsIm9uTm90SW4iLCJvck9uSW4iLCJvck9uTm90SW4iLCJvbk51bGwiLCJvck9uTnVsbCIsIm9uTm90TnVsbCIsIm9yT25Ob3ROdWxsIiwib25FeGlzdHMiLCJvck9uRXhpc3RzIiwib25Ob3RFeGlzdHMiLCJvck9uTm90RXhpc3RzIiwidHlwZSIsIm9yIiwiYW5kT24iLCJhbmRPbkluIiwiYW5kT25Ob3RJbiIsImFuZE9uTnVsbCIsImFuZE9uTm90TnVsbCIsImFuZE9uRXhpc3RzIiwiYW5kT25Ob3RFeGlzdHMiLCJhbmRPbkJldHdlZW4iLCJhbmRPbk5vdEJldHdlZW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFFQTs7OztBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUVxQkEsVyxXQUtsQiw2RCxVQU1BLDZELFVBTUEsNkQsVUFNQSw2RCxVQU1BLDZELFVBTUEsNkQsVUFNQSw2RCxVQU1BLDZELFVBTUEsNkQsV0FNQSw2RCxXQU1BLDZELFdBTUEsNkQsV0FNQSw2RCxXQU1BLDZELFdBTUEsNkQsV0FNQSw2RCxXQU1BLDZELFdBTUEsNkQsV0FNQSw2RCxXQU1BLDZELFdBTUEsNkQsV0FNQSw2RCxXQU1BLDZELFdBTUEsNkQsV0FNQSw2RCxXQU1BLDZELFdBTUEsNkQsV0FNQSw2RCxXQU1BLDZELFdBTUEsNkQ7Ozs7Ozs7O3dCQTdLREMsSyxvQkFBZSxDQUFFLEM7O0FBRWpCOzs7Ozt3QkFJQUMsRSxpQkFBWSxDQUFFLEM7O0FBRWQ7Ozs7O3dCQUlBQyxJLG1CQUFjLENBQUUsQzs7QUFFaEI7Ozs7O3dCQUlBQyxTLHdCQUFtQixDQUFFLEM7O0FBRXJCOzs7Ozt3QkFJQUMsWSwyQkFBc0IsQ0FBRSxDOztBQUV4Qjs7Ozs7d0JBSUFDLFcsMEJBQXFCLENBQUUsQzs7QUFFdkI7Ozs7O3dCQUlBQyxjLDZCQUF3QixDQUFFLEM7O0FBRTFCOzs7Ozt3QkFJQUMsSSxtQkFBYyxDQUFFLEM7O0FBRWhCOzs7Ozt3QkFJQUMsTyxzQkFBaUIsQ0FBRSxDOztBQUVuQjs7Ozs7d0JBSUFDLE0scUJBQWdCLENBQUUsQzs7QUFFbEI7Ozs7O3dCQUlBQyxTLHdCQUFtQixDQUFFLEM7O0FBRXJCOzs7Ozt3QkFJQUMsTSxxQkFBZ0IsQ0FBRSxDOztBQUVsQjs7Ozs7d0JBSUFDLFEsdUJBQWtCLENBQUUsQzs7QUFFcEI7Ozs7O3dCQUlBQyxTLHdCQUFtQixDQUFFLEM7O0FBRXJCOzs7Ozt3QkFJQUMsVywwQkFBcUIsQ0FBRSxDOztBQUV2Qjs7Ozs7d0JBSUFDLFEsdUJBQWtCLENBQUUsQzs7QUFFcEI7Ozs7O3dCQUlBQyxVLHlCQUFvQixDQUFFLEM7O0FBRXRCOzs7Ozt3QkFJQUMsVywwQkFBcUIsQ0FBRSxDOztBQUV2Qjs7Ozs7d0JBSUFDLGEsNEJBQXVCLENBQUUsQzs7QUFFekI7Ozs7O3dCQUlBQyxJLG1CQUFjLENBQUUsQzs7QUFFaEI7Ozs7O3dCQUlBQyxFLGlCQUFZLENBQUUsQzs7QUFFZDs7Ozs7d0JBSUFDLEssb0JBQWUsQ0FBRSxDOztBQUVqQjs7Ozs7d0JBSUFDLE8sc0JBQWlCLENBQUUsQzs7QUFFbkI7Ozs7O3dCQUlBQyxVLHlCQUFvQixDQUFFLEM7O0FBRXRCOzs7Ozt3QkFJQUMsUyx3QkFBbUIsQ0FBRSxDOztBQUVyQjs7Ozs7d0JBSUFDLFksMkJBQXNCLENBQUUsQzs7QUFFeEI7Ozs7O3dCQUlBQyxXLDBCQUFxQixDQUFFLEM7O0FBRXZCOzs7Ozt3QkFJQUMsYyw2QkFBd0IsQ0FBRSxDOztBQUUxQjs7Ozs7d0JBSUFDLFksMkJBQXNCLENBQUUsQzs7QUFFeEI7Ozs7O3dCQUlBQyxlLDhCQUF5QixDQUFFLEM7Ozs7a0JBcExSOUIsVyIsImZpbGUiOiJKb2luQnVpbGRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUXVlcnlCdWlsZGVyT3BlcmF0aW9uU3VwcG9ydCBmcm9tICcuL1F1ZXJ5QnVpbGRlck9wZXJhdGlvblN1cHBvcnQnO1xuaW1wb3J0IHF1ZXJ5QnVpbGRlck9wZXJhdGlvbiBmcm9tICcuL2RlY29yYXRvcnMvcXVlcnlCdWlsZGVyT3BlcmF0aW9uJztcbmltcG9ydCB7aW5oZXJpdHN9IGZyb20gJy4uL3V0aWxzL2NsYXNzVXRpbHMnO1xuXG5pbXBvcnQgUXVlcnlCdWlsZGVyQ29udGV4dEJhc2UgZnJvbSAnLi9RdWVyeUJ1aWxkZXJDb250ZXh0QmFzZSc7XG5pbXBvcnQgS25leE9wZXJhdGlvbiBmcm9tICcuL29wZXJhdGlvbnMvS25leE9wZXJhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEpvaW5CdWlsZGVyIGV4dGVuZHMgUXVlcnlCdWlsZGVyT3BlcmF0aW9uU3VwcG9ydCB7XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtKb2luQnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIHVzaW5nKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtKb2luQnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIG9uKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtKb2luQnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIG9yT24oLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge0pvaW5CdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgb25CZXR3ZWVuKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtKb2luQnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIG9uTm90QmV0d2VlbiguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Sm9pbkJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICBvck9uQmV0d2VlbiguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Sm9pbkJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICBvck9uTm90QmV0d2VlbiguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Sm9pbkJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICBvbkluKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtKb2luQnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIG9uTm90SW4oLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge0pvaW5CdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgb3JPbkluKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtKb2luQnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIG9yT25Ob3RJbiguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Sm9pbkJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICBvbk51bGwoLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge0pvaW5CdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgb3JPbk51bGwoLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge0pvaW5CdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgb25Ob3ROdWxsKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtKb2luQnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIG9yT25Ob3ROdWxsKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtKb2luQnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIG9uRXhpc3RzKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtKb2luQnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIG9yT25FeGlzdHMoLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge0pvaW5CdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgb25Ob3RFeGlzdHMoLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge0pvaW5CdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgb3JPbk5vdEV4aXN0cyguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Sm9pbkJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICB0eXBlKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtKb2luQnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIG9yKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtKb2luQnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIGFuZE9uKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtKb2luQnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIGFuZE9uSW4oLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge0pvaW5CdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgYW5kT25Ob3RJbiguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Sm9pbkJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICBhbmRPbk51bGwoLi4uYXJncykge31cblxuICAvKipcbiAgICogQHJldHVybnMge0pvaW5CdWlsZGVyQmFzZX1cbiAgICovXG4gIEBxdWVyeUJ1aWxkZXJPcGVyYXRpb24oS25leE9wZXJhdGlvbilcbiAgYW5kT25Ob3ROdWxsKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtKb2luQnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIGFuZE9uRXhpc3RzKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtKb2luQnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIGFuZE9uTm90RXhpc3RzKC4uLmFyZ3MpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtKb2luQnVpbGRlckJhc2V9XG4gICAqL1xuICBAcXVlcnlCdWlsZGVyT3BlcmF0aW9uKEtuZXhPcGVyYXRpb24pXG4gIGFuZE9uQmV0d2VlbiguLi5hcmdzKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Sm9pbkJ1aWxkZXJCYXNlfVxuICAgKi9cbiAgQHF1ZXJ5QnVpbGRlck9wZXJhdGlvbihLbmV4T3BlcmF0aW9uKVxuICBhbmRPbk5vdEJldHdlZW4oLi4uYXJncykge31cblxufVxuIl19"}